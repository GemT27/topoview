var hO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var gEe=hO((wr,Sr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dx(n,e){const t=new Set(n.split(","));return e?i=>t.has(i.toLowerCase()):i=>t.has(i)}const In={},du=[],jt=()=>{},pO=()=>!1,Jg=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),fx=n=>n.startsWith("onUpdate:"),qn=Object.assign,hx=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},mO=Object.prototype.hasOwnProperty,zt=(n,e)=>mO.call(n,e),Je=Array.isArray,fu=n=>Sh(n)==="[object Map]",Qg=n=>Sh(n)==="[object Set]",Fl=n=>Sh(n)==="[object Date]",dt=n=>typeof n=="function",vt=n=>typeof n=="string",Ra=n=>typeof n=="symbol",It=n=>n!==null&&typeof n=="object",If=n=>(It(n)||dt(n))&&dt(n.then)&&dt(n.catch),KA=Object.prototype.toString,Sh=n=>KA.call(n),Am=n=>Sh(n).slice(8,-1),cg=n=>Sh(n)==="[object Object]",px=n=>vt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Lm=dx(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ev=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},gO=/-(\w)/g,Er=ev(n=>n.replace(gO,(e,t)=>t?t.toUpperCase():"")),vO=/\B([A-Z])/g,Va=ev(n=>n.replace(vO,"-$1").toLowerCase()),Mh=ev(n=>n.charAt(0).toUpperCase()+n.slice(1)),Rm=ev(n=>n?`on${Mh(n)}`:""),Pa=(n,e)=>!Object.is(n,e),Pm=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},ug=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},fb=n=>{const e=parseFloat(n);return isNaN(e)?n:e},yO=n=>{const e=vt(n)?Number(n):NaN;return isNaN(e)?n:e};let rS;const qA=()=>rS||(rS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tt(n){if(Je(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=vt(i)?wO(i):tt(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(vt(n)||It(n))return n}const bO=/;(?![^(]*\))/g,_O=/:([^]+)/,xO=/\/\*[^]*?\*\//g;function wO(n){const e={};return n.replace(xO,"").split(bO).forEach(t=>{if(t){const i=t.split(_O);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function U(n){let e="";if(vt(n))e=n;else if(Je(n))for(let t=0;t<n.length;t++){const i=U(n[t]);i&&(e+=i+" ")}else if(It(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function os(n){if(!n)return null;let{class:e,style:t}=n;return e&&!vt(e)&&(n.class=U(e)),t&&(n.style=tt(t)),n}const SO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MO=dx(SO);function YA(n){return!!n||n===""}function TO(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=Cu(n[i],e[i]);return t}function Cu(n,e){if(n===e)return!0;let t=Fl(n),i=Fl(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=Ra(n),i=Ra(e),t||i)return n===e;if(t=Je(n),i=Je(e),t||i)return t&&i?TO(n,e):!1;if(t=It(n),i=It(e),t||i){if(!t||!i)return!1;const r=Object.keys(n).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Cu(n[o],e[o]))return!1}}return String(n)===String(e)}function XA(n,e){return n.findIndex(t=>Cu(t,e))}const qe=n=>vt(n)?n:n==null?"":Je(n)||It(n)&&(n.toString===KA||!dt(n.toString))?JSON.stringify(n,ZA,2):String(n),ZA=(n,e)=>e&&e.__v_isRef?ZA(n,e.value):fu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],s)=>(t[r0(i,s)+" =>"]=r,t),{})}:Qg(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>r0(t))}:Ra(e)?r0(e):It(e)&&!Je(e)&&!cg(e)?String(e):e,r0=(n,e="")=>{var t;return Ra(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yr;class JA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yr,!e&&yr&&(this.index=(yr.scopes||(yr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=yr;try{return yr=this,e()}finally{yr=t}}}on(){yr=this}off(){yr=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function EO(n){return new JA(n)}function CO(n,e=yr){e&&e.active&&e.effects.push(n)}function QA(){return yr}function e3(n){yr&&yr.cleanups.push(n)}let El;class mx{constructor(e,t,i,r){this.fn=e,this.trigger=t,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,CO(this,r)}get dirty(){if(this._dirtyLevel===1){Yl();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(AO(t.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Xl()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ba,t=El;try{return ba=!0,El=this,this._runnings++,sS(this),this.fn()}finally{oS(this),this._runnings--,El=t,ba=e}}stop(){var e;this.active&&(sS(this),oS(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function AO(n){return n.value}function sS(n){n._trackId++,n._depsLength=0}function oS(n){if(n.deps&&n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)t3(n.deps[e],n);n.deps.length=n._depsLength}}function t3(n,e){const t=n.get(e);t!==void 0&&e._trackId!==t&&(n.delete(e),n.size===0&&n.cleanup())}let ba=!0,hb=0;const n3=[];function Yl(){n3.push(ba),ba=!1}function Xl(){const n=n3.pop();ba=n===void 0?!0:n}function gx(){hb++}function vx(){for(hb--;!hb&&pb.length;)pb.shift()()}function i3(n,e,t){if(e.get(n)!==n._trackId){e.set(n,n._trackId);const i=n.deps[n._depsLength];i!==e?(i&&t3(i,n),n.deps[n._depsLength++]=e):n._depsLength++}}const pb=[];function r3(n,e,t){gx();for(const i of n.keys())if(i._dirtyLevel<e&&n.get(i)===i._trackId){const r=i._dirtyLevel;i._dirtyLevel=e,r===0&&(i._shouldSchedule=!0,i.trigger())}s3(n),vx()}function s3(n){for(const e of n.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&n.get(e)===e._trackId&&(e._shouldSchedule=!1,pb.push(e.scheduler))}const o3=(n,e)=>{const t=new Map;return t.cleanup=n,t.computed=e,t},dg=new WeakMap,Cl=Symbol(""),mb=Symbol("");function lr(n,e,t){if(ba&&El){let i=dg.get(n);i||dg.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=o3(()=>i.delete(t))),i3(El,r)}}function vo(n,e,t,i,r,s){const o=dg.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&Je(n)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!Ra(u)&&u>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":Je(n)?px(t)&&a.push(o.get("length")):(a.push(o.get(Cl)),fu(n)&&a.push(o.get(mb)));break;case"delete":Je(n)||(a.push(o.get(Cl)),fu(n)&&a.push(o.get(mb)));break;case"set":fu(n)&&a.push(o.get(Cl));break}gx();for(const l of a)l&&r3(l,2);vx()}function LO(n,e){var t;return(t=dg.get(n))==null?void 0:t.get(e)}const RO=dx("__proto__,__v_isRef,__isVue"),a3=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ra)),aS=PO();function PO(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=qt(this);for(let s=0,o=this.length;s<o;s++)lr(i,"get",s+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(qt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Yl(),gx();const i=qt(this)[e].apply(this,t);return vx(),Xl(),i}}),n}function IO(n){const e=qt(this);return lr(e,"has",n),e.hasOwnProperty(n)}class l3{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,i){const r=this._isReadonly,s=this._shallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(r?s?GO:f3:s?d3:u3).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Je(e);if(!r){if(o&&zt(aS,t))return Reflect.get(aS,t,i);if(t==="hasOwnProperty")return IO}const a=Reflect.get(e,t,i);return(Ra(t)?a3.has(t):RO(t))||(r||lr(e,"get",t),s)?a:an(a)?o&&px(t)?a:a.value:It(a)?r?ad(a):Gt(a):a}}class c3 extends l3{constructor(e=!1){super(!1,e)}set(e,t,i,r){let s=e[t];if(!this._shallow){const l=Au(s);if(!fg(i)&&!Au(i)&&(s=qt(s),i=qt(i)),!Je(e)&&an(s)&&!an(i))return l?!1:(s.value=i,!0)}const o=Je(e)&&px(t)?Number(t)<e.length:zt(e,t),a=Reflect.set(e,t,i,r);return e===qt(r)&&(o?Pa(i,s)&&vo(e,"set",t,i):vo(e,"add",t,i)),a}deleteProperty(e,t){const i=zt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&vo(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!Ra(t)||!a3.has(t))&&lr(e,"has",t),i}ownKeys(e){return lr(e,"iterate",Je(e)?"length":Cl),Reflect.ownKeys(e)}}class kO extends l3{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const DO=new c3,NO=new kO,OO=new c3(!0),yx=n=>n,tv=n=>Reflect.getPrototypeOf(n);function Jh(n,e,t=!1,i=!1){n=n.__v_raw;const r=qt(n),s=qt(e);t||(Pa(e,s)&&lr(r,"get",e),lr(r,"get",s));const{has:o}=tv(r),a=i?yx:t?xx:kf;if(o.call(r,e))return a(n.get(e));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(e)}function Qh(n,e=!1){const t=this.__v_raw,i=qt(t),r=qt(n);return e||(Pa(n,r)&&lr(i,"has",n),lr(i,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function ep(n,e=!1){return n=n.__v_raw,!e&&lr(qt(n),"iterate",Cl),Reflect.get(n,"size",n)}function lS(n){n=qt(n);const e=qt(this);return tv(e).has.call(e,n)||(e.add(n),vo(e,"add",n,n)),this}function cS(n,e){e=qt(e);const t=qt(this),{has:i,get:r}=tv(t);let s=i.call(t,n);s||(n=qt(n),s=i.call(t,n));const o=r.call(t,n);return t.set(n,e),s?Pa(e,o)&&vo(t,"set",n,e):vo(t,"add",n,e),this}function uS(n){const e=qt(this),{has:t,get:i}=tv(e);let r=t.call(e,n);r||(n=qt(n),r=t.call(e,n)),i&&i.call(e,n);const s=e.delete(n);return r&&vo(e,"delete",n,void 0),s}function dS(){const n=qt(this),e=n.size!==0,t=n.clear();return e&&vo(n,"clear",void 0,void 0),t}function tp(n,e){return function(i,r){const s=this,o=s.__v_raw,a=qt(o),l=e?yx:n?xx:kf;return!n&&lr(a,"iterate",Cl),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function np(n,e,t){return function(...i){const r=this.__v_raw,s=qt(r),o=fu(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=t?yx:e?xx:kf;return!e&&lr(s,"iterate",l?mb:Cl),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fo(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function FO(){const n={get(s){return Jh(this,s)},get size(){return ep(this)},has:Qh,add:lS,set:cS,delete:uS,clear:dS,forEach:tp(!1,!1)},e={get(s){return Jh(this,s,!1,!0)},get size(){return ep(this)},has:Qh,add:lS,set:cS,delete:uS,clear:dS,forEach:tp(!1,!0)},t={get(s){return Jh(this,s,!0)},get size(){return ep(this,!0)},has(s){return Qh.call(this,s,!0)},add:Fo("add"),set:Fo("set"),delete:Fo("delete"),clear:Fo("clear"),forEach:tp(!0,!1)},i={get(s){return Jh(this,s,!0,!0)},get size(){return ep(this,!0)},has(s){return Qh.call(this,s,!0)},add:Fo("add"),set:Fo("set"),delete:Fo("delete"),clear:Fo("clear"),forEach:tp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=np(s,!1,!1),t[s]=np(s,!0,!1),e[s]=np(s,!1,!0),i[s]=np(s,!0,!0)}),[n,t,e,i]}const[BO,zO,$O,VO]=FO();function bx(n,e){const t=e?n?VO:$O:n?zO:BO;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(zt(t,r)&&r in i?t:i,r,s)}const HO={get:bx(!1,!1)},UO={get:bx(!1,!0)},WO={get:bx(!0,!1)},u3=new WeakMap,d3=new WeakMap,f3=new WeakMap,GO=new WeakMap;function jO(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KO(n){return n.__v_skip||!Object.isExtensible(n)?0:jO(Am(n))}function Gt(n){return Au(n)?n:_x(n,!1,DO,HO,u3)}function h3(n){return _x(n,!1,OO,UO,d3)}function ad(n){return _x(n,!0,NO,WO,f3)}function _x(n,e,t,i,r){if(!It(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=KO(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return r.set(n,a),a}function hu(n){return Au(n)?hu(n.__v_raw):!!(n&&n.__v_isReactive)}function Au(n){return!!(n&&n.__v_isReadonly)}function fg(n){return!!(n&&n.__v_isShallow)}function p3(n){return hu(n)||Au(n)}function qt(n){const e=n&&n.__v_raw;return e?qt(e):n}function Al(n){return ug(n,"__v_skip",!0),n}const kf=n=>It(n)?Gt(n):n,xx=n=>It(n)?ad(n):n;class m3{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mx(()=>e(this._value),()=>Im(this,1),()=>this.dep&&s3(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=qt(this);return(!e._cacheable||e.effect.dirty)&&Pa(e._value,e._value=e.effect.run())&&Im(e,2),v3(e),e.effect._dirtyLevel>=1&&Im(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function g3(n,e,t=!1){let i,r;const s=dt(n);return s?(i=n,r=jt):(i=n.get,r=n.set),new m3(i,r,s||!r,t)}function v3(n){ba&&El&&(n=qt(n),i3(El,n.dep||(n.dep=o3(()=>n.dep=void 0,n instanceof m3?n:void 0))))}function Im(n,e=2,t){n=qt(n);const i=n.dep;i&&r3(i,e)}function an(n){return!!(n&&n.__v_isRef===!0)}function X(n){return y3(n,!1)}function rn(n){return y3(n,!0)}function y3(n,e){return an(n)?n:new qO(n,e)}class qO{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:qt(e),this._value=t?e:kf(e)}get value(){return v3(this),this._value}set value(e){const t=this.__v_isShallow||fg(e)||Au(e);e=t?e:qt(e),Pa(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:kf(e),Im(this,2))}}function p(n){return an(n)?n.value:n}const YO={get:(n,e,t)=>p(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return an(r)&&!an(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function b3(n){return hu(n)?n:new Proxy(n,YO)}function fi(n){const e=Je(n)?new Array(n.length):{};for(const t in n)e[t]=_3(n,t);return e}class XO{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return LO(qt(this._object),this._key)}}class ZO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function tn(n,e,t){return an(n)?n:dt(n)?new ZO(n):It(n)&&arguments.length>1?_3(n,e,t):X(n)}function _3(n,e,t){const i=n[e];return an(i)?i:new XO(n,e,t)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _a(n,e,t,i){let r;try{r=i?n(...i):n()}catch(s){nv(s,e,t)}return r}function Fr(n,e,t,i){if(dt(n)){const s=_a(n,e,t,i);return s&&If(s)&&s.catch(o=>{nv(o,e,t)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(Fr(n[s],e,t,i));return r}function nv(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){_a(l,null,10,[n,o,a]);return}}JO(n,t,r,i)}function JO(n,e,t,i=!0){console.error(n)}let Df=!1,gb=!1;const Ci=[];let Es=0;const pu=[];let la=null,dl=0;const x3=Promise.resolve();let wx=null;function at(n){const e=wx||x3;return n?e.then(this?n.bind(this):n):e}function QO(n){let e=Es+1,t=Ci.length;for(;e<t;){const i=e+t>>>1,r=Ci[i],s=Nf(r);s<n||s===n&&r.pre?e=i+1:t=i}return e}function Sx(n){(!Ci.length||!Ci.includes(n,Df&&n.allowRecurse?Es+1:Es))&&(n.id==null?Ci.push(n):Ci.splice(QO(n.id),0,n),w3())}function w3(){!Df&&!gb&&(gb=!0,wx=x3.then(M3))}function eF(n){const e=Ci.indexOf(n);e>Es&&Ci.splice(e,1)}function tF(n){Je(n)?pu.push(...n):(!la||!la.includes(n,n.allowRecurse?dl+1:dl))&&pu.push(n),w3()}function fS(n,e,t=Df?Es+1:0){for(;t<Ci.length;t++){const i=Ci[t];if(i&&i.pre){if(n&&i.id!==n.uid)continue;Ci.splice(t,1),t--,i()}}}function S3(n){if(pu.length){const e=[...new Set(pu)].sort((t,i)=>Nf(t)-Nf(i));if(pu.length=0,la){la.push(...e);return}for(la=e,dl=0;dl<la.length;dl++)la[dl]();la=null,dl=0}}const Nf=n=>n.id==null?1/0:n.id,nF=(n,e)=>{const t=Nf(n)-Nf(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function M3(n){gb=!1,Df=!0,Ci.sort(nF);const e=jt;try{for(Es=0;Es<Ci.length;Es++){const t=Ci[Es];t&&t.active!==!1&&_a(t,null,14)}}finally{Es=0,Ci.length=0,S3(),Df=!1,wx=null,(Ci.length||pu.length)&&M3()}}function iF(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||In;let r=t;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=i[u]||In;f&&(r=t.map(h=>vt(h)?h.trim():h)),d&&(r=t.map(fb))}let a,l=i[a=Rm(e)]||i[a=Rm(Er(e))];!l&&s&&(l=i[a=Rm(Va(e))]),l&&Fr(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Fr(c,n,6,r)}}function T3(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!dt(n)){const l=c=>{const u=T3(c,e,!0);u&&(a=!0,qn(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(It(n)&&i.set(n,null),null):(Je(s)?s.forEach(l=>o[l]=null):qn(o,s),It(n)&&i.set(n,o),o)}function iv(n,e){return!n||!Jg(e)?!1:(e=e.slice(2).replace(/Once$/,""),zt(n,e[0].toLowerCase()+e.slice(1))||zt(n,Va(e))||zt(n,e))}let ei=null,E3=null;function hg(n){const e=ei;return ei=n,E3=n&&n.type.__scopeId||null,e}function Ee(n,e=ei,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&ES(-1);const s=hg(e);let o;try{o=n(...r)}finally{hg(s),i._d&&ES(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function s0(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:g,inheritAttrs:m}=n;let v,y;const b=hg(n);try{if(t.shapeFlag&4){const _=r||i,w=_;v=Ss(u.call(w,_,d,s,h,f,g)),y=l}else{const _=e;v=Ss(_.length>1?_(s,{attrs:l,slots:a,emit:c}):_(s,null)),y=e.props?l:rF(l)}}catch(_){hf.length=0,nv(_,n,1),v=ye(zi)}let x=v;if(y&&m!==!1){const _=Object.keys(y),{shapeFlag:w}=x;_.length&&w&7&&(o&&_.some(fx)&&(y=sF(y,o)),x=wo(x,y))}return t.dirs&&(x=wo(x),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&(x.transition=t.transition),v=x,hg(b),v}const rF=n=>{let e;for(const t in n)(t==="class"||t==="style"||Jg(t))&&((e||(e={}))[t]=n[t]);return e},sF=(n,e)=>{const t={};for(const i in n)(!fx(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function oF(n,e,t){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?hS(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!iv(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?hS(i,o,c):!0:!!o;return!1}function hS(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==n[s]&&!iv(t,s))return!0}return!1}function aF({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const Mx="components",lF="directives";function Ct(n,e){return Tx(Mx,n,!0,e)||n}const C3=Symbol.for("v-ndc");function Pt(n){return vt(n)?Tx(Mx,n,!1)||n:n||C3}function Th(n){return Tx(lF,n)}function Tx(n,e,t=!0,i=!1){const r=ei||mi;if(r){const s=r.type;if(n===Mx){const a=ZF(s,!1);if(a&&(a===e||a===Er(e)||a===Mh(Er(e))))return s}const o=pS(r[n]||s[n],e)||pS(r.appContext[n],e);return!o&&i?s:o}}function pS(n,e){return n&&(n[e]||n[Er(e)]||n[Mh(Er(e))])}const cF=n=>n.__isSuspense;function uF(n,e){e&&e.pendingBranch?Je(n)?e.effects.push(...n):e.effects.push(n):tF(n)}const dF=Symbol.for("v-scx"),fF=()=>Qe(dF);function yi(n,e){return Ex(n,null,e)}const ip={};function Ve(n,e,t){return Ex(n,e,t)}function Ex(n,e,{immediate:t,deep:i,flush:r,once:s,onTrack:o,onTrigger:a}=In){if(e&&s){const S=e;e=(...T)=>{S(...T),w()}}const l=mi,c=S=>i===!0?S:vl(S,i===!1?1:void 0);let u,d=!1,f=!1;if(an(n)?(u=()=>n.value,d=fg(n)):hu(n)?(u=()=>c(n),d=!0):Je(n)?(f=!0,d=n.some(S=>hu(S)||fg(S)),u=()=>n.map(S=>{if(an(S))return S.value;if(hu(S))return c(S);if(dt(S))return _a(S,l,2)})):dt(n)?e?u=()=>_a(n,l,2):u=()=>(h&&h(),Fr(n,l,3,[g])):u=jt,e&&i){const S=u;u=()=>vl(S())}let h,g=S=>{h=x.onStop=()=>{_a(S,l,4),h=x.onStop=void 0}},m;if(cv)if(g=jt,e?t&&Fr(e,l,3,[u(),f?[]:void 0,g]):u(),r==="sync"){const S=fF();m=S.__watcherHandles||(S.__watcherHandles=[])}else return jt;let v=f?new Array(n.length).fill(ip):ip;const y=()=>{if(!(!x.active||!x.dirty))if(e){const S=x.run();(i||d||(f?S.some((T,M)=>Pa(T,v[M])):Pa(S,v)))&&(h&&h(),Fr(e,l,3,[S,v===ip?void 0:f&&v[0]===ip?[]:v,g]),v=S)}else x.run()};y.allowRecurse=!!e;let b;r==="sync"?b=y:r==="post"?b=()=>Ji(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),b=()=>Sx(y));const x=new mx(u,jt,b),_=QA(),w=()=>{x.stop(),_&&hx(_.effects,x)};return e?t?y():v=x.run():r==="post"?Ji(x.run.bind(x),l&&l.suspense):x.run(),m&&m.push(w),w}function hF(n,e,t){const i=this.proxy,r=vt(n)?n.includes(".")?A3(i,n):()=>i[n]:n.bind(i,i);let s;dt(e)?s=e:(s=e.handler,t=e);const o=Eh(this),a=Ex(r,s.bind(i),t);return o(),a}function A3(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function vl(n,e,t=0,i){if(!It(n)||n.__v_skip)return n;if(e&&e>0){if(t>=e)return n;t++}if(i=i||new Set,i.has(n))return n;if(i.add(n),an(n))vl(n.value,e,t,i);else if(Je(n))for(let r=0;r<n.length;r++)vl(n[r],e,t,i);else if(Qg(n)||fu(n))n.forEach(r=>{vl(r,e,t,i)});else if(cg(n))for(const r in n)vl(n[r],e,t,i);return n}function _t(n,e){if(ei===null)return n;const t=uv(ei)||ei.proxy,i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=In]=e[r];s&&(dt(s)&&(s={mounted:s,updated:s}),s.deep&&vl(o),i.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Xa(n,e,t,i){const r=n.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Yl(),Fr(l,t,8,[n.el,a,n,e]),Xl())}}const ca=Symbol("_leaveCb"),rp=Symbol("_enterCb");function L3(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St(()=>{n.isMounted=!0}),sn(()=>{n.isUnmounting=!0}),n}const Ar=[Function,Array],R3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ar,onEnter:Ar,onAfterEnter:Ar,onEnterCancelled:Ar,onBeforeLeave:Ar,onLeave:Ar,onAfterLeave:Ar,onLeaveCancelled:Ar,onBeforeAppear:Ar,onAppear:Ar,onAfterAppear:Ar,onAppearCancelled:Ar},pF={name:"BaseTransition",props:R3,setup(n,{slots:e}){const t=Mt(),i=L3();let r;return()=>{const s=e.default&&Cx(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==zi){o=m;break}}const a=qt(n),{mode:l}=a;if(i.isLeaving)return o0(o);const c=mS(o);if(!c)return o0(o);const u=Of(c,a,i,t);Ff(c,u);const d=t.subTree,f=d&&mS(d);let h=!1;const{getTransitionKey:g}=c.type;if(g){const m=g();r===void 0?r=m:m!==r&&(r=m,h=!0)}if(f&&f.type!==zi&&(!fl(c,f)||h)){const m=Of(f,a,i,t);if(Ff(f,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&(t.effect.dirty=!0,t.update())},o0(o);l==="in-out"&&c.type!==zi&&(m.delayLeave=(v,y,b)=>{const x=P3(i,f);x[String(f.key)]=f,v[ca]=()=>{y(),v[ca]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},mF=pF;function P3(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Of(n,e,t,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:b}=e,x=String(n.key),_=P3(t,n),w=(M,C)=>{M&&Fr(M,i,9,C)},S=(M,C)=>{const L=C[1];w(M,C),Je(M)?M.every(E=>E.length<=1)&&L():M.length<=1&&L()},T={mode:s,persisted:o,beforeEnter(M){let C=a;if(!t.isMounted)if(r)C=m||a;else return;M[ca]&&M[ca](!0);const L=_[x];L&&fl(n,L)&&L.el[ca]&&L.el[ca](),w(C,[M])},enter(M){let C=l,L=c,E=u;if(!t.isMounted)if(r)C=v||l,L=y||c,E=b||u;else return;let O=!1;const F=M[rp]=R=>{O||(O=!0,R?w(E,[M]):w(L,[M]),T.delayedLeave&&T.delayedLeave(),M[rp]=void 0)};C?S(C,[M,F]):F()},leave(M,C){const L=String(n.key);if(M[rp]&&M[rp](!0),t.isUnmounting)return C();w(d,[M]);let E=!1;const O=M[ca]=F=>{E||(E=!0,C(),F?w(g,[M]):w(h,[M]),M[ca]=void 0,_[L]===n&&delete _[L])};_[L]=n,f?S(f,[M,O]):O()},clone(M){return Of(M,e,t,i)}};return T}function o0(n){if(rv(n))return n=wo(n),n.children=null,n}function mS(n){return rv(n)?n.children?n.children[0]:void 0:n}function Ff(n,e){n.shapeFlag&6&&n.component?Ff(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Cx(n,e=!1,t){let i=[],r=0;for(let s=0;s<n.length;s++){let o=n[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===rt?(o.patchFlag&128&&r++,i=i.concat(Cx(o.children,e,a))):(e||o.type!==zi)&&i.push(a!=null?wo(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function pe(n,e){return dt(n)?(()=>qn({name:n.name},e,{setup:n}))():n}const uf=n=>!!n.type.__asyncLoader,rv=n=>n.type.__isKeepAlive;function gF(n,e){k3(n,"a",e)}function I3(n,e){k3(n,"da",e)}function k3(n,e,t=mi){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(sv(e,i,t),t){let r=t.parent;for(;r&&r.parent;)rv(r.parent.vnode)&&vF(i,e,t,r),r=r.parent}}function vF(n,e,t,i){const r=sv(e,n,i,!0);Ha(()=>{hx(i[e],r)},t)}function sv(n,e,t=mi,i=!1){if(t){const r=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;Yl();const a=Eh(t),l=Fr(e,t,n,o);return a(),Xl(),l});return i?r.unshift(s):r.push(s),s}}const Co=n=>(e,t=mi)=>(!cv||n==="sp")&&sv(n,(...i)=>e(...i),t),ov=Co("bm"),St=Co("m"),D3=Co("bu"),Ao=Co("u"),sn=Co("bum"),Ha=Co("um"),yF=Co("sp"),bF=Co("rtg"),_F=Co("rtc");function xF(n,e=mi){sv("ec",n,e)}function Bt(n,e,t,i){let r;const s=t&&t[i];if(Je(n)||vt(n)){r=new Array(n.length);for(let o=0,a=n.length;o<a;o++)r[o]=e(n[o],o,void 0,s&&s[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=e(o+1,o,void 0,s&&s[o])}else if(It(n))if(n[Symbol.iterator])r=Array.from(n,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(n);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(n[c],c,a,s&&s[a])}}else r=[];return t&&(t[i]=r),r}function xo(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(Je(i))for(let r=0;r<i.length;r++)n[i[r].name]=i[r].fn;else i&&(n[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return n}function Be(n,e,t={},i,r){if(ei.isCE||ei.parent&&uf(ei.parent)&&ei.parent.isCE)return e!=="default"&&(t.name=e),ye("slot",t,i&&i());let s=n[e];s&&s._c&&(s._d=!1),B();const o=s&&N3(s(t)),a=Oe(rt,{key:t.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function N3(n){return n.some(e=>un(e)?!(e.type===zi||e.type===rt&&!N3(e.children)):!0)?n:null}function wF(n,e){const t={};for(const i in n)t[e&&/[A-Z]/.test(i)?`on:${i}`:Rm(i)]=n[i];return t}const vb=n=>n?q3(n)?uv(n)||n.proxy:vb(n.parent):null,df=qn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>vb(n.parent),$root:n=>vb(n.root),$emit:n=>n.emit,$options:n=>Ax(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,Sx(n.update)}),$nextTick:n=>n.n||(n.n=at.bind(n.proxy)),$watch:n=>hF.bind(n)}),a0=(n,e)=>n!==In&&!n.__isScriptSetup&&zt(n,e),SF={get({_:n},e){const{ctx:t,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(a0(i,e))return o[e]=1,i[e];if(r!==In&&zt(r,e))return o[e]=2,r[e];if((c=n.propsOptions[0])&&zt(c,e))return o[e]=3,s[e];if(t!==In&&zt(t,e))return o[e]=4,t[e];yb&&(o[e]=0)}}const u=df[e];let d,f;if(u)return e==="$attrs"&&lr(n,"get",e),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==In&&zt(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,zt(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:s}=n;return a0(r,e)?(r[e]=t,!0):i!==In&&zt(i,e)?(i[e]=t,!0):zt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!t[o]||n!==In&&zt(n,o)||a0(e,o)||(a=s[0])&&zt(a,o)||zt(i,o)||zt(df,o)||zt(r.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:zt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Yn(){return O3().slots}function Zl(){return O3().attrs}function O3(){const n=Mt();return n.setupContext||(n.setupContext=X3(n))}function gS(n){return Je(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let yb=!0;function MF(n){const e=Ax(n),t=n.proxy,i=n.ctx;yb=!1,e.beforeCreate&&vS(e.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:_,render:w,renderTracked:S,renderTriggered:T,errorCaptured:M,serverPrefetch:C,expose:L,inheritAttrs:E,components:O,directives:F,filters:R}=e;if(c&&TF(c,i,null),o)for(const A in o){const N=o[A];dt(N)&&(i[A]=N.bind(t))}if(r){const A=r.call(t,t);It(A)&&(n.data=Gt(A))}if(yb=!0,s)for(const A in s){const N=s[A],P=dt(N)?N.bind(t,t):dt(N.get)?N.get.bind(t,t):jt,z=!dt(N)&&dt(N.set)?N.set.bind(t):jt,Y=I({get:P,set:z});Object.defineProperty(i,A,{enumerable:!0,configurable:!0,get:()=>Y.value,set:H=>Y.value=H})}if(a)for(const A in a)F3(a[A],i,t,A);if(l){const A=dt(l)?l.call(t):l;Reflect.ownKeys(A).forEach(N=>{Dt(N,A[N])})}u&&vS(u,n,"c");function D(A,N){Je(N)?N.forEach(P=>A(P.bind(t))):N&&A(N.bind(t))}if(D(ov,d),D(St,f),D(D3,h),D(Ao,g),D(gF,m),D(I3,v),D(xF,M),D(_F,S),D(bF,T),D(sn,b),D(Ha,_),D(yF,C),Je(L))if(L.length){const A=n.exposed||(n.exposed={});L.forEach(N=>{Object.defineProperty(A,N,{get:()=>t[N],set:P=>t[N]=P})})}else n.exposed||(n.exposed={});w&&n.render===jt&&(n.render=w),E!=null&&(n.inheritAttrs=E),O&&(n.components=O),F&&(n.directives=F)}function TF(n,e,t=jt){Je(n)&&(n=bb(n));for(const i in n){const r=n[i];let s;It(r)?"default"in r?s=Qe(r.from||i,r.default,!0):s=Qe(r.from||i):s=Qe(r),an(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function vS(n,e,t){Fr(Je(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function F3(n,e,t,i){const r=i.includes(".")?A3(t,i):()=>t[i];if(vt(n)){const s=e[n];dt(s)&&Ve(r,s)}else if(dt(n))Ve(r,n.bind(t));else if(It(n))if(Je(n))n.forEach(s=>F3(s,e,t,i));else{const s=dt(n.handler)?n.handler.bind(t):e[n.handler];dt(s)&&Ve(r,s,n)}}function Ax(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(c=>pg(l,c,o,!0)),pg(l,e,o)),It(e)&&s.set(e,l),l}function pg(n,e,t,i=!1){const{mixins:r,extends:s}=e;s&&pg(n,s,t,!0),r&&r.forEach(o=>pg(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=EF[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const EF={data:yS,props:bS,emits:bS,methods:tf,computed:tf,beforeCreate:Oi,created:Oi,beforeMount:Oi,mounted:Oi,beforeUpdate:Oi,updated:Oi,beforeDestroy:Oi,beforeUnmount:Oi,destroyed:Oi,unmounted:Oi,activated:Oi,deactivated:Oi,errorCaptured:Oi,serverPrefetch:Oi,components:tf,directives:tf,watch:AF,provide:yS,inject:CF};function yS(n,e){return e?n?function(){return qn(dt(n)?n.call(this,this):n,dt(e)?e.call(this,this):e)}:e:n}function CF(n,e){return tf(bb(n),bb(e))}function bb(n){if(Je(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Oi(n,e){return n?[...new Set([].concat(n,e))]:e}function tf(n,e){return n?qn(Object.create(null),n,e):e}function bS(n,e){return n?Je(n)&&Je(e)?[...new Set([...n,...e])]:qn(Object.create(null),gS(n),gS(e??{})):e}function AF(n,e){if(!n)return e;if(!e)return n;const t=qn(Object.create(null),n);for(const i in e)t[i]=Oi(n[i],e[i]);return t}function B3(){return{app:null,config:{isNativeTag:pO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let LF=0;function RF(n,e){return function(i,r=null){dt(i)||(i=qn({},i)),r!=null&&!It(r)&&(r=null);const s=B3(),o=new WeakSet;let a=!1;const l=s.app={_uid:LF++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:QF,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&dt(c.install)?(o.add(c),c.install(l,...u)):dt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,d){if(!a){const f=ye(i,r);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):n(f,c,d),a=!0,l._container=c,c.__vue_app__=l,uv(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){mg=l;try{return c()}finally{mg=null}}};return l}}let mg=null;function Dt(n,e){if(mi){let t=mi.provides;const i=mi.parent&&mi.parent.provides;i===t&&(t=mi.provides=Object.create(i)),t[n]=e}}function Qe(n,e,t=!1){const i=mi||ei;if(i||mg){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:mg._context.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&dt(e)?e.call(i&&i.proxy):e}}function PF(n,e,t,i=!1){const r={},s={};ug(s,av,1),n.propsDefaults=Object.create(null),z3(n,e,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=i?r:h3(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function IF(n,e,t,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=qt(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(iv(n.emitsOptions,f))continue;const h=e[f];if(l)if(zt(s,f))h!==s[f]&&(s[f]=h,c=!0);else{const g=Er(f);r[g]=_b(l,a,g,h,n,!1)}else h!==s[f]&&(s[f]=h,c=!0)}}}else{z3(n,e,r,s)&&(c=!0);let u;for(const d in a)(!e||!zt(e,d)&&((u=Va(d))===d||!zt(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(r[d]=_b(l,a,d,void 0,n,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!zt(e,d))&&(delete s[d],c=!0)}c&&vo(n,"set","$attrs")}function z3(n,e,t,i){const[r,s]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lm(l))continue;const c=e[l];let u;r&&zt(r,u=Er(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:iv(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=qt(t),c=a||In;for(let u=0;u<s.length;u++){const d=s[u];t[d]=_b(r,l,d,c[d],n,!zt(c,d))}}return o}function _b(n,e,t,i,r,s){const o=n[t];if(o!=null){const a=zt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&dt(l)){const{propsDefaults:c}=r;if(t in c)i=c[t];else{const u=Eh(r);i=c[t]=l.call(null,e),u()}}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Va(t))&&(i=!0))}return i}function $3(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!dt(n)){const u=d=>{l=!0;const[f,h]=$3(d,e,!0);qn(o,f),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return It(n)&&i.set(n,du),du;if(Je(s))for(let u=0;u<s.length;u++){const d=Er(s[u]);_S(d)&&(o[d]=In)}else if(s)for(const u in s){const d=Er(u);if(_S(d)){const f=s[u],h=o[d]=Je(f)||dt(f)?{type:f}:qn({},f);if(h){const g=SS(Boolean,h.type),m=SS(String,h.type);h[0]=g>-1,h[1]=m<0||g<m,(g>-1||zt(h,"default"))&&a.push(d)}}}const c=[o,a];return It(n)&&i.set(n,c),c}function _S(n){return n[0]!=="$"}function xS(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function wS(n,e){return xS(n)===xS(e)}function SS(n,e){return Je(e)?e.findIndex(t=>wS(t,n)):dt(e)&&wS(e,n)?0:-1}const V3=n=>n[0]==="_"||n==="$stable",Lx=n=>Je(n)?n.map(Ss):[Ss(n)],kF=(n,e,t)=>{if(e._n)return e;const i=Ee((...r)=>Lx(e(...r)),t);return i._c=!1,i},H3=(n,e,t)=>{const i=n._ctx;for(const r in n){if(V3(r))continue;const s=n[r];if(dt(s))e[r]=kF(r,s,i);else if(s!=null){const o=Lx(s);e[r]=()=>o}}},U3=(n,e)=>{const t=Lx(e);n.slots.default=()=>t},DF=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=qt(e),ug(e,"_",t)):H3(e,n.slots={})}else n.slots={},e&&U3(n,e);ug(n.slots,av,1)},NF=(n,e,t)=>{const{vnode:i,slots:r}=n;let s=!0,o=In;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:(qn(r,e),!t&&a===1&&delete r._):(s=!e.$stable,H3(e,r)),o=e}else e&&(U3(n,e),o={default:1});if(s)for(const a in r)!V3(a)&&o[a]==null&&delete r[a]};function xb(n,e,t,i,r=!1){if(Je(n)){n.forEach((f,h)=>xb(f,e&&(Je(e)?e[h]:e),t,i,r));return}if(uf(i)&&!r)return;const s=i.shapeFlag&4?uv(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=n,c=e&&e.r,u=a.refs===In?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(vt(c)?(u[c]=null,zt(d,c)&&(d[c]=null)):an(c)&&(c.value=null)),dt(l))_a(l,a,12,[o,u]);else{const f=vt(l),h=an(l),g=n.f;if(f||h){const m=()=>{if(g){const v=f?zt(d,l)?d[l]:u[l]:l.value;r?Je(v)&&hx(v,s):Je(v)?v.includes(s)||v.push(s):f?(u[l]=[s],zt(d,l)&&(d[l]=u[l])):(l.value=[s],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,zt(d,l)&&(d[l]=o)):h&&(l.value=o,n.k&&(u[n.k]=o))};r||g?m():(m.id=-1,Ji(m,t))}}}const Ji=uF;function OF(n){return FF(n)}function FF(n,e){const t=qA();t.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=jt,insertStaticContent:g}=n,m=(j,Z,le,J=null,k=null,q=null,ce=void 0,me=null,Ce=!!Z.dynamicChildren)=>{if(j===Z)return;j&&!fl(j,Z)&&(J=te(j),H(j,k,q,!0),j=null),Z.patchFlag===-2&&(Ce=!1,Z.dynamicChildren=null);const{type:Q,ref:ee,shapeFlag:Se}=Z;switch(Q){case cd:v(j,Z,le,J);break;case zi:y(j,Z,le,J);break;case c0:j==null&&b(Z,le,J,ce);break;case rt:O(j,Z,le,J,k,q,ce,me,Ce);break;default:Se&1?w(j,Z,le,J,k,q,ce,me,Ce):Se&6?F(j,Z,le,J,k,q,ce,me,Ce):(Se&64||Se&128)&&Q.process(j,Z,le,J,k,q,ce,me,Ce,ue)}ee!=null&&k&&xb(ee,j&&j.ref,q,Z||j,!Z)},v=(j,Z,le,J)=>{if(j==null)i(Z.el=a(Z.children),le,J);else{const k=Z.el=j.el;Z.children!==j.children&&c(k,Z.children)}},y=(j,Z,le,J)=>{j==null?i(Z.el=l(Z.children||""),le,J):Z.el=j.el},b=(j,Z,le,J)=>{[j.el,j.anchor]=g(j.children,Z,le,J,j.el,j.anchor)},x=({el:j,anchor:Z},le,J)=>{let k;for(;j&&j!==Z;)k=f(j),i(j,le,J),j=k;i(Z,le,J)},_=({el:j,anchor:Z})=>{let le;for(;j&&j!==Z;)le=f(j),r(j),j=le;r(Z)},w=(j,Z,le,J,k,q,ce,me,Ce)=>{Z.type==="svg"?ce="svg":Z.type==="math"&&(ce="mathml"),j==null?S(Z,le,J,k,q,ce,me,Ce):C(j,Z,k,q,ce,me,Ce)},S=(j,Z,le,J,k,q,ce,me)=>{let Ce,Q;const{props:ee,shapeFlag:Se,transition:be,dirs:Pe}=j;if(Ce=j.el=o(j.type,q,ee&&ee.is,ee),Se&8?u(Ce,j.children):Se&16&&M(j.children,Ce,null,J,k,l0(j,q),ce,me),Pe&&Xa(j,null,J,"created"),T(Ce,j,j.scopeId,ce,J),ee){for(const $e in ee)$e!=="value"&&!Lm($e)&&s(Ce,$e,null,ee[$e],q,j.children,J,k,G);"value"in ee&&s(Ce,"value",null,ee.value,q),(Q=ee.onVnodeBeforeMount)&&xs(Q,J,j)}Pe&&Xa(j,null,J,"beforeMount");const he=BF(k,be);he&&be.beforeEnter(Ce),i(Ce,Z,le),((Q=ee&&ee.onVnodeMounted)||he||Pe)&&Ji(()=>{Q&&xs(Q,J,j),he&&be.enter(Ce),Pe&&Xa(j,null,J,"mounted")},k)},T=(j,Z,le,J,k)=>{if(le&&h(j,le),J)for(let q=0;q<J.length;q++)h(j,J[q]);if(k){let q=k.subTree;if(Z===q){const ce=k.vnode;T(j,ce,ce.scopeId,ce.slotScopeIds,k.parent)}}},M=(j,Z,le,J,k,q,ce,me,Ce=0)=>{for(let Q=Ce;Q<j.length;Q++){const ee=j[Q]=me?ua(j[Q]):Ss(j[Q]);m(null,ee,Z,le,J,k,q,ce,me)}},C=(j,Z,le,J,k,q,ce)=>{const me=Z.el=j.el;let{patchFlag:Ce,dynamicChildren:Q,dirs:ee}=Z;Ce|=j.patchFlag&16;const Se=j.props||In,be=Z.props||In;let Pe;if(le&&Za(le,!1),(Pe=be.onVnodeBeforeUpdate)&&xs(Pe,le,Z,j),ee&&Xa(Z,j,le,"beforeUpdate"),le&&Za(le,!0),Q?L(j.dynamicChildren,Q,me,le,J,l0(Z,k),q):ce||N(j,Z,me,null,le,J,l0(Z,k),q,!1),Ce>0){if(Ce&16)E(me,Z,Se,be,le,J,k);else if(Ce&2&&Se.class!==be.class&&s(me,"class",null,be.class,k),Ce&4&&s(me,"style",Se.style,be.style,k),Ce&8){const he=Z.dynamicProps;for(let $e=0;$e<he.length;$e++){const ne=he[$e],Re=Se[ne],fe=be[ne];(fe!==Re||ne==="value")&&s(me,ne,Re,fe,k,j.children,le,J,G)}}Ce&1&&j.children!==Z.children&&u(me,Z.children)}else!ce&&Q==null&&E(me,Z,Se,be,le,J,k);((Pe=be.onVnodeUpdated)||ee)&&Ji(()=>{Pe&&xs(Pe,le,Z,j),ee&&Xa(Z,j,le,"updated")},J)},L=(j,Z,le,J,k,q,ce)=>{for(let me=0;me<Z.length;me++){const Ce=j[me],Q=Z[me],ee=Ce.el&&(Ce.type===rt||!fl(Ce,Q)||Ce.shapeFlag&70)?d(Ce.el):le;m(Ce,Q,ee,null,J,k,q,ce,!0)}},E=(j,Z,le,J,k,q,ce)=>{if(le!==J){if(le!==In)for(const me in le)!Lm(me)&&!(me in J)&&s(j,me,le[me],null,ce,Z.children,k,q,G);for(const me in J){if(Lm(me))continue;const Ce=J[me],Q=le[me];Ce!==Q&&me!=="value"&&s(j,me,Q,Ce,ce,Z.children,k,q,G)}"value"in J&&s(j,"value",le.value,J.value,ce)}},O=(j,Z,le,J,k,q,ce,me,Ce)=>{const Q=Z.el=j?j.el:a(""),ee=Z.anchor=j?j.anchor:a("");let{patchFlag:Se,dynamicChildren:be,slotScopeIds:Pe}=Z;Pe&&(me=me?me.concat(Pe):Pe),j==null?(i(Q,le,J),i(ee,le,J),M(Z.children||[],le,ee,k,q,ce,me,Ce)):Se>0&&Se&64&&be&&j.dynamicChildren?(L(j.dynamicChildren,be,le,k,q,ce,me),(Z.key!=null||k&&Z===k.subTree)&&Rx(j,Z,!0)):N(j,Z,le,ee,k,q,ce,me,Ce)},F=(j,Z,le,J,k,q,ce,me,Ce)=>{Z.slotScopeIds=me,j==null?Z.shapeFlag&512?k.ctx.activate(Z,le,J,ce,Ce):R(Z,le,J,k,q,ce,Ce):$(j,Z,Ce)},R=(j,Z,le,J,k,q,ce)=>{const me=j.component=KF(j,J,k);if(rv(j)&&(me.ctx.renderer=ue),qF(me),me.asyncDep){if(k&&k.registerDep(me,D),!j.el){const Ce=me.subTree=ye(zi);y(null,Ce,Z,le)}}else D(me,j,Z,le,k,q,ce)},$=(j,Z,le)=>{const J=Z.component=j.component;if(oF(j,Z,le))if(J.asyncDep&&!J.asyncResolved){A(J,Z,le);return}else J.next=Z,eF(J.update),J.effect.dirty=!0,J.update();else Z.el=j.el,J.vnode=Z},D=(j,Z,le,J,k,q,ce)=>{const me=()=>{if(j.isMounted){let{next:ee,bu:Se,u:be,parent:Pe,vnode:he}=j;{const ge=W3(j);if(ge){ee&&(ee.el=he.el,A(j,ee,ce)),ge.asyncDep.then(()=>{j.isUnmounted||me()});return}}let $e=ee,ne;Za(j,!1),ee?(ee.el=he.el,A(j,ee,ce)):ee=he,Se&&Pm(Se),(ne=ee.props&&ee.props.onVnodeBeforeUpdate)&&xs(ne,Pe,ee,he),Za(j,!0);const Re=s0(j),fe=j.subTree;j.subTree=Re,m(fe,Re,d(fe.el),te(fe),j,k,q),ee.el=Re.el,$e===null&&aF(j,Re.el),be&&Ji(be,k),(ne=ee.props&&ee.props.onVnodeUpdated)&&Ji(()=>xs(ne,Pe,ee,he),k)}else{let ee;const{el:Se,props:be}=Z,{bm:Pe,m:he,parent:$e}=j,ne=uf(Z);if(Za(j,!1),Pe&&Pm(Pe),!ne&&(ee=be&&be.onVnodeBeforeMount)&&xs(ee,$e,Z),Za(j,!0),Se&&re){const Re=()=>{j.subTree=s0(j),re(Se,j.subTree,j,k,null)};ne?Z.type.__asyncLoader().then(()=>!j.isUnmounted&&Re()):Re()}else{const Re=j.subTree=s0(j);m(null,Re,le,J,j,k,q),Z.el=Re.el}if(he&&Ji(he,k),!ne&&(ee=be&&be.onVnodeMounted)){const Re=Z;Ji(()=>xs(ee,$e,Re),k)}(Z.shapeFlag&256||$e&&uf($e.vnode)&&$e.vnode.shapeFlag&256)&&j.a&&Ji(j.a,k),j.isMounted=!0,Z=le=J=null}},Ce=j.effect=new mx(me,jt,()=>Sx(Q),j.scope),Q=j.update=()=>{Ce.dirty&&Ce.run()};Q.id=j.uid,Za(j,!0),Q()},A=(j,Z,le)=>{Z.component=j;const J=j.vnode.props;j.vnode=Z,j.next=null,IF(j,Z.props,J,le),NF(j,Z.children,le),Yl(),fS(j),Xl()},N=(j,Z,le,J,k,q,ce,me,Ce=!1)=>{const Q=j&&j.children,ee=j?j.shapeFlag:0,Se=Z.children,{patchFlag:be,shapeFlag:Pe}=Z;if(be>0){if(be&128){z(Q,Se,le,J,k,q,ce,me,Ce);return}else if(be&256){P(Q,Se,le,J,k,q,ce,me,Ce);return}}Pe&8?(ee&16&&G(Q,k,q),Se!==Q&&u(le,Se)):ee&16?Pe&16?z(Q,Se,le,J,k,q,ce,me,Ce):G(Q,k,q,!0):(ee&8&&u(le,""),Pe&16&&M(Se,le,J,k,q,ce,me,Ce))},P=(j,Z,le,J,k,q,ce,me,Ce)=>{j=j||du,Z=Z||du;const Q=j.length,ee=Z.length,Se=Math.min(Q,ee);let be;for(be=0;be<Se;be++){const Pe=Z[be]=Ce?ua(Z[be]):Ss(Z[be]);m(j[be],Pe,le,null,k,q,ce,me,Ce)}Q>ee?G(j,k,q,!0,!1,Se):M(Z,le,J,k,q,ce,me,Ce,Se)},z=(j,Z,le,J,k,q,ce,me,Ce)=>{let Q=0;const ee=Z.length;let Se=j.length-1,be=ee-1;for(;Q<=Se&&Q<=be;){const Pe=j[Q],he=Z[Q]=Ce?ua(Z[Q]):Ss(Z[Q]);if(fl(Pe,he))m(Pe,he,le,null,k,q,ce,me,Ce);else break;Q++}for(;Q<=Se&&Q<=be;){const Pe=j[Se],he=Z[be]=Ce?ua(Z[be]):Ss(Z[be]);if(fl(Pe,he))m(Pe,he,le,null,k,q,ce,me,Ce);else break;Se--,be--}if(Q>Se){if(Q<=be){const Pe=be+1,he=Pe<ee?Z[Pe].el:J;for(;Q<=be;)m(null,Z[Q]=Ce?ua(Z[Q]):Ss(Z[Q]),le,he,k,q,ce,me,Ce),Q++}}else if(Q>be)for(;Q<=Se;)H(j[Q],k,q,!0),Q++;else{const Pe=Q,he=Q,$e=new Map;for(Q=he;Q<=be;Q++){const Ue=Z[Q]=Ce?ua(Z[Q]):Ss(Z[Q]);Ue.key!=null&&$e.set(Ue.key,Q)}let ne,Re=0;const fe=be-he+1;let ge=!1,_e=0;const Ne=new Array(fe);for(Q=0;Q<fe;Q++)Ne[Q]=0;for(Q=Pe;Q<=Se;Q++){const Ue=j[Q];if(Re>=fe){H(Ue,k,q,!0);continue}let Ae;if(Ue.key!=null)Ae=$e.get(Ue.key);else for(ne=he;ne<=be;ne++)if(Ne[ne-he]===0&&fl(Ue,Z[ne])){Ae=ne;break}Ae===void 0?H(Ue,k,q,!0):(Ne[Ae-he]=Q+1,Ae>=_e?_e=Ae:ge=!0,m(Ue,Z[Ae],le,null,k,q,ce,me,Ce),Re++)}const ve=ge?zF(Ne):du;for(ne=ve.length-1,Q=fe-1;Q>=0;Q--){const Ue=he+Q,Ae=Z[Ue],Ye=Ue+1<ee?Z[Ue+1].el:J;Ne[Q]===0?m(null,Ae,le,Ye,k,q,ce,me,Ce):ge&&(ne<0||Q!==ve[ne]?Y(Ae,le,Ye,2):ne--)}}},Y=(j,Z,le,J,k=null)=>{const{el:q,type:ce,transition:me,children:Ce,shapeFlag:Q}=j;if(Q&6){Y(j.component.subTree,Z,le,J);return}if(Q&128){j.suspense.move(Z,le,J);return}if(Q&64){ce.move(j,Z,le,ue);return}if(ce===rt){i(q,Z,le);for(let Se=0;Se<Ce.length;Se++)Y(Ce[Se],Z,le,J);i(j.anchor,Z,le);return}if(ce===c0){x(j,Z,le);return}if(J!==2&&Q&1&&me)if(J===0)me.beforeEnter(q),i(q,Z,le),Ji(()=>me.enter(q),k);else{const{leave:Se,delayLeave:be,afterLeave:Pe}=me,he=()=>i(q,Z,le),$e=()=>{Se(q,()=>{he(),Pe&&Pe()})};be?be(q,he,$e):$e()}else i(q,Z,le)},H=(j,Z,le,J=!1,k=!1)=>{const{type:q,props:ce,ref:me,children:Ce,dynamicChildren:Q,shapeFlag:ee,patchFlag:Se,dirs:be}=j;if(me!=null&&xb(me,null,le,j,!0),ee&256){Z.ctx.deactivate(j);return}const Pe=ee&1&&be,he=!uf(j);let $e;if(he&&($e=ce&&ce.onVnodeBeforeUnmount)&&xs($e,Z,j),ee&6)ie(j.component,le,J);else{if(ee&128){j.suspense.unmount(le,J);return}Pe&&Xa(j,null,Z,"beforeUnmount"),ee&64?j.type.remove(j,Z,le,k,ue,J):Q&&(q!==rt||Se>0&&Se&64)?G(Q,Z,le,!1,!0):(q===rt&&Se&384||!k&&ee&16)&&G(Ce,Z,le),J&&V(j)}(he&&($e=ce&&ce.onVnodeUnmounted)||Pe)&&Ji(()=>{$e&&xs($e,Z,j),Pe&&Xa(j,null,Z,"unmounted")},le)},V=j=>{const{type:Z,el:le,anchor:J,transition:k}=j;if(Z===rt){W(le,J);return}if(Z===c0){_(j);return}const q=()=>{r(le),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(j.shapeFlag&1&&k&&!k.persisted){const{leave:ce,delayLeave:me}=k,Ce=()=>ce(le,q);me?me(j.el,q,Ce):Ce()}else q()},W=(j,Z)=>{let le;for(;j!==Z;)le=f(j),r(j),j=le;r(Z)},ie=(j,Z,le)=>{const{bum:J,scope:k,update:q,subTree:ce,um:me}=j;J&&Pm(J),k.stop(),q&&(q.active=!1,H(ce,j,Z,le)),me&&Ji(me,Z),Ji(()=>{j.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},G=(j,Z,le,J=!1,k=!1,q=0)=>{for(let ce=q;ce<j.length;ce++)H(j[ce],Z,le,J,k)},te=j=>j.shapeFlag&6?te(j.component.subTree):j.shapeFlag&128?j.suspense.next():f(j.anchor||j.el);let oe=!1;const xe=(j,Z,le)=>{j==null?Z._vnode&&H(Z._vnode,null,null,!0):m(Z._vnode||null,j,Z,null,null,null,le),oe||(oe=!0,fS(),S3(),oe=!1),Z._vnode=j},ue={p:m,um:H,m:Y,r:V,mt:R,mc:M,pc:N,pbc:L,n:te,o:n};let we,re;return e&&([we,re]=e(ue)),{render:xe,hydrate:we,createApp:RF(xe,we)}}function l0({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Za({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function BF(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Rx(n,e,t=!1){const i=n.children,r=e.children;if(Je(i)&&Je(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ua(r[s]),a.el=o.el),t||Rx(o,a)),a.type===cd&&(a.el=o.el)}}function zF(n){const e=n.slice(),t=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=t[t.length-1],n[r]<c){e[i]=r,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,n[t[a]]<c?s=a+1:o=a;c<n[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function W3(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:W3(e)}const $F=n=>n.__isTeleport,ff=n=>n&&(n.disabled||n.disabled===""),MS=n=>typeof SVGElement<"u"&&n instanceof SVGElement,TS=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,wb=(n,e)=>{const t=n&&n.to;return vt(t)?e?e(t):null:t},VF={name:"Teleport",__isTeleport:!0,process(n,e,t,i,r,s,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:g,createText:m,createComment:v}}=c,y=ff(e.props);let{shapeFlag:b,children:x,dynamicChildren:_}=e;if(n==null){const w=e.el=m(""),S=e.anchor=m("");h(w,t,i),h(S,t,i);const T=e.target=wb(e.props,g),M=e.targetAnchor=m("");T&&(h(M,T),o==="svg"||MS(T)?o="svg":(o==="mathml"||TS(T))&&(o="mathml"));const C=(L,E)=>{b&16&&u(x,L,E,r,s,o,a,l)};y?C(t,S):T&&C(T,M)}else{e.el=n.el;const w=e.anchor=n.anchor,S=e.target=n.target,T=e.targetAnchor=n.targetAnchor,M=ff(n.props),C=M?t:S,L=M?w:T;if(o==="svg"||MS(S)?o="svg":(o==="mathml"||TS(S))&&(o="mathml"),_?(f(n.dynamicChildren,_,C,r,s,o,a),Rx(n,e,!0)):l||d(n,e,C,L,r,s,o,a,!1),y)M?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):sp(e,t,w,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const E=e.target=wb(e.props,g);E&&sp(e,E,null,c,0)}else M&&sp(e,S,T,c,1)}G3(e)},remove(n,e,t,i,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&s(u),o&&s(c),a&16){const h=o||!ff(f);for(let g=0;g<l.length;g++){const m=l[g];r(m,e,t,h,!!m.dynamicChildren)}}},move:sp,hydrate:HF};function sp(n,e,t,{o:{insert:i},m:r},s=2){s===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,d=s===2;if(d&&i(o,e,t),(!d||ff(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,t,2);d&&i(a,e,t)}function HF(n,e,t,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=wb(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(ff(e.props))e.anchor=c(o(n),e,a(n),t,i,r,s),e.targetAnchor=d;else{e.anchor=o(n);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,t,i,r,s)}G3(e)}return e.anchor&&o(e.anchor)}const ld=VF;function G3(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t&&t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const rt=Symbol.for("v-fgt"),cd=Symbol.for("v-txt"),zi=Symbol.for("v-cmt"),c0=Symbol.for("v-stc"),hf=[];let as=null;function B(n=!1){hf.push(as=n?null:[])}function UF(){hf.pop(),as=hf[hf.length-1]||null}let Bf=1;function ES(n){Bf+=n}function j3(n){return n.dynamicChildren=Bf>0?as||du:null,UF(),Bf>0&&as&&as.push(n),n}function se(n,e,t,i,r,s){return j3(de(n,e,t,i,r,s,!0))}function Oe(n,e,t,i,r){return j3(ye(n,e,t,i,r,!0))}function un(n){return n?n.__v_isVNode===!0:!1}function fl(n,e){return n.type===e.type&&n.key===e.key}const av="__vInternal",K3=({key:n})=>n??null,km=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?vt(n)||an(n)||dt(n)?{i:ei,r:n,k:e,f:!!t}:n:null);function de(n,e=null,t=null,i=0,r=null,s=n===rt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&K3(e),ref:e&&km(e),scopeId:E3,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ei};return a?(Px(l,t),s&128&&n.normalize(l)):t&&(l.shapeFlag|=vt(t)?8:16),Bf>0&&!o&&as&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&as.push(l),l}const ye=WF;function WF(n,e=null,t=null,i=0,r=null,s=!1){if((!n||n===C3)&&(n=zi),un(n)){const a=wo(n,e,!0);return t&&Px(a,t),Bf>0&&!s&&as&&(a.shapeFlag&6?as[as.indexOf(n)]=a:as.push(a)),a.patchFlag|=-2,a}if(JF(n)&&(n=n.__vccOpts),e){e=lv(e);let{class:a,style:l}=e;a&&!vt(a)&&(e.class=U(a)),It(l)&&(p3(l)&&!Je(l)&&(l=qn({},l)),e.style=tt(l))}const o=vt(n)?1:cF(n)?128:$F(n)?64:It(n)?4:dt(n)?2:0;return de(n,e,t,i,r,o,s,!0)}function lv(n){return n?p3(n)||av in n?qn({},n):n:null}function wo(n,e,t=!1){const{props:i,ref:r,patchFlag:s,children:o}=n,a=e?Rt(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&K3(a),ref:e&&e.ref?t&&r?Je(r)?r.concat(km(e)):[r,km(e)]:km(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==rt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&wo(n.ssContent),ssFallback:n.ssFallback&&wo(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Ht(n=" ",e=0){return ye(cd,null,n,e)}function ke(n="",e=!1){return e?(B(),Oe(zi,null,n)):ye(zi,null,n)}function Ss(n){return n==null||typeof n=="boolean"?ye(zi):Je(n)?ye(rt,null,n.slice()):typeof n=="object"?ua(n):ye(cd,null,String(n))}function ua(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:wo(n)}function Px(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Je(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Px(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(av in e)?e._ctx=ei:r===3&&ei&&(ei.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else dt(e)?(e={default:e,_ctx:ei},t=32):(e=String(e),i&64?(t=16,e=[Ht(e)]):t=8);n.children=e,n.shapeFlag|=t}function Rt(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=U([e.class,i.class]));else if(r==="style")e.style=tt([e.style,i.style]);else if(Jg(r)){const s=e[r],o=i[r];o&&s!==o&&!(Je(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function xs(n,e,t,i=null){Fr(n,e,7,[t,i])}const GF=B3();let jF=0;function KF(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||GF,s={uid:jF++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new JA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$3(i,r),emitsOptions:T3(i,r),emit:null,emitted:null,propsDefaults:In,inheritAttrs:i.inheritAttrs,ctx:In,data:In,props:In,attrs:In,slots:In,refs:In,setupState:In,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=iF.bind(null,s),n.ce&&n.ce(s),s}let mi=null;const Mt=()=>mi||ei;let gg,Sb;{const n=qA(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};gg=e("__VUE_INSTANCE_SETTERS__",t=>mi=t),Sb=e("__VUE_SSR_SETTERS__",t=>cv=t)}const Eh=n=>{const e=mi;return gg(n),n.scope.on(),()=>{n.scope.off(),gg(e)}},CS=()=>{mi&&mi.scope.off(),gg(null)};function q3(n){return n.vnode.shapeFlag&4}let cv=!1;function qF(n,e=!1){e&&Sb(e);const{props:t,children:i}=n.vnode,r=q3(n);PF(n,t,r,e),DF(n,i);const s=r?YF(n,e):void 0;return e&&Sb(!1),s}function YF(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Al(new Proxy(n.ctx,SF));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?X3(n):null,s=Eh(n);Yl();const o=_a(i,n,0,[n.props,r]);if(Xl(),s(),If(o)){if(o.then(CS,CS),e)return o.then(a=>{AS(n,a,e)}).catch(a=>{nv(a,n,0)});n.asyncDep=o}else AS(n,o,e)}else Y3(n,e)}function AS(n,e,t){dt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:It(e)&&(n.setupState=b3(e)),Y3(n,t)}let LS;function Y3(n,e,t){const i=n.type;if(!n.render){if(!e&&LS&&!i.render){const r=i.template||Ax(n).template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=qn(qn({isCustomElement:s,delimiters:a},o),l);i.render=LS(r,c)}}n.render=i.render||jt}{const r=Eh(n);Yl();try{MF(n)}finally{Xl(),r()}}}function XF(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return lr(n,"get","$attrs"),e[t]}}))}function X3(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return XF(n)},slots:n.slots,emit:n.emit,expose:e}}function uv(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(b3(Al(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in df)return df[t](n)},has(e,t){return t in e||t in df}}))}function ZF(n,e=!0){return dt(n)?n.displayName||n.name:n.name||e&&n.__name}function JF(n){return dt(n)&&"__vccOpts"in n}const I=(n,e)=>g3(n,e,cv);function ot(n,e,t){const i=arguments.length;return i===2?It(e)&&!Je(e)?un(e)?ye(n,null,[e]):ye(n,e):ye(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&un(t)&&(t=[t]),ye(n,e,t))}const QF="3.4.15",e4=jt;/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const t4="http://www.w3.org/2000/svg",n4="http://www.w3.org/1998/Math/MathML",da=typeof document<"u"?document:null,RS=da&&da.createElement("template"),i4={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?da.createElementNS(t4,n):e==="mathml"?da.createElementNS(n4,n):da.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>da.createTextNode(n),createComment:n=>da.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>da.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,s){const o=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{RS.innerHTML=i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n;const a=RS.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Bo="transition",Pd="animation",Lu=Symbol("_vtc"),Un=(n,{slots:e})=>ot(mF,J3(n),e);Un.displayName="Transition";const Z3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},r4=Un.props=qn({},R3,Z3),Ja=(n,e=[])=>{Je(n)?n.forEach(t=>t(...e)):n&&n(...e)},PS=n=>n?Je(n)?n.some(e=>e.length>1):n.length>1:!1;function J3(n){const e={};for(const O in n)O in Z3||(e[O]=n[O]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,g=s4(r),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:_,onLeaveCancelled:w,onBeforeAppear:S=y,onAppear:T=b,onAppearCancelled:M=x}=e,C=(O,F,R)=>{ia(O,F?u:a),ia(O,F?c:o),R&&R()},L=(O,F)=>{O._isLeaving=!1,ia(O,d),ia(O,h),ia(O,f),F&&F()},E=O=>(F,R)=>{const $=O?T:b,D=()=>C(F,O,R);Ja($,[F,D]),IS(()=>{ia(F,O?l:s),ao(F,O?u:a),PS($)||kS(F,i,m,D)})};return qn(e,{onBeforeEnter(O){Ja(y,[O]),ao(O,s),ao(O,o)},onBeforeAppear(O){Ja(S,[O]),ao(O,l),ao(O,c)},onEnter:E(!1),onAppear:E(!0),onLeave(O,F){O._isLeaving=!0;const R=()=>L(O,F);ao(O,d),eL(),ao(O,f),IS(()=>{O._isLeaving&&(ia(O,d),ao(O,h),PS(_)||kS(O,i,v,R))}),Ja(_,[O,R])},onEnterCancelled(O){C(O,!1),Ja(x,[O])},onAppearCancelled(O){C(O,!0),Ja(M,[O])},onLeaveCancelled(O){L(O),Ja(w,[O])}})}function s4(n){if(n==null)return null;if(It(n))return[u0(n.enter),u0(n.leave)];{const e=u0(n);return[e,e]}}function u0(n){return yO(n)}function ao(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Lu]||(n[Lu]=new Set)).add(e)}function ia(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[Lu];t&&(t.delete(e),t.size||(n[Lu]=void 0))}function IS(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let o4=0;function kS(n,e,t,i){const r=n._endId=++o4,s=()=>{r===n._endId&&i()};if(t)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=Q3(n,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{n.removeEventListener(c,f),s()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,f)}function Q3(n,e){const t=window.getComputedStyle(n),i=g=>(t[g]||"").split(", "),r=i(`${Bo}Delay`),s=i(`${Bo}Duration`),o=DS(r,s),a=i(`${Pd}Delay`),l=i(`${Pd}Duration`),c=DS(a,l);let u=null,d=0,f=0;e===Bo?o>0&&(u=Bo,d=o,f=s.length):e===Pd?c>0&&(u=Pd,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Bo:Pd:null,f=u?u===Bo?s.length:l.length:0);const h=u===Bo&&/\b(transform|all)(,|$)/.test(i(`${Bo}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function DS(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>NS(t)+NS(n[i])))}function NS(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function eL(){return document.body.offsetHeight}function a4(n,e,t){const i=n[Lu];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ix=Symbol("_vod"),Wt={beforeMount(n,{value:e},{transition:t}){n[Ix]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Id(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Id(n,!0),i.enter(n)):i.leave(n,()=>{Id(n,!1)}):Id(n,e))},beforeUnmount(n,{value:e}){Id(n,e)}};function Id(n,e){n.style.display=e?n[Ix]:"none"}const l4=Symbol("");function c4(n,e,t){const i=n.style,r=i.display,s=vt(t);if(t&&!s){if(e&&!vt(e))for(const o in e)t[o]==null&&Mb(i,o,"");for(const o in t)Mb(i,o,t[o])}else if(s){if(e!==t){const o=i[l4];o&&(t+=";"+o),i.cssText=t}}else e&&n.removeAttribute("style");Ix in n&&(i.display=r)}const OS=/\s*!important$/;function Mb(n,e,t){if(Je(t))t.forEach(i=>Mb(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=u4(n,e);OS.test(t)?n.setProperty(Va(i),t.replace(OS,""),"important"):n[i]=t}}const FS=["Webkit","Moz","ms"],d0={};function u4(n,e){const t=d0[e];if(t)return t;let i=Er(e);if(i!=="filter"&&i in n)return d0[e]=i;i=Mh(i);for(let r=0;r<FS.length;r++){const s=FS[r]+i;if(s in n)return d0[e]=s}return e}const BS="http://www.w3.org/1999/xlink";function d4(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(BS,e.slice(6,e.length)):n.setAttributeNS(BS,e,t);else{const s=MO(e);t==null||s&&!YA(t)?n.removeAttribute(e):n.setAttribute(e,s?"":t)}}function f4(n,e,t,i,r,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,r,s),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){n._value=t;const c=a==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=YA(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function fa(n,e,t,i){n.addEventListener(e,t,i)}function h4(n,e,t,i){n.removeEventListener(e,t,i)}const zS=Symbol("_vei");function p4(n,e,t,i,r=null){const s=n[zS]||(n[zS]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=m4(e);if(i){const c=s[e]=y4(i,r);fa(n,a,c,l)}else o&&(h4(n,a,o,l),s[e]=void 0)}}const $S=/(?:Once|Passive|Capture)$/;function m4(n){let e;if($S.test(n)){e={};let i;for(;i=n.match($S);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Va(n.slice(2)),e]}let f0=0;const g4=Promise.resolve(),v4=()=>f0||(g4.then(()=>f0=0),f0=Date.now());function y4(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Fr(b4(i,t.value),e,5,[i])};return t.value=n,t.attached=v4(),t}function b4(n,e){if(Je(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const VS=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,_4=(n,e,t,i,r,s,o,a,l)=>{const c=r==="svg";e==="class"?a4(n,i,c):e==="style"?c4(n,t,i):Jg(e)?fx(e)||p4(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):x4(n,e,i,c))?f4(n,e,i,s,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),d4(n,e,i,c))};function x4(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&VS(e)&&dt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return VS(e)&&vt(t)?!1:e in n}const tL=new WeakMap,nL=new WeakMap,vg=Symbol("_moveCb"),HS=Symbol("_enterCb"),iL={name:"TransitionGroup",props:qn({},r4,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Mt(),i=L3();let r,s;return Ao(()=>{if(!r.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!E4(r[0].el,t.vnode.el,o))return;r.forEach(S4),r.forEach(M4);const a=r.filter(T4);eL(),a.forEach(l=>{const c=l.el,u=c.style;ao(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[vg]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[vg]=null,ia(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=qt(n),a=J3(o);let l=o.tag||rt;r=s,s=e.default?Cx(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&Ff(u,Of(u,a,i,t))}if(r)for(let c=0;c<r.length;c++){const u=r[c];Ff(u,Of(u,a,i,t)),tL.set(u,u.el.getBoundingClientRect())}return ye(l,null,s)}}},w4=n=>delete n.mode;iL.props;const rL=iL;function S4(n){const e=n.el;e[vg]&&e[vg](),e[HS]&&e[HS]()}function M4(n){nL.set(n,n.el.getBoundingClientRect())}function T4(n){const e=tL.get(n),t=nL.get(n),i=e.left-t.left,r=e.top-t.top;if(i||r){const s=n.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",n}}function E4(n,e,t){const i=n.cloneNode(),r=n[Lu];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=Q3(i);return s.removeChild(i),o}const Ru=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Je(e)?t=>Pm(e,t):e};function C4(n){n.target.composing=!0}function US(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const yo=Symbol("_assign"),kx={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n[yo]=Ru(r);const s=i||r.props&&r.props.type==="number";fa(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),s&&(a=fb(a)),n[yo](a)}),t&&fa(n,"change",()=>{n.value=n.value.trim()}),e||(fa(n,"compositionstart",C4),fa(n,"compositionend",US),fa(n,"change",US))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:r}},s){if(n[yo]=Ru(s),n.composing)return;const o=r||n.type==="number"?fb(n.value):n.value,a=e??"";o!==a&&(document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===a)||(n.value=a))}},yg={deep:!0,created(n,e,t){n[yo]=Ru(t),fa(n,"change",()=>{const i=n._modelValue,r=oL(n),s=n.checked,o=n[yo];if(Je(i)){const a=XA(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Qg(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(aL(n,s))})},mounted:WS,beforeUpdate(n,e,t){n[yo]=Ru(t),WS(n,e,t)}};function WS(n,{value:e,oldValue:t},i){n._modelValue=e,Je(e)?n.checked=XA(e,i.props.value)>-1:Qg(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=Cu(e,aL(n,!0)))}const sL={created(n,{value:e},t){n.checked=Cu(e,t.props.value),n[yo]=Ru(t),fa(n,"change",()=>{n[yo](oL(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n[yo]=Ru(i),e!==t&&(n.checked=Cu(e,i.props.value))}};function oL(n){return"_value"in n?n._value:n.value}function aL(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const A4=["ctrl","shift","alt","meta"],L4={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>A4.some(t=>n[`${t}Key`]&&!e.includes(t))},ft=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=L4[e[o]];if(a&&a(r,e))return}return n(r,...s)})},R4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jt=(n,e)=>{const t=n._withKeys||(n._withKeys={}),i=e.join(".");return t[i]||(t[i]=r=>{if(!("key"in r))return;const s=Va(r.key);if(e.some(o=>o===s||R4[o]===s))return n(r)})},P4=qn({patchProp:_4},i4);let GS;function lL(){return GS||(GS=OF(P4))}const Ia=(...n)=>{lL().render(...n)},cL=(...n)=>{const e=lL().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=k4(i);if(!r)return;const s=e._component;!dt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=t(r,!1,I4(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function I4(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function k4(n){return vt(n)?document.querySelector(n):n}const D4='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',N4=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,jS=n=>Array.from(n.querySelectorAll(D4)).filter(e=>O4(e)&&N4(e)),O4=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.disabled)return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Dm=function(n,e,...t){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...t),n.dispatchEvent(r),n},uL=n=>!n.getAttribute("aria-owns"),dL=(n,e,t)=>{const{parentNode:i}=n;if(!i)return null;const r=i.querySelectorAll(t),s=Array.prototype.indexOf.call(r,n);return r[s+e]||null},Nm=n=>{n&&(n.focus(),!uL(n)&&n.click())},En=(n,e,{checkForDefaultPrevented:t=!0}={})=>r=>{const s=n==null?void 0:n(r);if(t===!1||!s)return e==null?void 0:e(r)},KS=n=>e=>e.pointerType==="mouse"?n(e):void 0;var F4=Object.defineProperty,B4=Object.defineProperties,z4=Object.getOwnPropertyDescriptors,qS=Object.getOwnPropertySymbols,$4=Object.prototype.hasOwnProperty,V4=Object.prototype.propertyIsEnumerable,YS=(n,e,t)=>e in n?F4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H4=(n,e)=>{for(var t in e||(e={}))$4.call(e,t)&&YS(n,t,e[t]);if(qS)for(var t of qS(e))V4.call(e,t)&&YS(n,t,e[t]);return n},U4=(n,e)=>B4(n,z4(e));function XS(n,e){var t;const i=rn();return yi(()=>{i.value=n()},U4(H4({},e),{flush:(t=e==null?void 0:e.flush)!=null?t:"sync"})),ad(i)}var ZS;const Vt=typeof window<"u",W4=n=>typeof n<"u",G4=n=>typeof n=="function",j4=n=>typeof n=="string",Pu=()=>{},K4=Vt&&((ZS=window==null?void 0:window.navigator)==null?void 0:ZS.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ka(n){return typeof n=="function"?n():p(n)}function fL(n,e){function t(...i){return new Promise((r,s)=>{Promise.resolve(n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return t}function q4(n,e={}){let t,i,r=Pu;const s=a=>{clearTimeout(a),r(),r=Pu};return a=>{const l=ka(n),c=ka(e.maxWait);return t&&s(t),l<=0||c!==void 0&&c<=0?(i&&(s(i),i=null),Promise.resolve(a())):new Promise((u,d)=>{r=e.rejectOnCancel?d:u,c&&!i&&(i=setTimeout(()=>{t&&s(t),i=null,u(a())},c)),t=setTimeout(()=>{i&&s(i),i=null,u(a())},l)})}}function Y4(n,e=!0,t=!0,i=!1){let r=0,s,o=!0,a=Pu,l;const c=()=>{s&&(clearTimeout(s),s=void 0,a(),a=Pu)};return d=>{const f=ka(n),h=Date.now()-r,g=()=>l=d();return c(),f<=0?(r=Date.now(),g()):(h>f&&(t||!o)?(r=Date.now(),g()):e&&(l=new Promise((m,v)=>{a=i?v:m,s=setTimeout(()=>{r=Date.now(),o=!0,m(g()),c()},Math.max(0,f-h))})),!t&&!s&&(s=setTimeout(()=>o=!0,f)),o=!1,l)}}function X4(n){return n}function Ch(n){return QA()?(e3(n),!0):!1}function Z4(n,e=200,t={}){return fL(q4(e,t),n)}function J4(n,e=200,t={}){const i=X(n.value),r=Z4(()=>{i.value=n.value},e,t);return Ve(n,()=>r()),i}function hL(n,e=200,t=!1,i=!0,r=!1){return fL(Y4(e,t,i,r),n)}function Dx(n,e=!0){Mt()?St(n):e?n():at(n)}function Bl(n,e,t={}){const{immediate:i=!0}=t,r=X(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){r.value=!1,o()}function l(...c){o(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,n(...c)},ka(e))}return i&&(r.value=!0,Vt&&l()),Ch(a),{isPending:ad(r),start:l,stop:a}}function tr(n){var e;const t=ka(n);return(e=t==null?void 0:t.$el)!=null?e:t}const Jl=Vt?window:void 0,Q4=Vt?window.document:void 0;function gn(...n){let e,t,i,r;if(j4(n[0])||Array.isArray(n[0])?([t,i,r]=n,e=Jl):[e,t,i,r]=n,!e)return Pu;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=Ve(()=>[tr(e),ka(r)],([u,d])=>{o(),u&&s.push(...t.flatMap(f=>i.map(h=>a(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Ch(c),c}let JS=!1;function Nx(n,e,t={}){const{window:i=Jl,ignore:r=[],capture:s=!0,detectIframe:o=!1}=t;if(!i)return;K4&&!JS&&(JS=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",Pu)));let a=!0;const l=f=>r.some(h=>{if(typeof h=="string")return Array.from(i.document.querySelectorAll(h)).some(g=>g===f.target||f.composedPath().includes(g));{const g=tr(h);return g&&(f.target===g||f.composedPath().includes(g))}}),u=[gn(i,"click",f=>{const h=tr(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:s}),gn(i,"pointerdown",f=>{const h=tr(n);h&&(a=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),o&&gn(i,"blur",f=>{var h;const g=tr(n);((h=i.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(g!=null&&g.contains(i.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function pL(n,e=!1){const t=X(),i=()=>t.value=!!n();return i(),Dx(i,e),t}function eB(n){return JSON.parse(JSON.stringify(n))}const QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eM="__vueuse_ssr_handlers__";QS[eM]=QS[eM]||{};function tB(n,e,{window:t=Jl,initialValue:i=""}={}){const r=X(i),s=I(()=>{var o;return tr(e)||((o=t==null?void 0:t.document)==null?void 0:o.documentElement)});return Ve([s,()=>ka(n)],([o,a])=>{var l;if(o&&t){const c=(l=t.getComputedStyle(o).getPropertyValue(a))==null?void 0:l.trim();r.value=c||i}},{immediate:!0}),Ve(r,o=>{var a;(a=s.value)!=null&&a.style&&s.value.style.setProperty(ka(n),o)}),r}function nB({document:n=Q4}={}){if(!n)return X("visible");const e=X(n.visibilityState);return gn(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var tM=Object.getOwnPropertySymbols,iB=Object.prototype.hasOwnProperty,rB=Object.prototype.propertyIsEnumerable,sB=(n,e)=>{var t={};for(var i in n)iB.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&tM)for(var i of tM(n))e.indexOf(i)<0&&rB.call(n,i)&&(t[i]=n[i]);return t};function bn(n,e,t={}){const i=t,{window:r=Jl}=i,s=sB(i,["window"]);let o;const a=pL(()=>r&&"ResizeObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},c=Ve(()=>tr(n),d=>{l(),a.value&&r&&d&&(o=new ResizeObserver(e),o.observe(d,s))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Ch(u),{isSupported:a,stop:u}}function nM(n,e={}){const{reset:t=!0,windowResize:i=!0,windowScroll:r=!0,immediate:s=!0}=e,o=X(0),a=X(0),l=X(0),c=X(0),u=X(0),d=X(0),f=X(0),h=X(0);function g(){const m=tr(n);if(!m){t&&(o.value=0,a.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const v=m.getBoundingClientRect();o.value=v.height,a.value=v.bottom,l.value=v.left,c.value=v.right,u.value=v.top,d.value=v.width,f.value=v.x,h.value=v.y}return bn(n,g),Ve(()=>tr(n),m=>!m&&g()),r&&gn("scroll",g,{capture:!0,passive:!0}),i&&gn("resize",g,{passive:!0}),Dx(()=>{s&&g()}),{height:o,bottom:a,left:l,right:c,top:u,width:d,x:f,y:h,update:g}}var iM=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,lB=(n,e)=>{var t={};for(var i in n)oB.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&iM)for(var i of iM(n))e.indexOf(i)<0&&aB.call(n,i)&&(t[i]=n[i]);return t};function mL(n,e,t={}){const i=t,{window:r=Jl}=i,s=lB(i,["window"]);let o;const a=pL(()=>r&&"MutationObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},c=Ve(()=>tr(n),d=>{l(),a.value&&r&&d&&(o=new MutationObserver(e),o.observe(d,s))},{immediate:!0}),u=()=>{l(),c()};return Ch(u),{isSupported:a,stop:u}}var rM;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(rM||(rM={}));var cB=Object.defineProperty,sM=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,oM=(n,e,t)=>e in n?cB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fB=(n,e)=>{for(var t in e||(e={}))uB.call(e,t)&&oM(n,t,e[t]);if(sM)for(var t of sM(e))dB.call(e,t)&&oM(n,t,e[t]);return n};const hB={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};fB({linear:X4},hB);function gL(n,e,t,i={}){var r,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=i,f=Mt(),h=t||(f==null?void 0:f.emit)||((r=f==null?void 0:f.$emit)==null?void 0:r.bind(f))||((o=(s=f==null?void 0:f.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(f==null?void 0:f.proxy));let g=c;e||(e="modelValue"),g=c||g||`update:${e.toString()}`;const m=y=>a?G4(a)?a(y):eB(y):y,v=()=>W4(n[e])?m(n[e]):d;if(l){const y=v(),b=X(y);return Ve(()=>n[e],x=>b.value=m(x)),Ve(b,x=>{(x!==n[e]||u)&&h(g,x)},{deep:u}),b}else return I({get(){return v()},set(y){h(g,y)}})}function pB({window:n=Jl}={}){if(!n)return X(!1);const e=X(n.document.hasFocus());return gn(n,"blur",()=>{e.value=!1}),gn(n,"focus",()=>{e.value=!0}),e}function mB(n={}){const{window:e=Jl,initialWidth:t=1/0,initialHeight:i=1/0,listenOrientation:r=!0,includeScrollbar:s=!0}=n,o=X(t),a=X(i),l=()=>{e&&(s?(o.value=e.innerWidth,a.value=e.innerHeight):(o.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};return l(),Dx(l),gn("resize",l,{passive:!0}),r&&gn("orientationchange",l,{passive:!0}),{width:o,height:a}}const vL=()=>Vt&&/firefox/i.test(window.navigator.userAgent),gB=(n,e)=>{if(!Vt||!n||!e)return!1;const t=n.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<i.bottom&&t.bottom>i.top&&t.right>i.left&&t.left<i.right},aM=n=>{let e=0,t=n;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},vB=(n,e)=>Math.abs(aM(n)-aM(e)),Ox=n=>{let e,t;return n.type==="touchend"?(t=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(t=n.touches[0].clientY,e=n.touches[0].clientX):(t=n.clientY,e=n.clientX),{clientX:e,clientY:t}};var yB=typeof global=="object"&&global&&global.Object===Object&&global;const yL=yB;var bB=typeof self=="object"&&self&&self.Object===Object&&self,_B=yL||bB||Function("return this")();const vs=_B;var xB=vs.Symbol;const $r=xB;var bL=Object.prototype,wB=bL.hasOwnProperty,SB=bL.toString,kd=$r?$r.toStringTag:void 0;function MB(n){var e=wB.call(n,kd),t=n[kd];try{n[kd]=void 0;var i=!0}catch{}var r=SB.call(n);return i&&(e?n[kd]=t:delete n[kd]),r}var TB=Object.prototype,EB=TB.toString;function CB(n){return EB.call(n)}var AB="[object Null]",LB="[object Undefined]",lM=$r?$r.toStringTag:void 0;function Ql(n){return n==null?n===void 0?LB:AB:lM&&lM in Object(n)?MB(n):CB(n)}function Ns(n){return n!=null&&typeof n=="object"}var RB="[object Symbol]";function dv(n){return typeof n=="symbol"||Ns(n)&&Ql(n)==RB}function _L(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var PB=Array.isArray;const Ui=PB;var IB=1/0,cM=$r?$r.prototype:void 0,uM=cM?cM.toString:void 0;function xL(n){if(typeof n=="string")return n;if(Ui(n))return _L(n,xL)+"";if(dv(n))return uM?uM.call(n):"";var e=n+"";return e=="0"&&1/n==-IB?"-0":e}var kB=/\s/;function DB(n){for(var e=n.length;e--&&kB.test(n.charAt(e)););return e}var NB=/^\s+/;function OB(n){return n&&n.slice(0,DB(n)+1).replace(NB,"")}function Wi(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var dM=0/0,FB=/^[-+]0x[0-9a-f]+$/i,BB=/^0b[01]+$/i,zB=/^0o[0-7]+$/i,$B=parseInt;function Tb(n){if(typeof n=="number")return n;if(dv(n))return dM;if(Wi(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Wi(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=OB(n);var t=BB.test(n);return t||zB.test(n)?$B(n.slice(2),t?2:8):FB.test(n)?dM:+n}var fM=1/0,VB=17976931348623157e292;function HB(n){if(!n)return n===0?n:0;if(n=Tb(n),n===fM||n===-fM){var e=n<0?-1:1;return e*VB}return n===n?n:0}function UB(n){var e=HB(n),t=e%1;return e===e?t?e-t:e:0}function Fx(n){return n}var WB="[object AsyncFunction]",GB="[object Function]",jB="[object GeneratorFunction]",KB="[object Proxy]";function Bx(n){if(!Wi(n))return!1;var e=Ql(n);return e==GB||e==jB||e==WB||e==KB}var qB=vs["__core-js_shared__"];const h0=qB;var hM=function(){var n=/[^.]+$/.exec(h0&&h0.keys&&h0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function YB(n){return!!hM&&hM in n}var XB=Function.prototype,ZB=XB.toString;function ec(n){if(n!=null){try{return ZB.call(n)}catch{}try{return n+""}catch{}}return""}var JB=/[\\^$.*+?()[\]{}|]/g,QB=/^\[object .+?Constructor\]$/,ez=Function.prototype,tz=Object.prototype,nz=ez.toString,iz=tz.hasOwnProperty,rz=RegExp("^"+nz.call(iz).replace(JB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sz(n){if(!Wi(n)||YB(n))return!1;var e=Bx(n)?rz:QB;return e.test(ec(n))}function oz(n,e){return n==null?void 0:n[e]}function tc(n,e){var t=oz(n,e);return sz(t)?t:void 0}var az=tc(vs,"WeakMap");const Eb=az;var pM=Object.create,lz=function(){function n(){}return function(e){if(!Wi(e))return{};if(pM)return pM(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const cz=lz;function uz(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function dz(){}function wL(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var fz=800,hz=16,pz=Date.now;function mz(n){var e=0,t=0;return function(){var i=pz(),r=hz-(i-t);if(t=i,r>0){if(++e>=fz)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function gz(n){return function(){return n}}var vz=function(){try{var n=tc(Object,"defineProperty");return n({},"",{}),n}catch{}}();const bg=vz;var yz=bg?function(n,e){return bg(n,"toString",{configurable:!0,enumerable:!1,value:gz(e),writable:!0})}:Fx;const bz=yz;var _z=mz(bz);const SL=_z;function xz(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}function ML(n,e,t,i){for(var r=n.length,s=t+(i?1:-1);i?s--:++s<r;)if(e(n[s],s,n))return s;return-1}function wz(n){return n!==n}function Sz(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function Mz(n,e,t){return e===e?Sz(n,e,t):ML(n,wz,t)}function Tz(n,e){var t=n==null?0:n.length;return!!t&&Mz(n,e,0)>-1}var Ez=9007199254740991,Cz=/^(?:0|[1-9]\d*)$/;function fv(n,e){var t=typeof n;return e=e??Ez,!!e&&(t=="number"||t!="symbol"&&Cz.test(n))&&n>-1&&n%1==0&&n<e}function zx(n,e,t){e=="__proto__"&&bg?bg(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Ah(n,e){return n===e||n!==n&&e!==e}var Az=Object.prototype,Lz=Az.hasOwnProperty;function $x(n,e,t){var i=n[e];(!(Lz.call(n,e)&&Ah(i,t))||t===void 0&&!(e in n))&&zx(n,e,t)}function Lh(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?zx(t,a,l):$x(t,a,l)}return t}var mM=Math.max;function TL(n,e,t){return e=mM(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=mM(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),uz(n,this,a)}}function EL(n,e){return SL(TL(n,e,Fx),n+"")}var Rz=9007199254740991;function Vx(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Rz}function ud(n){return n!=null&&Vx(n.length)&&!Bx(n)}function Pz(n,e,t){if(!Wi(t))return!1;var i=typeof e;return(i=="number"?ud(t)&&fv(e,t.length):i=="string"&&e in t)?Ah(t[e],n):!1}function Iz(n){return EL(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&Pz(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,s)}return e})}var kz=Object.prototype;function Hx(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||kz;return n===t}function Dz(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var Nz="[object Arguments]";function gM(n){return Ns(n)&&Ql(n)==Nz}var CL=Object.prototype,Oz=CL.hasOwnProperty,Fz=CL.propertyIsEnumerable,Bz=gM(function(){return arguments}())?gM:function(n){return Ns(n)&&Oz.call(n,"callee")&&!Fz.call(n,"callee")};const zf=Bz;function zz(){return!1}var AL=typeof wr=="object"&&wr&&!wr.nodeType&&wr,vM=AL&&typeof Sr=="object"&&Sr&&!Sr.nodeType&&Sr,$z=vM&&vM.exports===AL,yM=$z?vs.Buffer:void 0,Vz=yM?yM.isBuffer:void 0,Hz=Vz||zz;const $f=Hz;var Uz="[object Arguments]",Wz="[object Array]",Gz="[object Boolean]",jz="[object Date]",Kz="[object Error]",qz="[object Function]",Yz="[object Map]",Xz="[object Number]",Zz="[object Object]",Jz="[object RegExp]",Qz="[object Set]",e$="[object String]",t$="[object WeakMap]",n$="[object ArrayBuffer]",i$="[object DataView]",r$="[object Float32Array]",s$="[object Float64Array]",o$="[object Int8Array]",a$="[object Int16Array]",l$="[object Int32Array]",c$="[object Uint8Array]",u$="[object Uint8ClampedArray]",d$="[object Uint16Array]",f$="[object Uint32Array]",Pn={};Pn[r$]=Pn[s$]=Pn[o$]=Pn[a$]=Pn[l$]=Pn[c$]=Pn[u$]=Pn[d$]=Pn[f$]=!0;Pn[Uz]=Pn[Wz]=Pn[n$]=Pn[Gz]=Pn[i$]=Pn[jz]=Pn[Kz]=Pn[qz]=Pn[Yz]=Pn[Xz]=Pn[Zz]=Pn[Jz]=Pn[Qz]=Pn[e$]=Pn[t$]=!1;function h$(n){return Ns(n)&&Vx(n.length)&&!!Pn[Ql(n)]}function Ux(n){return function(e){return n(e)}}var LL=typeof wr=="object"&&wr&&!wr.nodeType&&wr,pf=LL&&typeof Sr=="object"&&Sr&&!Sr.nodeType&&Sr,p$=pf&&pf.exports===LL,p0=p$&&yL.process,m$=function(){try{var n=pf&&pf.require&&pf.require("util").types;return n||p0&&p0.binding&&p0.binding("util")}catch{}}();const Iu=m$;var bM=Iu&&Iu.isTypedArray,g$=bM?Ux(bM):h$;const Wx=g$;var v$=Object.prototype,y$=v$.hasOwnProperty;function RL(n,e){var t=Ui(n),i=!t&&zf(n),r=!t&&!i&&$f(n),s=!t&&!i&&!r&&Wx(n),o=t||i||r||s,a=o?Dz(n.length,String):[],l=a.length;for(var c in n)(e||y$.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fv(c,l)))&&a.push(c);return a}function PL(n,e){return function(t){return n(e(t))}}var b$=PL(Object.keys,Object);const _$=b$;var x$=Object.prototype,w$=x$.hasOwnProperty;function S$(n){if(!Hx(n))return _$(n);var e=[];for(var t in Object(n))w$.call(n,t)&&t!="constructor"&&e.push(t);return e}function Rh(n){return ud(n)?RL(n):S$(n)}function M$(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var T$=Object.prototype,E$=T$.hasOwnProperty;function C$(n){if(!Wi(n))return M$(n);var e=Hx(n),t=[];for(var i in n)i=="constructor"&&(e||!E$.call(n,i))||t.push(i);return t}function Ph(n){return ud(n)?RL(n,!0):C$(n)}var A$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L$=/^\w*$/;function Gx(n,e){if(Ui(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||dv(n)?!0:L$.test(n)||!A$.test(n)||e!=null&&n in Object(e)}var R$=tc(Object,"create");const Vf=R$;function P$(){this.__data__=Vf?Vf(null):{},this.size=0}function I$(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var k$="__lodash_hash_undefined__",D$=Object.prototype,N$=D$.hasOwnProperty;function O$(n){var e=this.__data__;if(Vf){var t=e[n];return t===k$?void 0:t}return N$.call(e,n)?e[n]:void 0}var F$=Object.prototype,B$=F$.hasOwnProperty;function z$(n){var e=this.__data__;return Vf?e[n]!==void 0:B$.call(e,n)}var $$="__lodash_hash_undefined__";function V$(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Vf&&e===void 0?$$:e,this}function zl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}zl.prototype.clear=P$;zl.prototype.delete=I$;zl.prototype.get=O$;zl.prototype.has=z$;zl.prototype.set=V$;function H$(){this.__data__=[],this.size=0}function hv(n,e){for(var t=n.length;t--;)if(Ah(n[t][0],e))return t;return-1}var U$=Array.prototype,W$=U$.splice;function G$(n){var e=this.__data__,t=hv(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():W$.call(e,t,1),--this.size,!0}function j$(n){var e=this.__data__,t=hv(e,n);return t<0?void 0:e[t][1]}function K$(n){return hv(this.__data__,n)>-1}function q$(n,e){var t=this.__data__,i=hv(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Lo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Lo.prototype.clear=H$;Lo.prototype.delete=G$;Lo.prototype.get=j$;Lo.prototype.has=K$;Lo.prototype.set=q$;var Y$=tc(vs,"Map");const Hf=Y$;function X$(){this.size=0,this.__data__={hash:new zl,map:new(Hf||Lo),string:new zl}}function Z$(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function pv(n,e){var t=n.__data__;return Z$(e)?t[typeof e=="string"?"string":"hash"]:t.map}function J$(n){var e=pv(this,n).delete(n);return this.size-=e?1:0,e}function Q$(n){return pv(this,n).get(n)}function eV(n){return pv(this,n).has(n)}function tV(n,e){var t=pv(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Ro(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ro.prototype.clear=X$;Ro.prototype.delete=J$;Ro.prototype.get=Q$;Ro.prototype.has=eV;Ro.prototype.set=tV;var nV="Expected a function";function mv(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(nV);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(mv.Cache||Ro),t}mv.Cache=Ro;var iV=500;function rV(n){var e=mv(n,function(i){return t.size===iV&&t.clear(),i}),t=e.cache;return e}var sV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oV=/\\(\\)?/g,aV=rV(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(sV,function(t,i,r,s){e.push(r?s.replace(oV,"$1"):i||t)}),e});const lV=aV;function cV(n){return n==null?"":xL(n)}function gv(n,e){return Ui(n)?n:Gx(n,e)?[n]:lV(cV(n))}var uV=1/0;function Ih(n){if(typeof n=="string"||dv(n))return n;var e=n+"";return e=="0"&&1/n==-uV?"-0":e}function jx(n,e){e=gv(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[Ih(e[t++])];return t&&t==i?n:void 0}function kn(n,e,t){var i=n==null?void 0:jx(n,e);return i===void 0?t:i}function Kx(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var _M=$r?$r.isConcatSpreadable:void 0;function dV(n){return Ui(n)||zf(n)||!!(_M&&n&&n[_M])}function kh(n,e,t,i,r){var s=-1,o=n.length;for(t||(t=dV),r||(r=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?kh(a,e-1,t,i,r):Kx(r,a):i||(r[r.length]=a)}return r}function IL(n){var e=n==null?0:n.length;return e?kh(n,1):[]}function fV(n){return SL(TL(n,void 0,IL),n+"")}var hV=PL(Object.getPrototypeOf,Object);const qx=hV;var pV="[object Object]",mV=Function.prototype,gV=Object.prototype,kL=mV.toString,vV=gV.hasOwnProperty,yV=kL.call(Object);function bV(n){if(!Ns(n)||Ql(n)!=pV)return!1;var e=qx(n);if(e===null)return!0;var t=vV.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&kL.call(t)==yV}function $l(){if(!arguments.length)return[];var n=arguments[0];return Ui(n)?n:[n]}function _V(){this.__data__=new Lo,this.size=0}function xV(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function wV(n){return this.__data__.get(n)}function SV(n){return this.__data__.has(n)}var MV=200;function TV(n,e){var t=this.__data__;if(t instanceof Lo){var i=t.__data__;if(!Hf||i.length<MV-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ro(i)}return t.set(n,e),this.size=t.size,this}function ds(n){var e=this.__data__=new Lo(n);this.size=e.size}ds.prototype.clear=_V;ds.prototype.delete=xV;ds.prototype.get=wV;ds.prototype.has=SV;ds.prototype.set=TV;function EV(n,e){return n&&Lh(e,Rh(e),n)}function CV(n,e){return n&&Lh(e,Ph(e),n)}var DL=typeof wr=="object"&&wr&&!wr.nodeType&&wr,xM=DL&&typeof Sr=="object"&&Sr&&!Sr.nodeType&&Sr,AV=xM&&xM.exports===DL,wM=AV?vs.Buffer:void 0,SM=wM?wM.allocUnsafe:void 0;function NL(n,e){if(e)return n.slice();var t=n.length,i=SM?SM(t):new n.constructor(t);return n.copy(i),i}function LV(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function OL(){return[]}var RV=Object.prototype,PV=RV.propertyIsEnumerable,MM=Object.getOwnPropertySymbols,IV=MM?function(n){return n==null?[]:(n=Object(n),LV(MM(n),function(e){return PV.call(n,e)}))}:OL;const Yx=IV;function kV(n,e){return Lh(n,Yx(n),e)}var DV=Object.getOwnPropertySymbols,NV=DV?function(n){for(var e=[];n;)Kx(e,Yx(n)),n=qx(n);return e}:OL;const FL=NV;function OV(n,e){return Lh(n,FL(n),e)}function BL(n,e,t){var i=e(n);return Ui(n)?i:Kx(i,t(n))}function Cb(n){return BL(n,Rh,Yx)}function FV(n){return BL(n,Ph,FL)}var BV=tc(vs,"DataView");const Ab=BV;var zV=tc(vs,"Promise");const Lb=zV;var $V=tc(vs,"Set");const mu=$V;var TM="[object Map]",VV="[object Object]",EM="[object Promise]",CM="[object Set]",AM="[object WeakMap]",LM="[object DataView]",HV=ec(Ab),UV=ec(Hf),WV=ec(Lb),GV=ec(mu),jV=ec(Eb),ol=Ql;(Ab&&ol(new Ab(new ArrayBuffer(1)))!=LM||Hf&&ol(new Hf)!=TM||Lb&&ol(Lb.resolve())!=EM||mu&&ol(new mu)!=CM||Eb&&ol(new Eb)!=AM)&&(ol=function(n){var e=Ql(n),t=e==VV?n.constructor:void 0,i=t?ec(t):"";if(i)switch(i){case HV:return LM;case UV:return TM;case WV:return EM;case GV:return CM;case jV:return AM}return e});const Uf=ol;var KV=Object.prototype,qV=KV.hasOwnProperty;function YV(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&qV.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var XV=vs.Uint8Array;const _g=XV;function Xx(n){var e=new n.constructor(n.byteLength);return new _g(e).set(new _g(n)),e}function ZV(n,e){var t=e?Xx(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var JV=/\w*$/;function QV(n){var e=new n.constructor(n.source,JV.exec(n));return e.lastIndex=n.lastIndex,e}var RM=$r?$r.prototype:void 0,PM=RM?RM.valueOf:void 0;function e5(n){return PM?Object(PM.call(n)):{}}function zL(n,e){var t=e?Xx(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var t5="[object Boolean]",n5="[object Date]",i5="[object Map]",r5="[object Number]",s5="[object RegExp]",o5="[object Set]",a5="[object String]",l5="[object Symbol]",c5="[object ArrayBuffer]",u5="[object DataView]",d5="[object Float32Array]",f5="[object Float64Array]",h5="[object Int8Array]",p5="[object Int16Array]",m5="[object Int32Array]",g5="[object Uint8Array]",v5="[object Uint8ClampedArray]",y5="[object Uint16Array]",b5="[object Uint32Array]";function _5(n,e,t){var i=n.constructor;switch(e){case c5:return Xx(n);case t5:case n5:return new i(+n);case u5:return ZV(n,t);case d5:case f5:case h5:case p5:case m5:case g5:case v5:case y5:case b5:return zL(n,t);case i5:return new i;case r5:case a5:return new i(n);case s5:return QV(n);case o5:return new i;case l5:return e5(n)}}function $L(n){return typeof n.constructor=="function"&&!Hx(n)?cz(qx(n)):{}}var x5="[object Map]";function w5(n){return Ns(n)&&Uf(n)==x5}var IM=Iu&&Iu.isMap,S5=IM?Ux(IM):w5;const M5=S5;var T5="[object Set]";function E5(n){return Ns(n)&&Uf(n)==T5}var kM=Iu&&Iu.isSet,C5=kM?Ux(kM):E5;const A5=C5;var L5=1,R5=2,P5=4,VL="[object Arguments]",I5="[object Array]",k5="[object Boolean]",D5="[object Date]",N5="[object Error]",HL="[object Function]",O5="[object GeneratorFunction]",F5="[object Map]",B5="[object Number]",UL="[object Object]",z5="[object RegExp]",$5="[object Set]",V5="[object String]",H5="[object Symbol]",U5="[object WeakMap]",W5="[object ArrayBuffer]",G5="[object DataView]",j5="[object Float32Array]",K5="[object Float64Array]",q5="[object Int8Array]",Y5="[object Int16Array]",X5="[object Int32Array]",Z5="[object Uint8Array]",J5="[object Uint8ClampedArray]",Q5="[object Uint16Array]",e6="[object Uint32Array]",Tn={};Tn[VL]=Tn[I5]=Tn[W5]=Tn[G5]=Tn[k5]=Tn[D5]=Tn[j5]=Tn[K5]=Tn[q5]=Tn[Y5]=Tn[X5]=Tn[F5]=Tn[B5]=Tn[UL]=Tn[z5]=Tn[$5]=Tn[V5]=Tn[H5]=Tn[Z5]=Tn[J5]=Tn[Q5]=Tn[e6]=!0;Tn[N5]=Tn[HL]=Tn[U5]=!1;function mf(n,e,t,i,r,s){var o,a=e&L5,l=e&R5,c=e&P5;if(t&&(o=r?t(n,i,r,s):t(n)),o!==void 0)return o;if(!Wi(n))return n;var u=Ui(n);if(u){if(o=YV(n),!a)return wL(n,o)}else{var d=Uf(n),f=d==HL||d==O5;if($f(n))return NL(n,a);if(d==UL||d==VL||f&&!r){if(o=l||f?{}:$L(n),!a)return l?OV(n,CV(o,n)):kV(n,EV(o,n))}else{if(!Tn[d])return r?n:{};o=_5(n,d,a)}}s||(s=new ds);var h=s.get(n);if(h)return h;s.set(n,o),A5(n)?n.forEach(function(v){o.add(mf(v,e,t,v,n,s))}):M5(n)&&n.forEach(function(v,y){o.set(y,mf(v,e,t,y,n,s))});var g=c?l?FV:Cb:l?Ph:Rh,m=u?void 0:g(n);return xz(m||n,function(v,y){m&&(y=v,v=n[y]),$x(o,y,mf(v,e,t,y,n,s))}),o}var t6=4;function DM(n){return mf(n,t6)}var n6=1,i6=4;function xg(n){return mf(n,n6|i6)}var r6="__lodash_hash_undefined__";function s6(n){return this.__data__.set(n,r6),this}function o6(n){return this.__data__.has(n)}function Wf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ro;++e<t;)this.add(n[e])}Wf.prototype.add=Wf.prototype.push=s6;Wf.prototype.has=o6;function a6(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function WL(n,e){return n.has(e)}var l6=1,c6=2;function GL(n,e,t,i,r,s){var o=t&l6,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&c6?new Wf:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var g=n[d],m=e[d];if(i)var v=o?i(m,g,d,e,n,s):i(g,m,d,n,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!a6(e,function(y,b){if(!WL(h,b)&&(g===y||r(g,y,t,i,s)))return h.push(b)})){f=!1;break}}else if(!(g===m||r(g,m,t,i,s))){f=!1;break}}return s.delete(n),s.delete(e),f}function u6(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function Zx(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var d6=1,f6=2,h6="[object Boolean]",p6="[object Date]",m6="[object Error]",g6="[object Map]",v6="[object Number]",y6="[object RegExp]",b6="[object Set]",_6="[object String]",x6="[object Symbol]",w6="[object ArrayBuffer]",S6="[object DataView]",NM=$r?$r.prototype:void 0,m0=NM?NM.valueOf:void 0;function M6(n,e,t,i,r,s,o){switch(t){case S6:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case w6:return!(n.byteLength!=e.byteLength||!s(new _g(n),new _g(e)));case h6:case p6:case v6:return Ah(+n,+e);case m6:return n.name==e.name&&n.message==e.message;case y6:case _6:return n==e+"";case g6:var a=u6;case b6:var l=i&d6;if(a||(a=Zx),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=f6,o.set(n,e);var u=GL(a(n),a(e),i,r,s,o);return o.delete(n),u;case x6:if(m0)return m0.call(n)==m0.call(e)}return!1}var T6=1,E6=Object.prototype,C6=E6.hasOwnProperty;function A6(n,e,t,i,r,s){var o=t&T6,a=Cb(n),l=a.length,c=Cb(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:C6.call(e,f)))return!1}var h=s.get(n),g=s.get(e);if(h&&g)return h==e&&g==n;var m=!0;s.set(n,e),s.set(e,n);for(var v=o;++d<l;){f=a[d];var y=n[f],b=e[f];if(i)var x=o?i(b,y,f,e,n,s):i(y,b,f,n,e,s);if(!(x===void 0?y===b||r(y,b,t,i,s):x)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var _=n.constructor,w=e.constructor;_!=w&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return s.delete(n),s.delete(e),m}var L6=1,OM="[object Arguments]",FM="[object Array]",op="[object Object]",R6=Object.prototype,BM=R6.hasOwnProperty;function P6(n,e,t,i,r,s){var o=Ui(n),a=Ui(e),l=o?FM:Uf(n),c=a?FM:Uf(e);l=l==OM?op:l,c=c==OM?op:c;var u=l==op,d=c==op,f=l==c;if(f&&$f(n)){if(!$f(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new ds),o||Wx(n)?GL(n,e,t,i,r,s):M6(n,e,l,t,i,r,s);if(!(t&L6)){var h=u&&BM.call(n,"__wrapped__"),g=d&&BM.call(e,"__wrapped__");if(h||g){var m=h?n.value():n,v=g?e.value():e;return s||(s=new ds),r(m,v,t,i,s)}}return f?(s||(s=new ds),A6(n,e,t,i,r,s)):!1}function vv(n,e,t,i,r){return n===e?!0:n==null||e==null||!Ns(n)&&!Ns(e)?n!==n&&e!==e:P6(n,e,t,i,vv,r)}var I6=1,k6=2;function D6(n,e,t,i){var r=t.length,s=r,o=!i;if(n==null)return!s;for(n=Object(n);r--;){var a=t[r];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++r<s;){a=t[r];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var d=new ds;if(i)var f=i(c,u,l,n,e,d);if(!(f===void 0?vv(u,c,I6|k6,i,d):f))return!1}}return!0}function jL(n){return n===n&&!Wi(n)}function N6(n){for(var e=Rh(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,jL(r)]}return e}function KL(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function O6(n){var e=N6(n);return e.length==1&&e[0][2]?KL(e[0][0],e[0][1]):function(t){return t===n||D6(t,n,e)}}function F6(n,e){return n!=null&&e in Object(n)}function B6(n,e,t){e=gv(e,n);for(var i=-1,r=e.length,s=!1;++i<r;){var o=Ih(e[i]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++i!=r?s:(r=n==null?0:n.length,!!r&&Vx(r)&&fv(o,r)&&(Ui(n)||zf(n)))}function qL(n,e){return n!=null&&B6(n,e,F6)}var z6=1,$6=2;function V6(n,e){return Gx(n)&&jL(e)?KL(Ih(n),e):function(t){var i=kn(t,n);return i===void 0&&i===e?qL(t,n):vv(e,i,z6|$6)}}function H6(n){return function(e){return e==null?void 0:e[n]}}function U6(n){return function(e){return jx(e,n)}}function W6(n){return Gx(n)?H6(Ih(n)):U6(n)}function YL(n){return typeof n=="function"?n:n==null?Fx:typeof n=="object"?Ui(n)?V6(n[0],n[1]):O6(n):W6(n)}function G6(n){return function(e,t,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++r];if(t(s[l],l,s)===!1)break}return e}}var j6=G6();const XL=j6;function K6(n,e){return n&&XL(n,e,Rh)}function q6(n,e){return function(t,i){if(t==null)return t;if(!ud(t))return n(t,i);for(var r=t.length,s=e?r:-1,o=Object(t);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return t}}var Y6=q6(K6);const X6=Y6;var Z6=function(){return vs.Date.now()};const g0=Z6;var J6="Expected a function",Q6=Math.max,eH=Math.min;function cr(n,e,t){var i,r,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(J6);e=Tb(e)||0,Wi(t)&&(u=!!t.leading,d="maxWait"in t,s=d?Q6(Tb(t.maxWait)||0,e):s,f="trailing"in t?!!t.trailing:f);function h(S){var T=i,M=r;return i=r=void 0,c=S,o=n.apply(M,T),o}function g(S){return c=S,a=setTimeout(y,e),u?h(S):o}function m(S){var T=S-l,M=S-c,C=e-T;return d?eH(C,s-M):C}function v(S){var T=S-l,M=S-c;return l===void 0||T>=e||T<0||d&&M>=s}function y(){var S=g0();if(v(S))return b(S);a=setTimeout(y,m(S))}function b(S){return a=void 0,f&&i?h(S):(i=r=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function _(){return a===void 0?o:b(g0())}function w(){var S=g0(),T=v(S);if(i=arguments,r=this,l=S,T){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),o}return w.cancel=x,w.flush=_,w}function Rb(n,e,t){(t!==void 0&&!Ah(n[e],t)||t===void 0&&!(e in n))&&zx(n,e,t)}function ZL(n){return Ns(n)&&ud(n)}function Pb(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function tH(n){return Lh(n,Ph(n))}function nH(n,e,t,i,r,s,o){var a=Pb(n,t),l=Pb(e,t),c=o.get(l);if(c){Rb(n,t,c);return}var u=s?s(a,l,t+"",n,e,o):void 0,d=u===void 0;if(d){var f=Ui(l),h=!f&&$f(l),g=!f&&!h&&Wx(l);u=l,f||h||g?Ui(a)?u=a:ZL(a)?u=wL(a):h?(d=!1,u=NL(l,!0)):g?(d=!1,u=zL(l,!0)):u=[]:bV(l)||zf(l)?(u=a,zf(a)?u=tH(a):(!Wi(a)||Bx(a))&&(u=$L(l))):d=!1}d&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),Rb(n,t,u)}function JL(n,e,t,i,r){n!==e&&XL(e,function(s,o){if(r||(r=new ds),Wi(s))nH(n,e,o,t,JL,i,r);else{var a=i?i(Pb(n,o),s,o+"",n,e,r):void 0;a===void 0&&(a=s),Rb(n,o,a)}},Ph)}function iH(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}var rH=Math.max,sH=Math.min;function QL(n,e,t){var i=n==null?0:n.length;if(!i)return-1;var r=i-1;return t!==void 0&&(r=UB(t),r=t<0?rH(i+r,0):sH(r,i-1)),ML(n,YL(e),r,!0)}function oH(n,e){var t=-1,i=ud(n)?Array(n.length):[];return X6(n,function(r,s,o){i[++t]=e(r,s,o)}),i}function aH(n,e){var t=Ui(n)?_L:oH;return t(n,YL(e))}function lH(n,e){return kh(aH(n,e),1)}var cH=1/0;function uH(n){var e=n==null?0:n.length;return e?kh(n,cH):[]}function wg(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var r=n[e];i[r[0]]=r[1]}return i}function bi(n,e){return vv(n,e)}function Kn(n){return n==null}function eR(n){return n===void 0}var dH=Iz(function(n,e,t){JL(n,e,t)});const fH=dH;function tR(n,e,t,i){if(!Wi(n))return n;e=gv(e,n);for(var r=-1,s=e.length,o=s-1,a=n;a!=null&&++r<s;){var l=Ih(e[r]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Wi(u)?u:fv(e[r+1])?[]:{})}$x(a,l,c),a=a[l]}return n}function hH(n,e,t){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=jx(n,o);t(a,o)&&tR(s,gv(o,n),a)}return s}function pH(n,e){return hH(n,e,function(t,i){return qL(n,i)})}var mH=fV(function(n,e){return n==null?{}:pH(n,e)});const po=mH;function gH(n,e,t){return n==null?n:tR(n,e,t)}var vH="Expected a function";function Ll(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(vH);return Wi(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),cr(n,e,{leading:i,maxWait:e,trailing:r})}var yH=1/0,bH=mu&&1/Zx(new mu([,-0]))[1]==yH?function(n){return new mu(n)}:dz;const _H=bH;var xH=200;function wH(n,e,t){var i=-1,r=Tz,s=n.length,o=!0,a=[],l=a;if(t)o=!1,r=iH;else if(s>=xH){var c=e?null:_H(n);if(c)return Zx(c);o=!1,r=WL,l=new Wf}else l=e?[]:a;e:for(;++i<s;){var u=n[i],d=e?e(u):u;if(u=t||u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else r(l,d,t)||(l!==a&&l.push(d),a.push(u))}return a}var SH=EL(function(n){return wH(kh(n,1,ZL,!0))});const v0=SH,Hn=n=>n===void 0,zn=n=>typeof n=="boolean",ut=n=>typeof n=="number",kr=n=>!n&&n!==0||Je(n)&&n.length===0||It(n)&&!Object.keys(n).length,Vr=n=>typeof Element>"u"?!1:n instanceof Element,MH=n=>Kn(n),TH=n=>vt(n)?!Number.isNaN(Number(n)):!1,Jx=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Cs=n=>Mh(n),ku=n=>Object.keys(n),EH=n=>Object.entries(n),Om=(n,e,t)=>({get value(){return kn(n,e,t)},set value(i){gH(n,e,i)}});class CH extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Wn(n,e){throw new CH(`[${n}] ${e}`)}const nR=(n="")=>n.split(" ").filter(e=>!!e.trim()),fs=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},As=(n,e)=>{!n||!e.trim()||n.classList.add(...nR(e))},rr=(n,e)=>{!n||!e.trim()||n.classList.remove(...nR(e))},ha=(n,e)=>{var t;if(!Vt||!n||!e)return"";let i=Er(e);i==="float"&&(i="cssFloat");try{const r=n.style[i];if(r)return r;const s=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return s?s[i]:""}catch{return n.style[i]}};function Nn(n,e="px"){if(!n)return"";if(ut(n)||TH(n))return`${n}${e}`;if(vt(n))return n}const AH=(n,e)=>{if(!Vt)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=ha(n,t);return["scroll","auto","overlay"].some(r=>i.includes(r))},Qx=(n,e)=>{if(!Vt)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(AH(t,e))return t;t=t.parentNode}return t};let ap;const iR=n=>{var e;if(!Vt)return 0;if(ap!==void 0)return ap;const t=document.createElement("div");t.className=`${n}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const i=t.offsetWidth;t.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",t.appendChild(r);const s=r.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),ap=i-s,ap};function rR(n,e){if(!Vt)return;if(!e){n.scrollTop=0;return}const t=[];let i=e.offsetParent;for(;i!==null&&n!==i&&n.contains(i);)t.push(i),i=i.offsetParent;const r=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),s=r+e.offsetHeight,o=n.scrollTop,a=o+n.clientHeight;r<o?n.scrollTop=r:s>a&&(n.scrollTop=s-n.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var LH=pe({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Po=LH,RH=pe({name:"ArrowLeft",__name:"arrow-left",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Da=RH,PH=pe({name:"ArrowRight",__name:"arrow-right",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),$i=PH,IH=pe({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),ew=IH,kH=pe({name:"Back",__name:"back",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),de("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),DH=kH,NH=pe({name:"Calendar",__name:"calendar",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),OH=NH,FH=pe({name:"CaretRight",__name:"caret-right",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),sR=FH,BH=pe({name:"CaretTop",__name:"caret-top",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),zH=BH,$H=pe({name:"Check",__name:"check",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Dh=$H,VH=pe({name:"CircleCheckFilled",__name:"circle-check-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),HH=VH,UH=pe({name:"CircleCheck",__name:"circle-check",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),de("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),tw=UH,WH=pe({name:"CircleCloseFilled",__name:"circle-close-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),nw=WH,GH=pe({name:"CircleClose",__name:"circle-close",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),de("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Ua=GH,jH=pe({name:"Clock",__name:"clock",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),de("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),de("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),oR=jH,KH=pe({name:"Close",__name:"close",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),gs=KH,qH=pe({name:"DArrowLeft",__name:"d-arrow-left",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Du=qH,YH=pe({name:"DArrowRight",__name:"d-arrow-right",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Nu=YH,XH=pe({name:"Delete",__name:"delete",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),ZH=XH,JH=pe({name:"Document",__name:"document",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),QH=JH,eU=pe({name:"FullScreen",__name:"full-screen",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),tU=eU,nU=pe({name:"Hide",__name:"hide",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),de("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),iU=nU,rU=pe({name:"InfoFilled",__name:"info-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),iw=rU,sU=pe({name:"Loading",__name:"loading",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Wa=sU,oU=pe({name:"Minus",__name:"minus",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),aU=oU,lU=pe({name:"MoreFilled",__name:"more-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),zM=lU,cU=pe({name:"More",__name:"more",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),uU=cU,dU=pe({name:"PictureFilled",__name:"picture-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),fU=dU,hU=pe({name:"Plus",__name:"plus",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),aR=hU,pU=pe({name:"QuestionFilled",__name:"question-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),mU=pU,gU=pe({name:"RefreshLeft",__name:"refresh-left",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),vU=gU,yU=pe({name:"RefreshRight",__name:"refresh-right",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),bU=yU,_U=pe({name:"ScaleToOriginal",__name:"scale-to-original",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),xU=_U,wU=pe({name:"Search",__name:"search",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),SU=wU,MU=pe({name:"SortDown",__name:"sort-down",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),TU=MU,EU=pe({name:"SortUp",__name:"sort-up",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),CU=EU,AU=pe({name:"StarFilled",__name:"star-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),lp=AU,LU=pe({name:"Star",__name:"star",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),RU=LU,PU=pe({name:"SuccessFilled",__name:"success-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),lR=PU,IU=pe({name:"View",__name:"view",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),kU=IU,DU=pe({name:"WarningFilled",__name:"warning-filled",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),yv=DU,NU=pe({name:"ZoomIn",__name:"zoom-in",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),cR=NU,OU=pe({name:"ZoomOut",__name:"zoom-out",setup(n){return(e,t)=>(B(),se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[de("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),FU=OU;const uR="__epPropKey",Le=n=>n,BU=n=>It(n)&&!!n[uR],ys=(n,e)=>{if(!It(n)||BU(n))return n;const{values:t,required:i,default:r,type:s,validator:o}=n,l={type:s,required:!!i,validator:t||o?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),zt(n,"default")&&d.push(r),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");e4(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[uR]:!0};return zt(n,"default")&&(l.default=r),l},Ge=n=>wg(Object.entries(n).map(([e,t])=>[e,ys(t,e)])),Qt=Le([String,Object,Function]),rw={Close:gs},sw={Close:gs,SuccessFilled:lR,InfoFilled:iw,WarningFilled:yv,CircleCloseFilled:nw},Na={success:lR,warning:yv,error:nw,info:iw},ow={validating:Wa,success:tw,error:Ua},At=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e??{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},dR=(n,e)=>(n.install=t=>{n._context=t._context,t.config.globalProperties[e]=n},n),zU=(n,e)=>(n.install=t=>{t.directive(e,n)},n),xn=n=>(n.install=jt,n),bv=(...n)=>e=>{n.forEach(t=>{dt(t)?t(e):t.value=e})},it={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},$U=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],y0=["sun","mon","tue","wed","thu","fri","sat"],Lt="update:modelValue",dn="change",Vi="input",$M=Symbol("INSTALLED_KEY"),Vs=["","default","small","large"],fR=n=>["",...Vs].includes(n);var Ir=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(Ir||{});function Ib(n){return un(n)&&n.type===rt}function VU(n){return un(n)&&n.type===zi}function HU(n){return un(n)&&!Ib(n)&&!VU(n)}const UU=n=>{if(!un(n))return{};const e=n.props||{},t=(un(n.type)?n.type.props:void 0)||{},i={};return Object.keys(t).forEach(r=>{zt(t[r],"default")&&(i[r]=t[r].default)}),Object.keys(e).forEach(r=>{i[Er(r)]=e[r]}),i},WU=n=>{if(!Je(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},xa=n=>{const e=Je(n)?n:[n],t=[];return e.forEach(i=>{var r;Je(i)?t.push(...xa(i)):un(i)&&Je(i.children)?t.push(...xa(i.children)):(t.push(i),un(i)&&((r=i.component)!=null&&r.subTree)&&t.push(...xa(i.component.subTree)))}),t},VM=n=>[...new Set(n)],bo=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],aw=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),Ou=n=>Vt?window.requestAnimationFrame(n):setTimeout(n,16),_v=n=>Vt?window.cancelAnimationFrame(n):clearTimeout(n),yn=n=>n,GU=["class","style"],jU=/^on[A-Z]/,lw=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,i=I(()=>((t==null?void 0:t.value)||[]).concat(GU)),r=Mt();return I(r?()=>{var s;return wg(Object.entries((s=r.proxy)==null?void 0:s.$attrs).filter(([o])=>!i.value.includes(o)&&!(e&&jU.test(o))))}:()=>({}))},Os=({from:n,replacement:e,scope:t,version:i,ref:r,type:s="API"},o)=>{Ve(()=>p(o),a=>{},{immediate:!0})},hR=(n,e,t)=>{let i={offsetX:0,offsetY:0};const r=a=>{const l=a.clientX,c=a.clientY,{offsetX:u,offsetY:d}=i,f=n.value.getBoundingClientRect(),h=f.left,g=f.top,m=f.width,v=f.height,y=document.documentElement.clientWidth,b=document.documentElement.clientHeight,x=-h+u,_=-g+d,w=y-h-m+u,S=b-g-v+d,T=C=>{const L=Math.min(Math.max(u+C.clientX-l,x),w),E=Math.min(Math.max(d+C.clientY-c,_),S);i={offsetX:L,offsetY:E},n.value&&(n.value.style.transform=`translate(${Nn(L)}, ${Nn(E)})`)},M=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",M)},s=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",r)},o=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",r)};St(()=>{yi(()=>{t.value?s():o()})}),sn(()=>{o()})};var KU={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const qU=n=>(e,t)=>YU(e,t,p(n)),YU=(n,e,t)=>kn(t,n,n).replace(/\{(\w+)\}/g,(i,r)=>{var s;return`${(s=e==null?void 0:e[r])!=null?s:`{${r}}`}`}),XU=n=>{const e=I(()=>p(n).name),t=an(n)?n:X(n);return{lang:e,locale:t,t:qU(n)}},pR=Symbol("localeContextKey"),Ut=n=>{const e=n||Qe(pR,X());return XU(I(()=>e.value||KU))},gf="el",ZU="is-",Qa=(n,e,t,i,r)=>{let s=`${n}-${e}`;return t&&(s+=`-${t}`),i&&(s+=`__${i}`),r&&(s+=`--${r}`),s},mR=Symbol("namespaceContextKey"),cw=n=>{const e=n||(Mt()?Qe(mR,X(gf)):X(gf));return I(()=>p(e)||gf)},He=(n,e)=>{const t=cw(e);return{namespace:t,b:(m="")=>Qa(t.value,n,m,"",""),e:m=>m?Qa(t.value,n,"",m,""):"",m:m=>m?Qa(t.value,n,"","",m):"",be:(m,v)=>m&&v?Qa(t.value,n,m,v,""):"",em:(m,v)=>m&&v?Qa(t.value,n,"",m,v):"",bm:(m,v)=>m&&v?Qa(t.value,n,m,"",v):"",bem:(m,v,y)=>m&&v&&y?Qa(t.value,n,m,v,y):"",is:(m,...v)=>{const y=v.length>=1?v[0]:!0;return m&&y?`${ZU}${m}`:""},cssVar:m=>{const v={};for(const y in m)m[y]&&(v[`--${t.value}-${y}`]=m[y]);return v},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const v={};for(const y in m)m[y]&&(v[`--${t.value}-${n}-${y}`]=m[y]);return v},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}},uw=(n,e={})=>{an(n)||Wn("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||He("popup"),i=g3(()=>t.bm("parent","hidden"));if(!Vt||fs(document.body,i.value))return;let r=0,s=!1,o="0";const a=()=>{setTimeout(()=>{rr(document==null?void 0:document.body,i.value),s&&document&&(document.body.style.width=o)},200)};Ve(n,l=>{if(!l){a();return}s=!fs(document.body,i.value),s&&(o=document.body.style.width),r=iR(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=ha(document.body,"overflowY");r>0&&(c||u==="scroll")&&s&&(document.body.style.width=`calc(100% - ${r}px)`),As(document.body,i.value)}),e3(()=>a())},JU=ys({type:Le(Boolean),default:null}),QU=ys({type:Le(Function)}),gR=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,i=[e],r={[n]:JU,[t]:QU};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Mt(),{emit:h}=f,g=f.props,m=I(()=>dt(g[t])),v=I(()=>g[n]===null),y=T=>{o.value!==!0&&(o.value=!0,a&&(a.value=T),dt(u)&&u(T))},b=T=>{o.value!==!1&&(o.value=!1,a&&(a.value=T),dt(d)&&d(T))},x=T=>{if(g.disabled===!0||dt(c)&&!c())return;const M=m.value&&Vt;M&&h(e,!0),(v.value||!M)&&y(T)},_=T=>{if(g.disabled===!0||!Vt)return;const M=m.value&&Vt;M&&h(e,!1),(v.value||!M)&&b(T)},w=T=>{zn(T)&&(g.disabled&&T?m.value&&h(e,!1):o.value!==T&&(T?y():b()))},S=()=>{o.value?_():x()};return Ve(()=>g[n],w),l&&f.appContext.config.globalProperties.$route!==void 0&&Ve(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&_()}),St(()=>{w(g[n])}),{hide:_,show:x,toggle:S,hasUpdateHandler:m}},useModelToggleProps:r,useModelToggleEmits:i}};gR("modelValue");const vR=n=>{const e=Mt();return I(()=>{var t,i;return(i=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:i[n]})};var sr="top",Hr="bottom",Ur="right",or="left",dw="auto",Nh=[sr,Hr,Ur,or],Fu="start",Gf="end",e8="clippingParents",yR="viewport",Dd="popper",t8="reference",HM=Nh.reduce(function(n,e){return n.concat([e+"-"+Fu,e+"-"+Gf])},[]),nc=[].concat(Nh,[dw]).reduce(function(n,e){return n.concat([e,e+"-"+Fu,e+"-"+Gf])},[]),n8="beforeRead",i8="read",r8="afterRead",s8="beforeMain",o8="main",a8="afterMain",l8="beforeWrite",c8="write",u8="afterWrite",d8=[n8,i8,r8,s8,o8,a8,l8,c8,u8];function Fs(n){return n?(n.nodeName||"").toLowerCase():null}function bs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Bu(n){var e=bs(n).Element;return n instanceof e||n instanceof Element}function Br(n){var e=bs(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function fw(n){if(typeof ShadowRoot>"u")return!1;var e=bs(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function f8(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Br(s)||!Fs(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function h8(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Br(r)||!Fs(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var bR={name:"applyStyles",enabled:!0,phase:"write",fn:f8,effect:h8,requires:["computeStyles"]};function Ps(n){return n.split("-")[0]}var Rl=Math.max,Sg=Math.min,zu=Math.round;function $u(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),i=1,r=1;if(Br(n)&&e){var s=n.offsetHeight,o=n.offsetWidth;o>0&&(i=zu(t.width)/o||1),s>0&&(r=zu(t.height)/s||1)}return{width:t.width/i,height:t.height/r,top:t.top/r,right:t.right/i,bottom:t.bottom/r,left:t.left/i,x:t.left/i,y:t.top/r}}function hw(n){var e=$u(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function _R(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&fw(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function So(n){return bs(n).getComputedStyle(n)}function p8(n){return["table","td","th"].indexOf(Fs(n))>=0}function Ga(n){return((Bu(n)?n.ownerDocument:n.document)||window.document).documentElement}function xv(n){return Fs(n)==="html"?n:n.assignedSlot||n.parentNode||(fw(n)?n.host:null)||Ga(n)}function UM(n){return!Br(n)||So(n).position==="fixed"?null:n.offsetParent}function m8(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Br(n)){var i=So(n);if(i.position==="fixed")return null}var r=xv(n);for(fw(r)&&(r=r.host);Br(r)&&["html","body"].indexOf(Fs(r))<0;){var s=So(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Oh(n){for(var e=bs(n),t=UM(n);t&&p8(t)&&So(t).position==="static";)t=UM(t);return t&&(Fs(t)==="html"||Fs(t)==="body"&&So(t).position==="static")?e:t||m8(n)||e}function pw(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function vf(n,e,t){return Rl(n,Sg(e,t))}function g8(n,e,t){var i=vf(n,e,t);return i>t?t:i}function xR(){return{top:0,right:0,bottom:0,left:0}}function wR(n){return Object.assign({},xR(),n)}function SR(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var v8=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,wR(typeof n!="number"?n:SR(n,Nh))};function y8(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Ps(t.placement),l=pw(a),c=[or,Ur].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=v8(r.padding,t),f=hw(s),h=l==="y"?sr:or,g=l==="y"?Hr:Ur,m=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],v=o[l]-t.rects.reference[l],y=Oh(s),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,x=m/2-v/2,_=d[h],w=b-f[u]-d[g],S=b/2-f[u]/2+x,T=vf(_,S,w),M=l;t.modifiersData[i]=(e={},e[M]=T,e.centerOffset=T-S,e)}}function b8(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!_R(e.elements.popper,r)||(e.elements.arrow=r))}var _8={name:"arrow",enabled:!0,phase:"main",fn:y8,effect:b8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vu(n){return n.split("-")[1]}var x8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function w8(n){var e=n.x,t=n.y,i=window,r=i.devicePixelRatio||1;return{x:zu(e*r)/r||0,y:zu(t*r)/r||0}}function WM(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=o.x,h=f===void 0?0:f,g=o.y,m=g===void 0?0:g,v=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var y=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),x=or,_=sr,w=window;if(c){var S=Oh(t),T="clientHeight",M="clientWidth";if(S===bs(t)&&(S=Ga(t),So(S).position!=="static"&&a==="absolute"&&(T="scrollHeight",M="scrollWidth")),S=S,r===sr||(r===or||r===Ur)&&s===Gf){_=Hr;var C=d&&S===w&&w.visualViewport?w.visualViewport.height:S[T];m-=C-i.height,m*=l?1:-1}if(r===or||(r===sr||r===Hr)&&s===Gf){x=Ur;var L=d&&S===w&&w.visualViewport?w.visualViewport.width:S[M];h-=L-i.width,h*=l?1:-1}}var E=Object.assign({position:a},c&&x8),O=u===!0?w8({x:h,y:m}):{x:h,y:m};if(h=O.x,m=O.y,l){var F;return Object.assign({},E,(F={},F[_]=b?"0":"",F[x]=y?"0":"",F.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",F))}return Object.assign({},E,(e={},e[_]=b?m+"px":"",e[x]=y?h+"px":"",e.transform="",e))}function S8(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Ps(e.placement),variation:Vu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,WM(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,WM(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var MR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:S8,data:{}},cp={passive:!0};function M8(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=bs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",t.update,cp)}),a&&l.addEventListener("resize",t.update,cp),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",t.update,cp)}),a&&l.removeEventListener("resize",t.update,cp)}}var TR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M8,data:{}},T8={left:"right",right:"left",bottom:"top",top:"bottom"};function Fm(n){return n.replace(/left|right|bottom|top/g,function(e){return T8[e]})}var E8={start:"end",end:"start"};function GM(n){return n.replace(/start|end/g,function(e){return E8[e]})}function mw(n){var e=bs(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function gw(n){return $u(Ga(n)).left+mw(n).scrollLeft}function C8(n){var e=bs(n),t=Ga(n),i=e.visualViewport,r=t.clientWidth,s=t.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+gw(n),y:a}}function A8(n){var e,t=Ga(n),i=mw(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Rl(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Rl(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+gw(n),l=-i.scrollTop;return So(r||t).direction==="rtl"&&(a+=Rl(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function vw(n){var e=So(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function ER(n){return["html","body","#document"].indexOf(Fs(n))>=0?n.ownerDocument.body:Br(n)&&vw(n)?n:ER(xv(n))}function yf(n,e){var t;e===void 0&&(e=[]);var i=ER(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=bs(i),o=r?[s].concat(s.visualViewport||[],vw(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(yf(xv(o)))}function kb(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function L8(n){var e=$u(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function jM(n,e){return e===yR?kb(C8(n)):Bu(e)?L8(e):kb(A8(Ga(n)))}function R8(n){var e=yf(xv(n)),t=["absolute","fixed"].indexOf(So(n).position)>=0,i=t&&Br(n)?Oh(n):n;return Bu(i)?e.filter(function(r){return Bu(r)&&_R(r,i)&&Fs(r)!=="body"}):[]}function P8(n,e,t){var i=e==="clippingParents"?R8(n):[].concat(e),r=[].concat(i,[t]),s=r[0],o=r.reduce(function(a,l){var c=jM(n,l);return a.top=Rl(c.top,a.top),a.right=Sg(c.right,a.right),a.bottom=Sg(c.bottom,a.bottom),a.left=Rl(c.left,a.left),a},jM(n,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function CR(n){var e=n.reference,t=n.element,i=n.placement,r=i?Ps(i):null,s=i?Vu(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case sr:l={x:o,y:e.y-t.height};break;case Hr:l={x:o,y:e.y+e.height};break;case Ur:l={x:e.x+e.width,y:a};break;case or:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?pw(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Fu:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Gf:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function jf(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.boundary,o=s===void 0?e8:s,a=t.rootBoundary,l=a===void 0?yR:a,c=t.elementContext,u=c===void 0?Dd:c,d=t.altBoundary,f=d===void 0?!1:d,h=t.padding,g=h===void 0?0:h,m=wR(typeof g!="number"?g:SR(g,Nh)),v=u===Dd?t8:Dd,y=n.rects.popper,b=n.elements[f?v:u],x=P8(Bu(b)?b:b.contextElement||Ga(n.elements.popper),o,l),_=$u(n.elements.reference),w=CR({reference:_,element:y,strategy:"absolute",placement:r}),S=kb(Object.assign({},y,w)),T=u===Dd?S:_,M={top:x.top-T.top+m.top,bottom:T.bottom-x.bottom+m.bottom,left:x.left-T.left+m.left,right:T.right-x.right+m.right},C=n.modifiersData.offset;if(u===Dd&&C){var L=C[r];Object.keys(M).forEach(function(E){var O=[Ur,Hr].indexOf(E)>=0?1:-1,F=[sr,Hr].indexOf(E)>=0?"y":"x";M[E]+=L[F]*O})}return M}function I8(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?nc:l,u=Vu(i),d=u?a?HM:HM.filter(function(g){return Vu(g)===u}):Nh,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var h=f.reduce(function(g,m){return g[m]=jf(n,{placement:m,boundary:r,rootBoundary:s,padding:o})[Ps(m)],g},{});return Object.keys(h).sort(function(g,m){return h[g]-h[m]})}function k8(n){if(Ps(n)===dw)return[];var e=Fm(n);return[GM(n),e,GM(e)]}function D8(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,g=h===void 0?!0:h,m=t.allowedAutoPlacements,v=e.options.placement,y=Ps(v),b=y===v,x=l||(b||!g?[Fm(v)]:k8(v)),_=[v].concat(x).reduce(function(W,ie){return W.concat(Ps(ie)===dw?I8(e,{placement:ie,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):ie)},[]),w=e.rects.reference,S=e.rects.popper,T=new Map,M=!0,C=_[0],L=0;L<_.length;L++){var E=_[L],O=Ps(E),F=Vu(E)===Fu,R=[sr,Hr].indexOf(O)>=0,$=R?"width":"height",D=jf(e,{placement:E,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),A=R?F?Ur:or:F?Hr:sr;w[$]>S[$]&&(A=Fm(A));var N=Fm(A),P=[];if(s&&P.push(D[O]<=0),a&&P.push(D[A]<=0,D[N]<=0),P.every(function(W){return W})){C=E,M=!1;break}T.set(E,P)}if(M)for(var z=g?3:1,Y=function(W){var ie=_.find(function(G){var te=T.get(G);if(te)return te.slice(0,W).every(function(oe){return oe})});if(ie)return C=ie,"break"},H=z;H>0;H--){var V=Y(H);if(V==="break")break}e.placement!==C&&(e.modifiersData[i]._skip=!0,e.placement=C,e.reset=!0)}}var N8={name:"flip",enabled:!0,phase:"main",fn:D8,requiresIfExists:["offset"],data:{_skip:!1}};function KM(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function qM(n){return[sr,Ur,Hr,or].some(function(e){return n[e]>=0})}function O8(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=jf(e,{elementContext:"reference"}),a=jf(e,{altBoundary:!0}),l=KM(o,i),c=KM(a,r,s),u=qM(l),d=qM(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var F8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O8};function B8(n,e,t){var i=Ps(n),r=[or,sr].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[or,Ur].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function z8(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,o=nc.reduce(function(u,d){return u[d]=B8(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var $8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z8};function V8(n){var e=n.state,t=n.name;e.modifiersData[t]=CR({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var AR={name:"popperOffsets",enabled:!0,phase:"read",fn:V8,data:{}};function H8(n){return n==="x"?"y":"x"}function U8(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,g=t.tetherOffset,m=g===void 0?0:g,v=jf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Ps(e.placement),b=Vu(e.placement),x=!b,_=pw(y),w=H8(_),S=e.modifiersData.popperOffsets,T=e.rects.reference,M=e.rects.popper,C=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(S){if(s){var F,R=_==="y"?sr:or,$=_==="y"?Hr:Ur,D=_==="y"?"height":"width",A=S[_],N=A+v[R],P=A-v[$],z=h?-M[D]/2:0,Y=b===Fu?T[D]:M[D],H=b===Fu?-M[D]:-T[D],V=e.elements.arrow,W=h&&V?hw(V):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:xR(),G=ie[R],te=ie[$],oe=vf(0,T[D],W[D]),xe=x?T[D]/2-z-oe-G-L.mainAxis:Y-oe-G-L.mainAxis,ue=x?-T[D]/2+z+oe+te+L.mainAxis:H+oe+te+L.mainAxis,we=e.elements.arrow&&Oh(e.elements.arrow),re=we?_==="y"?we.clientTop||0:we.clientLeft||0:0,j=(F=E==null?void 0:E[_])!=null?F:0,Z=A+xe-j-re,le=A+ue-j,J=vf(h?Sg(N,Z):N,A,h?Rl(P,le):P);S[_]=J,O[_]=J-A}if(a){var k,q=_==="x"?sr:or,ce=_==="x"?Hr:Ur,me=S[w],Ce=w==="y"?"height":"width",Q=me+v[q],ee=me-v[ce],Se=[sr,or].indexOf(y)!==-1,be=(k=E==null?void 0:E[w])!=null?k:0,Pe=Se?Q:me-T[Ce]-M[Ce]-be+L.altAxis,he=Se?me+T[Ce]+M[Ce]-be-L.altAxis:ee,$e=h&&Se?g8(Pe,me,he):vf(h?Pe:Q,me,h?he:ee);S[w]=$e,O[w]=$e-me}e.modifiersData[i]=O}}var W8={name:"preventOverflow",enabled:!0,phase:"main",fn:U8,requiresIfExists:["offset"]};function G8(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function j8(n){return n===bs(n)||!Br(n)?mw(n):G8(n)}function K8(n){var e=n.getBoundingClientRect(),t=zu(e.width)/n.offsetWidth||1,i=zu(e.height)/n.offsetHeight||1;return t!==1||i!==1}function q8(n,e,t){t===void 0&&(t=!1);var i=Br(e),r=Br(e)&&K8(e),s=Ga(e),o=$u(n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Fs(e)!=="body"||vw(s))&&(a=j8(e)),Br(e)?(l=$u(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=gw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Y8(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function X8(n){var e=Y8(n);return d8.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function Z8(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function J8(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var YM={placement:"bottom",modifiers:[],strategy:"absolute"};function XM(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function yw(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?YM:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},YM,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(m){var v=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:Bu(o)?yf(o):o.contextElement?yf(o.contextElement):[],popper:yf(a)};var y=X8(J8([].concat(i,c.options.modifiers)));return c.orderedModifiers=y.filter(function(b){return b.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var m=c.elements,v=m.reference,y=m.popper;if(XM(v,y)){c.rects={reference:q8(v,Oh(y),c.options.strategy==="fixed"),popper:hw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(M){return c.modifiersData[M.name]=Object.assign({},M.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var x=c.orderedModifiers[b],_=x.fn,w=x.options,S=w===void 0?{}:w,T=x.name;typeof _=="function"&&(c=_({state:c,options:S,name:T,instance:f})||c)}}}},update:Z8(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){g(),d=!0}};if(!XM(o,a))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function h(){c.orderedModifiers.forEach(function(m){var v=m.name,y=m.options,b=y===void 0?{}:y,x=m.effect;if(typeof x=="function"){var _=x({state:c,name:v,instance:f,options:b}),w=function(){};u.push(_||w)}})}function g(){u.forEach(function(m){return m()}),u=[]}return f}}yw();var Q8=[TR,AR,MR,bR];yw({defaultModifiers:Q8});var eW=[TR,AR,MR,bR,$8,N8,W8,_8,F8],tW=yw({defaultModifiers:eW});const nW=(n,e,t={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=iW(l);Object.assign(o.value,c)},requires:["computeStyles"]},r=I(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=p(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],i,{name:"applyStyles",enabled:!1}]}}),s=rn(),o=X({styles:{popper:{position:p(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Ve(r,l=>{const c=p(s);c&&c.setOptions(l)},{deep:!0}),Ve([n,e],([l,c])=>{a(),!(!l||!c)&&(s.value=tW(l,c,p(r)))}),sn(()=>{a()}),{state:I(()=>{var l;return{...((l=p(s))==null?void 0:l.state)||{}}}),styles:I(()=>p(o).styles),attributes:I(()=>p(o).attributes),update:()=>{var l;return(l=p(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=p(s))==null?void 0:l.forceUpdate()},instanceRef:I(()=>p(s))}};function iW(n){const e=Object.keys(n.elements),t=wg(e.map(r=>[r,n.styles[r]||{}])),i=wg(e.map(r=>[r,n.attributes[r]]));return{styles:t,attributes:i}}const bw=n=>{if(!n)return{onClick:jt,onMousedown:jt,onMouseup:jt};let e=!1,t=!1;return{onClick:o=>{e&&t&&n(o),e=t=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},rW=(n,e=0)=>{if(e===0)return n;const t=X(!1);let i=0;const r=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{t.value=n.value},e)};return St(r),Ve(()=>n.value,s=>{s?r():t.value=s}),t};function ZM(){let n;const e=(i,r)=>{t(),n=window.setTimeout(i,r)},t=()=>window.clearTimeout(n);return Ch(()=>t()),{registerTimeout:e,cancelTimeout:t}}const JM={prefix:Math.floor(Math.random()*1e4),current:0},sW=Symbol("elIdInjection"),_w=()=>Mt()?Qe(sW,JM):JM,Li=n=>{const e=_w(),t=cw();return I(()=>p(n)||`${t.value}-id-${e.prefix}-${e.current++}`)};let Kc=[];const QM=n=>{const e=n;e.key===it.esc&&Kc.forEach(t=>t(e))},oW=n=>{St(()=>{Kc.length===0&&document.addEventListener("keydown",QM),Vt&&Kc.push(n)}),sn(()=>{Kc=Kc.filter(e=>e!==n),Kc.length===0&&Vt&&document.removeEventListener("keydown",QM)})};let eT;const LR=()=>{const n=cw(),e=_w(),t=I(()=>`${n.value}-popper-container-${e.prefix}`),i=I(()=>`#${t.value}`);return{id:t,selector:i}},aW=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},lW=()=>{const{id:n,selector:e}=LR();return ov(()=>{Vt&&!eT&&!document.body.querySelector(e.value)&&(eT=aW(n.value))}),{id:n,selector:e}},cW=Ge({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),uW=({showAfter:n,hideAfter:e,autoClose:t,open:i,close:r})=>{const{registerTimeout:s}=ZM(),{registerTimeout:o,cancelTimeout:a}=ZM();return{onOpen:u=>{s(()=>{i(u);const d=p(t);ut(d)&&d>0&&o(()=>{r(u)},d)},p(n))},onClose:u=>{a(),s(()=>{r(u)},p(e))}}},RR=Symbol("elForwardRef"),dW=n=>{Dt(RR,{setForwardRef:t=>{n.value=t}})},fW=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),tT=X(0),PR=2e3,IR=Symbol("zIndexContextKey"),dd=n=>{const e=n||(Mt()?Qe(IR,void 0):void 0),t=I(()=>{const s=p(e);return ut(s)?s:PR}),i=I(()=>t.value+tT.value);return{initialZIndex:t,currentZIndex:i,nextZIndex:()=>(tT.value++,i.value)}},Hu=Math.min,Pl=Math.max,Mg=Math.round,up=Math.floor,Oa=n=>({x:n,y:n}),hW={left:"right",right:"left",bottom:"top",top:"bottom"},pW={start:"end",end:"start"};function Db(n,e,t){return Pl(n,Hu(e,t))}function Fh(n,e){return typeof n=="function"?n(e):n}function Vl(n){return n.split("-")[0]}function Bh(n){return n.split("-")[1]}function kR(n){return n==="x"?"y":"x"}function xw(n){return n==="y"?"height":"width"}function wv(n){return["top","bottom"].includes(Vl(n))?"y":"x"}function ww(n){return kR(wv(n))}function mW(n,e,t){t===void 0&&(t=!1);const i=Bh(n),r=ww(n),s=xw(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Tg(o)),[o,Tg(o)]}function gW(n){const e=Tg(n);return[Nb(n),e,Nb(e)]}function Nb(n){return n.replace(/start|end/g,e=>pW[e])}function vW(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function yW(n,e,t,i){const r=Bh(n);let s=vW(Vl(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Nb)))),s}function Tg(n){return n.replace(/left|right|bottom|top/g,e=>hW[e])}function bW(n){return{top:0,right:0,bottom:0,left:0,...n}}function DR(n){return typeof n!="number"?bW(n):{top:n,right:n,bottom:n,left:n}}function Eg(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function nT(n,e,t){let{reference:i,floating:r}=n;const s=wv(e),o=ww(e),a=xw(o),l=Vl(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,f=i[a]/2-r[a]/2;let h;switch(l){case"top":h={x:u,y:i.y-r.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:d};break;case"left":h={x:i.x-r.width,y:d};break;default:h={x:i.x,y:i.y}}switch(Bh(e)){case"start":h[o]-=f*(t&&c?-1:1);break;case"end":h[o]+=f*(t&&c?-1:1);break}return h}const _W=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:d}=nT(c,i,l),f=i,h={},g=0;for(let m=0;m<a.length;m++){const{name:v,fn:y}=a[m],{x:b,y:x,data:_,reset:w}=await y({x:u,y:d,initialPlacement:i,placement:f,strategy:r,middlewareData:h,rects:c,platform:o,elements:{reference:n,floating:e}});u=b??u,d=x??d,h={...h,[v]:{...h[v],..._}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):w.rects),{x:u,y:d}=nT(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:h}};async function Sw(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Fh(e,n),g=DR(h),v=a[f?d==="floating"?"reference":"floating":d],y=Eg(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{...o.floating,x:i,y:r}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Eg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-w.top+g.top)/_.y,bottom:(w.bottom-y.bottom+g.bottom)/_.y,left:(y.left-w.left+g.left)/_.x,right:(w.right-y.right+g.right)/_.x}}const xW=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Fh(n,e)||{};if(c==null)return{};const d=DR(u),f={x:t,y:i},h=ww(r),g=xw(h),m=await o.getDimensions(c),v=h==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[h]-f[h]-s.floating[g],w=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=S?S[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[x]||s.floating[g]);const M=_/2-w/2,C=T/2-m[g]/2-1,L=Hu(d[y],C),E=Hu(d[b],C),O=L,F=T-m[g]-E,R=T/2-m[g]/2+M,$=Db(O,R,F),D=!l.arrow&&Bh(r)!=null&&R!==$&&s.reference[g]/2-(R<O?L:E)-m[g]/2<0,A=D?R<O?R-O:R-F:0;return{[h]:f[h]+A,data:{[h]:$,centerOffset:R-$-A,...D&&{alignmentOffset:A}},reset:D}}}),wW=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Fh(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=Vl(r),b=Vl(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=f||(b||!m?[Tg(a)]:gW(a));!f&&g!=="none"&&_.push(...yW(a,m,g,x));const w=[a,..._],S=await Sw(e,v),T=[];let M=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&T.push(S[y]),d){const O=mW(r,o,x);T.push(S[O[0]],S[O[1]])}if(M=[...M,{placement:r,overflows:T}],!T.every(O=>O<=0)){var C,L;const O=(((C=s.flip)==null?void 0:C.index)||0)+1,F=w[O];if(F)return{data:{index:O,overflows:M},reset:{placement:F}};let R=(L=M.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!R)switch(h){case"bestFit":{var E;const $=(E=M.map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,N)=>A+N,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:E[0];$&&(R=$);break}case"initialPlacement":R=a;break}if(r!==R)return{reset:{placement:R}}}return{}}}};async function SW(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Vl(t),a=Bh(t),l=wv(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Fh(e,n);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const NR=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await SW(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},MW=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=Fh(n,e),c={x:t,y:i},u=await Sw(e,l),d=wv(Vl(r)),f=kR(d);let h=c[f],g=c[d];if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=h+u[v],x=h-u[y];h=Db(b,h,x)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+u[v],x=g-u[y];g=Db(b,g,x)}const m=a.fn({...e,[f]:h,[d]:g});return{...m,data:{x:m.x-t,y:m.y-i}}}}};function Fa(n){return OR(n)?(n.nodeName||"").toLowerCase():"#document"}function Mr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Io(n){var e;return(e=(OR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function OR(n){return n instanceof Node||n instanceof Mr(n).Node}function Mo(n){return n instanceof Element||n instanceof Mr(n).Element}function Bs(n){return n instanceof HTMLElement||n instanceof Mr(n).HTMLElement}function iT(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Mr(n).ShadowRoot}function zh(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function TW(n){return["table","td","th"].includes(Fa(n))}function Mw(n){const e=Tw(),t=Wr(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function FR(n){let e=Uu(n);for(;Bs(e)&&!Sv(e);){if(Mw(e))return e;e=Uu(e)}return null}function Tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sv(n){return["html","body","#document"].includes(Fa(n))}function Wr(n){return Mr(n).getComputedStyle(n)}function Mv(n){return Mo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Uu(n){if(Fa(n)==="html")return n;const e=n.assignedSlot||n.parentNode||iT(n)&&n.host||Io(n);return iT(e)?e.host:e}function BR(n){const e=Uu(n);return Sv(e)?n.ownerDocument?n.ownerDocument.body:n.body:Bs(e)&&zh(e)?e:BR(e)}function Kf(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=BR(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Mr(r);return s?e.concat(o,o.visualViewport||[],zh(r)?r:[],o.frameElement&&t?Kf(o.frameElement):[]):e.concat(r,Kf(r,[],t))}function zR(n){const e=Wr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Bs(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=Mg(t)!==s||Mg(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function Ew(n){return Mo(n)?n:n.contextElement}function gu(n){const e=Ew(n);if(!Bs(e))return Oa(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=zR(e);let o=(s?Mg(t.width):t.width)/i,a=(s?Mg(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EW=Oa(0);function $R(n){const e=Mr(n);return!Tw()||!e.visualViewport?EW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CW(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Mr(n)?!1:e}function Hl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=Ew(n);let o=Oa(1);e&&(i?Mo(i)&&(o=gu(i)):o=gu(n));const a=CW(s,t,i)?$R(s):Oa(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const f=Mr(s),h=i&&Mo(i)?Mr(i):i;let g=f.frameElement;for(;g&&i&&h!==f;){const m=gu(g),v=g.getBoundingClientRect(),y=Wr(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,x=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=b,c+=x,g=Mr(g).frameElement}}return Eg({width:u,height:d,x:l,y:c})}const AW=[":popover-open",":modal"];function VR(n){let e=!1,t=0,i=0;function r(s){try{e=e||n.matches(s)}catch{}}if(AW.forEach(s=>{r(s)}),e){const s=FR(n);if(s){const o=s.getBoundingClientRect();t=o.x,i=o.y}}return[e,t,i]}function LW(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=Io(i),[o]=e?VR(e.floating):[!1];if(i===s||o)return t;let a={scrollLeft:0,scrollTop:0},l=Oa(1);const c=Oa(0),u=Bs(i);if((u||!u&&r!=="fixed")&&((Fa(i)!=="body"||zh(s))&&(a=Mv(i)),Bs(i))){const d=Hl(i);l=gu(i),c.x=d.x+i.clientLeft,c.y=d.y+i.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-a.scrollLeft*l.x+c.x,y:t.y*l.y-a.scrollTop*l.y+c.y}}function RW(n){return Array.from(n.getClientRects())}function HR(n){return Hl(Io(n)).left+Mv(n).scrollLeft}function PW(n){const e=Io(n),t=Mv(n),i=n.ownerDocument.body,r=Pl(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Pl(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+HR(n);const a=-t.scrollTop;return Wr(i).direction==="rtl"&&(o+=Pl(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function IW(n,e){const t=Mr(n),i=Io(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=Tw();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function kW(n,e){const t=Hl(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=Bs(n)?gu(n):Oa(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function rT(n,e,t){let i;if(e==="viewport")i=IW(n,t);else if(e==="document")i=PW(Io(n));else if(Mo(e))i=kW(e,t);else{const r=$R(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return Eg(i)}function UR(n,e){const t=Uu(n);return t===e||!Mo(t)||Sv(t)?!1:Wr(t).position==="fixed"||UR(t,e)}function DW(n,e){const t=e.get(n);if(t)return t;let i=Kf(n,[],!1).filter(a=>Mo(a)&&Fa(a)!=="body"),r=null;const s=Wr(n).position==="fixed";let o=s?Uu(n):n;for(;Mo(o)&&!Sv(o);){const a=Wr(o),l=Mw(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||zh(o)&&!l&&UR(n,o))?i=i.filter(u=>u!==o):r=a,o=Uu(o)}return e.set(n,i),i}function NW(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?DW(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,u)=>{const d=rT(e,u,r);return c.top=Pl(d.top,c.top),c.right=Hu(d.right,c.right),c.bottom=Hu(d.bottom,c.bottom),c.left=Pl(d.left,c.left),c},rT(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function OW(n){const{width:e,height:t}=zR(n);return{width:e,height:t}}function FW(n,e,t,i){const r=Bs(e),s=Io(e),o=t==="fixed",a=Hl(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Oa(0);if(r||!r&&!o)if((Fa(e)!=="body"||zh(s))&&(l=Mv(e)),r){const m=Hl(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=HR(s));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[f,h,g]=VR(i);return f&&(u+=h,d+=g,r&&(u+=e.clientLeft,d+=e.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function sT(n,e){return!Bs(n)||Wr(n).position==="fixed"?null:e?e(n):n.offsetParent}function WR(n,e){const t=Mr(n);if(!Bs(n))return t;let i=sT(n,e);for(;i&&TW(i)&&Wr(i).position==="static";)i=sT(i,e);return i&&(Fa(i)==="html"||Fa(i)==="body"&&Wr(i).position==="static"&&!Mw(i))?t:i||FR(n)||t}const BW=async function(n){const e=this.getOffsetParent||WR,t=this.getDimensions;return{reference:FW(n.reference,await e(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function zW(n){return Wr(n).direction==="rtl"}const $W={convertOffsetParentRelativeRectToViewportRelativeRect:LW,getDocumentElement:Io,getClippingRect:NW,getOffsetParent:WR,getElementRects:BW,getClientRects:RW,getDimensions:OW,getScale:gu,isElement:Mo,isRTL:zW};function VW(n,e){let t=null,i;const r=Io(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(a||e(),!d||!f)return;const h=up(u),g=up(r.clientWidth-(c+d)),m=up(r.clientHeight-(u+f)),v=up(c),b={rootMargin:-h+"px "+-g+"px "+-m+"px "+-v+"px",threshold:Pl(0,Hu(1,l))||1};let x=!0;function _(w){const S=w[0].intersectionRatio;if(S!==l){if(!x)return o();S?o(!1,S):i=setTimeout(()=>{o(!1,1e-7)},100)}x=!1}try{t=new IntersectionObserver(_,{...b,root:r.ownerDocument})}catch{t=new IntersectionObserver(_,b)}t.observe(n)}return o(!0),s}function HW(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Ew(n),u=r||s?[...c?Kf(c):[],...Kf(e)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const d=c&&a?VW(c,t):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),t()}),c&&!l&&h.observe(c),h.observe(e));let g,m=l?Hl(n):null;l&&v();function v(){const y=Hl(n);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&t(),m=y,g=requestAnimationFrame(v)}return t(),()=>{var y;u.forEach(b=>{r&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const UW=MW,WW=wW,GR=xW,jR=(n,e,t)=>{const i=new Map,r={platform:$W,...t},s={...r.platform,_c:i};return _W(n,e,{...r,platform:s})};Ge({});const GW=n=>{if(!Vt)return;if(!n)return n;const e=tr(n);return e||(an(n)?e:n)},jW=({middleware:n,placement:e,strategy:t})=>{const i=X(),r=X(),s=X(),o=X(),a=X({}),l={x:s,y:o,placement:e,strategy:t,middlewareData:a},c=async()=>{if(!Vt)return;const u=GW(i),d=tr(r);if(!u||!d)return;const f=await jR(u,d,{placement:p(e),strategy:p(t),middleware:p(n)});ku(l).forEach(h=>{l[h].value=f[h]})};return St(()=>{yi(()=>{c()})}),{...l,update:c,referenceRef:i,contentRef:r}},KW=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(t){const i=p(n);return i?GR({element:i,padding:e}).fn(t):{}}});function qW(n){const e=X();function t(){if(n.value==null)return;const{selectionStart:r,selectionEnd:s,value:o}=n.value;if(r==null||s==null)return;const a=o.slice(0,Math.max(0,r)),l=o.slice(Math.max(0,s));e.value={selectionStart:r,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function i(){if(n.value==null||e.value==null)return;const{value:r}=n.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=e.value;if(s==null||o==null||a==null)return;let l=r.length;if(r.endsWith(o))l=r.length-o.length;else if(r.startsWith(s))l=s.length;else{const c=s[a-1],u=r.indexOf(c,a-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,i]}const YW=(n,e,t)=>xa(n.subTree).filter(s=>{var o;return un(s)&&((o=s.type)==null?void 0:o.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>t[s]).filter(s=>!!s),Cw=(n,e)=>{const t={},i=rn([]);return{children:i,addChild:o=>{t[o.uid]=o,i.value=YW(n,e,t)},removeChild:o=>{delete t[o],i.value=i.value.filter(a=>a.uid!==o)}}},ni=ys({type:String,values:Vs,required:!1}),KR=Symbol("size"),XW=()=>{const n=Qe(KR,{});return I(()=>p(n.size)||"")};function Tv(n,{afterFocus:e,beforeBlur:t,afterBlur:i}={}){const r=Mt(),{emit:s}=r,o=rn(),a=X(!1),l=d=>{a.value||(a.value=!0,s("focus",d),e==null||e())},c=d=>{var f;dt(t)&&t(d)||d.relatedTarget&&((f=o.value)!=null&&f.contains(d.relatedTarget))||(a.value=!1,s("blur",d),i==null||i())},u=()=>{var d;(d=n.value)==null||d.focus()};return Ve(o,d=>{d&&d.setAttribute("tabindex","-1")}),gn(o,"click",u),{wrapperRef:o,isFocused:a,handleFocus:l,handleBlur:c}}const qR=Symbol(),Cg=X();function Ev(n,e=void 0){const t=Mt()?Qe(qR,Cg):Cg;return n?I(()=>{var i,r;return(r=(i=t.value)==null?void 0:i[n])!=null?r:e}):t}function Cv(n,e){const t=Ev(),i=He(n,I(()=>{var a;return((a=t.value)==null?void 0:a.namespace)||gf})),r=Ut(I(()=>{var a;return(a=t.value)==null?void 0:a.locale})),s=dd(I(()=>{var a;return((a=t.value)==null?void 0:a.zIndex)||PR})),o=I(()=>{var a;return p(e)||((a=t.value)==null?void 0:a.size)||""});return Aw(I(()=>p(t)||{})),{ns:i,locale:r,zIndex:s,size:o}}const Aw=(n,e,t=!1)=>{var i;const r=!!Mt(),s=r?Ev():void 0,o=(i=e==null?void 0:e.provide)!=null?i:r?Dt:void 0;if(!o)return;const a=I(()=>{const l=p(n);return s!=null&&s.value?ZW(s.value,l):l});return o(qR,a),o(pR,I(()=>a.value.locale)),o(mR,I(()=>a.value.namespace)),o(IR,I(()=>a.value.zIndex)),o(KR,{size:I(()=>a.value.size||"")}),(t||!Cg.value)&&(Cg.value=a.value),a},ZW=(n,e)=>{var t;const i=[...new Set([...ku(n),...ku(e)])],r={};for(const s of i)r[s]=(t=e[s])!=null?t:n[s];return r},JW=Ge({a11y:{type:Boolean,default:!0},locale:{type:Le(Object)},size:ni,button:{type:Le(Object)},experimentalFeatures:{type:Le(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Le(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),Ob={},QW=pe({name:"ElConfigProvider",props:JW,setup(n,{slots:e}){Ve(()=>n.message,i=>{Object.assign(Ob,i??{})},{immediate:!0,deep:!0});const t=Aw(n);return()=>Be(e,"default",{config:t==null?void 0:t.value})}}),eG=At(QW),tG="2.5.3",nG=(n=[])=>({version:tG,install:(t,i)=>{t[$M]||(t[$M]=!0,n.forEach(r=>t.use(r)),i&&Aw(i,t,!0))}}),iG=Ge({zIndex:{type:Le([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),rG={scroll:({scrollTop:n,fixed:e})=>ut(n)&&zn(e),[dn]:n=>zn(n)};var je=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t};const YR="ElAffix",sG=pe({name:YR}),oG=pe({...sG,props:iG,emits:rG,setup(n,{expose:e,emit:t}){const i=n,r=He("affix"),s=rn(),o=rn(),a=rn(),{height:l}=mB(),{height:c,width:u,top:d,bottom:f,update:h}=nM(o,{windowScroll:!1}),g=nM(s),m=X(!1),v=X(0),y=X(0),b=I(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),x=I(()=>{if(!m.value)return{};const S=i.offset?Nn(i.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:i.position==="top"?S:"",bottom:i.position==="bottom"?S:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:i.zIndex}}),_=()=>{if(a.value)if(v.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0,i.position==="top")if(i.target){const S=g.bottom.value-i.offset-c.value;m.value=i.offset>d.value&&g.bottom.value>0,y.value=S<0?S:0}else m.value=i.offset>d.value;else if(i.target){const S=l.value-g.top.value-i.offset-c.value;m.value=l.value-i.offset<f.value&&l.value>g.top.value,y.value=S<0?-S:0}else m.value=l.value-i.offset<f.value},w=()=>{h(),t("scroll",{scrollTop:v.value,fixed:m.value})};return Ve(m,S=>t("change",S)),St(()=>{var S;i.target?(s.value=(S=document.querySelector(i.target))!=null?S:void 0,s.value||Wn(YR,`Target is not existed: ${i.target}`)):s.value=document.documentElement,a.value=Qx(o.value,!0),h()}),gn(a,"scroll",w),yi(_),e({update:_,updateRoot:h}),(S,T)=>(B(),se("div",{ref_key:"root",ref:o,class:U(p(r).b()),style:tt(p(b))},[de("div",{class:U({[p(r).m("fixed")]:m.value}),style:tt(p(x))},[Be(S.$slots,"default")],6)],6))}});var aG=je(oG,[["__file","affix.vue"]]);const lG=At(aG),cG=Ge({size:{type:Le([Number,String])},color:{type:String}}),uG=pe({name:"ElIcon",inheritAttrs:!1}),dG=pe({...uG,props:cG,setup(n){const e=n,t=He("icon"),i=I(()=>{const{size:r,color:s}=e;return!r&&!s?{}:{fontSize:Hn(r)?void 0:Nn(r),"--color":s}});return(r,s)=>(B(),se("i",Rt({class:p(t).b(),style:p(i)},r.$attrs),[Be(r.$slots,"default")],16))}});var fG=je(dG,[["__file","icon.vue"]]);const et=At(fG),hG=["light","dark"],pG=Ge({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:ku(Na),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:hG,default:"light"}}),mG={close:n=>n instanceof MouseEvent},gG=pe({name:"ElAlert"}),vG=pe({...gG,props:pG,emits:mG,setup(n,{emit:e}){const t=n,{Close:i}=sw,r=Yn(),s=He("alert"),o=X(!0),a=I(()=>Na[t.type]),l=I(()=>[s.e("icon"),{[s.is("big")]:!!t.description||!!r.default}]),c=I(()=>({[s.is("bold")]:t.description||r.default})),u=d=>{o.value=!1,e("close",d)};return(d,f)=>(B(),Oe(Un,{name:p(s).b("fade"),persisted:""},{default:Ee(()=>[_t(de("div",{class:U([p(s).b(),p(s).m(d.type),p(s).is("center",d.center),p(s).is(d.effect)]),role:"alert"},[d.showIcon&&p(a)?(B(),Oe(p(et),{key:0,class:U(p(l))},{default:Ee(()=>[(B(),Oe(Pt(p(a))))]),_:1},8,["class"])):ke("v-if",!0),de("div",{class:U(p(s).e("content"))},[d.title||d.$slots.title?(B(),se("span",{key:0,class:U([p(s).e("title"),p(c)])},[Be(d.$slots,"title",{},()=>[Ht(qe(d.title),1)])],2)):ke("v-if",!0),d.$slots.default||d.description?(B(),se("p",{key:1,class:U(p(s).e("description"))},[Be(d.$slots,"default",{},()=>[Ht(qe(d.description),1)])],2)):ke("v-if",!0),d.closable?(B(),se(rt,{key:2},[d.closeText?(B(),se("div",{key:0,class:U([p(s).e("close-btn"),p(s).is("customed")]),onClick:u},qe(d.closeText),3)):(B(),Oe(p(et),{key:1,class:U(p(s).e("close-btn")),onClick:u},{default:Ee(()=>[ye(p(i))]),_:1},8,["class"]))],64)):ke("v-if",!0)],2)],2),[[Wt,o.value]])]),_:3},8,["name"]))}});var yG=je(vG,[["__file","alert.vue"]]);const bG=At(yG),ic=Symbol("formContextKey"),zs=Symbol("formItemContextKey"),Gn=(n,e={})=>{const t=X(void 0),i=e.prop?t:vR("size"),r=e.global?t:XW(),s=e.form?{size:void 0}:Qe(ic,void 0),o=e.formItem?{size:void 0}:Qe(zs,void 0);return I(()=>i.value||p(n)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||r.value||"")},dr=n=>{const e=vR("disabled"),t=Qe(ic,void 0);return I(()=>e.value||p(n)||(t==null?void 0:t.disabled)||!1)},qi=()=>{const n=Qe(ic,void 0),e=Qe(zs,void 0);return{form:n,formItem:e}},Hs=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:i})=>{t||(t=X(!1)),i||(i=X(!1));const r=X();let s;const o=I(()=>{var a;return!!(!n.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return St(()=>{s=Ve([tn(n,"id"),t],([a,l])=>{const c=a??(l?void 0:Li().value);c!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),r.value=c)},{immediate:!0})}),Ha(()=>{s&&s(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:o,inputId:r}},_G=Ge({size:{type:String,values:Vs},disabled:Boolean}),xG=Ge({..._G,model:Object,rules:{type:Le(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),wG={validate:(n,e,t)=>(Je(n)||vt(n))&&zn(e)&&vt(t)};function SG(){const n=X([]),e=I(()=>{if(!n.value.length)return"0";const s=Math.max(...n.value);return s?`${s}px`:""});function t(s){const o=n.value.indexOf(s);return o===-1&&e.value,o}function i(s,o){if(s&&o){const a=t(o);n.value.splice(a,1,s)}else s&&n.value.push(s)}function r(s){const o=t(s);o>-1&&n.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}const dp=(n,e)=>{const t=$l(e);return t.length>0?n.filter(i=>i.prop&&t.includes(i.prop)):n},MG="ElForm",TG=pe({name:MG}),EG=pe({...TG,props:xG,emits:wG,setup(n,{expose:e,emit:t}){const i=n,r=[],s=Gn(),o=He("form"),a=I(()=>{const{labelPosition:x,inline:_}=i;return[o.b(),o.m(s.value||"default"),{[o.m(`label-${x}`)]:x,[o.m("inline")]:_}]}),l=x=>r.find(_=>_.prop===x),c=x=>{r.push(x)},u=x=>{x.prop&&r.splice(r.indexOf(x),1)},d=(x=[])=>{i.model&&dp(r,x).forEach(_=>_.resetField())},f=(x=[])=>{dp(r,x).forEach(_=>_.clearValidate())},h=I(()=>!!i.model),g=x=>{if(r.length===0)return[];const _=dp(r,x);return _.length?_:[]},m=async x=>y(void 0,x),v=async(x=[])=>{if(!h.value)return!1;const _=g(x);if(_.length===0)return!0;let w={};for(const S of _)try{await S.validate("")}catch(T){w={...w,...T}}return Object.keys(w).length===0?!0:Promise.reject(w)},y=async(x=[],_)=>{const w=!dt(_);try{const S=await v(x);return S===!0&&(_==null||_(S)),S}catch(S){if(S instanceof Error)throw S;const T=S;return i.scrollToError&&b(Object.keys(T)[0]),_==null||_(!1,T),w&&Promise.reject(T)}},b=x=>{var _;const w=dp(r,x)[0];w&&((_=w.$el)==null||_.scrollIntoView(i.scrollIntoViewOptions))};return Ve(()=>i.rules,()=>{i.validateOnRuleChange&&m().catch(x=>void 0)},{deep:!0}),Dt(ic,Gt({...fi(i),emit:t,resetFields:d,clearValidate:f,validateField:y,getField:l,addField:c,removeField:u,...SG()})),e({validate:m,validateField:y,resetFields:d,clearValidate:f,scrollToField:b}),(x,_)=>(B(),se("form",{class:U(p(a))},[Be(x.$slots,"default")],2))}});var CG=je(EG,[["__file","form.vue"]]);function yl(){return yl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yl.apply(this,arguments)}function AG(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qf(n,e)}function Fb(n){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fb(n)}function qf(n,e){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},qf(n,e)}function LG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bm(n,e,t){return LG()?Bm=Reflect.construct.bind():Bm=function(r,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(r,a),c=new l;return o&&qf(c,o.prototype),c},Bm.apply(null,arguments)}function RG(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Bb(n){var e=typeof Map=="function"?new Map:void 0;return Bb=function(i){if(i===null||!RG(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return Bm(i,arguments,Fb(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qf(r,i)},Bb(n)}var PG=/%[sdj%]/g,IG=function(){};typeof process<"u"&&process.env;function zb(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function xr(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=0,s=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(PG,function(a){if(a==="%%")return"%";if(r>=s)return a;switch(a){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return a}});return o}return n}function kG(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function ii(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||kG(e)&&typeof n=="string"&&!n)}function DG(n,e,t){var i=[],r=0,s=n.length;function o(a){i.push.apply(i,a||[]),r++,r===s&&t(i)}n.forEach(function(a){e(a,o)})}function oT(n,e,t){var i=0,r=n.length;function s(o){if(o&&o.length){t(o);return}var a=i;i=i+1,a<r?e(n[a],s):t([])}s([])}function NG(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var aT=function(n){AG(e,n);function e(t,i){var r;return r=n.call(this,"Async Validation Error")||this,r.errors=t,r.fields=i,r}return e}(Bb(Error));function OG(n,e,t,i,r){if(e.first){var s=new Promise(function(f,h){var g=function(y){return i(y),y.length?h(new aT(y,zb(y))):f(r)},m=NG(n);oT(m,t,g)});return s.catch(function(f){return f}),s}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,c=0,u=[],d=new Promise(function(f,h){var g=function(v){if(u.push.apply(u,v),c++,c===l)return i(u),u.length?h(new aT(u,zb(u))):f(r)};a.length||(i(u),f(r)),a.forEach(function(m){var v=n[m];o.indexOf(m)!==-1?oT(v,t,g):DG(v,t,g)})});return d.catch(function(f){return f}),d}function FG(n){return!!(n&&n.message!==void 0)}function BG(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function lT(n,e){return function(t){var i;return n.fullFields?i=BG(e,n.fullFields):i=e[t.field||n.fullField],FG(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function cT(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i=="object"&&typeof n[t]=="object"?n[t]=yl({},n[t],i):n[t]=i}}return n}var XR=function(e,t,i,r,s,o){e.required&&(!i.hasOwnProperty(e.field)||ii(t,o||e.type))&&r.push(xr(s.messages.required,e.fullField))},zG=function(e,t,i,r,s){(/^\s+$/.test(t)||t==="")&&r.push(xr(s.messages.whitespace,e.fullField))},fp,$G=function(){if(fp)return fp;var n="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+t+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+t+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+t+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+t+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+t+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+t+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+t+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+t+"$)|(?:^"+r+"$)"),o=new RegExp("^"+t+"$"),a=new RegExp("^"+r+"$"),l=function(_){return _&&_.exact?s:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+r+e(_)+")","g")};l.v4=function(x){return x&&x.exact?o:new RegExp(""+e(x)+t+e(x),"g")},l.v6=function(x){return x&&x.exact?a:new RegExp(""+e(x)+r+e(x),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',b="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+h+g+m+")"+v+y;return fp=new RegExp("(?:^"+b+"$)","i"),fp},uT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nf={integer:function(e){return nf.number(e)&&parseInt(e,10)===e},float:function(e){return nf.number(e)&&!nf.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!nf.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(uT.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match($G())},hex:function(e){return typeof e=="string"&&!!e.match(uT.hex)}},VG=function(e,t,i,r,s){if(e.required&&t===void 0){XR(e,t,i,r,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?nf[a](t)||r.push(xr(s.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(xr(s.messages.types[a],e.fullField,e.type))},HG=function(e,t,i,r,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,f=typeof t=="number",h=typeof t=="string",g=Array.isArray(t);if(f?d="number":h?d="string":g&&(d="array"),!d)return!1;g&&(u=t.length),h&&(u=t.replace(c,"_").length),o?u!==e.len&&r.push(xr(s.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?r.push(xr(s.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?r.push(xr(s.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&r.push(xr(s.messages[d].range,e.fullField,e.min,e.max))},ac="enum",UG=function(e,t,i,r,s){e[ac]=Array.isArray(e[ac])?e[ac]:[],e[ac].indexOf(t)===-1&&r.push(xr(s.messages[ac],e.fullField,e[ac].join(", ")))},WG=function(e,t,i,r,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(xr(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||r.push(xr(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},en={required:XR,whitespace:zG,type:VG,range:HG,enum:UG,pattern:WG},GG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t,"string")&&!e.required)return i();en.required(e,t,r,o,s,"string"),ii(t,"string")||(en.type(e,t,r,o,s),en.range(e,t,r,o,s),en.pattern(e,t,r,o,s),e.whitespace===!0&&en.whitespace(e,t,r,o,s))}i(o)},jG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&en.type(e,t,r,o,s)}i(o)},KG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&(en.type(e,t,r,o,s),en.range(e,t,r,o,s))}i(o)},qG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&en.type(e,t,r,o,s)}i(o)},YG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),ii(t)||en.type(e,t,r,o,s)}i(o)},XG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&(en.type(e,t,r,o,s),en.range(e,t,r,o,s))}i(o)},ZG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&(en.type(e,t,r,o,s),en.range(e,t,r,o,s))}i(o)},JG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return i();en.required(e,t,r,o,s,"array"),t!=null&&(en.type(e,t,r,o,s),en.range(e,t,r,o,s))}i(o)},QG=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&en.type(e,t,r,o,s)}i(o)},e9="enum",t9=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s),t!==void 0&&en[e9](e,t,r,o,s)}i(o)},n9=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t,"string")&&!e.required)return i();en.required(e,t,r,o,s),ii(t,"string")||en.pattern(e,t,r,o,s)}i(o)},i9=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t,"date")&&!e.required)return i();if(en.required(e,t,r,o,s),!ii(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),en.type(e,l,r,o,s),l&&en.range(e,l.getTime(),r,o,s)}}i(o)},r9=function(e,t,i,r,s){var o=[],a=Array.isArray(t)?"array":typeof t;en.required(e,t,r,o,s,a),i(o)},b0=function(e,t,i,r,s){var o=e.type,a=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ii(t,o)&&!e.required)return i();en.required(e,t,r,a,s,o),ii(t,o)||en.type(e,t,r,a,s)}i(a)},s9=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ii(t)&&!e.required)return i();en.required(e,t,r,o,s)}i(o)},bf={string:GG,method:jG,number:KG,boolean:qG,regexp:YG,integer:XG,float:ZG,array:JG,object:QG,enum:t9,pattern:n9,date:i9,url:b0,hex:b0,email:b0,required:r9,any:s9};function $b(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Vb=$b(),$h=function(){function n(t){this.rules=null,this._messages=Vb,this.define(t)}var e=n.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(s){var o=i[s];r.rules[s]=Array.isArray(o)?o:[o]})},e.messages=function(i){return i&&(this._messages=cT($b(),i)),this._messages},e.validate=function(i,r,s){var o=this;r===void 0&&(r={}),s===void 0&&(s=function(){});var a=i,l=r,c=s;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(m){var v=[],y={};function b(_){if(Array.isArray(_)){var w;v=(w=v).concat.apply(w,_)}else v.push(_)}for(var x=0;x<m.length;x++)b(m[x]);v.length?(y=zb(v),c(v,y)):c(null,a)}if(l.messages){var d=this.messages();d===Vb&&(d=$b()),cT(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var v=o.rules[m],y=a[m];v.forEach(function(b){var x=b;typeof x.transform=="function"&&(a===i&&(a=yl({},a)),y=a[m]=x.transform(y)),typeof x=="function"?x={validator:x}:x=yl({},x),x.validator=o.getValidationMethod(x),x.validator&&(x.field=m,x.fullField=x.fullField||m,x.type=o.getType(x),f[m]=f[m]||[],f[m].push({rule:x,value:y,source:a,field:m}))})});var g={};return OG(f,l,function(m,v){var y=m.rule,b=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");b=b&&(y.required||!y.required&&m.value),y.field=m.field;function x(S,T){return yl({},T,{fullField:y.fullField+"."+S,fullFields:y.fullFields?[].concat(y.fullFields,[S]):[S]})}function _(S){S===void 0&&(S=[]);var T=Array.isArray(S)?S:[S];!l.suppressWarning&&T.length&&n.warning("async-validator:",T),T.length&&y.message!==void 0&&(T=[].concat(y.message));var M=T.map(lT(y,a));if(l.first&&M.length)return g[y.field]=1,v(M);if(!b)v(M);else{if(y.required&&!m.value)return y.message!==void 0?M=[].concat(y.message).map(lT(y,a)):l.error&&(M=[l.error(y,xr(l.messages.required,y.field))]),v(M);var C={};y.defaultField&&Object.keys(m.value).map(function(O){C[O]=y.defaultField}),C=yl({},C,m.rule.fields);var L={};Object.keys(C).forEach(function(O){var F=C[O],R=Array.isArray(F)?F:[F];L[O]=R.map(x.bind(null,O))});var E=new n(L);E.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),E.validate(m.value,m.rule.options||l,function(O){var F=[];M&&M.length&&F.push.apply(F,M),O&&O.length&&F.push.apply(F,O),v(F.length?F:null)})}}var w;if(y.asyncValidator)w=y.asyncValidator(y,m.value,_,m.source,l);else if(y.validator){try{w=y.validator(y,m.value,_,m.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),_(S.message)}w===!0?_():w===!1?_(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):w instanceof Array?_(w):w instanceof Error&&_(w.message)}w&&w.then&&w.then(function(){return _()},function(S){return _(S)})},function(m){u(m)},a)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!bf.hasOwnProperty(i.type))throw new Error(xr("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?bf.required:bf[this.getType(i)]||void 0},n}();$h.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");bf[e]=t};$h.warning=IG;$h.messages=Vb;$h.validators=bf;const o9=["","error","validating","success"],a9=Ge({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Le([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Le([Object,Array])},error:String,validateStatus:{type:String,values:o9},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Vs}}),dT="ElLabelWrap";var l9=pe({name:dT,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Qe(ic,void 0),i=Qe(zs);i||Wn(dT,"usage: <el-form-item><label-wrap /></el-form-item>");const r=He("form"),s=X(),o=X(0),a=()=>{var u;if((u=s.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{at(()=>{e.default&&n.isAutoWidth&&(u==="update"?o.value=a():u==="remove"&&(t==null||t.deregisterLabelWidth(o.value)))})},c=()=>l("update");return St(()=>{c()}),sn(()=>{l("remove")}),Ao(()=>c()),Ve(o,(u,d)=>{n.updateAll&&(t==null||t.registerLabelWidth(u,d))}),bn(I(()=>{var u,d;return(d=(u=s.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=n;if(f){const h=t==null?void 0:t.autoLabelWidth,g=i==null?void 0:i.hasLabel,m={};if(g&&h&&h!=="auto"){const v=Math.max(0,Number.parseInt(h,10)-o.value),y=t.labelPosition==="left"?"marginRight":"marginLeft";v&&(m[y]=`${v}px`)}return ye("div",{ref:s,class:[r.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return ye(rt,{ref:s},[(d=e.default)==null?void 0:d.call(e)])}}});const c9=["role","aria-labelledby"],u9=pe({name:"ElFormItem"}),d9=pe({...u9,props:a9,setup(n,{expose:e}){const t=n,i=Yn(),r=Qe(ic,void 0),s=Qe(zs,void 0),o=Gn(void 0,{formItem:!1}),a=He("form-item"),l=Li().value,c=X([]),u=X(""),d=J4(u,100),f=X(""),h=X();let g,m=!1;const v=I(()=>{if((r==null?void 0:r.labelPosition)==="top")return{};const te=Nn(t.labelWidth||(r==null?void 0:r.labelWidth)||"");return te?{width:te}:{}}),y=I(()=>{if((r==null?void 0:r.labelPosition)==="top"||r!=null&&r.inline)return{};if(!t.label&&!t.labelWidth&&C)return{};const te=Nn(t.labelWidth||(r==null?void 0:r.labelWidth)||"");return!t.label&&!i.label?{marginLeft:te}:{}}),b=I(()=>[a.b(),a.m(o.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",R.value||t.required),a.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:r==null?void 0:r.statusIcon}]),x=I(()=>zn(t.inlineMessage)?t.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),_=I(()=>[a.e("error"),{[a.em("error","inline")]:x.value}]),w=I(()=>t.prop?vt(t.prop)?t.prop:t.prop.join("."):""),S=I(()=>!!(t.label||i.label)),T=I(()=>t.for||(c.value.length===1?c.value[0]:void 0)),M=I(()=>!T.value&&S.value),C=!!s,L=I(()=>{const te=r==null?void 0:r.model;if(!(!te||!t.prop))return Om(te,t.prop).value}),E=I(()=>{const{required:te}=t,oe=[];t.rules&&oe.push(...$l(t.rules));const xe=r==null?void 0:r.rules;if(xe&&t.prop){const ue=Om(xe,t.prop).value;ue&&oe.push(...$l(ue))}if(te!==void 0){const ue=oe.map((we,re)=>[we,re]).filter(([we])=>Object.keys(we).includes("required"));if(ue.length>0)for(const[we,re]of ue)we.required!==te&&(oe[re]={...we,required:te});else oe.push({required:te})}return oe}),O=I(()=>E.value.length>0),F=te=>E.value.filter(xe=>!xe.trigger||!te?!0:Array.isArray(xe.trigger)?xe.trigger.includes(te):xe.trigger===te).map(({trigger:xe,...ue})=>ue),R=I(()=>E.value.some(te=>te.required)),$=I(()=>{var te;return d.value==="error"&&t.showMessage&&((te=r==null?void 0:r.showMessage)!=null?te:!0)}),D=I(()=>`${t.label||""}${(r==null?void 0:r.labelSuffix)||""}`),A=te=>{u.value=te},N=te=>{var oe,xe;const{errors:ue,fields:we}=te;(!ue||!we)&&console.error(te),A("error"),f.value=ue?(xe=(oe=ue==null?void 0:ue[0])==null?void 0:oe.message)!=null?xe:`${t.prop} is required`:"",r==null||r.emit("validate",t.prop,!1,f.value)},P=()=>{A("success"),r==null||r.emit("validate",t.prop,!0,"")},z=async te=>{const oe=w.value;return new $h({[oe]:te}).validate({[oe]:L.value},{firstFields:!0}).then(()=>(P(),!0)).catch(ue=>(N(ue),Promise.reject(ue)))},Y=async(te,oe)=>{if(m||!t.prop)return!1;const xe=dt(oe);if(!O.value)return oe==null||oe(!1),!1;const ue=F(te);return ue.length===0?(oe==null||oe(!0),!0):(A("validating"),z(ue).then(()=>(oe==null||oe(!0),!0)).catch(we=>{const{fields:re}=we;return oe==null||oe(!1,re),xe?!1:Promise.reject(re)}))},H=()=>{A(""),f.value="",m=!1},V=async()=>{const te=r==null?void 0:r.model;if(!te||!t.prop)return;const oe=Om(te,t.prop);m=!0,oe.value=DM(g),await at(),H(),m=!1},W=te=>{c.value.includes(te)||c.value.push(te)},ie=te=>{c.value=c.value.filter(oe=>oe!==te)};Ve(()=>t.error,te=>{f.value=te||"",A(te?"error":"")},{immediate:!0}),Ve(()=>t.validateStatus,te=>A(te||""));const G=Gt({...fi(t),$el:h,size:o,validateState:u,labelId:l,inputIds:c,isGroup:M,hasLabel:S,fieldValue:L,addInputId:W,removeInputId:ie,resetField:V,clearValidate:H,validate:Y});return Dt(zs,G),St(()=>{t.prop&&(r==null||r.addField(G),g=DM(L.value))}),sn(()=>{r==null||r.removeField(G)}),e({size:o,validateMessage:f,validateState:u,validate:Y,clearValidate:H,resetField:V}),(te,oe)=>{var xe;return B(),se("div",{ref_key:"formItemRef",ref:h,class:U(p(b)),role:p(M)?"group":void 0,"aria-labelledby":p(M)?p(l):void 0},[ye(p(l9),{"is-auto-width":p(v).width==="auto","update-all":((xe=p(r))==null?void 0:xe.labelWidth)==="auto"},{default:Ee(()=>[p(S)?(B(),Oe(Pt(p(T)?"label":"div"),{key:0,id:p(l),for:p(T),class:U(p(a).e("label")),style:tt(p(v))},{default:Ee(()=>[Be(te.$slots,"label",{label:p(D)},()=>[Ht(qe(p(D)),1)])]),_:3},8,["id","for","class","style"])):ke("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),de("div",{class:U(p(a).e("content")),style:tt(p(y))},[Be(te.$slots,"default"),ye(rL,{name:`${p(a).namespace.value}-zoom-in-top`},{default:Ee(()=>[p($)?Be(te.$slots,"error",{key:0,error:f.value},()=>[de("div",{class:U(p(_))},qe(f.value),3)]):ke("v-if",!0)]),_:3},8,["name"])],6)],10,c9)}}});var ZR=je(d9,[["__file","form-item.vue"]]);const f9=At(CG,{FormItem:ZR}),h9=xn(ZR);let Yr;const p9=`
  height:0 !important;
  visibility:hidden !important;
  ${vL()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,m9=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function g9(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:m9.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:t}}function fT(n,e=1,t){var i;Yr||(Yr=document.createElement("textarea"),document.body.appendChild(Yr));const{paddingSize:r,borderSize:s,boxSizing:o,contextStyle:a}=g9(n);Yr.setAttribute("style",`${a};${p9}`),Yr.value=n.value||n.placeholder||"";let l=Yr.scrollHeight;const c={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-r),Yr.value="";const u=Yr.scrollHeight-r;if(ut(e)){let d=u*e;o==="border-box"&&(d=d+r+s),l=Math.max(d,l),c.minHeight=`${d}px`}if(ut(t)){let d=u*t;o==="border-box"&&(d=d+r+s),l=Math.min(d,l)}return c.height=`${l}px`,(i=Yr.parentNode)==null||i.removeChild(Yr),Yr=void 0,c}const v9=Ge({id:{type:String,default:void 0},size:ni,disabled:Boolean,modelValue:{type:Le([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Qt},prefixIcon:{type:Qt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Le([Object,Array,String]),default:()=>yn({})},autofocus:{type:Boolean,default:!1}}),y9={[Lt]:n=>vt(n),input:n=>vt(n),change:n=>vt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},b9=["role"],_9=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],x9=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],w9=pe({name:"ElInput",inheritAttrs:!1}),S9=pe({...w9,props:v9,emits:y9,setup(n,{expose:e,emit:t}){const i=n,r=Zl(),s=Yn(),o=I(()=>{const be={};return i.containerRole==="combobox"&&(be["aria-haspopup"]=r["aria-haspopup"],be["aria-owns"]=r["aria-owns"],be["aria-expanded"]=r["aria-expanded"]),be}),a=I(()=>[i.type==="textarea"?v.b():m.b(),m.m(h.value),m.is("disabled",g.value),m.is("exceed",W.value),{[m.b("group")]:s.prepend||s.append,[m.bm("group","append")]:s.append,[m.bm("group","prepend")]:s.prepend,[m.m("prefix")]:s.prefix||i.prefixIcon,[m.m("suffix")]:s.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:z.value&&Y.value},r.class]),l=I(()=>[m.e("wrapper"),m.is("focus",L.value)]),c=lw({excludeKeys:I(()=>Object.keys(o.value))}),{form:u,formItem:d}=qi(),{inputId:f}=Hs(i,{formItemContext:d}),h=Gn(),g=dr(),m=He("input"),v=He("textarea"),y=rn(),b=rn(),x=X(!1),_=X(!1),w=X(!1),S=X(),T=rn(i.inputStyle),M=I(()=>y.value||b.value),{wrapperRef:C,isFocused:L,handleFocus:E,handleBlur:O}=Tv(M,{afterBlur(){var be;i.validateEvent&&((be=d==null?void 0:d.validate)==null||be.call(d,"blur").catch(Pe=>void 0))}}),F=I(()=>{var be;return(be=u==null?void 0:u.statusIcon)!=null?be:!1}),R=I(()=>(d==null?void 0:d.validateState)||""),$=I(()=>R.value&&ow[R.value]),D=I(()=>w.value?kU:iU),A=I(()=>[r.style]),N=I(()=>[i.inputStyle,T.value,{resize:i.resize}]),P=I(()=>Kn(i.modelValue)?"":String(i.modelValue)),z=I(()=>i.clearable&&!g.value&&!i.readonly&&!!P.value&&(L.value||x.value)),Y=I(()=>i.showPassword&&!g.value&&!i.readonly&&!!P.value&&(!!P.value||L.value)),H=I(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!g.value&&!i.readonly&&!i.showPassword),V=I(()=>P.value.length),W=I(()=>!!H.value&&V.value>Number(i.maxlength)),ie=I(()=>!!s.suffix||!!i.suffixIcon||z.value||i.showPassword||H.value||!!R.value&&F.value),[G,te]=qW(y);bn(b,be=>{if(ue(),!H.value||i.resize!=="both")return;const Pe=be[0],{width:he}=Pe.contentRect;S.value={right:`calc(100% - ${he+15+6}px)`}});const oe=()=>{const{type:be,autosize:Pe}=i;if(!(!Vt||be!=="textarea"||!b.value))if(Pe){const he=It(Pe)?Pe.minRows:void 0,$e=It(Pe)?Pe.maxRows:void 0,ne=fT(b.value,he,$e);T.value={overflowY:"hidden",...ne},at(()=>{b.value.offsetHeight,T.value=ne})}else T.value={minHeight:fT(b.value).minHeight}},ue=(be=>{let Pe=!1;return()=>{var he;if(Pe||!i.autosize)return;((he=b.value)==null?void 0:he.offsetParent)===null||(be(),Pe=!0)}})(oe),we=()=>{const be=M.value,Pe=i.formatter?i.formatter(P.value):P.value;!be||be.value===Pe||(be.value=Pe)},re=async be=>{G();let{value:Pe}=be.target;if(i.formatter&&(Pe=i.parser?i.parser(Pe):Pe),!_.value){if(Pe===P.value){we();return}t(Lt,Pe),t("input",Pe),await at(),we(),te()}},j=be=>{t("change",be.target.value)},Z=be=>{t("compositionstart",be),_.value=!0},le=be=>{var Pe;t("compositionupdate",be);const he=(Pe=be.target)==null?void 0:Pe.value,$e=he[he.length-1]||"";_.value=!aw($e)},J=be=>{t("compositionend",be),_.value&&(_.value=!1,re(be))},k=()=>{w.value=!w.value,q()},q=async()=>{var be;await at(),(be=M.value)==null||be.focus()},ce=()=>{var be;return(be=M.value)==null?void 0:be.blur()},me=be=>{x.value=!1,t("mouseleave",be)},Ce=be=>{x.value=!0,t("mouseenter",be)},Q=be=>{t("keydown",be)},ee=()=>{var be;(be=M.value)==null||be.select()},Se=()=>{t(Lt,""),t("change",""),t("clear"),t("input","")};return Ve(()=>i.modelValue,()=>{var be;at(()=>oe()),i.validateEvent&&((be=d==null?void 0:d.validate)==null||be.call(d,"change").catch(Pe=>void 0))}),Ve(P,()=>we()),Ve(()=>i.type,async()=>{await at(),we(),oe()}),St(()=>{!i.formatter&&i.parser,we(),at(oe)}),e({input:y,textarea:b,ref:M,textareaStyle:N,autosize:tn(i,"autosize"),focus:q,blur:ce,select:ee,clear:Se,resizeTextarea:oe}),(be,Pe)=>_t((B(),se("div",Rt(p(o),{class:p(a),style:p(A),role:be.containerRole,onMouseenter:Ce,onMouseleave:me}),[ke(" input "),be.type!=="textarea"?(B(),se(rt,{key:0},[ke(" prepend slot "),be.$slots.prepend?(B(),se("div",{key:0,class:U(p(m).be("group","prepend"))},[Be(be.$slots,"prepend")],2)):ke("v-if",!0),de("div",{ref_key:"wrapperRef",ref:C,class:U(p(l))},[ke(" prefix slot "),be.$slots.prefix||be.prefixIcon?(B(),se("span",{key:0,class:U(p(m).e("prefix"))},[de("span",{class:U(p(m).e("prefix-inner"))},[Be(be.$slots,"prefix"),be.prefixIcon?(B(),Oe(p(et),{key:0,class:U(p(m).e("icon"))},{default:Ee(()=>[(B(),Oe(Pt(be.prefixIcon)))]),_:1},8,["class"])):ke("v-if",!0)],2)],2)):ke("v-if",!0),de("input",Rt({id:p(f),ref_key:"input",ref:y,class:p(m).e("inner")},p(c),{minlength:be.minlength,maxlength:be.maxlength,type:be.showPassword?w.value?"text":"password":be.type,disabled:p(g),readonly:be.readonly,autocomplete:be.autocomplete,tabindex:be.tabindex,"aria-label":be.label,placeholder:be.placeholder,style:be.inputStyle,form:be.form,autofocus:be.autofocus,onCompositionstart:Z,onCompositionupdate:le,onCompositionend:J,onInput:re,onFocus:Pe[0]||(Pe[0]=(...he)=>p(E)&&p(E)(...he)),onBlur:Pe[1]||(Pe[1]=(...he)=>p(O)&&p(O)(...he)),onChange:j,onKeydown:Q}),null,16,_9),ke(" suffix slot "),p(ie)?(B(),se("span",{key:1,class:U(p(m).e("suffix"))},[de("span",{class:U(p(m).e("suffix-inner"))},[!p(z)||!p(Y)||!p(H)?(B(),se(rt,{key:0},[Be(be.$slots,"suffix"),be.suffixIcon?(B(),Oe(p(et),{key:0,class:U(p(m).e("icon"))},{default:Ee(()=>[(B(),Oe(Pt(be.suffixIcon)))]),_:1},8,["class"])):ke("v-if",!0)],64)):ke("v-if",!0),p(z)?(B(),Oe(p(et),{key:1,class:U([p(m).e("icon"),p(m).e("clear")]),onMousedown:ft(p(jt),["prevent"]),onClick:Se},{default:Ee(()=>[ye(p(Ua))]),_:1},8,["class","onMousedown"])):ke("v-if",!0),p(Y)?(B(),Oe(p(et),{key:2,class:U([p(m).e("icon"),p(m).e("password")]),onClick:k},{default:Ee(()=>[(B(),Oe(Pt(p(D))))]),_:1},8,["class"])):ke("v-if",!0),p(H)?(B(),se("span",{key:3,class:U(p(m).e("count"))},[de("span",{class:U(p(m).e("count-inner"))},qe(p(V))+" / "+qe(be.maxlength),3)],2)):ke("v-if",!0),p(R)&&p($)&&p(F)?(B(),Oe(p(et),{key:4,class:U([p(m).e("icon"),p(m).e("validateIcon"),p(m).is("loading",p(R)==="validating")])},{default:Ee(()=>[(B(),Oe(Pt(p($))))]),_:1},8,["class"])):ke("v-if",!0)],2)],2)):ke("v-if",!0)],2),ke(" append slot "),be.$slots.append?(B(),se("div",{key:1,class:U(p(m).be("group","append"))},[Be(be.$slots,"append")],2)):ke("v-if",!0)],64)):(B(),se(rt,{key:1},[ke(" textarea "),de("textarea",Rt({id:p(f),ref_key:"textarea",ref:b,class:p(v).e("inner")},p(c),{minlength:be.minlength,maxlength:be.maxlength,tabindex:be.tabindex,disabled:p(g),readonly:be.readonly,autocomplete:be.autocomplete,style:p(N),"aria-label":be.label,placeholder:be.placeholder,form:be.form,autofocus:be.autofocus,onCompositionstart:Z,onCompositionupdate:le,onCompositionend:J,onInput:re,onFocus:Pe[2]||(Pe[2]=(...he)=>p(E)&&p(E)(...he)),onBlur:Pe[3]||(Pe[3]=(...he)=>p(O)&&p(O)(...he)),onChange:j,onKeydown:Q}),null,16,x9),p(H)?(B(),se("span",{key:0,style:tt(S.value),class:U(p(m).e("count"))},qe(p(V))+" / "+qe(be.maxlength),7)):ke("v-if",!0)],64))],16,b9)),[[Wt,be.type!=="hidden"]])}});var M9=je(S9,[["__file","input.vue"]]);const Ai=At(M9),tu=4,JR={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},T9=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),QR=Symbol("scrollbarContextKey"),E9=Ge({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),C9="Thumb",A9=pe({__name:"thumb",props:E9,setup(n){const e=n,t=Qe(QR),i=He("scrollbar");t||Wn(C9,"can not inject scrollbar context");const r=X(),s=X(),o=X({}),a=X(!1);let l=!1,c=!1,u=Vt?document.onselectstart:null;const d=I(()=>JR[e.vertical?"vertical":"horizontal"]),f=I(()=>T9({size:e.size,move:e.move,bar:d.value})),h=I(()=>r.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/s.value[d.value.offset]),g=S=>{var T;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(T=window.getSelection())==null||T.removeAllRanges(),v(S);const M=S.currentTarget;M&&(o.value[d.value.axis]=M[d.value.offset]-(S[d.value.client]-M.getBoundingClientRect()[d.value.direction]))},m=S=>{if(!s.value||!r.value||!t.wrapElement)return;const T=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),M=s.value[d.value.offset]/2,C=(T-M)*100*h.value/r.value[d.value.offset];t.wrapElement[d.value.scroll]=C*t.wrapElement[d.value.scrollSize]/100},v=S=>{S.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),u=document.onselectstart,document.onselectstart=()=>!1},y=S=>{if(!r.value||!s.value||l===!1)return;const T=o.value[d.value.axis];if(!T)return;const M=(r.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,C=s.value[d.value.offset]-T,L=(M-C)*100*h.value/r.value[d.value.offset];t.wrapElement[d.value.scroll]=L*t.wrapElement[d.value.scrollSize]/100},b=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),w(),c&&(a.value=!1)},x=()=>{c=!1,a.value=!!e.size},_=()=>{c=!0,a.value=l};sn(()=>{w(),document.removeEventListener("mouseup",b)});const w=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return gn(tn(t,"scrollbarElement"),"mousemove",x),gn(tn(t,"scrollbarElement"),"mouseleave",_),(S,T)=>(B(),Oe(Un,{name:p(i).b("fade"),persisted:""},{default:Ee(()=>[_t(de("div",{ref_key:"instance",ref:r,class:U([p(i).e("bar"),p(i).is(p(d).key)]),onMousedown:m},[de("div",{ref_key:"thumb",ref:s,class:U(p(i).e("thumb")),style:tt(p(f)),onMousedown:g},null,38)],34),[[Wt,S.always||a.value]])]),_:1},8,["name"]))}});var hT=je(A9,[["__file","thumb.vue"]]);const L9=Ge({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),R9=pe({__name:"bar",props:L9,setup(n,{expose:e}){const t=n,i=X(0),r=X(0);return e({handleScroll:o=>{if(o){const a=o.offsetHeight-tu,l=o.offsetWidth-tu;r.value=o.scrollTop*100/a*t.ratioY,i.value=o.scrollLeft*100/l*t.ratioX}}}),(o,a)=>(B(),se(rt,null,[ye(hT,{move:i.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),ye(hT,{move:r.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var P9=je(R9,[["__file","bar.vue"]]);const I9=Ge({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Le([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),k9={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(ut)},D9="ElScrollbar",N9=pe({name:D9}),O9=pe({...N9,props:I9,emits:k9,setup(n,{expose:e,emit:t}){const i=n,r=He("scrollbar");let s,o;const a=X(),l=X(),c=X(),u=X("0"),d=X("0"),f=X(),h=X(1),g=X(1),m=I(()=>{const T={};return i.height&&(T.height=Nn(i.height)),i.maxHeight&&(T.maxHeight=Nn(i.maxHeight)),[i.wrapStyle,T]}),v=I(()=>[i.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!i.native}]),y=I(()=>[r.e("view"),i.viewClass]),b=()=>{var T;l.value&&((T=f.value)==null||T.handleScroll(l.value),t("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function x(T,M){It(T)?l.value.scrollTo(T):ut(T)&&ut(M)&&l.value.scrollTo(T,M)}const _=T=>{ut(T)&&(l.value.scrollTop=T)},w=T=>{ut(T)&&(l.value.scrollLeft=T)},S=()=>{if(!l.value)return;const T=l.value.offsetHeight-tu,M=l.value.offsetWidth-tu,C=T**2/l.value.scrollHeight,L=M**2/l.value.scrollWidth,E=Math.max(C,i.minSize),O=Math.max(L,i.minSize);h.value=C/(T-C)/(E/(T-E)),g.value=L/(M-L)/(O/(M-O)),d.value=E+tu<T?`${E}px`:"",u.value=O+tu<M?`${O}px`:""};return Ve(()=>i.noresize,T=>{T?(s==null||s(),o==null||o()):({stop:s}=bn(c,S),o=gn("resize",S))},{immediate:!0}),Ve(()=>[i.maxHeight,i.height],()=>{i.native||at(()=>{var T;S(),l.value&&((T=f.value)==null||T.handleScroll(l.value))})}),Dt(QR,Gt({scrollbarElement:a,wrapElement:l})),St(()=>{i.native||at(()=>{S()})}),Ao(()=>S()),e({wrapRef:l,update:S,scrollTo:x,setScrollTop:_,setScrollLeft:w,handleScroll:b}),(T,M)=>(B(),se("div",{ref_key:"scrollbarRef",ref:a,class:U(p(r).b())},[de("div",{ref_key:"wrapRef",ref:l,class:U(p(v)),style:tt(p(m)),onScroll:b},[(B(),Oe(Pt(T.tag),{id:T.id,ref_key:"resizeRef",ref:c,class:U(p(y)),style:tt(T.viewStyle),role:T.role,"aria-label":T.ariaLabel,"aria-orientation":T.ariaOrientation},{default:Ee(()=>[Be(T.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),T.native?ke("v-if",!0):(B(),Oe(P9,{key:0,ref_key:"barRef",ref:f,height:d.value,width:u.value,always:T.always,"ratio-x":g.value,"ratio-y":h.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var F9=je(O9,[["__file","scrollbar.vue"]]);const ko=At(F9),Lw=Symbol("popper"),eP=Symbol("popperContent"),B9=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],tP=Ge({role:{type:String,values:B9,default:"tooltip"}}),z9=pe({name:"ElPopper",inheritAttrs:!1}),$9=pe({...z9,props:tP,setup(n,{expose:e}){const t=n,i=X(),r=X(),s=X(),o=X(),a=I(()=>t.role),l={triggerRef:i,popperInstanceRef:r,contentRef:s,referenceRef:o,role:a};return e(l),Dt(Lw,l),(c,u)=>Be(c.$slots,"default")}});var V9=je($9,[["__file","popper.vue"]]);const nP=Ge({arrowOffset:{type:Number,default:5}}),H9=pe({name:"ElPopperArrow",inheritAttrs:!1}),U9=pe({...H9,props:nP,setup(n,{expose:e}){const t=n,i=He("popper"),{arrowOffset:r,arrowRef:s,arrowStyle:o}=Qe(eP,void 0);return Ve(()=>t.arrowOffset,a=>{r.value=a}),sn(()=>{s.value=void 0}),e({arrowRef:s}),(a,l)=>(B(),se("span",{ref_key:"arrowRef",ref:s,class:U(p(i).e("arrow")),style:tt(p(o)),"data-popper-arrow":""},null,6))}});var W9=je(U9,[["__file","arrow.vue"]]);const G9="ElOnlyChild",iP=pe({name:G9,setup(n,{slots:e,attrs:t}){var i;const r=Qe(RR),s=fW((i=r==null?void 0:r.setForwardRef)!=null?i:jt);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,t);if(!a||a.length>1)return null;const l=rP(a);return l?_t(wo(l,t),[[s]]):null}}});function rP(n){if(!n)return null;const e=n;for(const t of e){if(It(t))switch(t.type){case zi:continue;case cd:case"svg":return pT(t);case rt:return rP(t.children);default:return t}return pT(t)}return null}function pT(n){const e=He("only-child");return ye("span",{class:e.e("content")},[n])}const sP=Ge({virtualRef:{type:Le(Object)},virtualTriggering:Boolean,onMouseenter:{type:Le(Function)},onMouseleave:{type:Le(Function)},onClick:{type:Le(Function)},onKeydown:{type:Le(Function)},onFocus:{type:Le(Function)},onBlur:{type:Le(Function)},onContextmenu:{type:Le(Function)},id:String,open:Boolean}),j9=pe({name:"ElPopperTrigger",inheritAttrs:!1}),K9=pe({...j9,props:sP,setup(n,{expose:e}){const t=n,{role:i,triggerRef:r}=Qe(Lw,void 0);dW(r);const s=I(()=>a.value?t.id:void 0),o=I(()=>{if(i&&i.value==="tooltip")return t.open&&t.id?t.id:void 0}),a=I(()=>{if(i&&i.value!=="tooltip")return i.value}),l=I(()=>a.value?`${t.open}`:void 0);let c;return St(()=>{Ve(()=>t.virtualRef,u=>{u&&(r.value=tr(u))},{immediate:!0}),Ve(r,(u,d)=>{c==null||c(),c=void 0,Vr(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const g=t[f];g&&(u.addEventListener(f.slice(2).toLowerCase(),g),(h=d==null?void 0:d.removeEventListener)==null||h.call(d,f.slice(2).toLowerCase(),g))}),c=Ve([s,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,g)=>{Kn(f[g])?u.removeAttribute(h):u.setAttribute(h,f[g])})},{immediate:!0})),Vr(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),sn(()=>{c==null||c(),c=void 0}),e({triggerRef:r}),(u,d)=>u.virtualTriggering?ke("v-if",!0):(B(),Oe(p(iP),Rt({key:0},u.$attrs,{"aria-controls":p(s),"aria-describedby":p(o),"aria-expanded":p(l),"aria-haspopup":p(a)}),{default:Ee(()=>[Be(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var q9=je(K9,[["__file","trigger.vue"]]);const _0="focus-trap.focus-after-trapped",x0="focus-trap.focus-after-released",Y9="focus-trap.focusout-prevented",mT={cancelable:!0,bubbles:!1},X9={cancelable:!0,bubbles:!1},gT="focusAfterTrapped",vT="focusAfterReleased",Rw=Symbol("elFocusTrap"),Pw=X(),Av=X(0),Iw=X(0);let hp=0;const oP=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},yT=(n,e)=>{for(const t of n)if(!Z9(t,e))return t},Z9=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},J9=n=>{const e=oP(n),t=yT(e,n),i=yT(e.reverse(),n);return[t,i]},Q9=n=>n instanceof HTMLInputElement&&"select"in n,ra=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),Iw.value=window.performance.now(),n!==t&&Q9(n)&&e&&n.select()}};function bT(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const e7=()=>{let n=[];return{push:i=>{const r=n[0];r&&i!==r&&r.pause(),n=bT(n,i),n.unshift(i)},remove:i=>{var r,s;n=bT(n,i),(s=(r=n[0])==null?void 0:r.resume)==null||s.call(r)}}},t7=(n,e=!1)=>{const t=document.activeElement;for(const i of n)if(ra(i,e),document.activeElement!==t)return},_T=e7(),n7=()=>Av.value>Iw.value,pp=()=>{Pw.value="pointer",Av.value=window.performance.now()},xT=()=>{Pw.value="keyboard",Av.value=window.performance.now()},i7=()=>(St(()=>{hp===0&&(document.addEventListener("mousedown",pp),document.addEventListener("touchstart",pp),document.addEventListener("keydown",xT)),hp++}),sn(()=>{hp--,hp<=0&&(document.removeEventListener("mousedown",pp),document.removeEventListener("touchstart",pp),document.removeEventListener("keydown",xT))}),{focusReason:Pw,lastUserFocusTimestamp:Av,lastAutomatedFocusTimestamp:Iw}),mp=n=>new CustomEvent(Y9,{...X9,detail:n}),r7=pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[gT,vT,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=X();let i,r;const{focusReason:s}=i7();oW(g=>{n.trapped&&!o.paused&&e("release-requested",g)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=g=>{if(!n.loop&&!n.trapped||o.paused)return;const{key:m,altKey:v,ctrlKey:y,metaKey:b,currentTarget:x,shiftKey:_}=g,{loop:w}=n,S=m===it.tab&&!v&&!y&&!b,T=document.activeElement;if(S&&T){const M=x,[C,L]=J9(M);if(C&&L){if(!_&&T===L){const O=mp({focusReason:s.value});e("focusout-prevented",O),O.defaultPrevented||(g.preventDefault(),w&&ra(C,!0))}else if(_&&[C,M].includes(T)){const O=mp({focusReason:s.value});e("focusout-prevented",O),O.defaultPrevented||(g.preventDefault(),w&&ra(L,!0))}}else if(T===M){const O=mp({focusReason:s.value});e("focusout-prevented",O),O.defaultPrevented||g.preventDefault()}}};Dt(Rw,{focusTrapRef:t,onKeydown:a}),Ve(()=>n.focusTrapEl,g=>{g&&(t.value=g)},{immediate:!0}),Ve([t],([g],[m])=>{g&&(g.addEventListener("keydown",a),g.addEventListener("focusin",u),g.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=g=>{e(gT,g)},c=g=>e(vT,g),u=g=>{const m=p(t);if(!m)return;const v=g.target,y=g.relatedTarget,b=v&&m.contains(v);n.trapped||y&&m.contains(y)||(i=y),b&&e("focusin",g),!o.paused&&n.trapped&&(b?r=v:ra(r,!0))},d=g=>{const m=p(t);if(!(o.paused||!m))if(n.trapped){const v=g.relatedTarget;!Kn(v)&&!m.contains(v)&&setTimeout(()=>{if(!o.paused&&n.trapped){const y=mp({focusReason:s.value});e("focusout-prevented",y),y.defaultPrevented||ra(r,!0)}},0)}else{const v=g.target;v&&m.contains(v)||e("focusout",g)}};async function f(){await at();const g=p(t);if(g){_T.push(o);const m=g.contains(document.activeElement)?i:document.activeElement;if(i=m,!g.contains(m)){const y=new Event(_0,mT);g.addEventListener(_0,l),g.dispatchEvent(y),y.defaultPrevented||at(()=>{let b=n.focusStartEl;vt(b)||(ra(b),document.activeElement!==b&&(b="first")),b==="first"&&t7(oP(g),!0),(document.activeElement===m||b==="container")&&ra(g)})}}}function h(){const g=p(t);if(g){g.removeEventListener(_0,l);const m=new CustomEvent(x0,{...mT,detail:{focusReason:s.value}});g.addEventListener(x0,c),g.dispatchEvent(m),!m.defaultPrevented&&(s.value=="keyboard"||!n7()||g.contains(document.activeElement))&&ra(i??document.body),g.removeEventListener(x0,c),_T.remove(o)}}return St(()=>{n.trapped&&f(),Ve(()=>n.trapped,g=>{g?f():h()})}),sn(()=>{n.trapped&&h()}),{onKeydown:a}}});function s7(n,e,t,i,r,s){return Be(n.$slots,"default",{handleKeydown:n.onKeydown})}var Vh=je(r7,[["render",s7],["__file","focus-trap.vue"]]);const o7=["fixed","absolute"],a7=Ge({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Le(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:nc,default:"bottom"},popperOptions:{type:Le(Object),default:()=>({})},strategy:{type:String,values:o7,default:"absolute"}}),aP=Ge({...a7,id:String,style:{type:Le([String,Array,Object])},className:{type:Le([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Le([String,Array,Object])},popperStyle:{type:Le([String,Array,Object])},referenceEl:{type:Le(Object)},triggerTargetEl:{type:Le(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),l7={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},c7=(n,e=[])=>{const{placement:t,strategy:i,popperOptions:r}=n,s={placement:t,strategy:i,...r,modifiers:[...d7(n),...e]};return f7(s,r==null?void 0:r.modifiers),s},u7=n=>{if(Vt)return tr(n)};function d7(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function f7(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const h7=0,p7=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:i,role:r}=Qe(Lw,void 0),s=X(),o=X(),a=I(()=>({name:"eventListeners",enabled:!!n.visible})),l=I(()=>{var y;const b=p(s),x=(y=p(o))!=null?y:h7;return{name:"arrow",enabled:!eR(b),options:{element:b,padding:x}}}),c=I(()=>({onFirstUpdate:()=>{g()},...c7(n,[p(l),p(a)])})),u=I(()=>u7(n.referenceEl)||p(i)),{attributes:d,state:f,styles:h,update:g,forceUpdate:m,instanceRef:v}=nW(u,t,c);return Ve(v,y=>e.value=y),St(()=>{Ve(()=>{var y;return(y=p(u))==null?void 0:y.getBoundingClientRect()},()=>{g()})}),{attributes:d,arrowRef:s,contentRef:t,instanceRef:v,state:f,styles:h,role:r,forceUpdate:m,update:g}},m7=(n,{attributes:e,styles:t,role:i})=>{const{nextZIndex:r}=dd(),s=He("popper"),o=I(()=>p(e).popper),a=X(ut(n.zIndex)?n.zIndex:r()),l=I(()=>[s.b(),s.is("pure",n.pure),s.is(n.effect),n.popperClass]),c=I(()=>[{zIndex:p(a)},p(t).popper,n.popperStyle||{}]),u=I(()=>i.value==="dialog"?"false":void 0),d=I(()=>p(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=ut(n.zIndex)?n.zIndex:r()}}},g7=(n,e)=>{const t=X(!1),i=X();return{focusStartRef:i,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(i.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},v7=pe({name:"ElPopperContent"}),y7=pe({...v7,props:aP,emits:l7,setup(n,{expose:e,emit:t}){const i=n,{focusStartRef:r,trapped:s,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=g7(i,t),{attributes:d,arrowRef:f,contentRef:h,styles:g,instanceRef:m,role:v,update:y}=p7(i),{ariaModal:b,arrowStyle:x,contentAttrs:_,contentClass:w,contentStyle:S,updateZIndex:T}=m7(i,{styles:g,attributes:d,role:v}),M=Qe(zs,void 0),C=X();Dt(eP,{arrowStyle:x,arrowRef:f,arrowOffset:C}),M&&(M.addInputId||M.removeInputId)&&Dt(zs,{...M,addInputId:jt,removeInputId:jt});let L;const E=(F=!0)=>{y(),F&&T()},O=()=>{E(!1),i.visible&&i.focusOnShow?s.value=!0:i.visible===!1&&(s.value=!1)};return St(()=>{Ve(()=>i.triggerTargetEl,(F,R)=>{L==null||L(),L=void 0;const $=p(F||h.value),D=p(R||h.value);Vr($)&&(L=Ve([v,()=>i.ariaLabel,b,()=>i.id],A=>{["role","aria-label","aria-modal","id"].forEach((N,P)=>{Kn(A[P])?$.removeAttribute(N):$.setAttribute(N,A[P])})},{immediate:!0})),D!==$&&Vr(D)&&["role","aria-label","aria-modal","id"].forEach(A=>{D.removeAttribute(A)})},{immediate:!0}),Ve(()=>i.visible,O,{immediate:!0})}),sn(()=>{L==null||L(),L=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:E,contentStyle:S}),(F,R)=>(B(),se("div",Rt({ref_key:"contentRef",ref:h},p(_),{style:p(S),class:p(w),tabindex:"-1",onMouseenter:R[0]||(R[0]=$=>F.$emit("mouseenter",$)),onMouseleave:R[1]||(R[1]=$=>F.$emit("mouseleave",$))}),[ye(p(Vh),{trapped:p(s),"trap-on-focus-in":!0,"focus-trap-el":p(h),"focus-start-el":p(r),onFocusAfterTrapped:p(a),onFocusAfterReleased:p(o),onFocusin:p(l),onFocusoutPrevented:p(c),onReleaseRequested:p(u)},{default:Ee(()=>[Be(F.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var b7=je(y7,[["__file","content.vue"]]);const lP=At(V9),Lv=Symbol("elTooltip"),li=Ge({...cW,...aP,appendTo:{type:Le([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Le(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Yf=Ge({...sP,disabled:Boolean,trigger:{type:Le([String,Array]),default:"hover"},triggerKeys:{type:Le(Array),default:()=>[it.enter,it.space]}}),{useModelToggleProps:_7,useModelToggleEmits:x7,useModelToggle:w7}=gR("visible"),S7=Ge({...tP,..._7,...li,...Yf,...nP,showArrow:{type:Boolean,default:!0}}),M7=[...x7,"before-show","before-hide","show","hide","open","close"],T7=(n,e)=>Je(n)?n.includes(e):n===e,lc=(n,e,t)=>i=>{T7(p(n),e)&&t(i)},E7=pe({name:"ElTooltipTrigger"}),C7=pe({...E7,props:Yf,setup(n,{expose:e}){const t=n,i=He("tooltip"),{controlled:r,id:s,open:o,onOpen:a,onClose:l,onToggle:c}=Qe(Lv,void 0),u=X(null),d=()=>{if(p(r)||t.disabled)return!0},f=tn(t,"trigger"),h=En(d,lc(f,"hover",a)),g=En(d,lc(f,"hover",l)),m=En(d,lc(f,"click",_=>{_.button===0&&c(_)})),v=En(d,lc(f,"focus",a)),y=En(d,lc(f,"focus",l)),b=En(d,lc(f,"contextmenu",_=>{_.preventDefault(),c(_)})),x=En(d,_=>{const{code:w}=_;t.triggerKeys.includes(w)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,w)=>(B(),Oe(p(q9),{id:p(s),"virtual-ref":_.virtualRef,open:p(o),"virtual-triggering":_.virtualTriggering,class:U(p(i).e("trigger")),onBlur:p(y),onClick:p(m),onContextmenu:p(b),onFocus:p(v),onMouseenter:p(h),onMouseleave:p(g),onKeydown:p(x)},{default:Ee(()=>[Be(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var A7=je(C7,[["__file","trigger.vue"]]);const L7=pe({name:"ElTooltipContent",inheritAttrs:!1}),R7=pe({...L7,props:li,setup(n,{expose:e}){const t=n,{selector:i}=LR(),r=He("tooltip"),s=X(null),o=X(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:g,onBeforeShow:m,onBeforeHide:v}=Qe(Lv,void 0),y=I(()=>t.transition||`${r.namespace.value}-fade-in-linear`),b=I(()=>t.persistent);sn(()=>{o.value=!0});const x=I(()=>p(b)?!0:p(c)),_=I(()=>t.disabled?!1:p(c)),w=I(()=>t.appendTo||i.value),S=I(()=>{var A;return(A=t.style)!=null?A:{}}),T=I(()=>!p(c)),M=()=>{g()},C=()=>{if(p(a))return!0},L=En(C,()=>{t.enterable&&p(u)==="hover"&&f()}),E=En(C,()=>{p(u)==="hover"&&d()}),O=()=>{var A,N;(N=(A=s.value)==null?void 0:A.updatePopper)==null||N.call(A),m==null||m()},F=()=>{v==null||v()},R=()=>{h(),D=Nx(I(()=>{var A;return(A=s.value)==null?void 0:A.popperContentRef}),()=>{if(p(a))return;p(u)!=="hover"&&d()})},$=()=>{t.virtualTriggering||d()};let D;return Ve(()=>p(c),A=>{A||D==null||D()},{flush:"post"}),Ve(()=>t.content,()=>{var A,N;(N=(A=s.value)==null?void 0:A.updatePopper)==null||N.call(A)}),e({contentRef:s}),(A,N)=>(B(),Oe(ld,{disabled:!A.teleported,to:p(w)},[ye(Un,{name:p(y),onAfterLeave:M,onBeforeEnter:O,onAfterEnter:R,onBeforeLeave:F},{default:Ee(()=>[p(x)?_t((B(),Oe(p(b7),Rt({key:0,id:p(l),ref_key:"contentRef",ref:s},A.$attrs,{"aria-label":A.ariaLabel,"aria-hidden":p(T),"boundaries-padding":A.boundariesPadding,"fallback-placements":A.fallbackPlacements,"gpu-acceleration":A.gpuAcceleration,offset:A.offset,placement:A.placement,"popper-options":A.popperOptions,strategy:A.strategy,effect:A.effect,enterable:A.enterable,pure:A.pure,"popper-class":A.popperClass,"popper-style":[A.popperStyle,p(S)],"reference-el":A.referenceEl,"trigger-target-el":A.triggerTargetEl,visible:p(_),"z-index":A.zIndex,onMouseenter:p(L),onMouseleave:p(E),onBlur:$,onClose:p(d)}),{default:Ee(()=>[o.value?ke("v-if",!0):Be(A.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Wt,p(_)]]):ke("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var P7=je(R7,[["__file","content.vue"]]);const I7=["innerHTML"],k7={key:1},D7=pe({name:"ElTooltip"}),N7=pe({...D7,props:S7,emits:M7,setup(n,{expose:e,emit:t}){const i=n;lW();const r=Li(),s=X(),o=X(),a=()=>{var y;const b=p(s);b&&((y=b.popperInstanceRef)==null||y.update())},l=X(!1),c=X(),{show:u,hide:d,hasUpdateHandler:f}=w7({indicator:l,toggleReason:c}),{onOpen:h,onClose:g}=uW({showAfter:tn(i,"showAfter"),hideAfter:tn(i,"hideAfter"),autoClose:tn(i,"autoClose"),open:u,close:d}),m=I(()=>zn(i.visible)&&!f.value);Dt(Lv,{controlled:m,id:r,open:ad(l),trigger:tn(i,"trigger"),onOpen:y=>{h(y)},onClose:y=>{g(y)},onToggle:y=>{p(l)?g(y):h(y)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:a}),Ve(()=>i.disabled,y=>{y&&l.value&&(l.value=!1)});const v=y=>{var b,x;const _=(x=(b=o.value)==null?void 0:b.contentRef)==null?void 0:x.popperContentRef,w=(y==null?void 0:y.relatedTarget)||document.activeElement;return _&&_.contains(w)};return I3(()=>l.value&&d()),e({popperRef:s,contentRef:o,isFocusInsideContent:v,updatePopper:a,onOpen:h,onClose:g,hide:d}),(y,b)=>(B(),Oe(p(lP),{ref_key:"popperRef",ref:s,role:y.role},{default:Ee(()=>[ye(A7,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:Ee(()=>[y.$slots.default?Be(y.$slots,"default",{key:0}):ke("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ye(P7,{ref_key:"contentRef",ref:o,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:Ee(()=>[Be(y.$slots,"content",{},()=>[y.rawContent?(B(),se("span",{key:0,innerHTML:y.content},null,8,I7)):(B(),se("span",k7,qe(y.content),1))]),y.showArrow?(B(),Oe(p(W9),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):ke("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var O7=je(N7,[["__file","tooltip.vue"]]);const Ri=At(O7),F7=Ge({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Le(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Le([Function,Array]),default:jt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:li.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),B7={[Lt]:n=>vt(n),[Vi]:n=>vt(n),[dn]:n=>vt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>It(n)},z7=["aria-expanded","aria-owns"],$7={key:0},V7=["id","aria-selected","onClick"],cP="ElAutocomplete",H7=pe({name:cP,inheritAttrs:!1}),U7=pe({...H7,props:F7,emits:B7,setup(n,{expose:e,emit:t}){const i=n,r=lw(),s=Zl(),o=dr(),a=He("autocomplete"),l=X(),c=X(),u=X(),d=X();let f=!1,h=!1;const g=X([]),m=X(-1),v=X(""),y=X(!1),b=X(!1),x=X(!1),_=Li(),w=I(()=>s.style),S=I(()=>(g.value.length>0||x.value)&&y.value),T=I(()=>!i.hideLoading&&x.value),M=I(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),C=()=>{S.value&&(v.value=`${l.value.$el.offsetWidth}px`)},L=()=>{m.value=-1},O=cr(async G=>{if(b.value)return;const te=oe=>{x.value=!1,!b.value&&(Je(oe)?(g.value=oe,m.value=i.highlightFirstItem?0:-1):Wn(cP,"autocomplete suggestions must be an array"))};if(x.value=!0,Je(i.fetchSuggestions))te(i.fetchSuggestions);else{const oe=await i.fetchSuggestions(G,te);Je(oe)&&te(oe)}},i.debounce),F=G=>{const te=!!G;if(t(Vi,G),t(Lt,G),b.value=!1,y.value||(y.value=te),!i.triggerOnFocus&&!G){b.value=!0,g.value=[];return}O(G)},R=G=>{var te;o.value||(((te=G.target)==null?void 0:te.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(y.value=!0)},$=G=>{t(dn,G)},D=G=>{h?h=!1:(y.value=!0,t("focus",G),i.triggerOnFocus&&!f&&O(String(i.modelValue)))},A=G=>{setTimeout(()=>{var te;if((te=u.value)!=null&&te.isFocusInsideContent()){h=!0;return}y.value&&Y(),t("blur",G)})},N=()=>{y.value=!1,t(Lt,""),t("clear")},P=async()=>{S.value&&m.value>=0&&m.value<g.value.length?W(g.value[m.value]):i.selectWhenUnmatched&&(t("select",{value:i.modelValue}),g.value=[],m.value=-1)},z=G=>{S.value&&(G.preventDefault(),G.stopPropagation(),Y())},Y=()=>{y.value=!1},H=()=>{var G;(G=l.value)==null||G.focus()},V=()=>{var G;(G=l.value)==null||G.blur()},W=async G=>{t(Vi,G[i.valueKey]),t(Lt,G[i.valueKey]),t("select",G),g.value=[],m.value=-1},ie=G=>{if(!S.value||x.value)return;if(G<0){m.value=-1;return}G>=g.value.length&&(G=g.value.length-1);const te=c.value.querySelector(`.${a.be("suggestion","wrap")}`),xe=te.querySelectorAll(`.${a.be("suggestion","list")} li`)[G],ue=te.scrollTop,{offsetTop:we,scrollHeight:re}=xe;we+re>ue+te.clientHeight&&(te.scrollTop+=re),we<ue&&(te.scrollTop-=re),m.value=G,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)};return Nx(d,()=>{S.value&&Y()}),St(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:y,loading:x,inputRef:l,popperRef:u,suggestions:g,handleSelect:W,handleKeyEnter:P,focus:H,blur:V,close:Y,highlight:ie}),(G,te)=>(B(),Oe(p(Ri),{ref_key:"popperRef",ref:u,visible:p(S),placement:G.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[p(a).e("popper"),G.popperClass],teleported:G.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${p(a).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:C,onHide:L},{content:Ee(()=>[de("div",{ref_key:"regionRef",ref:c,class:U([p(a).b("suggestion"),p(a).is("loading",p(T))]),style:tt({[G.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[ye(p(ko),{id:p(_),tag:"ul","wrap-class":p(a).be("suggestion","wrap"),"view-class":p(a).be("suggestion","list"),role:"listbox"},{default:Ee(()=>[p(T)?(B(),se("li",$7,[Be(G.$slots,"loading",{},()=>[ye(p(et),{class:U(p(a).is("loading"))},{default:Ee(()=>[ye(p(Wa))]),_:1},8,["class"])])])):(B(!0),se(rt,{key:1},Bt(g.value,(oe,xe)=>(B(),se("li",{id:`${p(_)}-item-${xe}`,key:xe,class:U({highlighted:m.value===xe}),role:"option","aria-selected":m.value===xe,onClick:ue=>W(oe)},[Be(G.$slots,"default",{item:oe},()=>[Ht(qe(oe[G.valueKey]),1)])],10,V7))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Ee(()=>[de("div",{ref_key:"listboxRef",ref:d,class:U([p(a).b(),G.$attrs.class]),style:tt(p(w)),role:"combobox","aria-haspopup":"listbox","aria-expanded":p(S),"aria-owns":p(_)},[ye(p(Ai),Rt({ref_key:"inputRef",ref:l},p(r),{clearable:G.clearable,disabled:p(o),name:G.name,"model-value":G.modelValue,onInput:F,onChange:$,onFocus:D,onBlur:A,onClear:N,onKeydown:[te[0]||(te[0]=Jt(ft(oe=>ie(m.value-1),["prevent"]),["up"])),te[1]||(te[1]=Jt(ft(oe=>ie(m.value+1),["prevent"]),["down"])),Jt(P,["enter"]),Jt(Y,["tab"]),Jt(z,["esc"])],onMousedown:R}),xo({_:2},[G.$slots.prepend?{name:"prepend",fn:Ee(()=>[Be(G.$slots,"prepend")])}:void 0,G.$slots.append?{name:"append",fn:Ee(()=>[Be(G.$slots,"append")])}:void 0,G.$slots.prefix?{name:"prefix",fn:Ee(()=>[Be(G.$slots,"prefix")])}:void 0,G.$slots.suffix?{name:"suffix",fn:Ee(()=>[Be(G.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,z7)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var W7=je(U7,[["__file","autocomplete.vue"]]);const G7=At(W7),j7=Ge({size:{type:[Number,String],values:Vs,default:"",validator:n=>ut(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Qt},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Le(String),default:"cover"}}),K7={error:n=>n instanceof Event},q7=["src","alt","srcset"],Y7=pe({name:"ElAvatar"}),X7=pe({...Y7,props:j7,emits:K7,setup(n,{emit:e}){const t=n,i=He("avatar"),r=X(!1),s=I(()=>{const{size:c,icon:u,shape:d}=t,f=[i.b()];return vt(c)&&f.push(i.m(c)),u&&f.push(i.m("icon")),d&&f.push(i.m(d)),f}),o=I(()=>{const{size:c}=t;return ut(c)?i.cssVarBlock({size:Nn(c)||""}):void 0}),a=I(()=>({objectFit:t.fit}));Ve(()=>t.src,()=>r.value=!1);function l(c){r.value=!0,e("error",c)}return(c,u)=>(B(),se("span",{class:U(p(s)),style:tt(p(o))},[(c.src||c.srcSet)&&!r.value?(B(),se("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:tt(p(a)),onError:l},null,44,q7)):c.icon?(B(),Oe(p(et),{key:1},{default:Ee(()=>[(B(),Oe(Pt(c.icon)))]),_:1})):Be(c.$slots,"default",{key:2})],6))}});var Z7=je(X7,[["__file","avatar.vue"]]);const J7=At(Z7),Q7={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ej={click:n=>n instanceof MouseEvent},tj=(n,e,t)=>{const i=rn(),r=rn(),s=X(!1),o=()=>{i.value&&(s.value=i.value.scrollTop>=n.visibilityHeight)},a=c=>{var u;(u=i.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=hL(o,300,!0);return gn(r,"scroll",l),St(()=>{var c;r.value=document,i.value=document.documentElement,n.target&&(i.value=(c=document.querySelector(n.target))!=null?c:void 0,i.value||Wn(t,`target does not exist: ${n.target}`),r.value=i.value),o()}),{visible:s,handleClick:a}},uP="ElBacktop",nj=pe({name:uP}),ij=pe({...nj,props:Q7,emits:ej,setup(n,{emit:e}){const t=n,i=He("backtop"),{handleClick:r,visible:s}=tj(t,e,uP),o=I(()=>({right:`${t.right}px`,bottom:`${t.bottom}px`}));return(a,l)=>(B(),Oe(Un,{name:`${p(i).namespace.value}-fade-in`},{default:Ee(()=>[p(s)?(B(),se("div",{key:0,style:tt(p(o)),class:U(p(i).b()),onClick:l[0]||(l[0]=ft((...c)=>p(r)&&p(r)(...c),["stop"]))},[Be(a.$slots,"default",{},()=>[ye(p(et),{class:U(p(i).e("icon"))},{default:Ee(()=>[ye(p(zH))]),_:1},8,["class"])])],6)):ke("v-if",!0)]),_:3},8,["name"]))}});var rj=je(ij,[["__file","backtop.vue"]]);const sj=At(rj),oj=Ge({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),aj=["textContent"],lj=pe({name:"ElBadge"}),cj=pe({...lj,props:oj,setup(n,{expose:e}){const t=n,i=He("badge"),r=I(()=>t.isDot?"":ut(t.value)&&ut(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return e({content:r}),(s,o)=>(B(),se("div",{class:U(p(i).b())},[Be(s.$slots,"default"),ye(Un,{name:`${p(i).namespace.value}-zoom-in-center`,persisted:""},{default:Ee(()=>[_t(de("sup",{class:U([p(i).e("content"),p(i).em("content",s.type),p(i).is("fixed",!!s.$slots.default),p(i).is("dot",s.isDot)]),textContent:qe(p(r))},null,10,aj),[[Wt,!s.hidden&&(p(r)||s.isDot)]])]),_:1},8,["name"])],2))}});var uj=je(cj,[["__file","badge.vue"]]);const dP=At(uj),fP=Symbol("breadcrumbKey"),dj=Ge({separator:{type:String,default:"/"},separatorIcon:{type:Qt}}),fj=pe({name:"ElBreadcrumb"}),hj=pe({...fj,props:dj,setup(n){const e=n,t=He("breadcrumb"),i=X();return Dt(fP,e),St(()=>{const r=i.value.querySelectorAll(`.${t.e("item")}`);r.length&&r[r.length-1].setAttribute("aria-current","page")}),(r,s)=>(B(),se("div",{ref_key:"breadcrumb",ref:i,class:U(p(t).b()),"aria-label":"Breadcrumb",role:"navigation"},[Be(r.$slots,"default")],2))}});var pj=je(hj,[["__file","breadcrumb.vue"]]);const mj=Ge({to:{type:Le([String,Object]),default:""},replace:{type:Boolean,default:!1}}),gj=pe({name:"ElBreadcrumbItem"}),vj=pe({...gj,props:mj,setup(n){const e=n,t=Mt(),i=Qe(fP,void 0),r=He("breadcrumb"),s=t.appContext.config.globalProperties.$router,o=X(),a=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(l,c)=>{var u,d;return B(),se("span",{class:U(p(r).e("item"))},[de("span",{ref_key:"link",ref:o,class:U([p(r).e("inner"),p(r).is("link",!!l.to)]),role:"link",onClick:a},[Be(l.$slots,"default")],2),(u=p(i))!=null&&u.separatorIcon?(B(),Oe(p(et),{key:0,class:U(p(r).e("separator"))},{default:Ee(()=>[(B(),Oe(Pt(p(i).separatorIcon)))]),_:1},8,["class"])):(B(),se("span",{key:1,class:U(p(r).e("separator")),role:"presentation"},qe((d=p(i))==null?void 0:d.separator),3))],2)}}});var hP=je(vj,[["__file","breadcrumb-item.vue"]]);const yj=At(pj,{BreadcrumbItem:hP}),bj=xn(hP),pP=Symbol("buttonGroupContextKey"),_j=(n,e)=>{Os({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},I(()=>n.type==="text"));const t=Qe(pP,void 0),i=Ev("button"),{form:r}=qi(),s=Gn(I(()=>t==null?void 0:t.size)),o=dr(),a=X(),l=Yn(),c=I(()=>n.type||(t==null?void 0:t.type)||""),u=I(()=>{var g,m,v;return(v=(m=n.autoInsertSpace)!=null?m:(g=i.value)==null?void 0:g.autoInsertSpace)!=null?v:!1}),d=I(()=>n.tag==="button"?{ariaDisabled:o.value||n.loading,disabled:o.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=I(()=>{var g;const m=(g=l.default)==null?void 0:g.call(l);if(u.value&&(m==null?void 0:m.length)===1){const v=m[0];if((v==null?void 0:v.type)===cd){const y=v.children;return/^\p{Unified_Ideograph}{2}$/u.test(y.trim())}}return!1});return{_disabled:o,_size:s,_type:c,_ref:a,_props:d,shouldAddSpace:f,handleClick:g=>{n.nativeType==="reset"&&(r==null||r.resetFields()),e("click",g)}}},Hb=["default","primary","success","warning","info","danger","text",""],xj=["button","submit","reset"],Ub=Ge({size:ni,disabled:Boolean,type:{type:String,values:Hb,default:""},icon:{type:Qt},nativeType:{type:String,values:xj,default:"button"},loading:Boolean,loadingIcon:{type:Qt,default:()=>Wa},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Le([String,Object]),default:"button"}}),wj={click:n=>n instanceof MouseEvent};function _i(n,e){Sj(n)&&(n="100%");var t=Mj(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function gp(n){return Math.min(1,Math.max(0,n))}function Sj(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Mj(n){return typeof n=="string"&&n.indexOf("%")!==-1}function mP(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function vp(n){return n<=1?"".concat(Number(n)*100,"%"):n}function bl(n){return n.length===1?"0"+n:String(n)}function Tj(n,e,t){return{r:_i(n,255)*255,g:_i(e,255)*255,b:_i(t,255)*255}}function wT(n,e,t){n=_i(n,255),e=_i(e,255),t=_i(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s=0,o=0,a=(i+r)/2;if(i===r)o=0,s=0;else{var l=i-r;switch(o=a>.5?l/(2-i-r):l/(i+r),i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function w0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ej(n,e,t){var i,r,s;if(n=_i(n,360),e=_i(e,100),t=_i(t,100),e===0)r=t,s=t,i=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=w0(a,o,n+1/3),r=w0(a,o,n),s=w0(a,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function ST(n,e,t){n=_i(n,255),e=_i(e,255),t=_i(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s=0,o=i,a=i-r,l=i===0?0:a/i;if(i===r)s=0;else{switch(i){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Cj(n,e,t){n=_i(n,360)*6,e=_i(e,100),t=_i(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),o=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],d=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:d*255}}function MT(n,e,t,i){var r=[bl(Math.round(n).toString(16)),bl(Math.round(e).toString(16)),bl(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Aj(n,e,t,i,r){var s=[bl(Math.round(n).toString(16)),bl(Math.round(e).toString(16)),bl(Math.round(t).toString(16)),bl(Lj(i))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Lj(n){return Math.round(parseFloat(n)*255).toString(16)}function TT(n){return vr(n)/255}function vr(n){return parseInt(n,16)}function Rj(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Wb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pj(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=Dj(n)),typeof n=="object"&&(qs(n.r)&&qs(n.g)&&qs(n.b)?(e=Tj(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):qs(n.h)&&qs(n.s)&&qs(n.v)?(i=vp(n.s),r=vp(n.v),e=Cj(n.h,i,r),o=!0,a="hsv"):qs(n.h)&&qs(n.s)&&qs(n.l)&&(i=vp(n.s),s=vp(n.l),e=Ej(n.h,i,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=mP(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Ij="[-\\+]?\\d+%?",kj="[-\\+]?\\d*\\.\\d+%?",pa="(?:".concat(kj,")|(?:").concat(Ij,")"),S0="[\\s|\\(]+(".concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")\\s*\\)?"),M0="[\\s|\\(]+(".concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")\\s*\\)?"),rs={CSS_UNIT:new RegExp(pa),rgb:new RegExp("rgb"+S0),rgba:new RegExp("rgba"+M0),hsl:new RegExp("hsl"+S0),hsla:new RegExp("hsla"+M0),hsv:new RegExp("hsv"+S0),hsva:new RegExp("hsva"+M0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Dj(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(Wb[n])n=Wb[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=rs.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=rs.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=rs.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=rs.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=rs.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=rs.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=rs.hex8.exec(n),t?{r:vr(t[1]),g:vr(t[2]),b:vr(t[3]),a:TT(t[4]),format:e?"name":"hex8"}:(t=rs.hex6.exec(n),t?{r:vr(t[1]),g:vr(t[2]),b:vr(t[3]),format:e?"name":"hex"}:(t=rs.hex4.exec(n),t?{r:vr(t[1]+t[1]),g:vr(t[2]+t[2]),b:vr(t[3]+t[3]),a:TT(t[4]+t[4]),format:e?"name":"hex8"}:(t=rs.hex3.exec(n),t?{r:vr(t[1]+t[1]),g:vr(t[2]+t[2]),b:vr(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function qs(n){return!!rs.CSS_UNIT.exec(String(n))}var gP=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=Rj(e)),this.originalInput=e;var r=Pj(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=mP(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=ST(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=ST(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=wT(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=wT(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),MT(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Aj(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(_i(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(_i(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+MT(this.r,this.g,this.b,!1),t=0,i=Object.entries(Wb);t<i.length;t++){var r=i[t],s=r[0],o=r[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,s=!t&&r&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=gp(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=gp(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=gp(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=gp(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),s=t/100,o={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,s=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(new n(i));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:i,s:r,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),r=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],s=360/e,o=1;o<e;o++)r.push(new n({h:(i+o*s)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function zo(n,e=20){return n.mix("#141414",e).toString()}function Nj(n){const e=dr(),t=He("button");return I(()=>{let i={};const r=n.color;if(r){const s=new gP(r),o=n.dark?s.tint(20).toString():zo(s,20);if(n.plain)i=t.cssVarBlock({"bg-color":n.dark?zo(s,90):s.tint(90).toString(),"text-color":r,"border-color":n.dark?zo(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=n.dark?zo(s,90):s.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=n.dark?zo(s,50):s.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=n.dark?zo(s,80):s.tint(80).toString());else{const a=n.dark?zo(s,30):s.tint(30).toString(),l=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const c=n.dark?zo(s,50):s.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=c,i[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=c}}}return i})}const Oj=pe({name:"ElButton"}),Fj=pe({...Oj,props:Ub,emits:wj,setup(n,{expose:e,emit:t}){const i=n,r=Nj(i),s=He("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=_j(i,t);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:d}),(h,g)=>(B(),Oe(Pt(h.tag),Rt({ref_key:"_ref",ref:o},p(u),{class:[p(s).b(),p(s).m(p(l)),p(s).m(p(a)),p(s).is("disabled",p(c)),p(s).is("loading",h.loading),p(s).is("plain",h.plain),p(s).is("round",h.round),p(s).is("circle",h.circle),p(s).is("text",h.text),p(s).is("link",h.link),p(s).is("has-bg",h.bg)],style:p(r),onClick:p(f)}),{default:Ee(()=>[h.loading?(B(),se(rt,{key:0},[h.$slots.loading?Be(h.$slots,"loading",{key:0}):(B(),Oe(p(et),{key:1,class:U(p(s).is("loading"))},{default:Ee(()=>[(B(),Oe(Pt(h.loadingIcon)))]),_:1},8,["class"]))],64)):h.icon||h.$slots.icon?(B(),Oe(p(et),{key:1},{default:Ee(()=>[h.icon?(B(),Oe(Pt(h.icon),{key:0})):Be(h.$slots,"icon",{key:1})]),_:3})):ke("v-if",!0),h.$slots.default?(B(),se("span",{key:2,class:U({[p(s).em("text","expand")]:p(d)})},[Be(h.$slots,"default")],2)):ke("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Bj=je(Fj,[["__file","button.vue"]]);const zj={size:Ub.size,type:Ub.type},$j=pe({name:"ElButtonGroup"}),Vj=pe({...$j,props:zj,setup(n){const e=n;Dt(pP,Gt({size:tn(e,"size"),type:tn(e,"type")}));const t=He("button");return(i,r)=>(B(),se("div",{class:U(`${p(t).b("group")}`)},[Be(i.$slots,"default")],2))}});var vP=je(Vj,[["__file","button-group.vue"]]);const ti=At(Bj,{ButtonGroup:vP}),yP=xn(vP);var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bP={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",g="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var $=["th","st","nd","rd"],D=R%100;return"["+R+($[(D-20)%10]||$[D]||$[0])+"]"}},x=function(R,$,D){var A=String(R);return!A||A.length>=$?R:""+Array($+1-A.length).join(D)+R},_={s:x,z:function(R){var $=-R.utcOffset(),D=Math.abs($),A=Math.floor(D/60),N=D%60;return($<=0?"+":"-")+x(A,2,"0")+":"+x(N,2,"0")},m:function R($,D){if($.date()<D.date())return-R(D,$);var A=12*(D.year()-$.year())+(D.month()-$.month()),N=$.clone().add(A,d),P=D-N<0,z=$.clone().add(A+(P?-1:1),d);return+(-(A+(D-N)/(P?N-z:z-N))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:d,y:h,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:f}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},w="en",S={};S[w]=b;var T="$isDayjsObject",M=function(R){return R instanceof O||!(!R||!R[T])},C=function R($,D,A){var N;if(!$)return w;if(typeof $=="string"){var P=$.toLowerCase();S[P]&&(N=P),D&&(S[P]=D,N=P);var z=$.split("-");if(!N&&z.length>1)return R(z[0])}else{var Y=$.name;S[Y]=$,N=Y}return!A&&N&&(w=N),N||!A&&w},L=function(R,$){if(M(R))return R.clone();var D=typeof $=="object"?$:{};return D.date=R,D.args=arguments,new O(D)},E=_;E.l=C,E.i=M,E.w=function(R,$){return L(R,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var O=function(){function R(D){this.$L=C(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[T]=!0}var $=R.prototype;return $.parse=function(D){this.$d=function(A){var N=A.date,P=A.utc;if(N===null)return new Date(NaN);if(E.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var z=N.match(v);if(z){var Y=z[2]-1||0,H=(z[7]||"0").substring(0,3);return P?new Date(Date.UTC(z[1],Y,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)):new Date(z[1],Y,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)}}return new Date(N)}(D),this.init()},$.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},$.$utils=function(){return E},$.isValid=function(){return this.$d.toString()!==m},$.isSame=function(D,A){var N=L(D);return this.startOf(A)<=N&&N<=this.endOf(A)},$.isAfter=function(D,A){return L(D)<this.startOf(A)},$.isBefore=function(D,A){return this.endOf(A)<L(D)},$.$g=function(D,A,N){return E.u(D)?this[A]:this.set(N,D)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(D,A){var N=this,P=!!E.u(A)||A,z=E.p(D),Y=function(xe,ue){var we=E.w(N.$u?Date.UTC(N.$y,ue,xe):new Date(N.$y,ue,xe),N);return P?we:we.endOf(c)},H=function(xe,ue){return E.w(N.toDate()[xe].apply(N.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ue)),N)},V=this.$W,W=this.$M,ie=this.$D,G="set"+(this.$u?"UTC":"");switch(z){case h:return P?Y(1,0):Y(31,11);case d:return P?Y(1,W):Y(0,W+1);case u:var te=this.$locale().weekStart||0,oe=(V<te?V+7:V)-te;return Y(P?ie-oe:ie+(6-oe),W);case c:case g:return H(G+"Hours",0);case l:return H(G+"Minutes",1);case a:return H(G+"Seconds",2);case o:return H(G+"Milliseconds",3);default:return this.clone()}},$.endOf=function(D){return this.startOf(D,!1)},$.$set=function(D,A){var N,P=E.p(D),z="set"+(this.$u?"UTC":""),Y=(N={},N[c]=z+"Date",N[g]=z+"Date",N[d]=z+"Month",N[h]=z+"FullYear",N[l]=z+"Hours",N[a]=z+"Minutes",N[o]=z+"Seconds",N[s]=z+"Milliseconds",N)[P],H=P===c?this.$D+(A-this.$W):A;if(P===d||P===h){var V=this.clone().set(g,1);V.$d[Y](H),V.init(),this.$d=V.set(g,Math.min(this.$D,V.daysInMonth())).$d}else Y&&this.$d[Y](H);return this.init(),this},$.set=function(D,A){return this.clone().$set(D,A)},$.get=function(D){return this[E.p(D)]()},$.add=function(D,A){var N,P=this;D=Number(D);var z=E.p(A),Y=function(W){var ie=L(P);return E.w(ie.date(ie.date()+Math.round(W*D)),P)};if(z===d)return this.set(d,this.$M+D);if(z===h)return this.set(h,this.$y+D);if(z===c)return Y(1);if(z===u)return Y(7);var H=(N={},N[a]=i,N[l]=r,N[o]=t,N)[z]||1,V=this.$d.getTime()+D*H;return E.w(V,this)},$.subtract=function(D,A){return this.add(-1*D,A)},$.format=function(D){var A=this,N=this.$locale();if(!this.isValid())return N.invalidDate||m;var P=D||"YYYY-MM-DDTHH:mm:ssZ",z=E.z(this),Y=this.$H,H=this.$m,V=this.$M,W=N.weekdays,ie=N.months,G=N.meridiem,te=function(ue,we,re,j){return ue&&(ue[we]||ue(A,P))||re[we].slice(0,j)},oe=function(ue){return E.s(Y%12||12,ue,"0")},xe=G||function(ue,we,re){var j=ue<12?"AM":"PM";return re?j.toLowerCase():j};return P.replace(y,function(ue,we){return we||function(re){switch(re){case"YY":return String(A.$y).slice(-2);case"YYYY":return E.s(A.$y,4,"0");case"M":return V+1;case"MM":return E.s(V+1,2,"0");case"MMM":return te(N.monthsShort,V,ie,3);case"MMMM":return te(ie,V);case"D":return A.$D;case"DD":return E.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return te(N.weekdaysMin,A.$W,W,2);case"ddd":return te(N.weekdaysShort,A.$W,W,3);case"dddd":return W[A.$W];case"H":return String(Y);case"HH":return E.s(Y,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return xe(Y,H,!0);case"A":return xe(Y,H,!1);case"m":return String(H);case"mm":return E.s(H,2,"0");case"s":return String(A.$s);case"ss":return E.s(A.$s,2,"0");case"SSS":return E.s(A.$ms,3,"0");case"Z":return z}return null}(ue)||z.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(D,A,N){var P,z=this,Y=E.p(A),H=L(D),V=(H.utcOffset()-this.utcOffset())*i,W=this-H,ie=function(){return E.m(z,H)};switch(Y){case h:P=ie()/12;break;case d:P=ie();break;case f:P=ie()/3;break;case u:P=(W-V)/6048e5;break;case c:P=(W-V)/864e5;break;case l:P=W/r;break;case a:P=W/i;break;case o:P=W/t;break;default:P=W}return N?P:E.a(P)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return S[this.$L]},$.locale=function(D,A){if(!D)return this.$L;var N=this.clone(),P=C(D,A,!0);return P&&(N.$L=P),N},$.clone=function(){return E.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},R}(),F=O.prototype;return L.prototype=F,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",g]].forEach(function(R){F[R[1]]=function($){return this.$g($,R[0],R[1])}}),L.extend=function(R,$){return R.$i||(R($,O,L),R.$i=!0),L},L.locale=C,L.isDayjs=M,L.unix=function(R){return L(1e3*R)},L.en=S[w],L.Ls=S,L.p={},L})})(bP);var Hj=bP.exports;const Et=No(Hj);var _P={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(v){this[m]=+v}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(m)}],d=function(m){var v=a[m];return v&&(v.indexOf?v:v.s.concat(v.f))},f=function(m,v){var y,b=a.meridiem;if(b){for(var x=1;x<=24;x+=1)if(m.indexOf(b(x,0,v))>-1){y=x>12;break}}else y=m===(v?"pm":"PM");return y},h={A:[o,function(m){this.afternoon=f(m,!1)}],a:[o,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[r,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[r,c("day")],Do:[o,function(m){var v=a.ordinal,y=m.match(/\d+/);if(this.day=y[0],v)for(var b=1;b<=31;b+=1)v(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[s,c("month")],MM:[r,c("month")],MMM:[o,function(m){var v=d("months"),y=(d("monthsShort")||v.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(m){var v=d("months").indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(m){var v,y;v=m,y=a&&a.formats;for(var b=(m=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,L,E){var O=E&&E.toUpperCase();return L||y[E]||t[E]||y[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,R,$){return R||$.slice(1)})})).match(i),x=b.length,_=0;_<x;_+=1){var w=b[_],S=h[w],T=S&&S[0],M=S&&S[1];b[_]=M?{regex:T,parser:M}:w.replace(/^\[|\]$/g,"")}return function(C){for(var L={},E=0,O=0;E<x;E+=1){var F=b[E];if(typeof F=="string")O+=F.length;else{var R=F.regex,$=F.parser,D=C.slice(O),A=R.exec(D)[0];$.call(L,A),C=C.replace(A,"")}}return function(N){var P=N.afternoon;if(P!==void 0){var z=N.hours;P?z<12&&(N.hours+=12):z===12&&(N.hours=0),delete N.afternoon}}(L),L}}return function(m,v,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var b=v.prototype,x=b.parse;b.parse=function(_){var w=_.date,S=_.utc,T=_.args;this.$u=S;var M=T[1];if(typeof M=="string"){var C=T[2]===!0,L=T[3]===!0,E=C||L,O=T[2];L&&(O=T[2]),a=this.$locale(),!C&&O&&(a=y.Ls[O]),this.$d=function(D,A,N){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*D);var P=g(A)(D),z=P.year,Y=P.month,H=P.day,V=P.hours,W=P.minutes,ie=P.seconds,G=P.milliseconds,te=P.zone,oe=new Date,xe=H||(z||Y?1:oe.getDate()),ue=z||oe.getFullYear(),we=0;z&&!Y||(we=Y>0?Y-1:oe.getMonth());var re=V||0,j=W||0,Z=ie||0,le=G||0;return te?new Date(Date.UTC(ue,we,xe,re,j,Z,le+60*te.offset*1e3)):N?new Date(Date.UTC(ue,we,xe,re,j,Z,le)):new Date(ue,we,xe,re,j,Z,le)}catch{return new Date("")}}(w,M,S),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),E&&w!=this.format(M)&&(this.$d=new Date("")),a={}}else if(M instanceof Array)for(var F=M.length,R=1;R<=F;R+=1){T[1]=M[R-1];var $=y.apply(this,T);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}R===F&&(this.$d=new Date(""))}else x.call(this,_)}}})})(_P);var Uj=_P.exports;const kw=No(Uj),ET=["hours","minutes","seconds"],Gb="HH:mm:ss",qc="YYYY-MM-DD",Wj={date:qc,dates:qc,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${qc} ${Gb}`,monthrange:"YYYY-MM",daterange:qc,datetimerange:`${qc} ${Gb}`},T0=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],wa=n=>Array.from(Array.from({length:n}).keys()),xP=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),wP=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),CT=function(n,e){const t=Fl(n),i=Fl(e);return t&&i?n.getTime()===e.getTime():!t&&!i?n===e:!1},AT=function(n,e){const t=Je(n),i=Je(e);return t&&i?n.length!==e.length?!1:n.every((r,s)=>CT(r,e[s])):!t&&!i?CT(n,e):!1},LT=function(n,e,t){const i=kr(e)||e==="x"?Et(n).locale(t):Et(n,e).locale(t);return i.isValid()?i:void 0},RT=function(n,e,t){return kr(e)?n:e==="x"?+n:Et(n).locale(t).format(e)},E0=(n,e)=>{var t;const i=[],r=e==null?void 0:e();for(let s=0;s<n;s++)i.push((t=r==null?void 0:r.includes(s))!=null?t:!1);return i},SP=Ge({disabledHours:{type:Le(Function)},disabledMinutes:{type:Le(Function)},disabledSeconds:{type:Le(Function)}}),MP=Ge({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Dw=Ge({id:{type:Le([Array,String])},name:{type:Le([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Le([String,Object]),default:Ua},editable:{type:Boolean,default:!0},prefixIcon:{type:Le([String,Object]),default:""},size:ni,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Le(Object),default:()=>({})},modelValue:{type:Le([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Le([Date,Array])},defaultTime:{type:Le([Date,Array])},isRange:Boolean,...SP,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:Le([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Gj=["id","name","placeholder","value","disabled","readonly"],jj=["id","name","placeholder","value","disabled","readonly"],Kj=pe({name:"Picker"}),qj=pe({...Kj,props:Dw,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const i=n,r=Zl(),{lang:s}=Ut(),o=He("date"),a=He("input"),l=He("range"),{form:c,formItem:u}=qi(),d=Qe("ElPopperOptions",{}),f=X(),h=X(),g=X(!1),m=X(!1),v=X(null);let y=!1,b=!1;const x=I(()=>[o.b("editor"),o.bm("editor",i.type),a.e("wrapper"),o.is("disabled",H.value),o.is("active",g.value),l.b("editor"),k?l.bm("editor",k.value):"",r.class]),_=I(()=>[a.e("icon"),l.e("close-icon"),xe.value?"":l.e("close-icon--hidden")]);Ve(g,ve=>{ve?at(()=>{ve&&(v.value=i.modelValue)}):(me.value=null,at(()=>{w(i.modelValue)}))});const w=(ve,Ue)=>{(Ue||!AT(ve,v.value))&&(t("change",ve),i.validateEvent&&(u==null||u.validate("change").catch(Ae=>void 0)))},S=ve=>{if(!AT(i.modelValue,ve)){let Ue;Je(ve)?Ue=ve.map(Ae=>RT(Ae,i.valueFormat,s.value)):ve&&(Ue=RT(ve,i.valueFormat,s.value)),t("update:modelValue",ve&&Ue,s.value)}},T=ve=>{t("keydown",ve)},M=I(()=>{if(h.value){const ve=J.value?h.value:h.value.$el;return Array.from(ve.querySelectorAll("input"))}return[]}),C=(ve,Ue,Ae)=>{const Ye=M.value;Ye.length&&(!Ae||Ae==="min"?(Ye[0].setSelectionRange(ve,Ue),Ye[0].focus()):Ae==="max"&&(Ye[1].setSelectionRange(ve,Ue),Ye[1].focus()))},L=()=>{N(!0,!0),at(()=>{b=!1})},E=(ve="",Ue=!1)=>{Ue||(b=!0),g.value=Ue;let Ae;Je(ve)?Ae=ve.map(Ye=>Ye.toDate()):Ae=ve&&ve.toDate(),me.value=null,S(Ae)},O=()=>{m.value=!0},F=()=>{t("visible-change",!0)},R=ve=>{(ve==null?void 0:ve.key)===it.esc&&N(!0,!0)},$=()=>{m.value=!1,g.value=!1,b=!1,t("visible-change",!1)},D=()=>{g.value=!0},A=()=>{g.value=!1},N=(ve=!0,Ue=!1)=>{b=Ue;const[Ae,Ye]=p(M);let Ke=Ae;!ve&&J.value&&(Ke=Ye),Ke&&Ke.focus()},P=ve=>{i.readonly||H.value||g.value||b||(g.value=!0,t("focus",ve))};let z;const Y=ve=>{const Ue=async()=>{setTimeout(()=>{var Ae;z===Ue&&(!((Ae=f.value)!=null&&Ae.isFocusInsideContent()&&!y)&&M.value.filter(Ye=>Ye.contains(document.activeElement)).length===0&&(Ce(),g.value=!1,t("blur",ve),i.validateEvent&&(u==null||u.validate("blur").catch(Ye=>void 0))),y=!1)},0)};z=Ue,Ue()},H=I(()=>i.disabled||(c==null?void 0:c.disabled)),V=I(()=>{let ve;if(we.value?fe.value.getDefaultValue&&(ve=fe.value.getDefaultValue()):Je(i.modelValue)?ve=i.modelValue.map(Ue=>LT(Ue,i.valueFormat,s.value)):ve=LT(i.modelValue,i.valueFormat,s.value),fe.value.getRangeAvailableTime){const Ue=fe.value.getRangeAvailableTime(ve);bi(Ue,ve)||(ve=Ue,S(Je(ve)?ve.map(Ae=>Ae.toDate()):ve.toDate()))}return Je(ve)&&ve.some(Ue=>!Ue)&&(ve=[]),ve}),W=I(()=>{if(!fe.value.panelReady)return"";const ve=ee(V.value);return Je(me.value)?[me.value[0]||ve&&ve[0]||"",me.value[1]||ve&&ve[1]||""]:me.value!==null?me.value:!G.value&&we.value||!g.value&&we.value?"":ve?te.value?ve.join(", "):ve:""}),ie=I(()=>i.type.includes("time")),G=I(()=>i.type.startsWith("time")),te=I(()=>i.type==="dates"),oe=I(()=>i.prefixIcon||(ie.value?oR:OH)),xe=X(!1),ue=ve=>{i.readonly||H.value||xe.value&&(ve.stopPropagation(),L(),S(null),w(null,!0),xe.value=!1,g.value=!1,fe.value.handleClear&&fe.value.handleClear())},we=I(()=>{const{modelValue:ve}=i;return!ve||Je(ve)&&!ve.filter(Boolean).length}),re=async ve=>{var Ue;i.readonly||H.value||(((Ue=ve.target)==null?void 0:Ue.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(g.value=!0)},j=()=>{i.readonly||H.value||!we.value&&i.clearable&&(xe.value=!0)},Z=()=>{xe.value=!1},le=ve=>{var Ue;i.readonly||H.value||(((Ue=ve.touches[0].target)==null?void 0:Ue.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(g.value=!0)},J=I(()=>i.type.includes("range")),k=Gn(),q=I(()=>{var ve,Ue;return(Ue=(ve=p(f))==null?void 0:ve.popperRef)==null?void 0:Ue.contentRef}),ce=I(()=>{var ve;return p(J)?p(h):(ve=p(h))==null?void 0:ve.$el});Nx(ce,ve=>{const Ue=p(q),Ae=p(ce);Ue&&(ve.target===Ue||ve.composedPath().includes(Ue))||ve.target===Ae||ve.composedPath().includes(Ae)||(g.value=!1)});const me=X(null),Ce=()=>{if(me.value){const ve=Q(W.value);ve&&Se(ve)&&(S(Je(ve)?ve.map(Ue=>Ue.toDate()):ve.toDate()),me.value=null)}me.value===""&&(S(null),w(null),me.value=null)},Q=ve=>ve?fe.value.parseUserInput(ve):null,ee=ve=>ve?fe.value.formatToString(ve):null,Se=ve=>fe.value.isValidValue(ve),be=async ve=>{if(i.readonly||H.value)return;const{code:Ue}=ve;if(T(ve),Ue===it.esc){g.value===!0&&(g.value=!1,ve.preventDefault(),ve.stopPropagation());return}if(Ue===it.down&&(fe.value.handleFocusPicker&&(ve.preventDefault(),ve.stopPropagation()),g.value===!1&&(g.value=!0,await at()),fe.value.handleFocusPicker)){fe.value.handleFocusPicker();return}if(Ue===it.tab){y=!0;return}if(Ue===it.enter||Ue===it.numpadEnter){(me.value===null||me.value===""||Se(Q(W.value)))&&(Ce(),g.value=!1),ve.stopPropagation();return}if(me.value){ve.stopPropagation();return}fe.value.handleKeydownInput&&fe.value.handleKeydownInput(ve)},Pe=ve=>{me.value=ve,g.value||(g.value=!0)},he=ve=>{const Ue=ve.target;me.value?me.value=[Ue.value,me.value[1]]:me.value=[Ue.value,null]},$e=ve=>{const Ue=ve.target;me.value?me.value=[me.value[0],Ue.value]:me.value=[null,Ue.value]},ne=()=>{var ve;const Ue=me.value,Ae=Q(Ue&&Ue[0]),Ye=p(V);if(Ae&&Ae.isValid()){me.value=[ee(Ae),((ve=W.value)==null?void 0:ve[1])||null];const Ke=[Ae,Ye&&(Ye[1]||null)];Se(Ke)&&(S(Ke),me.value=null)}},Re=()=>{var ve;const Ue=p(me),Ae=Q(Ue&&Ue[1]),Ye=p(V);if(Ae&&Ae.isValid()){me.value=[((ve=p(W))==null?void 0:ve[0])||null,ee(Ae)];const Ke=[Ye&&Ye[0],Ae];Se(Ke)&&(S(Ke),me.value=null)}},fe=X({}),ge=ve=>{fe.value[ve[0]]=ve[1],fe.value.panelReady=!0},_e=ve=>{t("calendar-change",ve)},Ne=(ve,Ue,Ae)=>{t("panel-change",ve,Ue,Ae)};return Dt("EP_PICKER_BASE",{props:i}),e({focus:N,handleFocusInput:P,handleBlurInput:Y,handleOpen:D,handleClose:A,onPick:E}),(ve,Ue)=>(B(),Oe(p(Ri),Rt({ref_key:"refPopper",ref:f,visible:g.value,effect:"light",pure:"",trigger:"click"},ve.$attrs,{role:"dialog",teleported:"",transition:`${p(o).namespace.value}-zoom-in-top`,"popper-class":[`${p(o).namespace.value}-picker__popper`,ve.popperClass],"popper-options":p(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:O,onShow:F,onHide:$}),{default:Ee(()=>[p(J)?(B(),se("div",{key:1,ref_key:"inputRef",ref:h,class:U(p(x)),style:tt(ve.$attrs.style),onClick:P,onMouseenter:j,onMouseleave:Z,onTouchstart:le,onKeydown:be},[p(oe)?(B(),Oe(p(et),{key:0,class:U([p(a).e("icon"),p(l).e("icon")]),onMousedown:ft(re,["prevent"]),onTouchstart:le},{default:Ee(()=>[(B(),Oe(Pt(p(oe))))]),_:1},8,["class","onMousedown"])):ke("v-if",!0),de("input",{id:ve.id&&ve.id[0],autocomplete:"off",name:ve.name&&ve.name[0],placeholder:ve.startPlaceholder,value:p(W)&&p(W)[0],disabled:p(H),readonly:!ve.editable||ve.readonly,class:U(p(l).b("input")),onMousedown:re,onInput:he,onChange:ne,onFocus:P,onBlur:Y},null,42,Gj),Be(ve.$slots,"range-separator",{},()=>[de("span",{class:U(p(l).b("separator"))},qe(ve.rangeSeparator),3)]),de("input",{id:ve.id&&ve.id[1],autocomplete:"off",name:ve.name&&ve.name[1],placeholder:ve.endPlaceholder,value:p(W)&&p(W)[1],disabled:p(H),readonly:!ve.editable||ve.readonly,class:U(p(l).b("input")),onMousedown:re,onFocus:P,onBlur:Y,onInput:$e,onChange:Re},null,42,jj),ve.clearIcon?(B(),Oe(p(et),{key:1,class:U(p(_)),onClick:ue},{default:Ee(()=>[(B(),Oe(Pt(ve.clearIcon)))]),_:1},8,["class"])):ke("v-if",!0)],38)):(B(),Oe(p(Ai),{key:0,id:ve.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":p(W),name:ve.name,size:p(k),disabled:p(H),placeholder:ve.placeholder,class:U([p(o).b("editor"),p(o).bm("editor",ve.type),ve.$attrs.class]),style:tt(ve.$attrs.style),readonly:!ve.editable||ve.readonly||p(te)||ve.type==="week",label:ve.label,tabindex:ve.tabindex,"validate-event":!1,onInput:Pe,onFocus:P,onBlur:Y,onKeydown:be,onChange:Ce,onMousedown:re,onMouseenter:j,onMouseleave:Z,onTouchstart:le,onClick:Ue[0]||(Ue[0]=ft(()=>{},["stop"]))},{prefix:Ee(()=>[p(oe)?(B(),Oe(p(et),{key:0,class:U(p(a).e("icon")),onMousedown:ft(re,["prevent"]),onTouchstart:le},{default:Ee(()=>[(B(),Oe(Pt(p(oe))))]),_:1},8,["class","onMousedown"])):ke("v-if",!0)]),suffix:Ee(()=>[xe.value&&ve.clearIcon?(B(),Oe(p(et),{key:0,class:U(`${p(a).e("icon")} clear-icon`),onClick:ft(ue,["stop"])},{default:Ee(()=>[(B(),Oe(Pt(ve.clearIcon)))]),_:1},8,["class","onClick"])):ke("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ee(()=>[Be(ve.$slots,"default",{visible:g.value,actualVisible:m.value,parsedValue:p(V),format:ve.format,dateFormat:ve.dateFormat,timeFormat:ve.timeFormat,unlinkPanels:ve.unlinkPanels,type:ve.type,defaultValue:ve.defaultValue,onPick:E,onSelectRange:C,onSetPickerOption:ge,onCalendarChange:_e,onPanelChange:Ne,onKeydown:R,onMousedown:Ue[1]||(Ue[1]=ft(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var TP=je(qj,[["__file","picker.vue"]]);const Yj=Ge({...MP,datetimeRole:String,parsedValue:{type:Le(Object)}}),EP=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const i=(o,a,l,c)=>{const u={hour:n,minute:e,second:t};let d=o;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const g=u[f];switch(f){case"minute":{h=g(d.hour(),a,c);break}case"second":{h=g(d.hour(),d.minute(),a,c);break}default:{h=g(a,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},r={};return{timePickerOptions:r,getAvailableTime:i,onSetOption:([o,a])=>{r[o]=a}}},C0=n=>{const e=(i,r)=>i||r,t=i=>i!==!0;return n.map(e).filter(t)},CP=(n,e,t)=>({getHoursList:(o,a)=>E0(24,n&&(()=>n==null?void 0:n(o,a))),getMinutesList:(o,a,l)=>E0(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,c)=>E0(60,t&&(()=>t==null?void 0:t(o,a,l,c)))}),AP=(n,e,t)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:s}=CP(n,e,t);return{getAvailableHours:(c,u)=>C0(i(c,u)),getAvailableMinutes:(c,u,d)=>C0(r(c,u,d)),getAvailableSeconds:(c,u,d,f)=>C0(s(c,u,d,f))}},LP=n=>{const e=X(n.parsedValue);return Ve(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},sa=new Map;let PT;Vt&&(document.addEventListener("mousedown",n=>PT=n),document.addEventListener("mouseup",n=>{for(const e of sa.values())for(const{documentHandler:t}of e)t(n,PT)}));function IT(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:Vr(e.arg)&&t.push(e.arg),function(i,r){const s=e.instance.popperRef,o=i.target,a=r==null?void 0:r.target,l=!e||!e.instance,c=!o||!a,u=n.contains(o)||n.contains(a),d=n===o,f=t.length&&t.some(g=>g==null?void 0:g.contains(o))||t.length&&t.includes(a),h=s&&(s.contains(o)||s.contains(a));l||c||u||d||f||h||e.value(i,r)}}const To={beforeMount(n,e){sa.has(n)||sa.set(n,[]),sa.get(n).push({documentHandler:IT(n,e),bindingFn:e.value})},updated(n,e){sa.has(n)||sa.set(n,[]);const t=sa.get(n),i=t.findIndex(s=>s.bindingFn===e.oldValue),r={documentHandler:IT(n,e),bindingFn:e.value};i>=0?t.splice(i,1,r):t.push(r)},unmounted(n){sa.delete(n)}},Xj=100,Zj=600,Ag={beforeMount(n,e){const t=e.value,{interval:i=Xj,delay:r=Zj}=dt(t)?{}:t;let s,o;const a=()=>dt(t)?t():t.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),s&&(clearInterval(s),s=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{s=setInterval(()=>{a()},i)},r))})}},jb="_trap-focus-children",_l=[],kT=n=>{if(_l.length===0)return;const e=_l[_l.length-1][jb];if(e.length>0&&n.code===it.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const t=n.shiftKey,i=n.target===e[0],r=n.target===e[e.length-1];i&&t&&(n.preventDefault(),e[e.length-1].focus()),r&&!t&&(n.preventDefault(),e[0].focus())}},Jj={beforeMount(n){n[jb]=jS(n),_l.push(n),_l.length<=1&&document.addEventListener("keydown",kT)},updated(n){at(()=>{n[jb]=jS(n)})},unmounted(){_l.shift(),_l.length===0&&document.removeEventListener("keydown",kT)}};var DT=!1,hl,Kb,qb,zm,$m,RP,Vm,Yb,Xb,Zb,PP,Jb,Qb,IP,kP;function Xi(){if(!DT){DT=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(Jb=/\b(iPhone|iP[ao]d)/.exec(n),Qb=/\b(iP[ao]d)/.exec(n),Zb=/Android/i.exec(n),IP=/FBAN\/\w+;/i.exec(n),kP=/Mobile/i.exec(n),PP=!!/Win64/.exec(n),e){hl=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,hl&&document&&document.documentMode&&(hl=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(n);RP=i?parseFloat(i[1])+4:hl,Kb=e[2]?parseFloat(e[2]):NaN,qb=e[3]?parseFloat(e[3]):NaN,zm=e[4]?parseFloat(e[4]):NaN,zm?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),$m=e&&e[1]?parseFloat(e[1]):NaN):$m=NaN}else hl=Kb=qb=$m=zm=NaN;if(t){if(t[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);Vm=r?parseFloat(r[1].replace("_",".")):!0}else Vm=!1;Yb=!!t[2],Xb=!!t[3]}else Vm=Yb=Xb=!1}}var e_={ie:function(){return Xi()||hl},ieCompatibilityMode:function(){return Xi()||RP>hl},ie64:function(){return e_.ie()&&PP},firefox:function(){return Xi()||Kb},opera:function(){return Xi()||qb},webkit:function(){return Xi()||zm},safari:function(){return e_.webkit()},chrome:function(){return Xi()||$m},windows:function(){return Xi()||Yb},osx:function(){return Xi()||Vm},linux:function(){return Xi()||Xb},iphone:function(){return Xi()||Jb},mobile:function(){return Xi()||Jb||Qb||Zb||kP},nativeApp:function(){return Xi()||IP},android:function(){return Xi()||Zb},ipad:function(){return Xi()||Qb}},Qj=e_,yp=!!(typeof window<"u"&&window.document&&window.document.createElement),eK={canUseDOM:yp,canUseWorkers:typeof Worker<"u",canUseEventListeners:yp&&!!(window.addEventListener||window.attachEvent),canUseViewport:yp&&!!window.screen,isInWorker:!yp},DP=eK,NP;DP.canUseDOM&&(NP=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function tK(n,e){if(!DP.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,i=t in document;if(!i){var r=document.createElement("div");r.setAttribute(t,"return;"),i=typeof r[t]=="function"}return!i&&NP&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var nK=tK,NT=10,OT=40,FT=800;function OP(n){var e=0,t=0,i=0,r=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),i=e*NT,r=t*NT,"deltaY"in n&&(r=n.deltaY),"deltaX"in n&&(i=n.deltaX),(i||r)&&n.deltaMode&&(n.deltaMode==1?(i*=OT,r*=OT):(i*=FT,r*=FT)),i&&!e&&(e=i<1?-1:1),r&&!t&&(t=r<1?-1:1),{spinX:e,spinY:t,pixelX:i,pixelY:r}}OP.getEventType=function(){return Qj.firefox()?"DOMMouseScroll":nK("wheel")?"wheel":"mousewheel"};var iK=OP;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const rK=function(n,e){if(n&&n.addEventListener){const t=function(i){const r=iK(i);e&&Reflect.apply(e,this,[i,r])};n.addEventListener("wheel",t,{passive:!0})}},sK={beforeMount(n,e){rK(n,e.value)}},oK=Ge({role:{type:String,required:!0},spinnerDate:{type:Le(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Le(String),default:""},...SP}),aK=["onClick"],lK=["onMouseenter"],cK=pe({__name:"basic-time-spinner",props:oK,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,i=He("time"),{getHoursList:r,getMinutesList:s,getSecondsList:o}=CP(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let a=!1;const l=X(),c=X(),u=X(),d=X(),f={hours:c,minutes:u,seconds:d},h=I(()=>t.showSeconds?ET:ET.slice(0,2)),g=I(()=>{const{spinnerDate:P}=t,z=P.hour(),Y=P.minute(),H=P.second();return{hours:z,minutes:Y,seconds:H}}),m=I(()=>{const{hours:P,minutes:z}=p(g);return{hours:r(t.role),minutes:s(P,t.role),seconds:o(P,z,t.role)}}),v=I(()=>{const{hours:P,minutes:z,seconds:Y}=p(g);return{hours:T0(P,23),minutes:T0(z,59),seconds:T0(Y,59)}}),y=cr(P=>{a=!1,_(P)},200),b=P=>{if(!!!t.amPmMode)return"";const Y=t.amPmMode==="A";let H=P<12?" am":" pm";return Y&&(H=H.toUpperCase()),H},x=P=>{let z;switch(P){case"hours":z=[0,2];break;case"minutes":z=[3,5];break;case"seconds":z=[6,8];break}const[Y,H]=z;e("select-range",Y,H),l.value=P},_=P=>{T(P,p(g)[P])},w=()=>{_("hours"),_("minutes"),_("seconds")},S=P=>P.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=(P,z)=>{if(t.arrowControl)return;const Y=p(f[P]);Y&&Y.$el&&(S(Y.$el).scrollTop=Math.max(0,z*M(P)))},M=P=>{const z=p(f[P]),Y=z==null?void 0:z.$el.querySelector("li");return Y&&Number.parseFloat(ha(Y,"height"))||0},C=()=>{E(1)},L=()=>{E(-1)},E=P=>{l.value||x("hours");const z=l.value,Y=p(g)[z],H=l.value==="hours"?24:60,V=O(z,Y,P,H);F(z,V),T(z,V),at(()=>x(z))},O=(P,z,Y,H)=>{let V=(z+Y+H)%H;const W=p(m)[P];for(;W[V]&&V!==z;)V=(V+Y+H)%H;return V},F=(P,z)=>{if(p(m)[P][z])return;const{hours:V,minutes:W,seconds:ie}=p(g);let G;switch(P){case"hours":G=t.spinnerDate.hour(z).minute(W).second(ie);break;case"minutes":G=t.spinnerDate.hour(V).minute(z).second(ie);break;case"seconds":G=t.spinnerDate.hour(V).minute(W).second(z);break}e("change",G)},R=(P,{value:z,disabled:Y})=>{Y||(F(P,z),x(P),T(P,z))},$=P=>{a=!0,y(P);const z=Math.min(Math.round((S(p(f[P]).$el).scrollTop-(D(P)*.5-10)/M(P)+3)/M(P)),P==="hours"?23:59);F(P,z)},D=P=>p(f[P]).$el.offsetHeight,A=()=>{const P=z=>{const Y=p(f[z]);Y&&Y.$el&&(S(Y.$el).onscroll=()=>{$(z)})};P("hours"),P("minutes"),P("seconds")};St(()=>{at(()=>{!t.arrowControl&&A(),w(),t.role==="start"&&x("hours")})});const N=(P,z)=>{f[z].value=P};return e("set-option",[`${t.role}_scrollDown`,E]),e("set-option",[`${t.role}_emitSelectRange`,x]),Ve(()=>t.spinnerDate,()=>{a||w()}),(P,z)=>(B(),se("div",{class:U([p(i).b("spinner"),{"has-seconds":P.showSeconds}])},[P.arrowControl?ke("v-if",!0):(B(!0),se(rt,{key:0},Bt(p(h),Y=>(B(),Oe(p(ko),{key:Y,ref_for:!0,ref:H=>N(H,Y),class:U(p(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":p(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:H=>x(Y),onMousemove:H=>_(Y)},{default:Ee(()=>[(B(!0),se(rt,null,Bt(p(m)[Y],(H,V)=>(B(),se("li",{key:V,class:U([p(i).be("spinner","item"),p(i).is("active",V===p(g)[Y]),p(i).is("disabled",H)]),onClick:W=>R(Y,{value:V,disabled:H})},[Y==="hours"?(B(),se(rt,{key:0},[Ht(qe(("0"+(P.amPmMode?V%12||12:V)).slice(-2))+qe(b(V)),1)],64)):(B(),se(rt,{key:1},[Ht(qe(("0"+V).slice(-2)),1)],64))],10,aK))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),P.arrowControl?(B(!0),se(rt,{key:1},Bt(p(h),Y=>(B(),se("div",{key:Y,class:U([p(i).be("spinner","wrapper"),p(i).is("arrow")]),onMouseenter:H=>x(Y)},[_t((B(),Oe(p(et),{class:U(["arrow-up",p(i).be("spinner","arrow")])},{default:Ee(()=>[ye(p(ew))]),_:1},8,["class"])),[[p(Ag),L]]),_t((B(),Oe(p(et),{class:U(["arrow-down",p(i).be("spinner","arrow")])},{default:Ee(()=>[ye(p(Po))]),_:1},8,["class"])),[[p(Ag),C]]),de("ul",{class:U(p(i).be("spinner","list"))},[(B(!0),se(rt,null,Bt(p(v)[Y],(H,V)=>(B(),se("li",{key:V,class:U([p(i).be("spinner","item"),p(i).is("active",H===p(g)[Y]),p(i).is("disabled",p(m)[Y][H])])},[typeof H=="number"?(B(),se(rt,{key:0},[Y==="hours"?(B(),se(rt,{key:0},[Ht(qe(("0"+(P.amPmMode?H%12||12:H)).slice(-2))+qe(b(H)),1)],64)):(B(),se(rt,{key:1},[Ht(qe(("0"+H).slice(-2)),1)],64))],64)):ke("v-if",!0)],2))),128))],2)],42,lK))),128)):ke("v-if",!0)],2))}});var t_=je(cK,[["__file","basic-time-spinner.vue"]]);const uK=pe({__name:"panel-time-pick",props:Yj,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,i=Qe("EP_PICKER_BASE"),{arrowControl:r,disabledHours:s,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=AP(s,o,a),f=He("time"),{t:h,lang:g}=Ut(),m=X([0,2]),v=LP(t),y=I(()=>Hn(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),b=I(()=>t.format.includes("ss")),x=I(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=N=>{const P=Et(N).locale(g.value),z=R(P);return P.isSame(z)},w=()=>{e("pick",v.value,!1)},S=(N=!1,P=!1)=>{P||e("pick",t.parsedValue,N)},T=N=>{if(!t.visible)return;const P=R(N).millisecond(0);e("pick",P,!0)},M=(N,P)=>{e("select-range",N,P),m.value=[N,P]},C=N=>{const P=[0,3].concat(b.value?[6]:[]),z=["hours","minutes"].concat(b.value?["seconds"]:[]),H=(P.indexOf(m.value[0])+N+P.length)%P.length;E.start_emitSelectRange(z[H])},L=N=>{const P=N.code,{left:z,right:Y,up:H,down:V}=it;if([z,Y].includes(P)){C(P===z?-1:1),N.preventDefault();return}if([H,V].includes(P)){const W=P===H?-1:1;E.start_scrollDown(W),N.preventDefault();return}},{timePickerOptions:E,onSetOption:O,getAvailableTime:F}=EP({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),R=N=>F(N,t.datetimeRole||"",!0),$=N=>N?Et(N,t.format).locale(g.value):null,D=N=>N?N.format(t.format):null,A=()=>Et(l).locale(g.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",D]),e("set-picker-option",["parseUserInput",$]),e("set-picker-option",["handleKeydownInput",L]),e("set-picker-option",["getRangeAvailableTime",R]),e("set-picker-option",["getDefaultValue",A]),(N,P)=>(B(),Oe(Un,{name:p(y)},{default:Ee(()=>[N.actualVisible||N.visible?(B(),se("div",{key:0,class:U(p(f).b("panel"))},[de("div",{class:U([p(f).be("panel","content"),{"has-seconds":p(b)}])},[ye(t_,{ref:"spinner",role:N.datetimeRole||"start","arrow-control":p(r),"show-seconds":p(b),"am-pm-mode":p(x),"spinner-date":N.parsedValue,"disabled-hours":p(s),"disabled-minutes":p(o),"disabled-seconds":p(a),onChange:T,onSetOption:p(O),onSelectRange:M},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),de("div",{class:U(p(f).be("panel","footer"))},[de("button",{type:"button",class:U([p(f).be("panel","btn"),"cancel"]),onClick:w},qe(p(h)("el.datepicker.cancel")),3),de("button",{type:"button",class:U([p(f).be("panel","btn"),"confirm"]),onClick:P[0]||(P[0]=z=>S())},qe(p(h)("el.datepicker.confirm")),3)],2)],2)):ke("v-if",!0)]),_:1},8,["name"]))}});var Lg=je(uK,[["__file","panel-time-pick.vue"]]);const dK=Ge({...MP,parsedValue:{type:Le(Array)}}),fK=["disabled"],hK=pe({__name:"panel-time-range",props:dK,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,i=(we,re)=>{const j=[];for(let Z=we;Z<=re;Z++)j.push(Z);return j},{t:r,lang:s}=Ut(),o=He("time"),a=He("picker"),l=Qe("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=l.props,g=I(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),_.value?"has-seconds":""]),m=I(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),_.value?"has-seconds":""]),v=I(()=>t.parsedValue[0]),y=I(()=>t.parsedValue[1]),b=LP(t),x=()=>{e("pick",b.value,!1)},_=I(()=>t.format.includes("ss")),w=I(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),S=(we=!1)=>{e("pick",[v.value,y.value],we)},T=we=>{L(we.millisecond(0),y.value)},M=we=>{L(v.value,we.millisecond(0))},C=we=>{const re=we.map(Z=>Et(Z).locale(s.value)),j=Y(re);return re[0].isSame(j[0])&&re[1].isSame(j[1])},L=(we,re)=>{e("pick",[we,re],!0)},E=I(()=>v.value>y.value),O=X([0,2]),F=(we,re)=>{e("select-range",we,re,"min"),O.value=[we,re]},R=I(()=>_.value?11:8),$=(we,re)=>{e("select-range",we,re,"max");const j=p(R);O.value=[we+j,re+j]},D=we=>{const re=_.value?[0,3,6,11,14,17]:[0,3,8,11],j=["hours","minutes"].concat(_.value?["seconds"]:[]),le=(re.indexOf(O.value[0])+we+re.length)%re.length,J=re.length/2;le<J?ie.start_emitSelectRange(j[le]):ie.end_emitSelectRange(j[le-J])},A=we=>{const re=we.code,{left:j,right:Z,up:le,down:J}=it;if([j,Z].includes(re)){D(re===j?-1:1),we.preventDefault();return}if([le,J].includes(re)){const k=re===le?-1:1,q=O.value[0]<R.value?"start":"end";ie[`${q}_scrollDown`](k),we.preventDefault();return}},N=(we,re)=>{const j=u?u(we):[],Z=we==="start",J=(re||(Z?y.value:v.value)).hour(),k=Z?i(J+1,23):i(0,J-1);return v0(j,k)},P=(we,re,j)=>{const Z=d?d(we,re):[],le=re==="start",J=j||(le?y.value:v.value),k=J.hour();if(we!==k)return Z;const q=J.minute(),ce=le?i(q+1,59):i(0,q-1);return v0(Z,ce)},z=(we,re,j,Z)=>{const le=f?f(we,re,j):[],J=j==="start",k=Z||(J?y.value:v.value),q=k.hour(),ce=k.minute();if(we!==q||re!==ce)return le;const me=k.second(),Ce=J?i(me+1,59):i(0,me-1);return v0(le,Ce)},Y=([we,re])=>[G(we,"start",!0,re),G(re,"end",!1,we)],{getAvailableHours:H,getAvailableMinutes:V,getAvailableSeconds:W}=AP(N,P,z),{timePickerOptions:ie,getAvailableTime:G,onSetOption:te}=EP({getAvailableHours:H,getAvailableMinutes:V,getAvailableSeconds:W}),oe=we=>we?Je(we)?we.map(re=>Et(re,t.format).locale(s.value)):Et(we,t.format).locale(s.value):null,xe=we=>we?Je(we)?we.map(re=>re.format(t.format)):we.format(t.format):null,ue=()=>{if(Je(h))return h.map(re=>Et(re).locale(s.value));const we=Et(h).locale(s.value);return[we,we.add(60,"m")]};return e("set-picker-option",["formatToString",xe]),e("set-picker-option",["parseUserInput",oe]),e("set-picker-option",["isValidValue",C]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getDefaultValue",ue]),e("set-picker-option",["getRangeAvailableTime",Y]),(we,re)=>we.actualVisible?(B(),se("div",{key:0,class:U([p(o).b("range-picker"),p(a).b("panel")])},[de("div",{class:U(p(o).be("range-picker","content"))},[de("div",{class:U(p(o).be("range-picker","cell"))},[de("div",{class:U(p(o).be("range-picker","header"))},qe(p(r)("el.datepicker.startTime")),3),de("div",{class:U(p(g))},[ye(t_,{ref:"minSpinner",role:"start","show-seconds":p(_),"am-pm-mode":p(w),"arrow-control":p(c),"spinner-date":p(v),"disabled-hours":N,"disabled-minutes":P,"disabled-seconds":z,onChange:T,onSetOption:p(te),onSelectRange:F},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),de("div",{class:U(p(o).be("range-picker","cell"))},[de("div",{class:U(p(o).be("range-picker","header"))},qe(p(r)("el.datepicker.endTime")),3),de("div",{class:U(p(m))},[ye(t_,{ref:"maxSpinner",role:"end","show-seconds":p(_),"am-pm-mode":p(w),"arrow-control":p(c),"spinner-date":p(y),"disabled-hours":N,"disabled-minutes":P,"disabled-seconds":z,onChange:M,onSetOption:p(te),onSelectRange:$},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),de("div",{class:U(p(o).be("panel","footer"))},[de("button",{type:"button",class:U([p(o).be("panel","btn"),"cancel"]),onClick:re[0]||(re[0]=j=>x())},qe(p(r)("el.datepicker.cancel")),3),de("button",{type:"button",class:U([p(o).be("panel","btn"),"confirm"]),disabled:p(E),onClick:re[1]||(re[1]=j=>S())},qe(p(r)("el.datepicker.confirm")),11,fK)],2)],2)):ke("v-if",!0)}});var pK=je(hK,[["__file","panel-time-range.vue"]]);Et.extend(kw);var mK=pe({name:"ElTimePicker",install:null,props:{...Dw,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const t=X(),[i,r]=n.isRange?["timerange",pK]:["time",Lg],s=o=>e.emit("update:modelValue",o);return Dt("ElPopperOptions",n.popperOptions),e.expose({focus:o=>{var a;(a=t.value)==null||a.handleFocusInput(o)},blur:o=>{var a;(a=t.value)==null||a.handleBlurInput(o)},handleOpen:()=>{var o;(o=t.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=t.value)==null||o.handleClose()}}),()=>{var o;const a=(o=n.format)!=null?o:Gb;return ye(TP,Rt(n,{ref:t,type:i,format:a,"onUpdate:modelValue":s}),{default:l=>ye(r,l,null)})}}});const Hm=mK;Hm.install=n=>{n.component(Hm.name,Hm)};const gK=Hm,vK=(n,e)=>{const t=n.subtract(1,"month").endOf("month").date();return wa(e).map((i,r)=>t-(e-r-1))},yK=n=>{const e=n.daysInMonth();return wa(e).map((t,i)=>i+1)},bK=n=>wa(n.length/7).map(e=>{const t=e*7;return n.slice(t,t+7)}),_K=Ge({selectedDay:{type:Le(Object)},range:{type:Le(Array)},date:{type:Le(Object),required:!0},hideHeader:{type:Boolean}}),xK={pick:n=>It(n)};var FP={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i,r){var s=i.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,g,m){var v=d.name?d:d.$locale(),y=o(v[f]),b=o(v[h]),x=y||b.map(function(w){return w.slice(0,g)});if(!m)return x;var _=v.weekStart;return x.map(function(w,S){return x[(S+(_||0))%7]})},l=function(){return r.Ls[r.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,v){return m||v.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return u.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return a(l(),"months")},r.monthsShort=function(){return a(l(),"monthsShort","months",3)},r.weekdays=function(d){return a(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(FP);var wK=FP.exports;const BP=No(wK),SK=(n,e)=>{Et.extend(BP);const t=Et.localeData().firstDayOfWeek(),{t:i,lang:r}=Ut(),s=Et().locale(r.value),o=I(()=>!!n.range&&!!n.range.length),a=I(()=>{let f=[];if(o.value){const[h,g]=n.range,m=wa(g.date()-h.date()+1).map(b=>({text:h.date()+b,type:"current"}));let v=m.length%7;v=v===0?0:7-v;const y=wa(v).map((b,x)=>({text:x+1,type:"next"}));f=m.concat(y)}else{const h=n.date.startOf("month").day(),g=vK(n.date,(h-t+7)%7).map(b=>({text:b,type:"prev"})),m=yK(n.date).map(b=>({text:b,type:"current"}));f=[...g,...m];const v=7-(f.length%7||7),y=wa(v).map((b,x)=>({text:x+1,type:"next"}));f=f.concat(y)}return bK(f)}),l=I(()=>{const f=t;return f===0?y0.map(h=>i(`el.datepicker.weeks.${h}`)):y0.slice(f).concat(y0.slice(0,f)).map(h=>i(`el.datepicker.weeks.${h}`))}),c=(f,h)=>{switch(h){case"prev":return n.date.startOf("month").subtract(1,"month").date(f);case"next":return n.date.startOf("month").add(1,"month").date(f);case"current":return n.date.date(f)}};return{now:s,isInRange:o,rows:a,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:h})=>{const g=c(f,h);e("pick",g)},getSlotData:({text:f,type:h})=>{const g=c(f,h);return{isSelected:g.isSame(n.selectedDay),type:`${h}-month`,day:g.format("YYYY-MM-DD"),date:g.toDate()}}}},MK={key:0},TK=["onClick"],EK=pe({name:"DateTable"}),CK=pe({...EK,props:_K,emits:xK,setup(n,{expose:e,emit:t}){const i=n,{isInRange:r,now:s,rows:o,weekDays:a,getFormattedDate:l,handlePickDay:c,getSlotData:u}=SK(i,t),d=He("calendar-table"),f=He("calendar-day"),h=({text:g,type:m})=>{const v=[m];if(m==="current"){const y=l(g,m);y.isSame(i.selectedDay,"day")&&v.push(f.is("selected")),y.isSame(s,"day")&&v.push(f.is("today"))}return v};return e({getFormattedDate:l}),(g,m)=>(B(),se("table",{class:U([p(d).b(),p(d).is("range",p(r))]),cellspacing:"0",cellpadding:"0"},[g.hideHeader?ke("v-if",!0):(B(),se("thead",MK,[(B(!0),se(rt,null,Bt(p(a),v=>(B(),se("th",{key:v},qe(v),1))),128))])),de("tbody",null,[(B(!0),se(rt,null,Bt(p(o),(v,y)=>(B(),se("tr",{key:y,class:U({[p(d).e("row")]:!0,[p(d).em("row","hide-border")]:y===0&&g.hideHeader})},[(B(!0),se(rt,null,Bt(v,(b,x)=>(B(),se("td",{key:x,class:U(h(b)),onClick:_=>p(c)(b)},[de("div",{class:U(p(f).b())},[Be(g.$slots,"date-cell",{data:p(u)(b)},()=>[de("span",null,qe(b.text),1)])],2)],10,TK))),128))],2))),128))])],2))}});var BT=je(CK,[["__file","date-table.vue"]]);const AK=(n,e)=>{const t=n.endOf("month"),i=e.startOf("month"),s=t.isSame(i,"week")?i.add(1,"week"):i;return[[n,t],[s.startOf("week"),e]]},LK=(n,e)=>{const t=n.endOf("month"),i=n.add(1,"month").startOf("month"),r=t.isSame(i,"week")?i.add(1,"week"):i,s=r.endOf("month"),o=e.startOf("month"),a=s.isSame(o,"week")?o.add(1,"week"):o;return[[n,t],[r.startOf("week"),s],[a.startOf("week"),e]]},RK=(n,e,t)=>{const i=Yn(),{lang:r}=Ut(),s=X(),o=Et().locale(r.value),a=I({get(){return n.modelValue?c.value:s.value},set(y){if(!y)return;s.value=y;const b=y.toDate();e(Vi,b),e(Lt,b)}}),l=I(()=>{if(!n.range)return[];const y=n.range.map(_=>Et(_).locale(r.value)),[b,x]=y;return b.isAfter(x)?[]:b.isSame(x,"month")?g(b,x):b.add(1,"month").month()!==x.month()?[]:g(b,x)}),c=I(()=>n.modelValue?Et(n.modelValue).locale(r.value):a.value||(l.value.length?l.value[0][0]:o)),u=I(()=>c.value.subtract(1,"month").date(1)),d=I(()=>c.value.add(1,"month").date(1)),f=I(()=>c.value.subtract(1,"year").date(1)),h=I(()=>c.value.add(1,"year").date(1)),g=(y,b)=>{const x=y.startOf("week"),_=b.endOf("week"),w=x.get("month"),S=_.get("month");return w===S?[[x,_]]:(w+1)%12===S?AK(x,_):w+2===S||(w+1)%11===S?LK(x,_):[]},m=y=>{a.value=y},v=y=>{const x={"prev-month":u.value,"next-month":d.value,"prev-year":f.value,"next-year":h.value,today:o}[y];x.isSame(c.value,"day")||m(x)};return Os({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},I(()=>!!i.dateCell)),{calculateValidatedDateRange:g,date:c,realSelectedDay:a,pickDay:m,selectDate:v,validatedRange:l}},PK=n=>Je(n)&&n.length===2&&n.every(e=>Fl(e)),IK=Ge({modelValue:{type:Date},range:{type:Le(Array),validator:PK}}),kK={[Lt]:n=>Fl(n),[Vi]:n=>Fl(n)},DK="ElCalendar",NK=pe({name:DK}),OK=pe({...NK,props:IK,emits:kK,setup(n,{expose:e,emit:t}){const i=n,r=He("calendar"),{calculateValidatedDateRange:s,date:o,pickDay:a,realSelectedDay:l,selectDate:c,validatedRange:u}=RK(i,t),{t:d}=Ut(),f=I(()=>{const h=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:l,pickDay:a,selectDate:c,calculateValidatedDateRange:s}),(h,g)=>(B(),se("div",{class:U(p(r).b())},[de("div",{class:U(p(r).e("header"))},[Be(h.$slots,"header",{date:p(f)},()=>[de("div",{class:U(p(r).e("title"))},qe(p(f)),3),p(u).length===0?(B(),se("div",{key:0,class:U(p(r).e("button-group"))},[ye(p(yP),null,{default:Ee(()=>[ye(p(ti),{size:"small",onClick:g[0]||(g[0]=m=>p(c)("prev-month"))},{default:Ee(()=>[Ht(qe(p(d)("el.datepicker.prevMonth")),1)]),_:1}),ye(p(ti),{size:"small",onClick:g[1]||(g[1]=m=>p(c)("today"))},{default:Ee(()=>[Ht(qe(p(d)("el.datepicker.today")),1)]),_:1}),ye(p(ti),{size:"small",onClick:g[2]||(g[2]=m=>p(c)("next-month"))},{default:Ee(()=>[Ht(qe(p(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):ke("v-if",!0)])],2),p(u).length===0?(B(),se("div",{key:0,class:U(p(r).e("body"))},[ye(BT,{date:p(o),"selected-day":p(l),onPick:p(a)},xo({_:2},[h.$slots["date-cell"]||h.$slots.dateCell?{name:"date-cell",fn:Ee(m=>[h.$slots["date-cell"]?Be(h.$slots,"date-cell",os(Rt({key:0},m))):Be(h.$slots,"dateCell",os(Rt({key:1},m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(B(),se("div",{key:1,class:U(p(r).e("body"))},[(B(!0),se(rt,null,Bt(p(u),(m,v)=>(B(),Oe(BT,{key:v,date:m[0],"selected-day":p(l),range:m,"hide-header":v!==0,onPick:p(a)},xo({_:2},[h.$slots["date-cell"]||h.$slots.dateCell?{name:"date-cell",fn:Ee(y=>[h.$slots["date-cell"]?Be(h.$slots,"date-cell",os(Rt({key:0},y))):Be(h.$slots,"dateCell",os(Rt({key:1},y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var FK=je(OK,[["__file","calendar.vue"]]);const BK=At(FK),zK=Ge({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Le([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),$K=pe({name:"ElCard"}),VK=pe({...$K,props:zK,setup(n){const e=He("card");return(t,i)=>(B(),se("div",{class:U([p(e).b(),p(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(B(),se("div",{key:0,class:U(p(e).e("header"))},[Be(t.$slots,"header",{},()=>[Ht(qe(t.header),1)])],2)):ke("v-if",!0),de("div",{class:U([p(e).e("body"),t.bodyClass]),style:tt(t.bodyStyle)},[Be(t.$slots,"default")],6),t.$slots.footer||t.footer?(B(),se("div",{key:1,class:U(p(e).e("footer"))},[Be(t.$slots,"footer",{},()=>[Ht(qe(t.footer),1)])],2)):ke("v-if",!0)],2))}});var HK=je(VK,[["__file","card.vue"]]);const UK=At(HK),WK=Ge({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),GK={change:(n,e)=>[n,e].every(ut)},zP=Symbol("carouselContextKey"),zT=300,jK=(n,e,t)=>{const{children:i,addChild:r,removeChild:s}=Cw(Mt(),"ElCarouselItem"),o=Yn(),a=X(-1),l=X(null),c=X(!1),u=X(),d=X(0),f=X(!0),h=I(()=>n.arrow!=="never"&&!p(v)),g=I(()=>i.value.some(V=>V.props.label.toString().length>0)),m=I(()=>n.type==="card"),v=I(()=>n.direction==="vertical"),y=I(()=>n.height!=="auto"?{height:n.height}:{height:`${d.value}px`,overflow:"hidden"}),b=Ll(V=>{M(V)},zT,{trailing:!0}),x=Ll(V=>{D(V)},zT),_=V=>f.value?a.value<=1?V<=1:V>1:!0;function w(){l.value&&(clearInterval(l.value),l.value=null)}function S(){n.interval<=0||!n.autoplay||l.value||(l.value=setInterval(()=>T(),n.interval))}const T=()=>{a.value<i.value.length-1?a.value=a.value+1:n.loop&&(a.value=0)};function M(V){if(vt(V)){const G=i.value.filter(te=>te.props.name===V);G.length>0&&(V=i.value.indexOf(G[0]))}if(V=Number(V),Number.isNaN(V)||V!==Math.floor(V))return;const W=i.value.length,ie=a.value;V<0?a.value=n.loop?W-1:0:V>=W?a.value=n.loop?0:W-1:a.value=V,ie===a.value&&C(ie),P()}function C(V){i.value.forEach((W,ie)=>{W.translateItem(ie,a.value,V)})}function L(V,W){var ie,G,te,oe;const xe=p(i),ue=xe.length;if(ue===0||!V.states.inStage)return!1;const we=W+1,re=W-1,j=ue-1,Z=xe[j].states.active,le=xe[0].states.active,J=(G=(ie=xe[we])==null?void 0:ie.states)==null?void 0:G.active,k=(oe=(te=xe[re])==null?void 0:te.states)==null?void 0:oe.active;return W===j&&le||J?"left":W===0&&Z||k?"right":!1}function E(){c.value=!0,n.pauseOnHover&&w()}function O(){c.value=!1,S()}function F(V){p(v)||i.value.forEach((W,ie)=>{V===L(W,ie)&&(W.states.hover=!0)})}function R(){p(v)||i.value.forEach(V=>{V.states.hover=!1})}function $(V){a.value=V}function D(V){n.trigger==="hover"&&V!==a.value&&(a.value=V)}function A(){M(a.value-1)}function N(){M(a.value+1)}function P(){w(),n.pauseOnHover||S()}function z(V){n.height==="auto"&&(d.value=V)}function Y(){var V;const W=(V=o.default)==null?void 0:V.call(o);if(!W)return null;const ie=xa(W),G="ElCarouselItem",te=ie.filter(oe=>un(oe)&&oe.type.name===G);return(te==null?void 0:te.length)===2&&n.loop&&!m.value?(f.value=!0,te):(f.value=!1,null)}Ve(()=>a.value,(V,W)=>{C(W),f.value&&(V=V%2,W=W%2),W>-1&&e("change",V,W)}),Ve(()=>n.autoplay,V=>{V?S():w()}),Ve(()=>n.loop,()=>{M(a.value)}),Ve(()=>n.interval,()=>{P()});const H=rn();return St(()=>{Ve(()=>i.value,()=>{i.value.length>0&&M(n.initialIndex)},{immediate:!0}),H.value=bn(u.value,()=>{C()}),S()}),sn(()=>{w(),u.value&&H.value&&H.value.stop()}),Dt(zP,{root:u,isCardType:m,isVertical:v,items:i,loop:n.loop,addItem:r,removeItem:s,setActiveItem:M,setContainerHeight:z}),{root:u,activeIndex:a,arrowDisplay:h,hasLabel:g,hover:c,isCardType:m,items:i,isVertical:v,containerStyle:y,isItemsTwoLength:f,handleButtonEnter:F,handleButtonLeave:R,handleIndicatorClick:$,handleMouseEnter:E,handleMouseLeave:O,setActiveItem:M,prev:A,next:N,PlaceholderItem:Y,isTwoLengthShow:_,throttledArrowClick:b,throttledIndicatorHover:x}},KK=["onMouseenter","onClick"],qK={key:0},YK="ElCarousel",XK=pe({name:YK}),ZK=pe({...XK,props:WK,emits:GK,setup(n,{expose:e,emit:t}){const i=n,{root:r,activeIndex:s,arrowDisplay:o,hasLabel:a,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:f,handleButtonEnter:h,handleButtonLeave:g,handleIndicatorClick:m,handleMouseEnter:v,handleMouseLeave:y,setActiveItem:b,prev:x,next:_,PlaceholderItem:w,isTwoLengthShow:S,throttledArrowClick:T,throttledIndicatorHover:M}=jK(i,t),C=He("carousel"),L=I(()=>{const O=[C.b(),C.m(i.direction)];return p(c)&&O.push(C.m("card")),O}),E=I(()=>{const O=[C.e("indicators"),C.em("indicators",i.direction)];return p(a)&&O.push(C.em("indicators","labels")),i.indicatorPosition==="outside"&&O.push(C.em("indicators","outside")),p(d)&&O.push(C.em("indicators","right")),O});return e({setActiveItem:b,prev:x,next:_}),(O,F)=>(B(),se("div",{ref_key:"root",ref:r,class:U(p(L)),onMouseenter:F[6]||(F[6]=ft((...R)=>p(v)&&p(v)(...R),["stop"])),onMouseleave:F[7]||(F[7]=ft((...R)=>p(y)&&p(y)(...R),["stop"]))},[de("div",{class:U(p(C).e("container")),style:tt(p(f))},[p(o)?(B(),Oe(Un,{key:0,name:"carousel-arrow-left",persisted:""},{default:Ee(()=>[_t(de("button",{type:"button",class:U([p(C).e("arrow"),p(C).em("arrow","left")]),onMouseenter:F[0]||(F[0]=R=>p(h)("left")),onMouseleave:F[1]||(F[1]=(...R)=>p(g)&&p(g)(...R)),onClick:F[2]||(F[2]=ft(R=>p(T)(p(s)-1),["stop"]))},[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1})],34),[[Wt,(O.arrow==="always"||p(l))&&(i.loop||p(s)>0)]])]),_:1})):ke("v-if",!0),p(o)?(B(),Oe(Un,{key:1,name:"carousel-arrow-right",persisted:""},{default:Ee(()=>[_t(de("button",{type:"button",class:U([p(C).e("arrow"),p(C).em("arrow","right")]),onMouseenter:F[3]||(F[3]=R=>p(h)("right")),onMouseleave:F[4]||(F[4]=(...R)=>p(g)&&p(g)(...R)),onClick:F[5]||(F[5]=ft(R=>p(T)(p(s)+1),["stop"]))},[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})],34),[[Wt,(O.arrow==="always"||p(l))&&(i.loop||p(s)<p(u).length-1)]])]),_:1})):ke("v-if",!0),ye(p(w)),Be(O.$slots,"default")],6),O.indicatorPosition!=="none"?(B(),se("ul",{key:0,class:U(p(E))},[(B(!0),se(rt,null,Bt(p(u),(R,$)=>_t((B(),se("li",{key:$,class:U([p(C).e("indicator"),p(C).em("indicator",O.direction),p(C).is("active",$===p(s))]),onMouseenter:D=>p(M)($),onClick:ft(D=>p(m)($),["stop"])},[de("button",{class:U(p(C).e("button"))},[p(a)?(B(),se("span",qK,qe(R.props.label),1)):ke("v-if",!0)],2)],42,KK)),[[Wt,p(S)($)]])),128))],2)):ke("v-if",!0)],34))}});var JK=je(ZK,[["__file","carousel.vue"]]);const QK=Ge({name:{type:String,default:""},label:{type:[String,Number],default:""}}),eq=(n,e)=>{const t=Qe(zP),i=Mt(),r=.83,s=X(),o=X(!1),a=X(0),l=X(1),c=X(!1),u=X(!1),d=X(!1),f=X(!1),{isCardType:h,isVertical:g}=t;function m(_,w,S){const T=S-1,M=w-1,C=w+1,L=S/2;return w===0&&_===T?-1:w===T&&_===0?S:_<M&&w-_>=L?S+1:_>C&&_-w>=L?-2:_}function v(_,w){var S,T;const M=p(g)?((S=t.root.value)==null?void 0:S.offsetHeight)||0:((T=t.root.value)==null?void 0:T.offsetWidth)||0;return d.value?M*((2-r)*(_-w)+1)/4:_<w?-(1+r)*M/4:(3+r)*M/4}function y(_,w,S){const T=t.root.value;return T?((S?T.offsetHeight:T.offsetWidth)||0)*(_-w):0}const b=(_,w,S)=>{var T;const M=p(h),C=(T=t.items.value.length)!=null?T:Number.NaN,L=_===w;!M&&!Hn(S)&&(f.value=L||_===S),!L&&C>2&&t.loop&&(_=m(_,w,C));const E=p(g);c.value=L,M?(d.value=Math.round(Math.abs(_-w))<=1,a.value=v(_,w),l.value=p(c)?1:r):a.value=y(_,w,E),u.value=!0,L&&s.value&&t.setContainerHeight(s.value.offsetHeight)};function x(){if(t&&p(h)){const _=t.items.value.findIndex(({uid:w})=>w===i.uid);t.setActiveItem(_)}}return St(()=>{t.addItem({props:n,states:Gt({hover:o,translate:a,scale:l,active:c,ready:u,inStage:d,animating:f}),uid:i.uid,translateItem:b})}),Ha(()=>{t.removeItem(i.uid)}),{carouselItemRef:s,active:c,animating:f,hover:o,inStage:d,isVertical:g,translate:a,isCardType:h,scale:l,ready:u,handleItemClick:x}},tq=pe({name:"ElCarouselItem"}),nq=pe({...tq,props:QK,setup(n){const e=n,t=He("carousel"),{carouselItemRef:i,active:r,animating:s,hover:o,inStage:a,isVertical:l,translate:c,isCardType:u,scale:d,ready:f,handleItemClick:h}=eq(e),g=I(()=>[t.e("item"),t.is("active",r.value),t.is("in-stage",a.value),t.is("hover",o.value),t.is("animating",s.value),{[t.em("item","card")]:u.value,[t.em("item","card-vertical")]:u.value&&l.value}]),m=I(()=>{const y=`${`translate${p(l)?"Y":"X"}`}(${p(c)}px)`,b=`scale(${p(d)})`;return{transform:[y,b].join(" ")}});return(v,y)=>_t((B(),se("div",{ref_key:"carouselItemRef",ref:i,class:U(p(g)),style:tt(p(m)),onClick:y[0]||(y[0]=(...b)=>p(h)&&p(h)(...b))},[p(u)?_t((B(),se("div",{key:0,class:U(p(t).e("mask"))},null,2)),[[Wt,!p(r)]]):ke("v-if",!0),Be(v.$slots,"default")],6)),[[Wt,p(f)]])}});var $P=je(nq,[["__file","carousel-item.vue"]]);const iq=At(JK,{CarouselItem:$P}),rq=xn($P),VP={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ni,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},HP={[Lt]:n=>vt(n)||ut(n)||zn(n),change:n=>vt(n)||ut(n)||zn(n)},fd=Symbol("checkboxGroupContextKey"),sq=({model:n,isChecked:e})=>{const t=Qe(fd,void 0),i=I(()=>{var s,o;const a=(s=t==null?void 0:t.max)==null?void 0:s.value,l=(o=t==null?void 0:t.min)==null?void 0:o.value;return!Hn(a)&&n.value.length>=a&&!e.value||!Hn(l)&&n.value.length<=l&&e.value});return{isDisabled:dr(I(()=>(t==null?void 0:t.disabled.value)||i.value)),isLimitDisabled:i}},oq=(n,{model:e,isLimitExceeded:t,hasOwnLabel:i,isDisabled:r,isLabeledByFormItem:s})=>{const o=Qe(fd,void 0),{formItem:a}=qi(),{emit:l}=Mt();function c(g){var m,v;return g===n.trueLabel||g===!0?(m=n.trueLabel)!=null?m:!0:(v=n.falseLabel)!=null?v:!1}function u(g,m){l("change",c(g),m)}function d(g){if(t.value)return;const m=g.target;l("change",c(m.checked),g)}async function f(g){t.value||!i.value&&!r.value&&s.value&&(g.composedPath().some(y=>y.tagName==="LABEL")||(e.value=c([!1,n.falseLabel].includes(e.value)),await at(),u(e.value,g)))}const h=I(()=>(o==null?void 0:o.validateEvent)||n.validateEvent);return Ve(()=>n.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(g=>void 0))}),{handleChange:d,onClickRoot:f}},aq=n=>{const e=X(!1),{emit:t}=Mt(),i=Qe(fd,void 0),r=I(()=>Hn(i)===!1),s=X(!1),o=I({get(){var a,l;return r.value?(a=i==null?void 0:i.modelValue)==null?void 0:a.value:(l=n.modelValue)!=null?l:e.value},set(a){var l,c;r.value&&Je(a)?(s.value=((l=i==null?void 0:i.max)==null?void 0:l.value)!==void 0&&a.length>(i==null?void 0:i.max.value)&&a.length>o.value.length,s.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,a))):(t(Lt,a),e.value=a)}});return{model:o,isGroup:r,isLimitExceeded:s}},lq=(n,e,{model:t})=>{const i=Qe(fd,void 0),r=X(!1),s=I(()=>{const c=t.value;return zn(c)?c:Je(c)?It(n.label)?c.map(qt).some(u=>bi(u,n.label)):c.map(qt).includes(n.label):c!=null?c===n.trueLabel:!!c}),o=Gn(I(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value}),{prop:!0}),a=Gn(I(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value})),l=I(()=>!!e.default||!Kn(n.label));return{checkboxButtonSize:o,isChecked:s,isFocused:r,checkboxSize:a,hasOwnLabel:l}},cq=(n,{model:e})=>{function t(){Je(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&t()},UP=(n,e)=>{const{formItem:t}=qi(),{model:i,isGroup:r,isLimitExceeded:s}=aq(n),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=lq(n,e,{model:i}),{isDisabled:d}=sq({model:i,isChecked:a}),{inputId:f,isLabeledByFormItem:h}=Hs(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:r}),{handleChange:g,onClickRoot:m}=oq(n,{model:i,isLimitExceeded:s,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:h});return cq(n,{model:i}),{inputId:f,isLabeledByFormItem:h,isChecked:a,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:i,handleChange:g,onClickRoot:m}},uq=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],dq=["id","indeterminate","disabled","value","name","tabindex"],fq=pe({name:"ElCheckbox"}),hq=pe({...fq,props:VP,emits:HP,setup(n){const e=n,t=Yn(),{inputId:i,isLabeledByFormItem:r,isChecked:s,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,handleChange:d,onClickRoot:f}=UP(e,t),h=He("checkbox"),g=I(()=>[h.b(),h.m(l.value),h.is("disabled",o.value),h.is("bordered",e.border),h.is("checked",s.value)]),m=I(()=>[h.e("input"),h.is("disabled",o.value),h.is("checked",s.value),h.is("indeterminate",e.indeterminate),h.is("focus",a.value)]);return(v,y)=>(B(),Oe(Pt(!p(c)&&p(r)?"span":"label"),{class:U(p(g)),"aria-controls":v.indeterminate?v.controls:null,onClick:p(f)},{default:Ee(()=>[de("span",{class:U(p(m))},[v.trueLabel||v.falseLabel?_t((B(),se("input",{key:0,id:p(i),"onUpdate:modelValue":y[0]||(y[0]=b=>an(u)?u.value=b:null),class:U(p(h).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:p(o),"true-value":v.trueLabel,"false-value":v.falseLabel,onChange:y[1]||(y[1]=(...b)=>p(d)&&p(d)(...b)),onFocus:y[2]||(y[2]=b=>a.value=!0),onBlur:y[3]||(y[3]=b=>a.value=!1),onClick:y[4]||(y[4]=ft(()=>{},["stop"]))},null,42,uq)),[[yg,p(u)]]):_t((B(),se("input",{key:1,id:p(i),"onUpdate:modelValue":y[5]||(y[5]=b=>an(u)?u.value=b:null),class:U(p(h).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:p(o),value:v.label,name:v.name,tabindex:v.tabindex,onChange:y[6]||(y[6]=(...b)=>p(d)&&p(d)(...b)),onFocus:y[7]||(y[7]=b=>a.value=!0),onBlur:y[8]||(y[8]=b=>a.value=!1),onClick:y[9]||(y[9]=ft(()=>{},["stop"]))},null,42,dq)),[[yg,p(u)]]),de("span",{class:U(p(h).e("inner"))},null,2)],2),p(c)?(B(),se("span",{key:0,class:U(p(h).e("label"))},[Be(v.$slots,"default"),v.$slots.default?ke("v-if",!0):(B(),se(rt,{key:0},[Ht(qe(v.label),1)],64))],2)):ke("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var pq=je(hq,[["__file","checkbox.vue"]]);const mq=["name","tabindex","disabled","true-value","false-value"],gq=["name","tabindex","disabled","value"],vq=pe({name:"ElCheckboxButton"}),yq=pe({...vq,props:VP,emits:HP,setup(n){const e=n,t=Yn(),{isFocused:i,isChecked:r,isDisabled:s,checkboxButtonSize:o,model:a,handleChange:l}=UP(e,t),c=Qe(fd,void 0),u=He("checkbox"),d=I(()=>{var h,g,m,v;const y=(g=(h=c==null?void 0:c.fill)==null?void 0:h.value)!=null?g:"";return{backgroundColor:y,borderColor:y,color:(v=(m=c==null?void 0:c.textColor)==null?void 0:m.value)!=null?v:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),f=I(()=>[u.b("button"),u.bm("button",o.value),u.is("disabled",s.value),u.is("checked",r.value),u.is("focus",i.value)]);return(h,g)=>(B(),se("label",{class:U(p(f))},[h.trueLabel||h.falseLabel?_t((B(),se("input",{key:0,"onUpdate:modelValue":g[0]||(g[0]=m=>an(a)?a.value=m:null),class:U(p(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:p(s),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:g[1]||(g[1]=(...m)=>p(l)&&p(l)(...m)),onFocus:g[2]||(g[2]=m=>i.value=!0),onBlur:g[3]||(g[3]=m=>i.value=!1),onClick:g[4]||(g[4]=ft(()=>{},["stop"]))},null,42,mq)),[[yg,p(a)]]):_t((B(),se("input",{key:1,"onUpdate:modelValue":g[5]||(g[5]=m=>an(a)?a.value=m:null),class:U(p(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:p(s),value:h.label,onChange:g[6]||(g[6]=(...m)=>p(l)&&p(l)(...m)),onFocus:g[7]||(g[7]=m=>i.value=!0),onBlur:g[8]||(g[8]=m=>i.value=!1),onClick:g[9]||(g[9]=ft(()=>{},["stop"]))},null,42,gq)),[[yg,p(a)]]),h.$slots.default||h.label?(B(),se("span",{key:2,class:U(p(u).be("button","inner")),style:tt(p(r)?p(d):void 0)},[Be(h.$slots,"default",{},()=>[Ht(qe(h.label),1)])],6)):ke("v-if",!0)],2))}});var WP=je(yq,[["__file","checkbox-button.vue"]]);const bq=Ge({modelValue:{type:Le(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ni,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),_q={[Lt]:n=>Je(n),change:n=>Je(n)},xq=pe({name:"ElCheckboxGroup"}),wq=pe({...xq,props:bq,emits:_q,setup(n,{emit:e}){const t=n,i=He("checkbox"),{formItem:r}=qi(),{inputId:s,isLabeledByFormItem:o}=Hs(t,{formItemContext:r}),a=async c=>{e(Lt,c),await at(),e("change",c)},l=I({get(){return t.modelValue},set(c){a(c)}});return Dt(fd,{...po(fi(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),Ve(()=>t.modelValue,()=>{t.validateEvent&&(r==null||r.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return B(),Oe(Pt(c.tag),{id:p(s),class:U(p(i).b("group")),role:"group","aria-label":p(o)?void 0:c.label||"checkbox-group","aria-labelledby":p(o)?(d=p(r))==null?void 0:d.labelId:void 0},{default:Ee(()=>[Be(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var GP=je(wq,[["__file","checkbox-group.vue"]]);const Gr=At(pq,{CheckboxButton:WP,CheckboxGroup:GP}),Sq=xn(WP),jP=xn(GP),KP=Ge({size:ni,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Mq=Ge({...KP,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),qP={[Lt]:n=>vt(n)||ut(n)||zn(n),[dn]:n=>vt(n)||ut(n)||zn(n)},YP=Symbol("radioGroupKey"),XP=(n,e)=>{const t=X(),i=Qe(YP,void 0),r=I(()=>!!i),s=I({get(){return r.value?i.modelValue:n.modelValue},set(u){r.value?i.changeEvent(u):e&&e(Lt,u),t.value.checked=n.modelValue===n.label}}),o=Gn(I(()=>i==null?void 0:i.size)),a=dr(I(()=>i==null?void 0:i.disabled)),l=X(!1),c=I(()=>a.value||r.value&&s.value!==n.label?-1:0);return{radioRef:t,isGroup:r,radioGroup:i,focus:l,size:o,disabled:a,tabIndex:c,modelValue:s}},Tq=["value","name","disabled"],Eq=pe({name:"ElRadio"}),Cq=pe({...Eq,props:Mq,emits:qP,setup(n,{emit:e}){const t=n,i=He("radio"),{radioRef:r,radioGroup:s,focus:o,size:a,disabled:l,modelValue:c}=XP(t,e);function u(){at(()=>e("change",c.value))}return(d,f)=>{var h;return B(),se("label",{class:U([p(i).b(),p(i).is("disabled",p(l)),p(i).is("focus",p(o)),p(i).is("bordered",d.border),p(i).is("checked",p(c)===d.label),p(i).m(p(a))])},[de("span",{class:U([p(i).e("input"),p(i).is("disabled",p(l)),p(i).is("checked",p(c)===d.label)])},[_t(de("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":f[0]||(f[0]=g=>an(c)?c.value=g:null),class:U(p(i).e("original")),value:d.label,name:d.name||((h=p(s))==null?void 0:h.name),disabled:p(l),type:"radio",onFocus:f[1]||(f[1]=g=>o.value=!0),onBlur:f[2]||(f[2]=g=>o.value=!1),onChange:u,onClick:f[3]||(f[3]=ft(()=>{},["stop"]))},null,42,Tq),[[sL,p(c)]]),de("span",{class:U(p(i).e("inner"))},null,2)],2),de("span",{class:U(p(i).e("label")),onKeydown:f[4]||(f[4]=ft(()=>{},["stop"]))},[Be(d.$slots,"default",{},()=>[Ht(qe(d.label),1)])],34)],2)}}});var Aq=je(Cq,[["__file","radio.vue"]]);const Lq=Ge({...KP,name:{type:String,default:""}}),Rq=["value","name","disabled"],Pq=pe({name:"ElRadioButton"}),Iq=pe({...Pq,props:Lq,setup(n){const e=n,t=He("radio"),{radioRef:i,focus:r,size:s,disabled:o,modelValue:a,radioGroup:l}=XP(e),c=I(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(u,d)=>{var f;return B(),se("label",{class:U([p(t).b("button"),p(t).is("active",p(a)===u.label),p(t).is("disabled",p(o)),p(t).is("focus",p(r)),p(t).bm("button",p(s))])},[_t(de("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":d[0]||(d[0]=h=>an(a)?a.value=h:null),class:U(p(t).be("button","original-radio")),value:u.label,type:"radio",name:u.name||((f=p(l))==null?void 0:f.name),disabled:p(o),onFocus:d[1]||(d[1]=h=>r.value=!0),onBlur:d[2]||(d[2]=h=>r.value=!1),onClick:d[3]||(d[3]=ft(()=>{},["stop"]))},null,42,Rq),[[sL,p(a)]]),de("span",{class:U(p(t).be("button","inner")),style:tt(p(a)===u.label?p(c):{}),onKeydown:d[4]||(d[4]=ft(()=>{},["stop"]))},[Be(u.$slots,"default",{},()=>[Ht(qe(u.label),1)])],38)],2)}}});var ZP=je(Iq,[["__file","radio-button.vue"]]);const kq=Ge({id:{type:String,default:void 0},size:ni,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Dq=qP,Nq=["id","aria-label","aria-labelledby"],Oq=pe({name:"ElRadioGroup"}),Fq=pe({...Oq,props:kq,emits:Dq,setup(n,{emit:e}){const t=n,i=He("radio"),r=Li(),s=X(),{formItem:o}=qi(),{inputId:a,isLabeledByFormItem:l}=Hs(t,{formItemContext:o}),c=d=>{e(Lt,d),at(()=>e("change",d))};St(()=>{const d=s.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const u=I(()=>t.name||r.value);return Dt(YP,Gt({...fi(t),changeEvent:c,name:u})),Ve(()=>t.modelValue,()=>{t.validateEvent&&(o==null||o.validate("change").catch(d=>void 0))}),(d,f)=>(B(),se("div",{id:p(a),ref_key:"radioGroupRef",ref:s,class:U(p(i).b("group")),role:"radiogroup","aria-label":p(l)?void 0:d.label||"radio-group","aria-labelledby":p(l)?p(o).labelId:void 0},[Be(d.$slots,"default")],10,Nq))}});var JP=je(Fq,[["__file","radio-group.vue"]]);const QP=At(Aq,{RadioButton:ZP,RadioGroup:JP}),Bq=xn(JP),zq=xn(ZP);var $q=pe({name:"NodeContent",setup(){return{ns:He("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:t}=this.$parent,{data:i,label:r}=e,{renderLabelFn:s}=t;return ot("span",{class:n.e("label")},s?s({node:e,data:i}):r)}});const Nw=Symbol(),Vq=pe({name:"ElCascaderNode",components:{ElCheckbox:Gr,ElRadio:QP,NodeContent:$q,ElIcon:et,Check:Dh,Loading:Wa,ArrowRight:$i},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const t=Qe(Nw),i=He("cascader-node"),r=I(()=>t.isHoverMenu),s=I(()=>t.config.multiple),o=I(()=>t.config.checkStrictly),a=I(()=>{var S;return(S=t.checkedNodes[0])==null?void 0:S.uid}),l=I(()=>n.node.isDisabled),c=I(()=>n.node.isLeaf),u=I(()=>o.value&&!c.value||!l.value),d=I(()=>h(t.expandingNode)),f=I(()=>o.value&&t.checkedNodes.some(h)),h=S=>{var T;const{level:M,uid:C}=n.node;return((T=S==null?void 0:S.pathNodes[M-1])==null?void 0:T.uid)===C},g=()=>{d.value||t.expandNode(n.node)},m=S=>{const{node:T}=n;S!==T.checked&&t.handleCheckChange(T,S)},v=()=>{t.lazyLoad(n.node,()=>{c.value||g()})},y=S=>{r.value&&(b(),!c.value&&e("expand",S))},b=()=>{const{node:S}=n;!u.value||S.loading||(S.loaded?g():v())},x=()=>{r.value&&!c.value||(c.value&&!l.value&&!o.value&&!s.value?w(!0):b())},_=S=>{o.value?(m(S),n.node.loaded&&g()):w(S)},w=S=>{n.node.loaded?(m(S),!o.value&&g()):v()};return{panel:t,isHoverMenu:r,multiple:s,checkStrictly:o,checkedNodeId:a,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:i,handleHoverExpand:y,handleExpand:b,handleClick:x,handleCheck:w,handleSelectCheck:_}}}),Hq=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Uq=de("span",null,null,-1);function Wq(n,e,t,i,r,s){const o=Ct("el-checkbox"),a=Ct("el-radio"),l=Ct("check"),c=Ct("el-icon"),u=Ct("node-content"),d=Ct("loading"),f=Ct("arrow-right");return B(),se("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:U([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...h)=>n.handleHoverExpand&&n.handleHoverExpand(...h)),onFocus:e[3]||(e[3]=(...h)=>n.handleHoverExpand&&n.handleHoverExpand(...h)),onClick:e[4]||(e[4]=(...h)=>n.handleClick&&n.handleClick(...h))},[ke(" prefix "),n.multiple?(B(),Oe(o,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:e[0]||(e[0]=ft(()=>{},["stop"])),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):n.checkStrictly?(B(),Oe(a,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:e[1]||(e[1]=ft(()=>{},["stop"]))},{default:Ee(()=>[ke(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Uq]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):n.isLeaf&&n.node.checked?(B(),Oe(c,{key:2,class:U(n.ns.e("prefix"))},{default:Ee(()=>[ye(l)]),_:1},8,["class"])):ke("v-if",!0),ke(" content "),ye(u),ke(" postfix "),n.isLeaf?ke("v-if",!0):(B(),se(rt,{key:3},[n.node.loading?(B(),Oe(c,{key:0,class:U([n.ns.is("loading"),n.ns.e("postfix")])},{default:Ee(()=>[ye(d)]),_:1},8,["class"])):(B(),Oe(c,{key:1,class:U(["arrow-right",n.ns.e("postfix")])},{default:Ee(()=>[ye(f)]),_:1},8,["class"]))],64))],42,Hq)}var Gq=je(Vq,[["render",Wq],["__file","node.vue"]]);const jq=pe({name:"ElCascaderMenu",components:{Loading:Wa,ElIcon:et,ElScrollbar:ko,ElCascaderNode:Gq},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=Mt(),t=He("cascader-menu"),{t:i}=Ut(),r=Li();let s=null,o=null;const a=Qe(Nw),l=X(null),c=I(()=>!n.nodes.length),u=I(()=>!a.initialLoaded),d=I(()=>`${r.value}-${n.index}`),f=v=>{s=v.target},h=v=>{if(!(!a.isHoverMenu||!s||!l.value))if(s.contains(v.target)){g();const y=e.vnode.el,{left:b}=y.getBoundingClientRect(),{offsetWidth:x,offsetHeight:_}=y,w=v.clientX-b,S=s.offsetTop,T=S+s.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${S} L${x} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${T} L${x} ${_} V${T} Z" />
        `}else o||(o=window.setTimeout(m,a.config.hoverThreshold))},g=()=>{o&&(clearTimeout(o),o=null)},m=()=>{l.value&&(l.value.innerHTML="",g())};return{ns:t,panel:a,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:i,handleExpand:f,handleMouseMove:h,clearHoverZone:m}}});function Kq(n,e,t,i,r,s){const o=Ct("el-cascader-node"),a=Ct("loading"),l=Ct("el-icon"),c=Ct("el-scrollbar");return B(),Oe(c,{key:n.menuId,tag:"ul",role:"menu",class:U(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:Ee(()=>{var u;return[(B(!0),se(rt,null,Bt(n.nodes,d=>(B(),Oe(o,{key:d.uid,node:d,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(B(),se("div",{key:0,class:U(n.ns.e("empty-text"))},[ye(l,{size:"14",class:U(n.ns.is("loading"))},{default:Ee(()=>[ye(a)]),_:1},8,["class"]),Ht(" "+qe(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(B(),se("div",{key:1,class:U(n.ns.e("empty-text"))},qe(n.t("el.cascader.noData")),3)):(u=n.panel)!=null&&u.isHoverMenu?(B(),se("svg",{key:2,ref:"hoverZone",class:U(n.ns.e("hover-zone"))},null,2)):ke("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var qq=je(jq,[["render",Kq],["__file","menu.vue"]]);let Yq=0;const Xq=n=>{const e=[n];let{parent:t}=n;for(;t;)e.unshift(t),t=t.parent;return e};let n_=class i_{constructor(e,t,i,r=!1){this.data=e,this.config=t,this.parent=i,this.root=r,this.uid=Yq++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:o,children:a}=t,l=e[a],c=Xq(this);this.level=r?0:i?i.level+1:1,this.value=e[s],this.label=e[o],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new i_(u,t,this)),this.loaded=!t.lazy||this.isLeaf||!kr(l)}get isDisabled(){const{data:e,parent:t,config:i}=this,{disabled:r,checkStrictly:s}=i;return(dt(r)?r(e,this):!!e[r])||!s&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:i,loaded:r}=this,{lazy:s,leaf:o}=t,a=dt(o)?o(e,this):e[o];return Hn(a)?s&&!r?!1:!(Array.isArray(i)&&i.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:i}=this,r=new i_(e,this.config,this);return Array.isArray(t)?t.push(e):this.childrenData=[e],i.push(r),r}calcText(e,t){const i=e?this.pathLabels.join(t):this.label;return this.text=i,i}broadcast(e,...t){const i=`onParent${Cs(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...t),r[i]&&r[i](...t))})}emit(e,...t){const{parent:i}=this,r=`onChild${Cs(e)}`;i&&(i[r]&&i[r](...t),i.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(r=>!r.isDisabled),i=t.length?t.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const t=this.children.length,i=this.children.reduce((r,s)=>{const o=s.checked?1:s.indeterminate?.5:0;return r+o},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==t&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:i}=this.config;t||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const r_=(n,e)=>n.reduce((t,i)=>(i.isLeaf?t.push(i):(!e&&t.push(i),t=t.concat(r_(i.children,e))),t),[]);class $T{constructor(e,t){this.config=t;const i=(e||[]).map(r=>new n_(r,this.config));this.nodes=i,this.allNodes=r_(i,!1),this.leafNodes=r_(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const i=t?t.appendChild(e):new n_(e,this.config);t||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,t){e.forEach(i=>this.appendNode(i,t))}getNodeByValue(e,t=!1){return!e&&e!==0?null:this.getFlattedNodes(t).find(r=>bi(r.value,e)||bi(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:i,level:r})=>bi(e.value,i)&&e.level===r)||null}}const eI=Ge({modelValue:{type:Le([Number,String,Array])},options:{type:Le(Array),default:()=>[]},props:{type:Le(Object),default:()=>({})}}),Zq={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:jt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Jq=n=>I(()=>({...Zq,...n.props})),VT=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},Qq=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():uL(n)&&n.click()},eY=(n,e)=>{const t=e.slice(0),i=t.map(s=>s.uid),r=n.reduce((s,o)=>{const a=i.indexOf(o.uid);return a>-1&&(s.push(o),t.splice(a,1),i.splice(a,1)),s},[]);return r.push(...t),r},tY=pe({name:"ElCascaderPanel",components:{ElCascaderMenu:qq},props:{...eI,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Lt,dn,"close","expand-change"],setup(n,{emit:e,slots:t}){let i=!1;const r=He("cascader"),s=Jq(n);let o=null;const a=X(!0),l=X([]),c=X(null),u=X([]),d=X(null),f=X([]),h=I(()=>s.value.expandTrigger==="hover"),g=I(()=>n.renderLabel||t.default),m=()=>{const{options:O}=n,F=s.value;i=!1,o=new $T(O,F),u.value=[o.getNodes()],F.lazy&&kr(n.options)?(a.value=!1,v(void 0,R=>{R&&(o=new $T(R,F),u.value=[o.getNodes()]),a.value=!0,M(!1,!0)})):M(!1,!0)},v=(O,F)=>{const R=s.value;O=O||new n_({},R,void 0,!0),O.loading=!0;const $=D=>{const A=O,N=A.root?null:A;D&&(o==null||o.appendNodes(D,N)),A.loading=!1,A.loaded=!0,A.childrenData=A.childrenData||[],F&&F(D)};R.lazyLoad(O,$)},y=(O,F)=>{var R;const{level:$}=O,D=u.value.slice(0,$);let A;O.isLeaf?A=O.pathNodes[$-2]:(A=O,D.push(O.children)),((R=d.value)==null?void 0:R.uid)!==(A==null?void 0:A.uid)&&(d.value=O,u.value=D,!F&&e("expand-change",(O==null?void 0:O.pathValues)||[]))},b=(O,F,R=!0)=>{const{checkStrictly:$,multiple:D}=s.value,A=f.value[0];i=!0,!D&&(A==null||A.doCheck(!1)),O.doCheck(F),T(),R&&!D&&!$&&e("close"),!R&&!D&&!$&&x(O)},x=O=>{O&&(O=O.parent,x(O),O&&y(O))},_=O=>o==null?void 0:o.getFlattedNodes(O),w=O=>{var F;return(F=_(O))==null?void 0:F.filter(R=>R.checked!==!1)},S=()=>{f.value.forEach(O=>O.doCheck(!1)),T(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},T=()=>{var O;const{checkStrictly:F,multiple:R}=s.value,$=f.value,D=w(!F),A=eY($,D),N=A.map(P=>P.valueByOption);f.value=A,c.value=R?N:(O=N[0])!=null?O:null},M=(O=!1,F=!1)=>{const{modelValue:R}=n,{lazy:$,multiple:D,checkStrictly:A}=s.value,N=!A;if(!(!a.value||i||!F&&bi(R,c.value)))if($&&!O){const z=VM(uH(bo(R))).map(Y=>o==null?void 0:o.getNodeByValue(Y)).filter(Y=>!!Y&&!Y.loaded&&!Y.loading);z.length?z.forEach(Y=>{v(Y,()=>M(!1,F))}):M(!0,F)}else{const P=D?bo(R):[R],z=VM(P.map(Y=>o==null?void 0:o.getNodeByValue(Y,N)));C(z,F),c.value=xg(R)}},C=(O,F=!0)=>{const{checkStrictly:R}=s.value,$=f.value,D=O.filter(P=>!!P&&(R||P.isLeaf)),A=o==null?void 0:o.getSameNode(d.value),N=F&&A||D[0];N?N.pathNodes.forEach(P=>y(P,!0)):d.value=null,$.forEach(P=>P.doCheck(!1)),n.props.multiple?Gt(D).forEach(P=>P.doCheck(!0)):D.forEach(P=>P.doCheck(!0)),f.value=D,at(L)},L=()=>{Vt&&l.value.forEach(O=>{const F=O==null?void 0:O.$el;if(F){const R=F.querySelector(`.${r.namespace.value}-scrollbar__wrap`),$=F.querySelector(`.${r.b("node")}.${r.is("active")}`)||F.querySelector(`.${r.b("node")}.in-active-path`);rR(R,$)}})},E=O=>{const F=O.target,{code:R}=O;switch(R){case it.up:case it.down:{O.preventDefault();const $=R===it.up?-1:1;Nm(dL(F,$,`.${r.b("node")}[tabindex="-1"]`));break}case it.left:{O.preventDefault();const $=l.value[VT(F)-1],D=$==null?void 0:$.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Nm(D);break}case it.right:{O.preventDefault();const $=l.value[VT(F)+1],D=$==null?void 0:$.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Nm(D);break}case it.enter:Qq(F);break}};return Dt(Nw,Gt({config:s,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:a,renderLabelFn:g,lazyLoad:v,expandNode:y,handleCheckChange:b})),Ve([s,()=>n.options],m,{deep:!0,immediate:!0}),Ve(()=>n.modelValue,()=>{i=!1,M()},{deep:!0}),Ve(()=>c.value,O=>{bi(O,n.modelValue)||(e(Lt,O),e(dn,O))}),D3(()=>l.value=[]),St(()=>!kr(n.modelValue)&&M()),{ns:r,menuList:l,menus:u,checkedNodes:f,handleKeyDown:E,handleCheckChange:b,getFlattedNodes:_,getCheckedNodes:w,clearCheckedNodes:S,calculateCheckedValue:T,scrollToExpandingNode:L}}});function nY(n,e,t,i,r,s){const o=Ct("el-cascader-menu");return B(),se("div",{class:U([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:e[0]||(e[0]=(...a)=>n.handleKeyDown&&n.handleKeyDown(...a))},[(B(!0),se(rt,null,Bt(n.menus,(a,l)=>(B(),Oe(o,{key:l,ref_for:!0,ref:c=>n.menuList[l]=c,index:l,nodes:[...a]},null,8,["index","nodes"]))),128))],34)}var Um=je(tY,[["render",nY],["__file","index.vue"]]);Um.install=n=>{n.component(Um.name,Um)};const tI=Um,iY=tI,Rv=Ge({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Vs,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),rY={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},sY=pe({name:"ElTag"}),oY=pe({...sY,props:Rv,emits:rY,setup(n,{emit:e}){const t=n,i=Gn(),r=He("tag"),s=I(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=t;return[r.b(),r.is("closable",d),r.m(l),r.m(i.value),r.m(u),r.is("hit",c),r.is("round",f)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(B(),se("span",{key:0,class:U(p(s)),style:tt({backgroundColor:l.color}),onClick:a},[de("span",{class:U(p(r).e("content"))},[Be(l.$slots,"default")],2),l.closable?(B(),Oe(p(et),{key:0,class:U(p(r).e("close")),onClick:ft(o,["stop"])},{default:Ee(()=>[ye(p(gs))]),_:1},8,["class","onClick"])):ke("v-if",!0)],6)):(B(),Oe(Un,{key:1,name:`${p(r).namespace.value}-zoom-in-center`,appear:""},{default:Ee(()=>[de("span",{class:U(p(s)),style:tt({backgroundColor:l.color}),onClick:a},[de("span",{class:U(p(r).e("content"))},[Be(l.$slots,"default")],2),l.closable?(B(),Oe(p(et),{key:0,class:U(p(r).e("close")),onClick:ft(o,["stop"])},{default:Ee(()=>[ye(p(gs))]),_:1},8,["class","onClick"])):ke("v-if",!0)],6)]),_:3},8,["name"]))}});var aY=je(oY,[["__file","tag.vue"]]);const Xf=At(aY),lY=Ge({...eI,size:ni,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Le(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Le(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:li.teleported,tagType:{...Rv.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),cY={[Lt]:n=>!!n||n===null,[dn]:n=>!!n||n===null,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,visibleChange:n=>zn(n),expandChange:n=>!!n,removeTag:n=>!!n},uY={key:0},dY=["placeholder","onKeydown"],fY=["onClick"],hY="ElCascader",pY=pe({name:hY}),mY=pe({...pY,props:lY,emits:cY,setup(n,{expose:e,emit:t}){const i=n,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ge})=>{const{modifiersData:_e,placement:Ne}=ge;["right","left","bottom","top"].includes(Ne)||(_e.arrow.x=35)},requires:["arrow"]}]},s=Zl();let o=0,a=0;const l=He("cascader"),c=He("input"),{t:u}=Ut(),{form:d,formItem:f}=qi(),h=X(null),g=X(null),m=X(null),v=X(null),y=X(null),b=X(!1),x=X(!1),_=X(!1),w=X(!1),S=X(""),T=X(""),M=X([]),C=X([]),L=X([]),E=X(!1),O=I(()=>s.style),F=I(()=>i.disabled||(d==null?void 0:d.disabled)),R=I(()=>i.placeholder||u("el.cascader.placeholder")),$=I(()=>T.value||M.value.length>0||E.value?"":R.value),D=Gn(),A=I(()=>["small"].includes(D.value)?"small":"default"),N=I(()=>!!i.props.multiple),P=I(()=>!i.filterable||N.value),z=I(()=>N.value?T.value:S.value),Y=I(()=>{var ge;return((ge=v.value)==null?void 0:ge.checkedNodes)||[]}),H=I(()=>!i.clearable||F.value||_.value||!x.value?!1:!!Y.value.length),V=I(()=>{const{showAllLevels:ge,separator:_e}=i,Ne=Y.value;return Ne.length?N.value?"":Ne[0].calcText(ge,_e):""}),W=I({get(){return xg(i.modelValue)},set(ge){t(Lt,ge),t(dn,ge),i.validateEvent&&(f==null||f.validate("change").catch(_e=>void 0))}}),ie=I(()=>[l.b(),l.m(D.value),l.is("disabled",F.value),s.class]),G=I(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",b.value)]),te=I(()=>l.is("focus",b.value||w.value)),oe=I(()=>{var ge,_e;return(_e=(ge=h.value)==null?void 0:ge.popperRef)==null?void 0:_e.contentRef}),xe=ge=>{var _e,Ne,ve;F.value||(ge=ge??!b.value,ge!==b.value&&(b.value=ge,(Ne=(_e=g.value)==null?void 0:_e.input)==null||Ne.setAttribute("aria-expanded",`${ge}`),ge?(ue(),at((ve=v.value)==null?void 0:ve.scrollToExpandingNode)):i.filterable&&ee(),t("visibleChange",ge)))},ue=()=>{at(()=>{var ge;(ge=h.value)==null||ge.updatePopper()})},we=()=>{_.value=!1},re=ge=>{const{showAllLevels:_e,separator:Ne}=i;return{node:ge,key:ge.uid,text:ge.calcText(_e,Ne),hitState:!1,closable:!F.value&&!ge.isDisabled,isCollapseTag:!1}},j=ge=>{var _e;const Ne=ge.node;Ne.doCheck(!1),(_e=v.value)==null||_e.calculateCheckedValue(),t("removeTag",Ne.valueByOption)},Z=()=>{if(!N.value)return;const ge=Y.value,_e=[],Ne=[];if(ge.forEach(ve=>Ne.push(re(ve))),C.value=Ne,ge.length){ge.slice(0,i.maxCollapseTags).forEach(Ae=>_e.push(re(Ae)));const ve=ge.slice(i.maxCollapseTags),Ue=ve.length;Ue&&(i.collapseTags?_e.push({key:-1,text:`+ ${Ue}`,closable:!1,isCollapseTag:!0}):ve.forEach(Ae=>_e.push(re(Ae))))}M.value=_e},le=()=>{var ge,_e;const{filterMethod:Ne,showAllLevels:ve,separator:Ue}=i,Ae=(_e=(ge=v.value)==null?void 0:ge.getFlattedNodes(!i.props.checkStrictly))==null?void 0:_e.filter(Ye=>Ye.isDisabled?!1:(Ye.calcText(ve,Ue),Ne(Ye,z.value)));N.value&&(M.value.forEach(Ye=>{Ye.hitState=!1}),C.value.forEach(Ye=>{Ye.hitState=!1})),_.value=!0,L.value=Ae,ue()},J=()=>{var ge;let _e;_.value&&y.value?_e=y.value.$el.querySelector(`.${l.e("suggestion-item")}`):_e=(ge=v.value)==null?void 0:ge.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),_e&&(_e.focus(),!_.value&&_e.click())},k=()=>{var ge,_e;const Ne=(ge=g.value)==null?void 0:ge.input,ve=m.value,Ue=(_e=y.value)==null?void 0:_e.$el;if(!(!Vt||!Ne)){if(Ue){const Ae=Ue.querySelector(`.${l.e("suggestion-list")}`);Ae.style.minWidth=`${Ne.offsetWidth}px`}if(ve){const{offsetHeight:Ae}=ve,Ye=M.value.length>0?`${Math.max(Ae+6,o)}px`:`${o}px`;Ne.style.height=Ye,ue()}}},q=ge=>{var _e;return(_e=v.value)==null?void 0:_e.getCheckedNodes(ge)},ce=ge=>{ue(),t("expandChange",ge)},me=ge=>{var _e;const Ne=(_e=ge.target)==null?void 0:_e.value;if(ge.type==="compositionend")E.value=!1,at(()=>Re(Ne));else{const ve=Ne[Ne.length-1]||"";E.value=!aw(ve)}},Ce=ge=>{if(!E.value)switch(ge.code){case it.enter:xe();break;case it.down:xe(!0),at(J),ge.preventDefault();break;case it.esc:b.value===!0&&(ge.preventDefault(),ge.stopPropagation(),xe(!1));break;case it.tab:xe(!1);break}},Q=()=>{var ge;(ge=v.value)==null||ge.clearCheckedNodes(),!b.value&&i.filterable&&ee(),xe(!1)},ee=()=>{const{value:ge}=V;S.value=ge,T.value=ge},Se=ge=>{var _e,Ne;const{checked:ve}=ge;N.value?(_e=v.value)==null||_e.handleCheckChange(ge,!ve,!1):(!ve&&((Ne=v.value)==null||Ne.handleCheckChange(ge,!0,!1)),xe(!1))},be=ge=>{const _e=ge.target,{code:Ne}=ge;switch(Ne){case it.up:case it.down:{const ve=Ne===it.up?-1:1;Nm(dL(_e,ve,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case it.enter:_e.click();break}},Pe=()=>{const ge=M.value,_e=ge[ge.length-1];a=T.value?0:a+1,!(!_e||!a||i.collapseTags&&ge.length>1)&&(_e.hitState?j(_e):_e.hitState=!0)},he=ge=>{const _e=ge.target,Ne=l.e("search-input");_e.className===Ne&&(w.value=!0),t("focus",ge)},$e=ge=>{w.value=!1,t("blur",ge)},ne=cr(()=>{const{value:ge}=z;if(!ge)return;const _e=i.beforeFilter(ge);If(_e)?_e.then(le).catch(()=>{}):_e!==!1?le():we()},i.debounce),Re=(ge,_e)=>{!b.value&&xe(!0),!(_e!=null&&_e.isComposing)&&(ge?ne():we())},fe=ge=>Number.parseFloat(tB(c.cssVarName("input-height"),ge).value)-2;return Ve(_,ue),Ve([Y,F],Z),Ve(M,()=>{at(()=>k())}),Ve(D,async()=>{await at();const ge=g.value.input;o=fe(ge)||o,k()}),Ve(V,ee,{immediate:!0}),St(()=>{const ge=g.value.input,_e=fe(ge);o=ge.offsetHeight||_e,bn(ge,k)}),e({getCheckedNodes:q,cascaderPanelRef:v,togglePopperVisible:xe,contentRef:oe}),(ge,_e)=>(B(),Oe(p(Ri),{ref_key:"tooltipRef",ref:h,visible:b.value,teleported:ge.teleported,"popper-class":[p(l).e("dropdown"),ge.popperClass],"popper-options":r,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${p(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:we},{default:Ee(()=>[_t((B(),se("div",{class:U(p(ie)),style:tt(p(O)),onClick:_e[5]||(_e[5]=()=>xe(p(P)?void 0:!0)),onKeydown:Ce,onMouseenter:_e[6]||(_e[6]=Ne=>x.value=!0),onMouseleave:_e[7]||(_e[7]=Ne=>x.value=!1)},[ye(p(Ai),{ref_key:"input",ref:g,modelValue:S.value,"onUpdate:modelValue":_e[1]||(_e[1]=Ne=>S.value=Ne),placeholder:p($),readonly:p(P),disabled:p(F),"validate-event":!1,size:p(D),class:U(p(te)),tabindex:p(N)&&ge.filterable&&!p(F)?-1:void 0,onCompositionstart:me,onCompositionupdate:me,onCompositionend:me,onFocus:he,onBlur:$e,onInput:Re},{suffix:Ee(()=>[p(H)?(B(),Oe(p(et),{key:"clear",class:U([p(c).e("icon"),"icon-circle-close"]),onClick:ft(Q,["stop"])},{default:Ee(()=>[ye(p(Ua))]),_:1},8,["class","onClick"])):(B(),Oe(p(et),{key:"arrow-down",class:U(p(G)),onClick:_e[0]||(_e[0]=ft(Ne=>xe(),["stop"]))},{default:Ee(()=>[ye(p(Po))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),p(N)?(B(),se("div",{key:0,ref_key:"tagWrapper",ref:m,class:U(p(l).e("tags"))},[(B(!0),se(rt,null,Bt(M.value,Ne=>(B(),Oe(p(Xf),{key:Ne.key,type:ge.tagType,size:p(A),hit:Ne.hitState,closable:Ne.closable,"disable-transitions":"",onClose:ve=>j(Ne)},{default:Ee(()=>[Ne.isCollapseTag===!1?(B(),se("span",uY,qe(Ne.text),1)):(B(),Oe(p(Ri),{key:1,disabled:b.value||!ge.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Ee(()=>[de("span",null,qe(Ne.text),1)]),content:Ee(()=>[de("div",{class:U(p(l).e("collapse-tags"))},[(B(!0),se(rt,null,Bt(C.value.slice(ge.maxCollapseTags),(ve,Ue)=>(B(),se("div",{key:Ue,class:U(p(l).e("collapse-tag"))},[(B(),Oe(p(Xf),{key:ve.key,class:"in-tooltip",type:ge.tagType,size:p(A),hit:ve.hitState,closable:ve.closable,"disable-transitions":"",onClose:Ae=>j(ve)},{default:Ee(()=>[de("span",null,qe(ve.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),ge.filterable&&!p(F)?_t((B(),se("input",{key:0,"onUpdate:modelValue":_e[2]||(_e[2]=Ne=>T.value=Ne),type:"text",class:U(p(l).e("search-input")),placeholder:p(V)?"":p(R),onInput:_e[3]||(_e[3]=Ne=>Re(T.value,Ne)),onClick:_e[4]||(_e[4]=ft(Ne=>xe(!0),["stop"])),onKeydown:Jt(Pe,["delete"]),onCompositionstart:me,onCompositionupdate:me,onCompositionend:me,onFocus:he,onBlur:$e},null,42,dY)),[[kx,T.value]]):ke("v-if",!0)],2)):ke("v-if",!0)],38)),[[p(To),()=>xe(!1),p(oe)]])]),content:Ee(()=>[_t(ye(p(tI),{ref_key:"cascaderPanelRef",ref:v,modelValue:p(W),"onUpdate:modelValue":_e[8]||(_e[8]=Ne=>an(W)?W.value=Ne:null),options:ge.options,props:i.props,border:!1,"render-label":ge.$slots.default,onExpandChange:ce,onClose:_e[9]||(_e[9]=Ne=>ge.$nextTick(()=>xe(!1)))},null,8,["modelValue","options","props","render-label"]),[[Wt,!_.value]]),ge.filterable?_t((B(),Oe(p(ko),{key:0,ref_key:"suggestionPanel",ref:y,tag:"ul",class:U(p(l).e("suggestion-panel")),"view-class":p(l).e("suggestion-list"),onKeydown:be},{default:Ee(()=>[L.value.length?(B(!0),se(rt,{key:0},Bt(L.value,Ne=>(B(),se("li",{key:Ne.uid,class:U([p(l).e("suggestion-item"),p(l).is("checked",Ne.checked)]),tabindex:-1,onClick:ve=>Se(Ne)},[de("span",null,qe(Ne.text),1),Ne.checked?(B(),Oe(p(et),{key:0},{default:Ee(()=>[ye(p(Dh))]),_:1})):ke("v-if",!0)],10,fY))),128)):Be(ge.$slots,"empty",{key:1},()=>[de("li",{class:U(p(l).e("empty-text"))},qe(p(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Wt,_.value]]):ke("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Wm=je(mY,[["__file","cascader.vue"]]);Wm.install=n=>{n.component(Wm.name,Wm)};const gY=Wm,vY=gY,yY=Ge({checked:{type:Boolean,default:!1}}),bY={"update:checked":n=>zn(n),[dn]:n=>zn(n)},_Y=pe({name:"ElCheckTag"}),xY=pe({..._Y,props:yY,emits:bY,setup(n,{emit:e}){const t=n,i=He("check-tag"),r=I(()=>[i.b(),i.is("checked",t.checked)]),s=()=>{const o=!t.checked;e(dn,o),e("update:checked",o)};return(o,a)=>(B(),se("span",{class:U(p(r)),onClick:s},[Be(o.$slots,"default")],2))}});var wY=je(xY,[["__file","check-tag.vue"]]);const SY=At(wY),nI=Symbol("rowContextKey"),MY=["start","center","end","space-around","space-between","space-evenly"],TY=["top","middle","bottom"],EY=Ge({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:MY,default:"start"},align:{type:String,values:TY}}),CY=pe({name:"ElRow"}),AY=pe({...CY,props:EY,setup(n){const e=n,t=He("row"),i=I(()=>e.gutter);Dt(nI,{gutter:i});const r=I(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),s=I(()=>[t.b(),t.is(`justify-${e.justify}`,e.justify!=="start"),t.is(`align-${e.align}`,!!e.align)]);return(o,a)=>(B(),Oe(Pt(o.tag),{class:U(p(s)),style:tt(p(r))},{default:Ee(()=>[Be(o.$slots,"default")]),_:3},8,["class","style"]))}});var LY=je(AY,[["__file","row.vue"]]);const RY=At(LY),PY=Ge({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Le([Number,Object]),default:()=>yn({})},sm:{type:Le([Number,Object]),default:()=>yn({})},md:{type:Le([Number,Object]),default:()=>yn({})},lg:{type:Le([Number,Object]),default:()=>yn({})},xl:{type:Le([Number,Object]),default:()=>yn({})}}),IY=pe({name:"ElCol"}),kY=pe({...IY,props:PY,setup(n){const e=n,{gutter:t}=Qe(nI,{gutter:I(()=>0)}),i=He("col"),r=I(()=>{const o={};return t.value&&(o.paddingLeft=o.paddingRight=`${t.value/2}px`),o}),s=I(()=>{const o=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];ut(u)&&(c==="span"?o.push(i.b(`${e[c]}`)):u>0&&o.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{ut(e[c])?o.push(i.b(`${c}-${e[c]}`)):It(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{o.push(u!=="span"?i.b(`${c}-${u}-${d}`):i.b(`${c}-${d}`))})}),t.value&&o.push(i.is("guttered")),[i.b(),o]});return(o,a)=>(B(),Oe(Pt(o.tag),{class:U(p(s)),style:tt(p(r))},{default:Ee(()=>[Be(o.$slots,"default")]),_:3},8,["class","style"]))}});var DY=je(kY,[["__file","col.vue"]]);const NY=At(DY),HT=n=>ut(n)||vt(n)||Je(n),OY=Ge({accordion:Boolean,modelValue:{type:Le([Array,String,Number]),default:()=>yn([])}}),FY={[Lt]:HT,[dn]:HT},iI=Symbol("collapseContextKey"),BY=(n,e)=>{const t=X($l(n.modelValue)),i=s=>{t.value=s;const o=n.accordion?t.value[0]:t.value;e(Lt,o),e(dn,o)},r=s=>{if(n.accordion)i([t.value[0]===s?"":s]);else{const o=[...t.value],a=o.indexOf(s);a>-1?o.splice(a,1):o.push(s),i(o)}};return Ve(()=>n.modelValue,()=>t.value=$l(n.modelValue),{deep:!0}),Dt(iI,{activeNames:t,handleItemClick:r}),{activeNames:t,setActiveNames:i}},zY=()=>{const n=He("collapse");return{rootKls:I(()=>n.b())}},$Y=pe({name:"ElCollapse"}),VY=pe({...$Y,props:OY,emits:FY,setup(n,{expose:e,emit:t}){const i=n,{activeNames:r,setActiveNames:s}=BY(i,t),{rootKls:o}=zY();return e({activeNames:r,setActiveNames:s}),(a,l)=>(B(),se("div",{class:U(p(o))},[Be(a.$slots,"default")],2))}});var HY=je(VY,[["__file","collapse.vue"]]);const UY=pe({name:"ElCollapseTransition"}),WY=pe({...UY,setup(n){const e=He("collapse-transition"),t=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},i={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){t(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){t(r)},leaveCancelled(r){t(r)}};return(r,s)=>(B(),Oe(Un,Rt({name:p(e).b()},wF(i)),{default:Ee(()=>[Be(r.$slots,"default")]),_:3},16,["name"]))}});var Gm=je(WY,[["__file","collapse-transition.vue"]]);Gm.install=n=>{n.component(Gm.name,Gm)};const Pv=Gm,GY=Pv,jY=Ge({title:{type:String,default:""},name:{type:Le([String,Number]),default:void 0},disabled:Boolean}),KY=n=>{const e=Qe(iI),{namespace:t}=He("collapse"),i=X(!1),r=X(!1),s=_w(),o=I(()=>s.current++),a=I(()=>{var f;return(f=n.name)!=null?f:`${t.value}-id-${s.prefix}-${p(o)}`}),l=I(()=>e==null?void 0:e.activeNames.value.includes(p(a)));return{focusing:i,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:i.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(p(a)),i.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(p(a))}}},qY=(n,{focusing:e,isActive:t,id:i})=>{const r=He("collapse"),s=I(()=>[r.b("item"),r.is("active",p(t)),r.is("disabled",n.disabled)]),o=I(()=>[r.be("item","header"),r.is("active",p(t)),{focusing:p(e)&&!n.disabled}]),a=I(()=>[r.be("item","arrow"),r.is("active",p(t))]),l=I(()=>r.be("item","wrap")),c=I(()=>r.be("item","content")),u=I(()=>r.b(`content-${p(i)}`)),d=I(()=>r.b(`head-${p(i)}`));return{arrowKls:a,headKls:o,rootKls:s,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},YY=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],XY=["id","aria-hidden","aria-labelledby"],ZY=pe({name:"ElCollapseItem"}),JY=pe({...ZY,props:jY,setup(n,{expose:e}){const t=n,{focusing:i,id:r,isActive:s,handleFocus:o,handleHeaderClick:a,handleEnterClick:l}=KY(t),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:g,scopedHeadId:m}=qY(t,{focusing:i,isActive:s,id:r});return e({isActive:s}),(v,y)=>(B(),se("div",{class:U(p(d))},[de("button",{id:p(m),class:U(p(u)),"aria-expanded":p(s),"aria-controls":p(g),"aria-describedby":p(g),tabindex:v.disabled?-1:0,type:"button",onClick:y[0]||(y[0]=(...b)=>p(a)&&p(a)(...b)),onKeydown:y[1]||(y[1]=Jt(ft((...b)=>p(l)&&p(l)(...b),["stop","prevent"]),["space","enter"])),onFocus:y[2]||(y[2]=(...b)=>p(o)&&p(o)(...b)),onBlur:y[3]||(y[3]=b=>i.value=!1)},[Be(v.$slots,"title",{},()=>[Ht(qe(v.title),1)]),ye(p(et),{class:U(p(c))},{default:Ee(()=>[ye(p($i))]),_:1},8,["class"])],42,YY),ye(p(Pv),null,{default:Ee(()=>[_t(de("div",{id:p(g),role:"region",class:U(p(f)),"aria-hidden":!p(s),"aria-labelledby":p(m)},[de("div",{class:U(p(h))},[Be(v.$slots,"default")],2)],10,XY),[[Wt,p(s)]])]),_:3})],2))}});var rI=je(JY,[["__file","collapse-item.vue"]]);const QY=At(HY,{CollapseItem:rI}),eX=xn(rI),tX=Ge({color:{type:Le(Object),required:!0},vertical:{type:Boolean,default:!1}});let A0=!1;function Zf(n,e){if(!Vt)return;const t=function(s){var o;(o=e.drag)==null||o.call(e,s)},i=function(s){var o;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,A0=!1,(o=e.end)==null||o.call(e,s)},r=function(s){var o;A0||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",t),document.addEventListener("mouseup",i),document.addEventListener("touchmove",t),document.addEventListener("touchend",i),A0=!0,(o=e.start)==null||o.call(e,s))};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r)}const nX=n=>{const e=Mt(),t=rn(),i=rn();function r(o){o.target!==t.value&&s(o)}function s(o){if(!i.value||!t.value)return;const l=e.vnode.el.getBoundingClientRect(),{clientX:c,clientY:u}=Ox(o);if(n.vertical){let d=u-l.top;d=Math.max(t.value.offsetHeight/2,d),d=Math.min(d,l.height-t.value.offsetHeight/2),n.color.set("alpha",Math.round((d-t.value.offsetHeight/2)/(l.height-t.value.offsetHeight)*100))}else{let d=c-l.left;d=Math.max(t.value.offsetWidth/2,d),d=Math.min(d,l.width-t.value.offsetWidth/2),n.color.set("alpha",Math.round((d-t.value.offsetWidth/2)/(l.width-t.value.offsetWidth)*100))}}return{thumb:t,bar:i,handleDrag:s,handleClick:r}},iX=(n,{bar:e,thumb:t,handleDrag:i})=>{const r=Mt(),s=He("color-alpha-slider"),o=X(0),a=X(0),l=X();function c(){if(!t.value||n.vertical)return 0;const b=r.vnode.el,x=n.color.get("alpha");return b?Math.round(x*(b.offsetWidth-t.value.offsetWidth/2)/100):0}function u(){if(!t.value)return 0;const b=r.vnode.el;if(!n.vertical)return 0;const x=n.color.get("alpha");return b?Math.round(x*(b.offsetHeight-t.value.offsetHeight/2)/100):0}function d(){if(n.color&&n.color.value){const{r:b,g:x,b:_}=n.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${x}, ${_}, 0) 0%, rgba(${b}, ${x}, ${_}, 1) 100%)`}return""}function f(){o.value=c(),a.value=u(),l.value=d()}St(()=>{if(!e.value||!t.value)return;const b={drag:x=>{i(x)},end:x=>{i(x)}};Zf(e.value,b),Zf(t.value,b),f()}),Ve(()=>n.color.get("alpha"),()=>f()),Ve(()=>n.color.value,()=>f());const h=I(()=>[s.b(),s.is("vertical",n.vertical)]),g=I(()=>s.e("bar")),m=I(()=>s.e("thumb")),v=I(()=>({background:l.value})),y=I(()=>({left:Nn(o.value),top:Nn(a.value)}));return{rootKls:h,barKls:g,barStyle:v,thumbKls:m,thumbStyle:y,update:f}},rX="ElColorAlphaSlider",sX=pe({name:rX}),oX=pe({...sX,props:tX,setup(n,{expose:e}){const t=n,{bar:i,thumb:r,handleDrag:s,handleClick:o}=nX(t),{rootKls:a,barKls:l,barStyle:c,thumbKls:u,thumbStyle:d,update:f}=iX(t,{bar:i,thumb:r,handleDrag:s});return e({update:f,bar:i,thumb:r}),(h,g)=>(B(),se("div",{class:U(p(a))},[de("div",{ref_key:"bar",ref:i,class:U(p(l)),style:tt(p(c)),onClick:g[0]||(g[0]=(...m)=>p(o)&&p(o)(...m))},null,6),de("div",{ref_key:"thumb",ref:r,class:U(p(u)),style:tt(p(d))},null,6)],2))}});var aX=je(oX,[["__file","alpha-slider.vue"]]);const lX=pe({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=He("color-hue-slider"),t=Mt(),i=X(),r=X(),s=X(0),o=X(0),a=I(()=>n.color.get("hue"));Ve(()=>a.value,()=>{f()});function l(h){h.target!==i.value&&c(h)}function c(h){if(!r.value||!i.value)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=Ox(h);let b;if(n.vertical){let x=y-m.top;x=Math.min(x,m.height-i.value.offsetHeight/2),x=Math.max(i.value.offsetHeight/2,x),b=Math.round((x-i.value.offsetHeight/2)/(m.height-i.value.offsetHeight)*360)}else{let x=v-m.left;x=Math.min(x,m.width-i.value.offsetWidth/2),x=Math.max(i.value.offsetWidth/2,x),b=Math.round((x-i.value.offsetWidth/2)/(m.width-i.value.offsetWidth)*360)}n.color.set("hue",b)}function u(){if(!i.value)return 0;const h=t.vnode.el;if(n.vertical)return 0;const g=n.color.get("hue");return h?Math.round(g*(h.offsetWidth-i.value.offsetWidth/2)/360):0}function d(){if(!i.value)return 0;const h=t.vnode.el;if(!n.vertical)return 0;const g=n.color.get("hue");return h?Math.round(g*(h.offsetHeight-i.value.offsetHeight/2)/360):0}function f(){s.value=u(),o.value=d()}return St(()=>{if(!r.value||!i.value)return;const h={drag:g=>{c(g)},end:g=>{c(g)}};Zf(r.value,h),Zf(i.value,h),f()}),{bar:r,thumb:i,thumbLeft:s,thumbTop:o,hueValue:a,handleClick:l,update:f,ns:e}}});function cX(n,e,t,i,r,s){return B(),se("div",{class:U([n.ns.b(),n.ns.is("vertical",n.vertical)])},[de("div",{ref:"bar",class:U(n.ns.e("bar")),onClick:e[0]||(e[0]=(...o)=>n.handleClick&&n.handleClick(...o))},null,2),de("div",{ref:"thumb",class:U(n.ns.e("thumb")),style:tt({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var uX=je(lX,[["render",cX],["__file","hue-slider.vue"]]);const dX=Ge({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ni,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:Le(Array)},validateEvent:{type:Boolean,default:!0}}),fX={[Lt]:n=>vt(n)||Kn(n),[dn]:n=>vt(n)||Kn(n),activeChange:n=>vt(n)||Kn(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},sI=Symbol("colorPickerContextKey"),UT=function(n,e,t){return[n,e*t/((n=(2-e)*t)<1?n:2-n)||0,n/2]},hX=function(n){return typeof n=="string"&&n.includes(".")&&Number.parseFloat(n)===1},pX=function(n){return typeof n=="string"&&n.includes("%")},vu=function(n,e){hX(n)&&(n="100%");const t=pX(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),t&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},WT={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},jm=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),t=n%16;return`${WT[e]||e}${WT[t]||t}`},GT=function({r:n,g:e,b:t}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+t)?"":`#${jm(n)}${jm(e)}${jm(t)}`},L0={A:10,B:11,C:12,D:13,E:14,F:15},el=function(n){return n.length===2?(L0[n[0].toUpperCase()]||+n[0])*16+(L0[n[1].toUpperCase()]||+n[1]):L0[n[1].toUpperCase()]||+n[1]},mX=function(n,e,t){e=e/100,t=t/100;let i=e;const r=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,i*=r<=1?r:2-r;const s=(t+e)/2,o=t===0?2*i/(r+i):2*e/(t+e);return{h:n,s:o*100,v:s*100}},jT=(n,e,t)=>{n=vu(n,255),e=vu(e,255),t=vu(t,255);const i=Math.max(n,e,t),r=Math.min(n,e,t);let s;const o=i,a=i-r,l=i===0?0:a/i;if(i===r)s=0;else{switch(i){case n:{s=(e-t)/a+(e<t?6:0);break}case e:{s=(t-n)/a+2;break}case t:{s=(n-e)/a+4;break}}s/=6}return{h:s*360,s:l*100,v:o*100}},Nd=function(n,e,t){n=vu(n,360)*6,e=vu(e,100),t=vu(t,100);const i=Math.floor(n),r=n-i,s=t*(1-e),o=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],d=[s,s,a,t,t,o][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let _f=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)zt(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e=="object"){for(const i in e)zt(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=t,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Nd(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(i,r,s)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.includes("hsl")){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:o}=mX(i[0],i[1],i[2]);t(r,s,o)}}else if(e.includes("hsv")){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&t(i[0],i[1],i[2])}else if(e.includes("rgb")){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:o}=jT(i[0],i[1],i[2]);t(r,s,o)}}else if(e.includes("#")){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,s,o;i.length===3?(r=el(i[0]+i[0]),s=el(i[1]+i[1]),o=el(i[2]+i[2])):(i.length===6||i.length===8)&&(r=el(i.slice(0,2)),s=el(i.slice(2,4)),o=el(i.slice(4,6))),i.length===8?this._alpha=el(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:a,s:l,v:c}=jT(r,s,o);t(a,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:i,_alpha:r,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const o=UT(e,t/100,i/100);this.value=`hsla(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${GT(Nd(e,t,i))}${jm(r*255/100)}`;break}default:{const{r:o,g:a,b:l}=Nd(e,t,i);this.value=`rgba(${o}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const o=UT(e,t/100,i/100);this.value=`hsl(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:o,g:a,b:l}=Nd(e,t,i);this.value=`rgb(${o}, ${a}, ${l})`;break}default:this.value=GT(Nd(e,t,i))}}};const gX=pe({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(n){const e=He("color-predefine"),{currentColor:t}=Qe(sI),i=X(s(n.colors,n.color));Ve(()=>t.value,o=>{const a=new _f;a.fromString(o),i.value.forEach(l=>{l.selected=a.compare(l)})}),yi(()=>{i.value=s(n.colors,n.color)});function r(o){n.color.fromString(n.colors[o])}function s(o,a){return o.map(l=>{const c=new _f;return c.enableAlpha=!0,c.format="rgba",c.fromString(l),c.selected=c.value===a.value,c})}return{rgbaColors:i,handleSelect:r,ns:e}}}),vX=["onClick"];function yX(n,e,t,i,r,s){return B(),se("div",{class:U(n.ns.b())},[de("div",{class:U(n.ns.e("colors"))},[(B(!0),se(rt,null,Bt(n.rgbaColors,(o,a)=>(B(),se("div",{key:n.colors[a],class:U([n.ns.e("color-selector"),n.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>n.handleSelect(a)},[de("div",{style:tt({backgroundColor:o.value})},null,4)],10,vX))),128))],2)],2)}var bX=je(gX,[["render",yX],["__file","predefine.vue"]]);const _X=pe({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=He("color-svpanel"),t=Mt(),i=X(0),r=X(0),s=X("hsl(0, 100%, 50%)"),o=I(()=>{const c=n.color.get("hue"),u=n.color.get("value");return{hue:c,value:u}});function a(){const c=n.color.get("saturation"),u=n.color.get("value"),d=t.vnode.el,{clientWidth:f,clientHeight:h}=d;r.value=c*f/100,i.value=(100-u)*h/100,s.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function l(c){const d=t.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=Ox(c);let g=f-d.left,m=h-d.top;g=Math.max(0,g),g=Math.min(g,d.width),m=Math.max(0,m),m=Math.min(m,d.height),r.value=g,i.value=m,n.color.set({saturation:g/d.width*100,value:100-m/d.height*100})}return Ve(()=>o.value,()=>{a()}),St(()=>{Zf(t.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),a()}),{cursorTop:i,cursorLeft:r,background:s,colorValue:o,handleDrag:l,update:a,ns:e}}}),xX=de("div",null,null,-1),wX=[xX];function SX(n,e,t,i,r,s){return B(),se("div",{class:U(n.ns.b()),style:tt({backgroundColor:n.background})},[de("div",{class:U(n.ns.e("white"))},null,2),de("div",{class:U(n.ns.e("black"))},null,2),de("div",{class:U(n.ns.e("cursor")),style:tt({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},wX,6)],6)}var MX=je(_X,[["render",SX],["__file","sv-panel.vue"]]);const TX=["onKeydown"],EX=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],CX=pe({name:"ElColorPicker"}),AX=pe({...CX,props:dX,emits:fX,setup(n,{expose:e,emit:t}){const i=n,{t:r}=Ut(),s=He("color"),{formItem:o}=qi(),a=Gn(),l=dr(),{inputId:c,isLabeledByFormItem:u}=Hs(i,{formItemContext:o}),d=X(),f=X(),h=X(),g=X(),m=X(),v=X(),{isFocused:y,handleFocus:b,handleBlur:x}=Tv(m,{beforeBlur(ue){var we;return(we=g.value)==null?void 0:we.isFocusInsideContent(ue)},afterBlur(){D(!1),z()}}),_=ue=>{if(l.value)return xe();b(ue)};let w=!0;const S=Gt(new _f({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),T=X(!1),M=X(!1),C=X(""),L=I(()=>!i.modelValue&&!M.value?"transparent":$(S,i.showAlpha)),E=I(()=>!i.modelValue&&!M.value?"":S.value),O=I(()=>u.value?void 0:i.label||r("el.colorpicker.defaultLabel")),F=I(()=>u.value?o==null?void 0:o.labelId:void 0),R=I(()=>[s.b("picker"),s.is("disabled",l.value),s.bm("picker",a.value),s.is("focused",y.value)]);function $(ue,we){if(!(ue instanceof _f))throw new TypeError("color should be instance of _color Class");const{r:re,g:j,b:Z}=ue.toRgb();return we?`rgba(${re}, ${j}, ${Z}, ${ue.get("alpha")/100})`:`rgb(${re}, ${j}, ${Z})`}function D(ue){T.value=ue}const A=cr(D,100,{leading:!0});function N(){l.value||D(!0)}function P(){A(!1),z()}function z(){at(()=>{i.modelValue?S.fromString(i.modelValue):(S.value="",at(()=>{M.value=!1}))})}function Y(){l.value||A(!T.value)}function H(){S.fromString(C.value)}function V(){const ue=S.value;t(Lt,ue),t("change",ue),i.validateEvent&&(o==null||o.validate("change").catch(we=>void 0)),A(!1),at(()=>{const we=new _f({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});S.compare(we)||z()})}function W(){A(!1),t(Lt,null),t("change",null),i.modelValue!==null&&i.validateEvent&&(o==null||o.validate("change").catch(ue=>void 0)),z()}function ie(ue){if(T.value&&(P(),y.value)){const we=new FocusEvent("focus",ue);x(we)}}function G(ue){ue.preventDefault(),ue.stopPropagation(),D(!1),z()}function te(ue){switch(ue.code){case it.enter:case it.space:ue.preventDefault(),ue.stopPropagation(),N(),v.value.focus();break;case it.esc:G(ue);break}}function oe(){m.value.focus()}function xe(){m.value.blur()}return St(()=>{i.modelValue&&(C.value=E.value)}),Ve(()=>i.modelValue,ue=>{ue?ue&&ue!==S.value&&(w=!1,S.fromString(ue)):M.value=!1}),Ve(()=>E.value,ue=>{C.value=ue,w&&t("activeChange",ue),w=!0}),Ve(()=>S.value,()=>{!i.modelValue&&!M.value&&(M.value=!0)}),Ve(()=>T.value,()=>{at(()=>{var ue,we,re;(ue=d.value)==null||ue.update(),(we=f.value)==null||we.update(),(re=h.value)==null||re.update()})}),Dt(sI,{currentColor:E}),e({color:S,show:N,hide:P,focus:oe,blur:xe}),(ue,we)=>(B(),Oe(p(Ri),{ref_key:"popper",ref:g,visible:T.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[p(s).be("picker","panel"),p(s).b("dropdown"),ue.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${p(s).namespace.value}-zoom-in-top`,persistent:"",onHide:we[2]||(we[2]=re=>D(!1))},{content:Ee(()=>[_t((B(),se("div",{onKeydown:Jt(G,["esc"])},[de("div",{class:U(p(s).be("dropdown","main-wrapper"))},[ye(uX,{ref_key:"hue",ref:d,class:"hue-slider",color:p(S),vertical:""},null,8,["color"]),ye(MX,{ref_key:"sv",ref:f,color:p(S)},null,8,["color"])],2),ue.showAlpha?(B(),Oe(aX,{key:0,ref_key:"alpha",ref:h,color:p(S)},null,8,["color"])):ke("v-if",!0),ue.predefine?(B(),Oe(bX,{key:1,ref:"predefine",color:p(S),colors:ue.predefine},null,8,["color","colors"])):ke("v-if",!0),de("div",{class:U(p(s).be("dropdown","btns"))},[de("span",{class:U(p(s).be("dropdown","value"))},[ye(p(Ai),{ref_key:"inputRef",ref:v,modelValue:C.value,"onUpdate:modelValue":we[0]||(we[0]=re=>C.value=re),"validate-event":!1,size:"small",onKeyup:Jt(H,["enter"]),onBlur:H},null,8,["modelValue","onKeyup"])],2),ye(p(ti),{class:U(p(s).be("dropdown","link-btn")),text:"",size:"small",onClick:W},{default:Ee(()=>[Ht(qe(p(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ye(p(ti),{plain:"",size:"small",class:U(p(s).be("dropdown","btn")),onClick:V},{default:Ee(()=>[Ht(qe(p(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,TX)),[[p(To),ie]])]),default:Ee(()=>[de("div",{id:p(c),ref_key:"triggerRef",ref:m,class:U(p(R)),role:"button","aria-label":p(O),"aria-labelledby":p(F),"aria-description":p(r)("el.colorpicker.description",{color:ue.modelValue||""}),"aria-disabled":p(l),tabindex:p(l)?-1:ue.tabindex,onKeydown:te,onFocus:_,onBlur:we[1]||(we[1]=(...re)=>p(x)&&p(x)(...re))},[p(l)?(B(),se("div",{key:0,class:U(p(s).be("picker","mask"))},null,2)):ke("v-if",!0),de("div",{class:U(p(s).be("picker","trigger")),onClick:Y},[de("span",{class:U([p(s).be("picker","color"),p(s).is("alpha",ue.showAlpha)])},[de("span",{class:U(p(s).be("picker","color-inner")),style:tt({backgroundColor:p(L)})},[_t(ye(p(et),{class:U([p(s).be("picker","icon"),p(s).is("icon-arrow-down")])},{default:Ee(()=>[ye(p(Po))]),_:1},8,["class"]),[[Wt,ue.modelValue||M.value]]),_t(ye(p(et),{class:U([p(s).be("picker","empty"),p(s).is("icon-close")])},{default:Ee(()=>[ye(p(gs))]),_:1},8,["class"]),[[Wt,!ue.modelValue&&!M.value]])],6)],2)],2)],42,EX)]),_:1},8,["visible","popper-class","transition"]))}});var LX=je(AX,[["__file","color-picker.vue"]]);const RX=At(LX),PX=pe({name:"ElContainer"}),IX=pe({...PX,props:{direction:{type:String}},setup(n){const e=n,t=Yn(),i=He("container"),r=I(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:t&&t.default?t.default().some(o=>{const a=o.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(s,o)=>(B(),se("section",{class:U([p(i).b(),p(i).is("vertical",p(r))])},[Be(s.$slots,"default")],2))}});var kX=je(IX,[["__file","container.vue"]]);const DX=pe({name:"ElAside"}),NX=pe({...DX,props:{width:{type:String,default:null}},setup(n){const e=n,t=He("aside"),i=I(()=>e.width?t.cssVarBlock({width:e.width}):{});return(r,s)=>(B(),se("aside",{class:U(p(t).b()),style:tt(p(i))},[Be(r.$slots,"default")],6))}});var oI=je(NX,[["__file","aside.vue"]]);const OX=pe({name:"ElFooter"}),FX=pe({...OX,props:{height:{type:String,default:null}},setup(n){const e=n,t=He("footer"),i=I(()=>e.height?t.cssVarBlock({height:e.height}):{});return(r,s)=>(B(),se("footer",{class:U(p(t).b()),style:tt(p(i))},[Be(r.$slots,"default")],6))}});var aI=je(FX,[["__file","footer.vue"]]);const BX=pe({name:"ElHeader"}),zX=pe({...BX,props:{height:{type:String,default:null}},setup(n){const e=n,t=He("header"),i=I(()=>e.height?t.cssVarBlock({height:e.height}):{});return(r,s)=>(B(),se("header",{class:U(p(t).b()),style:tt(p(i))},[Be(r.$slots,"default")],6))}});var lI=je(zX,[["__file","header.vue"]]);const $X=pe({name:"ElMain"}),VX=pe({...$X,setup(n){const e=He("main");return(t,i)=>(B(),se("main",{class:U(p(e).b())},[Be(t.$slots,"default")],2))}});var cI=je(VX,[["__file","main.vue"]]);const HX=At(kX,{Aside:oI,Footer:aI,Header:lI,Main:cI}),UX=xn(oI),WX=xn(aI),GX=xn(lI),jX=xn(cI);var uI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i){var r=i.prototype,s=r.format;r.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(uI);var KX=uI.exports;const qX=No(KX);var dI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){var t="week",i="year";return function(r,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(i).add(1,i).date(c),d=o(this).endOf(t);if(u.isBefore(d))return 1}var f=o(this).startOf(i).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(dI);var YX=dI.exports;const XX=No(YX);var fI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i){i.prototype.weekYear=function(){var r=this.month(),s=this.week(),o=this.year();return s===1&&r===11?o+1:r===0&&s>=52?o-1:o}}})})(fI);var ZX=fI.exports;const JX=No(ZX);var hI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i,r){i.prototype.dayOfYear=function(s){var o=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(hI);var QX=hI.exports;const eZ=No(QX);var pI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i){i.prototype.isSameOrAfter=function(r,s){return this.isSame(r,s)||this.isAfter(r,s)}}})})(pI);var tZ=pI.exports;const nZ=No(tZ);var mI={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Do,function(){return function(t,i){i.prototype.isSameOrBefore=function(r,s){return this.isSame(r,s)||this.isBefore(r,s)}}})})(mI);var iZ=mI.exports;const rZ=No(iZ),Ow=Symbol(),sZ=Ge({...Dw,type:{type:Le(String),default:"date"}}),oZ=["date","dates","year","month","week","range"],Fw=Ge({disabledDate:{type:Le(Function)},date:{type:Le(Object),required:!0},minDate:{type:Le(Object)},maxDate:{type:Le(Object)},parsedValue:{type:Le([Object,Array])},rangeState:{type:Le(Object),default:()=>({endDate:null,selecting:!1})}}),gI=Ge({type:{type:Le(String),required:!0,values:$U},dateFormat:String,timeFormat:String}),vI=Ge({unlinkPanels:Boolean,parsedValue:{type:Le(Array)}}),yI=n=>({type:String,values:oZ,default:n}),aZ=Ge({...gI,parsedValue:{type:Le([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),lZ=Ge({...Fw,cellClassName:{type:Le(Function)},showWeekNumber:Boolean,selectionMode:yI("date")}),cZ=["changerange","pick","select"],s_=n=>{if(!Je(n))return!1;const[e,t]=n;return Et.isDayjs(e)&&Et.isDayjs(t)&&e.isSameOrBefore(t)},bI=(n,{lang:e,unit:t,unlinkPanels:i})=>{let r;if(Je(n)){let[s,o]=n.map(a=>Et(a).locale(e));return i||(o=s.add(1,t)),[s,o]}else n?r=Et(n):r=Et();return r=r.locale(e),[r,r.add(1,t)]},uZ=(n,e,{columnIndexOffset:t,startDate:i,nextEndDate:r,now:s,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const g=u*n.column+f,m=a(g);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(i&&m.isSameOrAfter(i,o)&&r&&m.isSameOrBefore(r,o))||!!(i&&m.isSameOrBefore(i,o)&&r&&m.isSameOrAfter(r,o)),i!=null&&i.isSameOrAfter(r)?(h.start=!!r&&m.isSame(r,o),h.end=i&&m.isSame(i,o)):(h.start=!!i&&m.isSame(i,o),h.end=!!r&&m.isSame(r,o)),m.isSame(s,o)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},o_=(n="")=>["normal","today"].includes(n),dZ=(n,e)=>{const{lang:t}=Ut(),i=X(),r=X(),s=X(),o=X(),a=X([[],[],[],[],[],[]]);let l=!1;const c=n.date.$locale().weekStart||7,u=n.date.locale("en").localeData().weekdaysShort().map(P=>P.toLowerCase()),d=I(()=>c>3?7-c:-c),f=I(()=>{const P=n.date.startOf("month");return P.subtract(P.day()||7,"day")}),h=I(()=>u.concat(u).slice(c,c+7)),g=I(()=>IL(p(_)).some(P=>P.isCurrent)),m=I(()=>{const P=n.date.startOf("month"),z=P.day()||7,Y=P.daysInMonth(),H=P.subtract(1,"month").daysInMonth();return{startOfMonthDay:z,dateCountOfMonth:Y,dateCountOfLastMonth:H}}),v=I(()=>n.selectionMode==="dates"?bo(n.parsedValue):[]),y=(P,{count:z,rowIndex:Y,columnIndex:H})=>{const{startOfMonthDay:V,dateCountOfMonth:W,dateCountOfLastMonth:ie}=p(m),G=p(d);if(Y>=0&&Y<=1){const te=V+G<0?7+V+G:V+G;if(H+Y*7>=te)return P.text=z,!0;P.text=ie-(te-H%7)+1+Y*7,P.type="prev-month"}else return z<=W?P.text=z:(P.text=z-W,P.type="next-month"),!0;return!1},b=(P,{columnIndex:z,rowIndex:Y},H)=>{const{disabledDate:V,cellClassName:W}=n,ie=p(v),G=y(P,{count:H,rowIndex:Y,columnIndex:z}),te=P.dayjs.toDate();return P.selected=ie.find(oe=>oe.valueOf()===P.dayjs.valueOf()),P.isSelected=!!P.selected,P.isCurrent=S(P),P.disabled=V==null?void 0:V(te),P.customClass=W==null?void 0:W(te),G},x=P=>{if(n.selectionMode==="week"){const[z,Y]=n.showWeekNumber?[1,7]:[0,6],H=N(P[z+1]);P[z].inRange=H,P[z].start=H,P[Y].inRange=H,P[Y].end=H}},_=I(()=>{const{minDate:P,maxDate:z,rangeState:Y,showWeekNumber:H}=n,V=p(d),W=p(a),ie="day";let G=1;if(H)for(let te=0;te<6;te++)W[te][0]||(W[te][0]={type:"week",text:p(f).add(te*7+1,ie).week()});return uZ({row:6,column:7},W,{startDate:P,columnIndexOffset:H?1:0,nextEndDate:Y.endDate||z||Y.selecting&&P||null,now:Et().locale(p(t)).startOf(ie),unit:ie,relativeDateGetter:te=>p(f).add(te-V,ie),setCellMetadata:(...te)=>{b(...te,G)&&(G+=1)},setRowMetadata:x}),W});Ve(()=>n.date,async()=>{var P;(P=p(i))!=null&&P.contains(document.activeElement)&&(await at(),await w())});const w=async()=>{var P;return(P=p(r))==null?void 0:P.focus()},S=P=>n.selectionMode==="date"&&o_(P.type)&&T(P,n.parsedValue),T=(P,z)=>z?Et(z).locale(p(t)).isSame(n.date.date(Number(P.text)),"day"):!1,M=(P,z)=>{const Y=P*7+(z-(n.showWeekNumber?1:0))-p(d);return p(f).add(Y,"day")},C=P=>{var z;if(!n.rangeState.selecting)return;let Y=P.target;if(Y.tagName==="SPAN"&&(Y=(z=Y.parentNode)==null?void 0:z.parentNode),Y.tagName==="DIV"&&(Y=Y.parentNode),Y.tagName!=="TD")return;const H=Y.parentNode.rowIndex-1,V=Y.cellIndex;p(_)[H][V].disabled||(H!==p(s)||V!==p(o))&&(s.value=H,o.value=V,e("changerange",{selecting:!0,endDate:M(H,V)}))},L=P=>!p(g)&&(P==null?void 0:P.text)===1&&P.type==="normal"||P.isCurrent,E=P=>{l||p(g)||n.selectionMode!=="date"||A(P,!0)},O=P=>{P.target.closest("td")&&(l=!0)},F=P=>{P.target.closest("td")&&(l=!1)},R=P=>{!n.rangeState.selecting||!n.minDate?(e("pick",{minDate:P,maxDate:null}),e("select",!0)):(P>=n.minDate?e("pick",{minDate:n.minDate,maxDate:P}):e("pick",{minDate:P,maxDate:n.minDate}),e("select",!1))},$=P=>{const z=P.week(),Y=`${P.year()}w${z}`;e("pick",{year:P.year(),week:z,value:Y,date:P.startOf("week")})},D=(P,z)=>{const Y=z?bo(n.parsedValue).filter(H=>(H==null?void 0:H.valueOf())!==P.valueOf()):bo(n.parsedValue).concat([P]);e("pick",Y)},A=(P,z=!1)=>{const Y=P.target.closest("td");if(!Y)return;const H=Y.parentNode.rowIndex-1,V=Y.cellIndex,W=p(_)[H][V];if(W.disabled||W.type==="week")return;const ie=M(H,V);switch(n.selectionMode){case"range":{R(ie);break}case"date":{e("pick",ie,z);break}case"week":{$(ie);break}case"dates":{D(ie,!!W.selected);break}}},N=P=>{if(n.selectionMode!=="week")return!1;let z=n.date.startOf("day");if(P.type==="prev-month"&&(z=z.subtract(1,"month")),P.type==="next-month"&&(z=z.add(1,"month")),z=z.date(Number.parseInt(P.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const Y=(n.parsedValue.day()-c+7)%7-1;return n.parsedValue.subtract(Y,"day").isSame(z,"day")}return!1};return{WEEKS:h,rows:_,tbodyRef:i,currentCellRef:r,focus:w,isCurrent:S,isWeekActive:N,isSelectedCell:L,handlePickDate:A,handleMouseUp:F,handleMouseDown:O,handleMouseMove:C,handleFocus:E}},fZ=(n,{isCurrent:e,isWeekActive:t})=>{const i=He("date-table"),{t:r}=Ut(),s=I(()=>[i.b(),{"is-week-mode":n.selectionMode==="week"}]),o=I(()=>r("el.datepicker.dateTablePrompt")),a=I(()=>r("el.datepicker.week"));return{tableKls:s,tableLabel:o,weekLabel:a,getCellClasses:u=>{const d=[];return o_(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(o_(u.type)||n.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[i.e("row"),{current:t(u)}],t:r}},hZ=Ge({cell:{type:Le(Object)}});var pZ=pe({name:"ElDatePickerCell",props:hZ,setup(n){const e=He("date-table-cell"),{slots:t}=Qe(Ow);return()=>{const{cell:i}=n;return Be(t,"default",{...i},()=>[ye("div",{class:e.b()},[ye("span",{class:e.e("text")},[i==null?void 0:i.text])])])}}});const mZ=["aria-label"],gZ={key:0,scope:"col"},vZ=["aria-label"],yZ=["aria-current","aria-selected","tabindex"],bZ=pe({__name:"basic-date-table",props:lZ,emits:cZ,setup(n,{expose:e,emit:t}){const i=n,{WEEKS:r,rows:s,tbodyRef:o,currentCellRef:a,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:h,handleMouseDown:g,handleMouseMove:m,handleFocus:v}=dZ(i,t),{tableLabel:y,tableKls:b,weekLabel:x,getCellClasses:_,getRowKls:w,t:S}=fZ(i,{isCurrent:c,isWeekActive:u});return e({focus:l}),(T,M)=>(B(),se("table",{"aria-label":p(y),class:U(p(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:M[1]||(M[1]=(...C)=>p(f)&&p(f)(...C)),onMousemove:M[2]||(M[2]=(...C)=>p(m)&&p(m)(...C)),onMousedown:M[3]||(M[3]=ft((...C)=>p(g)&&p(g)(...C),["prevent"])),onMouseup:M[4]||(M[4]=(...C)=>p(h)&&p(h)(...C))},[de("tbody",{ref_key:"tbodyRef",ref:o},[de("tr",null,[T.showWeekNumber?(B(),se("th",gZ,qe(p(x)),1)):ke("v-if",!0),(B(!0),se(rt,null,Bt(p(r),(C,L)=>(B(),se("th",{key:L,"aria-label":p(S)("el.datepicker.weeksFull."+C),scope:"col"},qe(p(S)("el.datepicker.weeks."+C)),9,vZ))),128))]),(B(!0),se(rt,null,Bt(p(s),(C,L)=>(B(),se("tr",{key:L,class:U(p(w)(C[1]))},[(B(!0),se(rt,null,Bt(C,(E,O)=>(B(),se("td",{key:`${L}.${O}`,ref_for:!0,ref:F=>p(d)(E)&&(a.value=F),class:U(p(_)(E)),"aria-current":E.isCurrent?"date":void 0,"aria-selected":E.isCurrent,tabindex:p(d)(E)?0:-1,onFocus:M[0]||(M[0]=(...F)=>p(v)&&p(v)(...F))},[ye(p(pZ),{cell:E},null,8,["cell"])],42,yZ))),128))],2))),128))],512)],42,mZ))}});var a_=je(bZ,[["__file","basic-date-table.vue"]]);const _Z=Ge({...Fw,selectionMode:yI("month")}),xZ=["aria-label"],wZ=["aria-selected","aria-label","tabindex","onKeydown"],SZ={class:"cell"},MZ=pe({__name:"basic-month-table",props:_Z,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const i=n,r=(_,w,S)=>{const T=Et().locale(S).startOf("month").month(w).year(_),M=T.daysInMonth();return wa(M).map(C=>T.add(C,"day").toDate())},s=He("month-table"),{t:o,lang:a}=Ut(),l=X(),c=X(),u=X(i.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=X([[],[],[]]),f=X(),h=X(),g=I(()=>{var _,w;const S=d.value,T=Et().locale(a.value).startOf("month");for(let M=0;M<3;M++){const C=S[M];for(let L=0;L<4;L++){const E=C[L]||(C[L]={row:M,column:L,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});E.type="normal";const O=M*4+L,F=i.date.startOf("year").month(O),R=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;E.inRange=!!(i.minDate&&F.isSameOrAfter(i.minDate,"month")&&R&&F.isSameOrBefore(R,"month"))||!!(i.minDate&&F.isSameOrBefore(i.minDate,"month")&&R&&F.isSameOrAfter(R,"month")),(_=i.minDate)!=null&&_.isSameOrAfter(R)?(E.start=!!(R&&F.isSame(R,"month")),E.end=i.minDate&&F.isSame(i.minDate,"month")):(E.start=!!(i.minDate&&F.isSame(i.minDate,"month")),E.end=!!(R&&F.isSame(R,"month"))),T.isSame(F)&&(E.type="today"),E.text=O,E.disabled=((w=i.disabledDate)==null?void 0:w.call(i,F.toDate()))||!1}}return S}),m=()=>{var _;(_=c.value)==null||_.focus()},v=_=>{const w={},S=i.date.year(),T=new Date,M=_.text;return w.disabled=i.disabledDate?r(S,M,a.value).every(i.disabledDate):!1,w.current=bo(i.parsedValue).findIndex(C=>Et.isDayjs(C)&&C.year()===S&&C.month()===M)>=0,w.today=T.getFullYear()===S&&T.getMonth()===M,_.inRange&&(w["in-range"]=!0,_.start&&(w["start-date"]=!0),_.end&&(w["end-date"]=!0)),w},y=_=>{const w=i.date.year(),S=_.text;return bo(i.date).findIndex(T=>T.year()===w&&T.month()===S)>=0},b=_=>{var w;if(!i.rangeState.selecting)return;let S=_.target;if(S.tagName==="SPAN"&&(S=(w=S.parentNode)==null?void 0:w.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const T=S.parentNode.rowIndex,M=S.cellIndex;g.value[T][M].disabled||(T!==f.value||M!==h.value)&&(f.value=T,h.value=M,t("changerange",{selecting:!0,endDate:i.date.startOf("year").month(T*4+M)}))},x=_=>{var w;const S=(w=_.target)==null?void 0:w.closest("td");if((S==null?void 0:S.tagName)!=="TD"||fs(S,"disabled"))return;const T=S.cellIndex,C=S.parentNode.rowIndex*4+T,L=i.date.startOf("year").month(C);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&L>=i.minDate?t("pick",{minDate:i.minDate,maxDate:L}):t("pick",{minDate:L,maxDate:i.minDate}),t("select",!1)):(t("pick",{minDate:L,maxDate:null}),t("select",!0)):t("pick",C)};return Ve(()=>i.date,async()=>{var _,w;(_=l.value)!=null&&_.contains(document.activeElement)&&(await at(),(w=c.value)==null||w.focus())}),e({focus:m}),(_,w)=>(B(),se("table",{role:"grid","aria-label":p(o)("el.datepicker.monthTablePrompt"),class:U(p(s).b()),onClick:x,onMousemove:b},[de("tbody",{ref_key:"tbodyRef",ref:l},[(B(!0),se(rt,null,Bt(p(g),(S,T)=>(B(),se("tr",{key:T},[(B(!0),se(rt,null,Bt(S,(M,C)=>(B(),se("td",{key:C,ref_for:!0,ref:L=>y(M)&&(c.value=L),class:U(v(M)),"aria-selected":`${y(M)}`,"aria-label":p(o)(`el.datepicker.month${+M.text+1}`),tabindex:y(M)?0:-1,onKeydown:[Jt(ft(x,["prevent","stop"]),["space"]),Jt(ft(x,["prevent","stop"]),["enter"])]},[de("div",null,[de("span",SZ,qe(p(o)("el.datepicker.months."+u.value[M.text])),1)])],42,wZ))),128))]))),128))],512)],42,xZ))}});var l_=je(MZ,[["__file","basic-month-table.vue"]]);const{date:TZ,disabledDate:EZ,parsedValue:CZ}=Fw,AZ=Ge({date:TZ,disabledDate:EZ,parsedValue:CZ}),LZ=["aria-label"],RZ=["aria-selected","tabindex","onKeydown"],PZ={class:"cell"},IZ={key:1},kZ=pe({__name:"basic-year-table",props:AZ,emits:["pick"],setup(n,{expose:e,emit:t}){const i=n,r=(m,v)=>{const y=Et(String(m)).locale(v).startOf("year"),x=y.endOf("year").dayOfYear();return wa(x).map(_=>y.add(_,"day").toDate())},s=He("year-table"),{t:o,lang:a}=Ut(),l=X(),c=X(),u=I(()=>Math.floor(i.date.year()/10)*10),d=()=>{var m;(m=c.value)==null||m.focus()},f=m=>{const v={},y=Et().locale(a.value);return v.disabled=i.disabledDate?r(m,a.value).every(i.disabledDate):!1,v.current=bo(i.parsedValue).findIndex(b=>b.year()===m)>=0,v.today=y.year()===m,v},h=m=>m===u.value&&i.date.year()<u.value&&i.date.year()>u.value+9||bo(i.date).findIndex(v=>v.year()===m)>=0,g=m=>{const y=m.target.closest("td");if(y&&y.textContent){if(fs(y,"disabled"))return;const b=y.textContent||y.innerText;t("pick",Number(b))}};return Ve(()=>i.date,async()=>{var m,v;(m=l.value)!=null&&m.contains(document.activeElement)&&(await at(),(v=c.value)==null||v.focus())}),e({focus:d}),(m,v)=>(B(),se("table",{role:"grid","aria-label":p(o)("el.datepicker.yearTablePrompt"),class:U(p(s).b()),onClick:g},[de("tbody",{ref_key:"tbodyRef",ref:l},[(B(),se(rt,null,Bt(3,(y,b)=>de("tr",{key:b},[(B(),se(rt,null,Bt(4,(x,_)=>(B(),se(rt,{key:b+"_"+_},[b*4+_<10?(B(),se("td",{key:0,ref_for:!0,ref:w=>h(p(u)+b*4+_)&&(c.value=w),class:U(["available",f(p(u)+b*4+_)]),"aria-selected":`${h(p(u)+b*4+_)}`,tabindex:h(p(u)+b*4+_)?0:-1,onKeydown:[Jt(ft(g,["prevent","stop"]),["space"]),Jt(ft(g,["prevent","stop"]),["enter"])]},[de("span",PZ,qe(p(u)+b*4+_),1)],42,RZ)):(B(),se("td",IZ))],64))),64))])),64))],512)],10,LZ))}});var DZ=je(kZ,[["__file","basic-year-table.vue"]]);const NZ=["onClick"],OZ=["aria-label"],FZ=["aria-label"],BZ=["aria-label"],zZ=["aria-label"],$Z=pe({__name:"panel-date-pick",props:aZ,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,i=(fe,ge,_e)=>!0,r=He("picker-panel"),s=He("date-picker"),o=Zl(),a=Yn(),{t:l,lang:c}=Ut(),u=Qe("EP_PICKER_BASE"),d=Qe(Lv),{shortcuts:f,disabledDate:h,cellClassName:g,defaultTime:m}=u.props,v=tn(u.props,"defaultValue"),y=X(),b=X(Et().locale(c.value)),x=X(!1);let _=!1;const w=I(()=>Et(m).locale(c.value)),S=I(()=>b.value.month()),T=I(()=>b.value.year()),M=X([]),C=X(null),L=X(null),E=fe=>M.value.length>0?i(fe,M.value,t.format||"HH:mm:ss"):!0,O=fe=>m&&!Z.value&&!x.value&&!_?w.value.year(fe.year()).month(fe.month()).date(fe.date()):G.value?fe.millisecond(0):fe.startOf("day"),F=(fe,...ge)=>{if(!fe)e("pick",fe,...ge);else if(Je(fe)){const _e=fe.map(O);e("pick",_e,...ge)}else e("pick",O(fe),...ge);C.value=null,L.value=null,x.value=!1,_=!1},R=async(fe,ge)=>{if(z.value==="date"){fe=fe;let _e=t.parsedValue?t.parsedValue.year(fe.year()).month(fe.month()).date(fe.date()):fe;E(_e)||(_e=M.value[0][0].year(fe.year()).month(fe.month()).date(fe.date())),b.value=_e,F(_e,G.value||ge),t.type==="datetime"&&(await at(),he())}else z.value==="week"?F(fe.date):z.value==="dates"&&F(fe,!0)},$=fe=>{const ge=fe?"add":"subtract";b.value=b.value[ge](1,"month"),Re("month")},D=fe=>{const ge=b.value,_e=fe?"add":"subtract";b.value=A.value==="year"?ge[_e](10,"year"):ge[_e](1,"year"),Re("year")},A=X("date"),N=I(()=>{const fe=l("el.datepicker.year");if(A.value==="year"){const ge=Math.floor(T.value/10)*10;return fe?`${ge} ${fe} - ${ge+9} ${fe}`:`${ge} - ${ge+9}`}return`${T.value} ${fe}`}),P=fe=>{const ge=dt(fe.value)?fe.value():fe.value;if(ge){_=!0,F(Et(ge).locale(c.value));return}fe.onClick&&fe.onClick({attrs:o,slots:a,emit:e})},z=I(()=>{const{type:fe}=t;return["week","month","year","dates"].includes(fe)?fe:"date"}),Y=I(()=>z.value==="date"?A.value:z.value),H=I(()=>!!f.length),V=async fe=>{b.value=b.value.startOf("month").month(fe),z.value==="month"?F(b.value,!1):(A.value="date",["month","year","date","week"].includes(z.value)&&(F(b.value,!0),await at(),he())),Re("month")},W=async fe=>{z.value==="year"?(b.value=b.value.startOf("year").year(fe),F(b.value,!1)):(b.value=b.value.year(fe),A.value="month",["month","year","date","week"].includes(z.value)&&(F(b.value,!0),await at(),he())),Re("year")},ie=async fe=>{A.value=fe,await at(),he()},G=I(()=>t.type==="datetime"||t.type==="datetimerange"),te=I(()=>G.value||z.value==="dates"),oe=I(()=>h?t.parsedValue?Je(t.parsedValue)?h(t.parsedValue[0].toDate()):h(t.parsedValue.toDate()):!0:!1),xe=()=>{if(z.value==="dates")F(t.parsedValue);else{let fe=t.parsedValue;if(!fe){const ge=Et(m).locale(c.value),_e=Pe();fe=ge.year(_e.year()).month(_e.month()).date(_e.date())}b.value=fe,F(fe)}},ue=I(()=>h?h(Et().locale(c.value).toDate()):!1),we=()=>{const ge=Et().locale(c.value).toDate();x.value=!0,(!h||!h(ge))&&E(ge)&&(b.value=Et().locale(c.value),F(b.value))},re=I(()=>t.timeFormat||wP(t.format)),j=I(()=>t.dateFormat||xP(t.format)),Z=I(()=>{if(L.value)return L.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||b.value).format(re.value)}),le=I(()=>{if(C.value)return C.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||b.value).format(j.value)}),J=X(!1),k=()=>{J.value=!0},q=()=>{J.value=!1},ce=fe=>({hour:fe.hour(),minute:fe.minute(),second:fe.second(),year:fe.year(),month:fe.month(),date:fe.date()}),me=(fe,ge,_e)=>{const{hour:Ne,minute:ve,second:Ue}=ce(fe),Ae=t.parsedValue?t.parsedValue.hour(Ne).minute(ve).second(Ue):fe;b.value=Ae,F(b.value,!0),_e||(J.value=ge)},Ce=fe=>{const ge=Et(fe,re.value).locale(c.value);if(ge.isValid()&&E(ge)){const{year:_e,month:Ne,date:ve}=ce(b.value);b.value=ge.year(_e).month(Ne).date(ve),L.value=null,J.value=!1,F(b.value,!0)}},Q=fe=>{const ge=Et(fe,j.value).locale(c.value);if(ge.isValid()){if(h&&h(ge.toDate()))return;const{hour:_e,minute:Ne,second:ve}=ce(b.value);b.value=ge.hour(_e).minute(Ne).second(ve),C.value=null,F(b.value,!0)}},ee=fe=>Et.isDayjs(fe)&&fe.isValid()&&(h?!h(fe.toDate()):!0),Se=fe=>z.value==="dates"?fe.map(ge=>ge.format(t.format)):fe.format(t.format),be=fe=>Et(fe,t.format).locale(c.value),Pe=()=>{const fe=Et(v.value).locale(c.value);if(!v.value){const ge=w.value;return Et().hour(ge.hour()).minute(ge.minute()).second(ge.second()).locale(c.value)}return fe},he=async()=>{var fe;["week","month","year","date"].includes(z.value)&&((fe=y.value)==null||fe.focus(),z.value==="week"&&ne(it.down))},$e=fe=>{const{code:ge}=fe;[it.up,it.down,it.left,it.right,it.home,it.end,it.pageUp,it.pageDown].includes(ge)&&(ne(ge),fe.stopPropagation(),fe.preventDefault()),[it.enter,it.space,it.numpadEnter].includes(ge)&&C.value===null&&L.value===null&&(fe.preventDefault(),F(b.value,!1))},ne=fe=>{var ge;const{up:_e,down:Ne,left:ve,right:Ue,home:Ae,end:Ye,pageUp:Ke,pageDown:lt}=it,ht={year:{[_e]:-4,[Ne]:4,[ve]:-1,[Ue]:1,offset:(Tt,Ft)=>Tt.setFullYear(Tt.getFullYear()+Ft)},month:{[_e]:-4,[Ne]:4,[ve]:-1,[Ue]:1,offset:(Tt,Ft)=>Tt.setMonth(Tt.getMonth()+Ft)},week:{[_e]:-1,[Ne]:1,[ve]:-1,[Ue]:1,offset:(Tt,Ft)=>Tt.setDate(Tt.getDate()+Ft*7)},date:{[_e]:-7,[Ne]:7,[ve]:-1,[Ue]:1,[Ae]:Tt=>-Tt.getDay(),[Ye]:Tt=>-Tt.getDay()+6,[Ke]:Tt=>-new Date(Tt.getFullYear(),Tt.getMonth(),0).getDate(),[lt]:Tt=>new Date(Tt.getFullYear(),Tt.getMonth()+1,0).getDate(),offset:(Tt,Ft)=>Tt.setDate(Tt.getDate()+Ft)}},Ot=b.value.toDate();for(;Math.abs(b.value.diff(Ot,"year",!0))<1;){const Tt=ht[Y.value];if(!Tt)return;if(Tt.offset(Ot,dt(Tt[fe])?Tt[fe](Ot):(ge=Tt[fe])!=null?ge:0),h&&h(Ot))break;const Ft=Et(Ot).locale(c.value);b.value=Ft,e("pick",Ft,!0);break}},Re=fe=>{e("panel-change",b.value.toDate(),fe,A.value)};return Ve(()=>z.value,fe=>{if(["month","year"].includes(fe)){A.value=fe;return}A.value="date"},{immediate:!0}),Ve(()=>A.value,()=>{d==null||d.updatePopper()}),Ve(()=>v.value,fe=>{fe&&(b.value=Pe())},{immediate:!0}),Ve(()=>t.parsedValue,fe=>{if(fe){if(z.value==="dates"||Array.isArray(fe))return;b.value=fe}else b.value=Pe()},{immediate:!0}),e("set-picker-option",["isValidValue",ee]),e("set-picker-option",["formatToString",Se]),e("set-picker-option",["parseUserInput",be]),e("set-picker-option",["handleFocusPicker",he]),(fe,ge)=>(B(),se("div",{class:U([p(r).b(),p(s).b(),{"has-sidebar":fe.$slots.sidebar||p(H),"has-time":p(G)}])},[de("div",{class:U(p(r).e("body-wrapper"))},[Be(fe.$slots,"sidebar",{class:U(p(r).e("sidebar"))}),p(H)?(B(),se("div",{key:0,class:U(p(r).e("sidebar"))},[(B(!0),se(rt,null,Bt(p(f),(_e,Ne)=>(B(),se("button",{key:Ne,type:"button",class:U(p(r).e("shortcut")),onClick:ve=>P(_e)},qe(_e.text),11,NZ))),128))],2)):ke("v-if",!0),de("div",{class:U(p(r).e("body"))},[p(G)?(B(),se("div",{key:0,class:U(p(s).e("time-header"))},[de("span",{class:U(p(s).e("editor-wrap"))},[ye(p(Ai),{placeholder:p(l)("el.datepicker.selectDate"),"model-value":p(le),size:"small","validate-event":!1,onInput:ge[0]||(ge[0]=_e=>C.value=_e),onChange:Q},null,8,["placeholder","model-value"])],2),_t((B(),se("span",{class:U(p(s).e("editor-wrap"))},[ye(p(Ai),{placeholder:p(l)("el.datepicker.selectTime"),"model-value":p(Z),size:"small","validate-event":!1,onFocus:k,onInput:ge[1]||(ge[1]=_e=>L.value=_e),onChange:Ce},null,8,["placeholder","model-value"]),ye(p(Lg),{visible:J.value,format:p(re),"parsed-value":b.value,onPick:me},null,8,["visible","format","parsed-value"])],2)),[[p(To),q]])],2)):ke("v-if",!0),_t(de("div",{class:U([p(s).e("header"),(A.value==="year"||A.value==="month")&&p(s).e("header--bordered")])},[de("span",{class:U(p(s).e("prev-btn"))},[de("button",{type:"button","aria-label":p(l)("el.datepicker.prevYear"),class:U(["d-arrow-left",p(r).e("icon-btn")]),onClick:ge[2]||(ge[2]=_e=>D(!1))},[ye(p(et),null,{default:Ee(()=>[ye(p(Du))]),_:1})],10,OZ),_t(de("button",{type:"button","aria-label":p(l)("el.datepicker.prevMonth"),class:U([p(r).e("icon-btn"),"arrow-left"]),onClick:ge[3]||(ge[3]=_e=>$(!1))},[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1})],10,FZ),[[Wt,A.value==="date"]])],2),de("span",{role:"button",class:U(p(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ge[4]||(ge[4]=Jt(_e=>ie("year"),["enter"])),onClick:ge[5]||(ge[5]=_e=>ie("year"))},qe(p(N)),35),_t(de("span",{role:"button","aria-live":"polite",tabindex:"0",class:U([p(s).e("header-label"),{active:A.value==="month"}]),onKeydown:ge[6]||(ge[6]=Jt(_e=>ie("month"),["enter"])),onClick:ge[7]||(ge[7]=_e=>ie("month"))},qe(p(l)(`el.datepicker.month${p(S)+1}`)),35),[[Wt,A.value==="date"]]),de("span",{class:U(p(s).e("next-btn"))},[_t(de("button",{type:"button","aria-label":p(l)("el.datepicker.nextMonth"),class:U([p(r).e("icon-btn"),"arrow-right"]),onClick:ge[8]||(ge[8]=_e=>$(!0))},[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})],10,BZ),[[Wt,A.value==="date"]]),de("button",{type:"button","aria-label":p(l)("el.datepicker.nextYear"),class:U([p(r).e("icon-btn"),"d-arrow-right"]),onClick:ge[9]||(ge[9]=_e=>D(!0))},[ye(p(et),null,{default:Ee(()=>[ye(p(Nu))]),_:1})],10,zZ)],2)],2),[[Wt,A.value!=="time"]]),de("div",{class:U(p(r).e("content")),onKeydown:$e},[A.value==="date"?(B(),Oe(a_,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":p(z),date:b.value,"parsed-value":fe.parsedValue,"disabled-date":p(h),"cell-class-name":p(g),onPick:R},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ke("v-if",!0),A.value==="year"?(B(),Oe(DZ,{key:1,ref_key:"currentViewRef",ref:y,date:b.value,"disabled-date":p(h),"parsed-value":fe.parsedValue,onPick:W},null,8,["date","disabled-date","parsed-value"])):ke("v-if",!0),A.value==="month"?(B(),Oe(l_,{key:2,ref_key:"currentViewRef",ref:y,date:b.value,"parsed-value":fe.parsedValue,"disabled-date":p(h),onPick:V},null,8,["date","parsed-value","disabled-date"])):ke("v-if",!0)],34)],2)],2),_t(de("div",{class:U(p(r).e("footer"))},[_t(ye(p(ti),{text:"",size:"small",class:U(p(r).e("link-btn")),disabled:p(ue),onClick:we},{default:Ee(()=>[Ht(qe(p(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Wt,p(z)!=="dates"]]),ye(p(ti),{plain:"",size:"small",class:U(p(r).e("link-btn")),disabled:p(oe),onClick:xe},{default:Ee(()=>[Ht(qe(p(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Wt,p(te)&&A.value==="date"]])],2))}});var VZ=je($Z,[["__file","panel-date-pick.vue"]]);const HZ=Ge({...gI,...vI}),UZ=n=>{const{emit:e}=Mt(),t=Zl(),i=Yn();return s=>{const o=dt(s.value)?s.value():s.value;if(o){e("pick",[Et(o[0]).locale(n.value),Et(o[1]).locale(n.value)]);return}s.onClick&&s.onClick({attrs:t,slots:i,emit:e})}},_I=(n,{defaultValue:e,leftDate:t,rightDate:i,unit:r,onParsedValueChanged:s})=>{const{emit:o}=Mt(),{pickerNs:a}=Qe(Ow),l=He("date-range-picker"),{t:c,lang:u}=Ut(),d=UZ(u),f=X(),h=X(),g=X({endDate:null,selecting:!1}),m=x=>{g.value=x},v=(x=!1)=>{const _=p(f),w=p(h);s_([_,w])&&o("pick",[_,w],x)},y=x=>{g.value.selecting=x,x||(g.value.endDate=null)},b=()=>{const[x,_]=bI(p(e),{lang:p(u),unit:r,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=x,i.value=_};return Ve(e,x=>{x&&b()},{immediate:!0}),Ve(()=>n.parsedValue,x=>{if(Je(x)&&x.length===2){const[_,w]=x;f.value=_,t.value=_,h.value=w,s(p(f),p(h))}else b()},{immediate:!0}),{minDate:f,maxDate:h,rangeState:g,lang:u,ppNs:a,drpNs:l,handleChangeRange:m,handleRangeConfirm:v,handleShortcutClick:d,onSelect:y,t:c}},WZ=["onClick"],GZ=["aria-label"],jZ=["aria-label"],KZ=["disabled","aria-label"],qZ=["disabled","aria-label"],YZ=["disabled","aria-label"],XZ=["disabled","aria-label"],ZZ=["aria-label"],JZ=["aria-label"],bp="month",QZ=pe({__name:"panel-date-range",props:HZ,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,i=Qe("EP_PICKER_BASE"),{disabledDate:r,cellClassName:s,format:o,defaultTime:a,clearable:l}=i.props,c=tn(i.props,"shortcuts"),u=tn(i.props,"defaultValue"),{lang:d}=Ut(),f=X(Et().locale(d.value)),h=X(Et().locale(d.value).add(1,bp)),{minDate:g,maxDate:m,rangeState:v,ppNs:y,drpNs:b,handleChangeRange:x,handleRangeConfirm:_,handleShortcutClick:w,onSelect:S,t:T}=_I(t,{defaultValue:u,leftDate:f,rightDate:h,unit:bp,onParsedValueChanged:ge}),M=X({min:null,max:null}),C=X({min:null,max:null}),L=I(()=>`${f.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${f.value.month()+1}`)}`),E=I(()=>`${h.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${h.value.month()+1}`)}`),O=I(()=>f.value.year()),F=I(()=>f.value.month()),R=I(()=>h.value.year()),$=I(()=>h.value.month()),D=I(()=>!!c.value.length),A=I(()=>M.value.min!==null?M.value.min:g.value?g.value.format(H.value):""),N=I(()=>M.value.max!==null?M.value.max:m.value||g.value?(m.value||g.value).format(H.value):""),P=I(()=>C.value.min!==null?C.value.min:g.value?g.value.format(Y.value):""),z=I(()=>C.value.max!==null?C.value.max:m.value||g.value?(m.value||g.value).format(Y.value):""),Y=I(()=>t.timeFormat||wP(o)),H=I(()=>t.dateFormat||xP(o)),V=_e=>s_(_e)&&(r?!r(_e[0].toDate())&&!r(_e[1].toDate()):!0),W=()=>{f.value=f.value.subtract(1,"year"),t.unlinkPanels||(h.value=f.value.add(1,"month")),re("year")},ie=()=>{f.value=f.value.subtract(1,"month"),t.unlinkPanels||(h.value=f.value.add(1,"month")),re("month")},G=()=>{t.unlinkPanels?h.value=h.value.add(1,"year"):(f.value=f.value.add(1,"year"),h.value=f.value.add(1,"month")),re("year")},te=()=>{t.unlinkPanels?h.value=h.value.add(1,"month"):(f.value=f.value.add(1,"month"),h.value=f.value.add(1,"month")),re("month")},oe=()=>{f.value=f.value.add(1,"year"),re("year")},xe=()=>{f.value=f.value.add(1,"month"),re("month")},ue=()=>{h.value=h.value.subtract(1,"year"),re("year")},we=()=>{h.value=h.value.subtract(1,"month"),re("month")},re=_e=>{e("panel-change",[f.value.toDate(),h.value.toDate()],_e)},j=I(()=>{const _e=(F.value+1)%12,Ne=F.value+1>=12?1:0;return t.unlinkPanels&&new Date(O.value+Ne,_e)<new Date(R.value,$.value)}),Z=I(()=>t.unlinkPanels&&R.value*12+$.value-(O.value*12+F.value+1)>=12),le=I(()=>!(g.value&&m.value&&!v.value.selecting&&s_([g.value,m.value]))),J=I(()=>t.type==="datetime"||t.type==="datetimerange"),k=(_e,Ne)=>{if(_e)return a?Et(a[Ne]||a).locale(d.value).year(_e.year()).month(_e.month()).date(_e.date()):_e},q=(_e,Ne=!0)=>{const ve=_e.minDate,Ue=_e.maxDate,Ae=k(ve,0),Ye=k(Ue,1);m.value===Ye&&g.value===Ae||(e("calendar-change",[ve.toDate(),Ue&&Ue.toDate()]),m.value=Ye,g.value=Ae,!(!Ne||J.value)&&_())},ce=X(!1),me=X(!1),Ce=()=>{ce.value=!1},Q=()=>{me.value=!1},ee=(_e,Ne)=>{M.value[Ne]=_e;const ve=Et(_e,H.value).locale(d.value);if(ve.isValid()){if(r&&r(ve.toDate()))return;Ne==="min"?(f.value=ve,g.value=(g.value||f.value).year(ve.year()).month(ve.month()).date(ve.date()),!t.unlinkPanels&&(!m.value||m.value.isBefore(g.value))&&(h.value=ve.add(1,"month"),m.value=g.value.add(1,"month"))):(h.value=ve,m.value=(m.value||h.value).year(ve.year()).month(ve.month()).date(ve.date()),!t.unlinkPanels&&(!g.value||g.value.isAfter(m.value))&&(f.value=ve.subtract(1,"month"),g.value=m.value.subtract(1,"month")))}},Se=(_e,Ne)=>{M.value[Ne]=null},be=(_e,Ne)=>{C.value[Ne]=_e;const ve=Et(_e,Y.value).locale(d.value);ve.isValid()&&(Ne==="min"?(ce.value=!0,g.value=(g.value||f.value).hour(ve.hour()).minute(ve.minute()).second(ve.second()),(!m.value||m.value.isBefore(g.value))&&(m.value=g.value)):(me.value=!0,m.value=(m.value||h.value).hour(ve.hour()).minute(ve.minute()).second(ve.second()),h.value=m.value,m.value&&m.value.isBefore(g.value)&&(g.value=m.value)))},Pe=(_e,Ne)=>{C.value[Ne]=null,Ne==="min"?(f.value=g.value,ce.value=!1):(h.value=m.value,me.value=!1)},he=(_e,Ne,ve)=>{C.value.min||(_e&&(f.value=_e,g.value=(g.value||f.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),ve||(ce.value=Ne),(!m.value||m.value.isBefore(g.value))&&(m.value=g.value,h.value=_e))},$e=(_e,Ne,ve)=>{C.value.max||(_e&&(h.value=_e,m.value=(m.value||h.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),ve||(me.value=Ne),m.value&&m.value.isBefore(g.value)&&(g.value=m.value))},ne=()=>{f.value=bI(p(u),{lang:p(d),unit:"month",unlinkPanels:t.unlinkPanels})[0],h.value=f.value.add(1,"month"),e("pick",null)},Re=_e=>Je(_e)?_e.map(Ne=>Ne.format(o)):_e.format(o),fe=_e=>Je(_e)?_e.map(Ne=>Et(Ne,o).locale(d.value)):Et(_e,o).locale(d.value);function ge(_e,Ne){if(t.unlinkPanels&&Ne){const ve=(_e==null?void 0:_e.year())||0,Ue=(_e==null?void 0:_e.month())||0,Ae=Ne.year(),Ye=Ne.month();h.value=ve===Ae&&Ue===Ye?Ne.add(1,bp):Ne}else h.value=f.value.add(1,bp),Ne&&(h.value=h.value.hour(Ne.hour()).minute(Ne.minute()).second(Ne.second()))}return e("set-picker-option",["isValidValue",V]),e("set-picker-option",["parseUserInput",fe]),e("set-picker-option",["formatToString",Re]),e("set-picker-option",["handleClear",ne]),(_e,Ne)=>(B(),se("div",{class:U([p(y).b(),p(b).b(),{"has-sidebar":_e.$slots.sidebar||p(D),"has-time":p(J)}])},[de("div",{class:U(p(y).e("body-wrapper"))},[Be(_e.$slots,"sidebar",{class:U(p(y).e("sidebar"))}),p(D)?(B(),se("div",{key:0,class:U(p(y).e("sidebar"))},[(B(!0),se(rt,null,Bt(p(c),(ve,Ue)=>(B(),se("button",{key:Ue,type:"button",class:U(p(y).e("shortcut")),onClick:Ae=>p(w)(ve)},qe(ve.text),11,WZ))),128))],2)):ke("v-if",!0),de("div",{class:U(p(y).e("body"))},[p(J)?(B(),se("div",{key:0,class:U(p(b).e("time-header"))},[de("span",{class:U(p(b).e("editors-wrap"))},[de("span",{class:U(p(b).e("time-picker-wrap"))},[ye(p(Ai),{size:"small",disabled:p(v).selecting,placeholder:p(T)("el.datepicker.startDate"),class:U(p(b).e("editor")),"model-value":p(A),"validate-event":!1,onInput:Ne[0]||(Ne[0]=ve=>ee(ve,"min")),onChange:Ne[1]||(Ne[1]=ve=>Se(ve,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),_t((B(),se("span",{class:U(p(b).e("time-picker-wrap"))},[ye(p(Ai),{size:"small",class:U(p(b).e("editor")),disabled:p(v).selecting,placeholder:p(T)("el.datepicker.startTime"),"model-value":p(P),"validate-event":!1,onFocus:Ne[2]||(Ne[2]=ve=>ce.value=!0),onInput:Ne[3]||(Ne[3]=ve=>be(ve,"min")),onChange:Ne[4]||(Ne[4]=ve=>Pe(ve,"min"))},null,8,["class","disabled","placeholder","model-value"]),ye(p(Lg),{visible:ce.value,format:p(Y),"datetime-role":"start","parsed-value":f.value,onPick:he},null,8,["visible","format","parsed-value"])],2)),[[p(To),Ce]])],2),de("span",null,[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})]),de("span",{class:U([p(b).e("editors-wrap"),"is-right"])},[de("span",{class:U(p(b).e("time-picker-wrap"))},[ye(p(Ai),{size:"small",class:U(p(b).e("editor")),disabled:p(v).selecting,placeholder:p(T)("el.datepicker.endDate"),"model-value":p(N),readonly:!p(g),"validate-event":!1,onInput:Ne[5]||(Ne[5]=ve=>ee(ve,"max")),onChange:Ne[6]||(Ne[6]=ve=>Se(ve,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),_t((B(),se("span",{class:U(p(b).e("time-picker-wrap"))},[ye(p(Ai),{size:"small",class:U(p(b).e("editor")),disabled:p(v).selecting,placeholder:p(T)("el.datepicker.endTime"),"model-value":p(z),readonly:!p(g),"validate-event":!1,onFocus:Ne[7]||(Ne[7]=ve=>p(g)&&(me.value=!0)),onInput:Ne[8]||(Ne[8]=ve=>be(ve,"max")),onChange:Ne[9]||(Ne[9]=ve=>Pe(ve,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ye(p(Lg),{"datetime-role":"end",visible:me.value,format:p(Y),"parsed-value":h.value,onPick:$e},null,8,["visible","format","parsed-value"])],2)),[[p(To),Q]])],2)],2)):ke("v-if",!0),de("div",{class:U([[p(y).e("content"),p(b).e("content")],"is-left"])},[de("div",{class:U(p(b).e("header"))},[de("button",{type:"button",class:U([p(y).e("icon-btn"),"d-arrow-left"]),"aria-label":p(T)("el.datepicker.prevYear"),onClick:W},[ye(p(et),null,{default:Ee(()=>[ye(p(Du))]),_:1})],10,GZ),de("button",{type:"button",class:U([p(y).e("icon-btn"),"arrow-left"]),"aria-label":p(T)("el.datepicker.prevMonth"),onClick:ie},[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1})],10,jZ),_e.unlinkPanels?(B(),se("button",{key:0,type:"button",disabled:!p(Z),class:U([[p(y).e("icon-btn"),{"is-disabled":!p(Z)}],"d-arrow-right"]),"aria-label":p(T)("el.datepicker.nextYear"),onClick:oe},[ye(p(et),null,{default:Ee(()=>[ye(p(Nu))]),_:1})],10,KZ)):ke("v-if",!0),_e.unlinkPanels?(B(),se("button",{key:1,type:"button",disabled:!p(j),class:U([[p(y).e("icon-btn"),{"is-disabled":!p(j)}],"arrow-right"]),"aria-label":p(T)("el.datepicker.nextMonth"),onClick:xe},[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})],10,qZ)):ke("v-if",!0),de("div",null,qe(p(L)),1)],2),ye(a_,{"selection-mode":"range",date:f.value,"min-date":p(g),"max-date":p(m),"range-state":p(v),"disabled-date":p(r),"cell-class-name":p(s),onChangerange:p(x),onPick:q,onSelect:p(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),de("div",{class:U([[p(y).e("content"),p(b).e("content")],"is-right"])},[de("div",{class:U(p(b).e("header"))},[_e.unlinkPanels?(B(),se("button",{key:0,type:"button",disabled:!p(Z),class:U([[p(y).e("icon-btn"),{"is-disabled":!p(Z)}],"d-arrow-left"]),"aria-label":p(T)("el.datepicker.prevYear"),onClick:ue},[ye(p(et),null,{default:Ee(()=>[ye(p(Du))]),_:1})],10,YZ)):ke("v-if",!0),_e.unlinkPanels?(B(),se("button",{key:1,type:"button",disabled:!p(j),class:U([[p(y).e("icon-btn"),{"is-disabled":!p(j)}],"arrow-left"]),"aria-label":p(T)("el.datepicker.prevMonth"),onClick:we},[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1})],10,XZ)):ke("v-if",!0),de("button",{type:"button","aria-label":p(T)("el.datepicker.nextYear"),class:U([p(y).e("icon-btn"),"d-arrow-right"]),onClick:G},[ye(p(et),null,{default:Ee(()=>[ye(p(Nu))]),_:1})],10,ZZ),de("button",{type:"button",class:U([p(y).e("icon-btn"),"arrow-right"]),"aria-label":p(T)("el.datepicker.nextMonth"),onClick:te},[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})],10,JZ),de("div",null,qe(p(E)),1)],2),ye(a_,{"selection-mode":"range",date:h.value,"min-date":p(g),"max-date":p(m),"range-state":p(v),"disabled-date":p(r),"cell-class-name":p(s),onChangerange:p(x),onPick:q,onSelect:p(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),p(J)?(B(),se("div",{key:0,class:U(p(y).e("footer"))},[p(l)?(B(),Oe(p(ti),{key:0,text:"",size:"small",class:U(p(y).e("link-btn")),onClick:ne},{default:Ee(()=>[Ht(qe(p(T)("el.datepicker.clear")),1)]),_:1},8,["class"])):ke("v-if",!0),ye(p(ti),{plain:"",size:"small",class:U(p(y).e("link-btn")),disabled:p(le),onClick:Ne[10]||(Ne[10]=ve=>p(_)(!1))},{default:Ee(()=>[Ht(qe(p(T)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ke("v-if",!0)],2))}});var eJ=je(QZ,[["__file","panel-date-range.vue"]]);const tJ=Ge({...vI}),nJ=["pick","set-picker-option","calendar-change"],iJ=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:i}=Ut(),r=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},s=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{t.value=t.value.subtract(1,"year")},l=I(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=I(()=>`${t.value.year()} ${i("el.datepicker.year")}`),u=I(()=>e.value.year()),d=I(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:r,rightNextYear:s,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},rJ=["onClick"],sJ=["disabled"],oJ=["disabled"],_p="year",aJ=pe({name:"DatePickerMonthRange"}),lJ=pe({...aJ,props:tJ,emits:nJ,setup(n,{emit:e}){const t=n,{lang:i}=Ut(),r=Qe("EP_PICKER_BASE"),{shortcuts:s,disabledDate:o,format:a}=r.props,l=tn(r.props,"defaultValue"),c=X(Et().locale(i.value)),u=X(Et().locale(i.value).add(1,_p)),{minDate:d,maxDate:f,rangeState:h,ppNs:g,drpNs:m,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:b,onSelect:x}=_I(t,{defaultValue:l,leftDate:c,rightDate:u,unit:_p,onParsedValueChanged:D}),_=I(()=>!!s.length),{leftPrevYear:w,rightNextYear:S,leftNextYear:T,rightPrevYear:M,leftLabel:C,rightLabel:L,leftYear:E,rightYear:O}=iJ({unlinkPanels:tn(t,"unlinkPanels"),leftDate:c,rightDate:u}),F=I(()=>t.unlinkPanels&&O.value>E.value+1),R=(A,N=!0)=>{const P=A.minDate,z=A.maxDate;f.value===z&&d.value===P||(e("calendar-change",[P.toDate(),z&&z.toDate()]),f.value=z,d.value=P,N&&y())},$=A=>A.map(N=>N.format(a));function D(A,N){if(t.unlinkPanels&&N){const P=(A==null?void 0:A.year())||0,z=N.year();u.value=P===z?N.add(1,_p):N}else u.value=c.value.add(1,_p)}return e("set-picker-option",["formatToString",$]),(A,N)=>(B(),se("div",{class:U([p(g).b(),p(m).b(),{"has-sidebar":!!A.$slots.sidebar||p(_)}])},[de("div",{class:U(p(g).e("body-wrapper"))},[Be(A.$slots,"sidebar",{class:U(p(g).e("sidebar"))}),p(_)?(B(),se("div",{key:0,class:U(p(g).e("sidebar"))},[(B(!0),se(rt,null,Bt(p(s),(P,z)=>(B(),se("button",{key:z,type:"button",class:U(p(g).e("shortcut")),onClick:Y=>p(b)(P)},qe(P.text),11,rJ))),128))],2)):ke("v-if",!0),de("div",{class:U(p(g).e("body"))},[de("div",{class:U([[p(g).e("content"),p(m).e("content")],"is-left"])},[de("div",{class:U(p(m).e("header"))},[de("button",{type:"button",class:U([p(g).e("icon-btn"),"d-arrow-left"]),onClick:N[0]||(N[0]=(...P)=>p(w)&&p(w)(...P))},[ye(p(et),null,{default:Ee(()=>[ye(p(Du))]),_:1})],2),A.unlinkPanels?(B(),se("button",{key:0,type:"button",disabled:!p(F),class:U([[p(g).e("icon-btn"),{[p(g).is("disabled")]:!p(F)}],"d-arrow-right"]),onClick:N[1]||(N[1]=(...P)=>p(T)&&p(T)(...P))},[ye(p(et),null,{default:Ee(()=>[ye(p(Nu))]),_:1})],10,sJ)):ke("v-if",!0),de("div",null,qe(p(C)),1)],2),ye(l_,{"selection-mode":"range",date:c.value,"min-date":p(d),"max-date":p(f),"range-state":p(h),"disabled-date":p(o),onChangerange:p(v),onPick:R,onSelect:p(x)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),de("div",{class:U([[p(g).e("content"),p(m).e("content")],"is-right"])},[de("div",{class:U(p(m).e("header"))},[A.unlinkPanels?(B(),se("button",{key:0,type:"button",disabled:!p(F),class:U([[p(g).e("icon-btn"),{"is-disabled":!p(F)}],"d-arrow-left"]),onClick:N[2]||(N[2]=(...P)=>p(M)&&p(M)(...P))},[ye(p(et),null,{default:Ee(()=>[ye(p(Du))]),_:1})],10,oJ)):ke("v-if",!0),de("button",{type:"button",class:U([p(g).e("icon-btn"),"d-arrow-right"]),onClick:N[3]||(N[3]=(...P)=>p(S)&&p(S)(...P))},[ye(p(et),null,{default:Ee(()=>[ye(p(Nu))]),_:1})],2),de("div",null,qe(p(L)),1)],2),ye(l_,{"selection-mode":"range",date:u.value,"min-date":p(d),"max-date":p(f),"range-state":p(h),"disabled-date":p(o),onChangerange:p(v),onPick:R,onSelect:p(x)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var cJ=je(lJ,[["__file","panel-month-range.vue"]]);const uJ=function(n){switch(n){case"daterange":case"datetimerange":return eJ;case"monthrange":return cJ;default:return VZ}};Et.extend(BP);Et.extend(qX);Et.extend(kw);Et.extend(XX);Et.extend(JX);Et.extend(eZ);Et.extend(nZ);Et.extend(rZ);var dJ=pe({name:"ElDatePicker",install:null,props:sZ,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:i}){const r=He("picker-panel");Dt("ElPopperOptions",Gt(tn(n,"popperOptions"))),Dt(Ow,{slots:i,pickerNs:r});const s=X();e({focus:(l=!0)=>{var c;(c=s.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const a=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:Wj[n.type]||qc,u=uJ(n.type);return ye(TP,Rt(n,{format:c,type:n.type,ref:s,"onUpdate:modelValue":a}),{default:d=>ye(u,d,null),"range-separator":i["range-separator"]})}}});const Km=dJ;Km.install=n=>{n.component(Km.name,Km)};const fJ=Km,Bw=Symbol("elDescriptions");var Od=pe({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Qe(Bw,{})}},render(){var n,e,t,i,r,s,o;const a=UU(this.cell),l=(((n=this.cell)==null?void 0:n.dirs)||[]).map(w=>{const{dir:S,arg:T,modifiers:M,value:C}=w;return[S,C,T,M]}),{border:c,direction:u}=this.descriptions,d=u==="vertical",f=((i=(t=(e=this.cell)==null?void 0:e.children)==null?void 0:t.label)==null?void 0:i.call(t))||a.label,h=(o=(s=(r=this.cell)==null?void 0:r.children)==null?void 0:s.default)==null?void 0:o.call(s),g=a.span,m=a.align?`is-${a.align}`:"",v=a.labelAlign?`is-${a.labelAlign}`:m,y=a.className,b=a.labelClassName,x={width:Nn(a.width),minWidth:Nn(a.minWidth)},_=He("descriptions");switch(this.type){case"label":return _t(ot(this.tag,{style:x,class:[_.e("cell"),_.e("label"),_.is("bordered-label",c),_.is("vertical-label",d),v,b],colSpan:d?g:1},f),l);case"content":return _t(ot(this.tag,{style:x,class:[_.e("cell"),_.e("content"),_.is("bordered-content",c),_.is("vertical-content",d),m,y],colSpan:d?g:g*2-1},h),l);default:return _t(ot("td",{style:x,class:[_.e("cell"),m],colSpan:g},[Kn(f)?void 0:ot("span",{class:[_.e("label"),b]},f),ot("span",{class:[_.e("content"),y]},h)]),l)}}});const hJ=Ge({row:{type:Le(Array),default:()=>[]}}),pJ={key:1},mJ=pe({name:"ElDescriptionsRow"}),gJ=pe({...mJ,props:hJ,setup(n){const e=Qe(Bw,{});return(t,i)=>p(e).direction==="vertical"?(B(),se(rt,{key:0},[de("tr",null,[(B(!0),se(rt,null,Bt(t.row,(r,s)=>(B(),Oe(p(Od),{key:`tr1-${s}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),de("tr",null,[(B(!0),se(rt,null,Bt(t.row,(r,s)=>(B(),Oe(p(Od),{key:`tr2-${s}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(B(),se("tr",pJ,[(B(!0),se(rt,null,Bt(t.row,(r,s)=>(B(),se(rt,{key:`tr3-${s}`},[p(e).border?(B(),se(rt,{key:0},[ye(p(Od),{cell:r,tag:"td",type:"label"},null,8,["cell"]),ye(p(Od),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(B(),Oe(p(Od),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var vJ=je(gJ,[["__file","descriptions-row.vue"]]);const yJ=Ge({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ni,title:{type:String,default:""},extra:{type:String,default:""}}),bJ=pe({name:"ElDescriptions"}),_J=pe({...bJ,props:yJ,setup(n){const e=n,t=He("descriptions"),i=Gn(),r=Yn();Dt(Bw,e);const s=I(()=>[t.b(),t.m(i.value)]),o=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),a=()=>{if(!r.default)return[];const l=xa(r.default()).filter(h=>{var g;return((g=h==null?void 0:h.type)==null?void 0:g.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,f=0;return l.forEach((h,g)=>{var m;const v=((m=h.props)==null?void 0:m.span)||1;if(g<l.length-1&&(f+=v>d?d:v),g===l.length-1){const y=e.column-f%e.column;u.push(o(h,y,d,!0)),c.push(u);return}v<d?(d-=v,u.push(h)):(u.push(o(h,v,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>(B(),se("div",{class:U(p(s))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(B(),se("div",{key:0,class:U(p(t).e("header"))},[de("div",{class:U(p(t).e("title"))},[Be(l.$slots,"title",{},()=>[Ht(qe(l.title),1)])],2),de("div",{class:U(p(t).e("extra"))},[Be(l.$slots,"extra",{},()=>[Ht(qe(l.extra),1)])],2)],2)):ke("v-if",!0),de("div",{class:U(p(t).e("body"))},[de("table",{class:U([p(t).e("table"),p(t).is("bordered",l.border)])},[de("tbody",null,[(B(!0),se(rt,null,Bt(a(),(u,d)=>(B(),Oe(vJ,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var xJ=je(_J,[["__file","description.vue"]]);const wJ=Ge({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),xI=pe({name:"ElDescriptionsItem",props:wJ}),SJ=At(xJ,{DescriptionsItem:xI}),MJ=xn(xI),TJ=Ge({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Le([String,Array,Object])},zIndex:{type:Le([String,Number])}}),EJ={click:n=>n instanceof MouseEvent},CJ="overlay";var AJ=pe({name:"ElOverlay",props:TJ,emits:EJ,setup(n,{slots:e,emit:t}){const i=He(CJ),r=l=>{t("click",l)},{onClick:s,onMousedown:o,onMouseup:a}=bw(n.customMaskEvent?void 0:r);return()=>n.mask?ye("div",{class:[i.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:s,onMousedown:o,onMouseup:a},[Be(e,"default")],Ir.STYLE|Ir.CLASS|Ir.PROPS,["onClick","onMouseup","onMousedown"]):ot("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Be(e,"default")])}});const zw=AJ,wI=Symbol("dialogInjectionKey"),SI=Ge({center:Boolean,alignCenter:Boolean,closeIcon:{type:Qt},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),LJ={close:()=>!0},RJ=["aria-level"],PJ=["aria-label"],IJ=["id"],kJ=pe({name:"ElDialogContent"}),DJ=pe({...kJ,props:SI,emits:LJ,setup(n){const e=n,{t}=Ut(),{Close:i}=rw,{dialogRef:r,headerRef:s,bodyId:o,ns:a,style:l}=Qe(wI),{focusTrapRef:c}=Qe(Rw),u=I(()=>[a.b(),a.is("fullscreen",e.fullscreen),a.is("draggable",e.draggable),a.is("align-center",e.alignCenter),{[a.m("center")]:e.center},e.customClass]),d=bv(c,r),f=I(()=>e.draggable);return hR(r,s,f),(h,g)=>(B(),se("div",{ref:p(d),class:U(p(u)),style:tt(p(l)),tabindex:"-1"},[de("header",{ref_key:"headerRef",ref:s,class:U(p(a).e("header"))},[Be(h.$slots,"header",{},()=>[de("span",{role:"heading","aria-level":h.ariaLevel,class:U(p(a).e("title"))},qe(h.title),11,RJ)]),h.showClose?(B(),se("button",{key:0,"aria-label":p(t)("el.dialog.close"),class:U(p(a).e("headerbtn")),type:"button",onClick:g[0]||(g[0]=m=>h.$emit("close"))},[ye(p(et),{class:U(p(a).e("close"))},{default:Ee(()=>[(B(),Oe(Pt(h.closeIcon||p(i))))]),_:1},8,["class"])],10,PJ)):ke("v-if",!0)],2),de("div",{id:p(o),class:U(p(a).e("body"))},[Be(h.$slots,"default")],10,IJ),h.$slots.footer?(B(),se("footer",{key:0,class:U(p(a).e("footer"))},[Be(h.$slots,"footer")],2)):ke("v-if",!0)],6))}});var NJ=je(DJ,[["__file","dialog-content.vue"]]);const MI=Ge({...SI,appendToBody:Boolean,appendTo:{type:Le(String),default:"body"},beforeClose:{type:Le(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),TI={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Lt]:n=>zn(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},EI=(n,e)=>{var t;const r=Mt().emit,{nextZIndex:s}=dd();let o="";const a=Li(),l=Li(),c=X(!1),u=X(!1),d=X(!1),f=X((t=n.zIndex)!=null?t:s());let h,g;const m=Ev("namespace",gf),v=I(()=>{const $={},D=`--${m.value}-dialog`;return n.fullscreen||(n.top&&($[`${D}-margin-top`]=n.top),n.width&&($[`${D}-width`]=Nn(n.width))),$}),y=I(()=>n.alignCenter?{display:"flex"}:{});function b(){r("opened")}function x(){r("closed"),r(Lt,!1),n.destroyOnClose&&(d.value=!1)}function _(){r("close")}function w(){g==null||g(),h==null||h(),n.openDelay&&n.openDelay>0?{stop:h}=Bl(()=>C(),n.openDelay):C()}function S(){h==null||h(),g==null||g(),n.closeDelay&&n.closeDelay>0?{stop:g}=Bl(()=>L(),n.closeDelay):L()}function T(){function $(D){D||(u.value=!0,c.value=!1)}n.beforeClose?n.beforeClose($):S()}function M(){n.closeOnClickModal&&T()}function C(){Vt&&(c.value=!0)}function L(){c.value=!1}function E(){r("openAutoFocus")}function O(){r("closeAutoFocus")}function F($){var D;((D=$.detail)==null?void 0:D.focusReason)==="pointer"&&$.preventDefault()}n.lockScroll&&uw(c);function R(){n.closeOnPressEscape&&T()}return Ve(()=>n.modelValue,$=>{$?(u.value=!1,w(),d.value=!0,f.value=eR(n.zIndex)?s():f.value++,at(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):c.value&&S()}),Ve(()=>n.fullscreen,$=>{e.value&&($?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),St(()=>{n.modelValue&&(c.value=!0,d.value=!0,w())}),{afterEnter:b,afterLeave:x,beforeLeave:_,handleClose:T,onModalClick:M,close:S,doClose:L,onOpenAutoFocus:E,onCloseAutoFocus:O,onCloseRequested:R,onFocusoutPrevented:F,titleId:a,bodyId:l,closed:u,style:v,overlayDialogStyle:y,rendered:d,visible:c,zIndex:f}},OJ=["aria-label","aria-labelledby","aria-describedby"],FJ=pe({name:"ElDialog",inheritAttrs:!1}),BJ=pe({...FJ,props:MI,emits:TI,setup(n,{expose:e}){const t=n,i=Yn();Os({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},I(()=>!!i.title)),Os({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},I(()=>!!t.customClass));const r=He("dialog"),s=X(),o=X(),a=X(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:h,zIndex:g,afterEnter:m,afterLeave:v,beforeLeave:y,handleClose:b,onModalClick:x,onOpenAutoFocus:_,onCloseAutoFocus:w,onCloseRequested:S,onFocusoutPrevented:T}=EI(t,s);Dt(wI,{dialogRef:s,headerRef:o,bodyId:u,ns:r,rendered:h,style:d});const M=bw(x),C=I(()=>t.draggable&&!t.fullscreen);return e({visible:l,dialogContentRef:a}),(L,E)=>(B(),Oe(ld,{to:L.appendTo,disabled:L.appendTo!=="body"?!1:!L.appendToBody},[ye(Un,{name:"dialog-fade",onAfterEnter:p(m),onAfterLeave:p(v),onBeforeLeave:p(y),persisted:""},{default:Ee(()=>[_t(ye(p(zw),{"custom-mask-event":"",mask:L.modal,"overlay-class":L.modalClass,"z-index":p(g)},{default:Ee(()=>[de("div",{role:"dialog","aria-modal":"true","aria-label":L.title||void 0,"aria-labelledby":L.title?void 0:p(c),"aria-describedby":p(u),class:U(`${p(r).namespace.value}-overlay-dialog`),style:tt(p(f)),onClick:E[0]||(E[0]=(...O)=>p(M).onClick&&p(M).onClick(...O)),onMousedown:E[1]||(E[1]=(...O)=>p(M).onMousedown&&p(M).onMousedown(...O)),onMouseup:E[2]||(E[2]=(...O)=>p(M).onMouseup&&p(M).onMouseup(...O))},[ye(p(Vh),{loop:"",trapped:p(l),"focus-start-el":"container",onFocusAfterTrapped:p(_),onFocusAfterReleased:p(w),onFocusoutPrevented:p(T),onReleaseRequested:p(S)},{default:Ee(()=>[p(h)?(B(),Oe(NJ,Rt({key:0,ref_key:"dialogContentRef",ref:a},L.$attrs,{"custom-class":L.customClass,center:L.center,"align-center":L.alignCenter,"close-icon":L.closeIcon,draggable:p(C),fullscreen:L.fullscreen,"show-close":L.showClose,title:L.title,"aria-level":L.headerAriaLevel,onClose:p(b)}),xo({header:Ee(()=>[L.$slots.title?Be(L.$slots,"title",{key:1}):Be(L.$slots,"header",{key:0,close:p(b),titleId:p(c),titleClass:p(r).e("title")})]),default:Ee(()=>[Be(L.$slots,"default")]),_:2},[L.$slots.footer?{name:"footer",fn:Ee(()=>[Be(L.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):ke("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,OJ)]),_:3},8,["mask","overlay-class","z-index"]),[[Wt,p(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var zJ=je(BJ,[["__file","dialog.vue"]]);const $J=At(zJ),VJ=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Le(String),default:"solid"}}),HJ=pe({name:"ElDivider"}),UJ=pe({...HJ,props:VJ,setup(n){const e=n,t=He("divider"),i=I(()=>t.cssVar({"border-style":e.borderStyle}));return(r,s)=>(B(),se("div",{class:U([p(t).b(),p(t).m(r.direction)]),style:tt(p(i)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(B(),se("div",{key:0,class:U([p(t).e("text"),p(t).is(r.contentPosition)])},[Be(r.$slots,"default")],2)):ke("v-if",!0)],6))}});var WJ=je(UJ,[["__file","divider.vue"]]);const CI=At(WJ),GJ=Ge({...MI,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),jJ=TI,KJ=["aria-label","aria-labelledby","aria-describedby"],qJ=["id","aria-level"],YJ=["aria-label"],XJ=["id"],ZJ=pe({name:"ElDrawer",inheritAttrs:!1}),JJ=pe({...ZJ,props:GJ,emits:jJ,setup(n,{expose:e}){const t=n,i=Yn();Os({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},I(()=>!!i.title)),Os({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},I(()=>!!t.customClass));const r=X(),s=X(),o=He("drawer"),{t:a}=Ut(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:f,titleId:h,bodyId:g,onModalClick:m,onCloseRequested:v,handleClose:y}=EI(t,r),b=I(()=>t.direction==="rtl"||t.direction==="ltr"),x=I(()=>Nn(t.size));return e({handleClose:y,afterEnter:l,afterLeave:c}),(_,w)=>(B(),Oe(ld,{to:"body",disabled:!_.appendToBody},[ye(Un,{name:p(o).b("fade"),onAfterEnter:p(l),onAfterLeave:p(c),onBeforeLeave:p(u),persisted:""},{default:Ee(()=>[_t(ye(p(zw),{mask:_.modal,"overlay-class":_.modalClass,"z-index":_.zIndex,onClick:p(m)},{default:Ee(()=>[ye(p(Vh),{loop:"",trapped:p(d),"focus-trap-el":r.value,"focus-start-el":s.value,onReleaseRequested:p(v)},{default:Ee(()=>[de("div",Rt({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":_.title||void 0,"aria-labelledby":_.title?void 0:p(h),"aria-describedby":p(g)},_.$attrs,{class:[p(o).b(),_.direction,p(d)&&"open",_.customClass],style:p(b)?"width: "+p(x):"height: "+p(x),role:"dialog",onClick:w[1]||(w[1]=ft(()=>{},["stop"]))}),[de("span",{ref_key:"focusStartRef",ref:s,class:U(p(o).e("sr-focus")),tabindex:"-1"},null,2),_.withHeader?(B(),se("header",{key:0,class:U(p(o).e("header"))},[_.$slots.title?Be(_.$slots,"title",{key:1},()=>[ke(" DEPRECATED SLOT ")]):Be(_.$slots,"header",{key:0,close:p(y),titleId:p(h),titleClass:p(o).e("title")},()=>[_.$slots.title?ke("v-if",!0):(B(),se("span",{key:0,id:p(h),role:"heading","aria-level":_.headerAriaLevel,class:U(p(o).e("title"))},qe(_.title),11,qJ))]),_.showClose?(B(),se("button",{key:2,"aria-label":p(a)("el.drawer.close"),class:U(p(o).e("close-btn")),type:"button",onClick:w[0]||(w[0]=(...S)=>p(y)&&p(y)(...S))},[ye(p(et),{class:U(p(o).e("close"))},{default:Ee(()=>[ye(p(gs))]),_:1},8,["class"])],10,YJ)):ke("v-if",!0)],2)):ke("v-if",!0),p(f)?(B(),se("div",{key:1,id:p(g),class:U(p(o).e("body"))},[Be(_.$slots,"default")],10,XJ)):ke("v-if",!0),_.$slots.footer?(B(),se("div",{key:2,class:U(p(o).e("footer"))},[Be(_.$slots,"footer")],2)):ke("v-if",!0)],16,KJ)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Wt,p(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var QJ=je(JJ,[["__file","drawer.vue"]]);const eQ=At(QJ),tQ=pe({inheritAttrs:!1});function nQ(n,e,t,i,r,s){return Be(n.$slots,"default")}var iQ=je(tQ,[["render",nQ],["__file","collection.vue"]]);const rQ=pe({name:"ElCollectionItem",inheritAttrs:!1});function sQ(n,e,t,i,r,s){return Be(n.$slots,"default")}var oQ=je(rQ,[["render",sQ],["__file","collection-item.vue"]]);const AI="data-el-collection-item",LI=n=>{const e=`El${n}Collection`,t=`${e}Item`,i=Symbol(e),r=Symbol(t),s={...iQ,name:e,setup(){const a=X(null),l=new Map;Dt(i,{itemMap:l,getItems:()=>{const u=p(a);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${AI}]`));return[...l.values()].sort((h,g)=>d.indexOf(h.ref)-d.indexOf(g.ref))},collectionRef:a})}},o={...oQ,name:t,setup(a,{attrs:l}){const c=X(null),u=Qe(i,void 0);Dt(r,{collectionItemRef:c}),St(()=>{const d=p(c);d&&u.itemMap.set(d,{ref:d,...l})}),sn(()=>{const d=p(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:s,ElCollectionItem:o}},aQ=Ge({style:{type:Le([String,Array,Object])},currentTabId:{type:Le(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Le(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:lQ,ElCollectionItem:cQ,COLLECTION_INJECTION_KEY:$w,COLLECTION_ITEM_INJECTION_KEY:uQ}=LI("RovingFocusGroup"),Vw=Symbol("elRovingFocusGroup"),RI=Symbol("elRovingFocusGroupItem"),dQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},fQ=(n,e)=>{if(e!=="rtl")return n;switch(n){case it.right:return it.left;case it.left:return it.right;default:return n}},hQ=(n,e,t)=>{const i=fQ(n.key,t);if(!(e==="vertical"&&[it.left,it.right].includes(i))&&!(e==="horizontal"&&[it.up,it.down].includes(i)))return dQ[i]},pQ=(n,e)=>n.map((t,i)=>n[(i+e)%n.length]),Hw=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},KT="currentTabIdChange",qT="rovingFocusGroup.entryFocus",mQ={bubbles:!1,cancelable:!0},gQ=pe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:aQ,emits:[KT,"entryFocus"],setup(n,{emit:e}){var t;const i=X((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),r=X(!1),s=X(!1),o=X(null),{getItems:a}=Qe($w,void 0),l=I(()=>[{outline:"none"},n.style]),c=m=>{e(KT,m)},u=()=>{r.value=!0},d=En(m=>{var v;(v=n.onMousedown)==null||v.call(n,m)},()=>{s.value=!0}),f=En(m=>{var v;(v=n.onFocus)==null||v.call(n,m)},m=>{const v=!p(s),{target:y,currentTarget:b}=m;if(y===b&&v&&!p(r)){const x=new Event(qT,mQ);if(b==null||b.dispatchEvent(x),!x.defaultPrevented){const _=a().filter(C=>C.focusable),w=_.find(C=>C.active),S=_.find(C=>C.id===p(i)),M=[w,S,..._].filter(Boolean).map(C=>C.ref);Hw(M)}}s.value=!1}),h=En(m=>{var v;(v=n.onBlur)==null||v.call(n,m)},()=>{r.value=!1}),g=(...m)=>{e("entryFocus",...m)};Dt(Vw,{currentTabbedId:ad(i),loop:tn(n,"loop"),tabIndex:I(()=>p(r)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:tn(n,"orientation"),dir:tn(n,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:h,onFocus:f,onMousedown:d}),Ve(()=>n.currentTabId,m=>{i.value=m??null}),gn(o,qT,g)}});function vQ(n,e,t,i,r,s){return Be(n.$slots,"default")}var yQ=je(gQ,[["render",vQ],["__file","roving-focus-group-impl.vue"]]);const bQ=pe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:lQ,ElRovingFocusGroupImpl:yQ}});function _Q(n,e,t,i,r,s){const o=Ct("el-roving-focus-group-impl"),a=Ct("el-focus-group-collection");return B(),Oe(a,null,{default:Ee(()=>[ye(o,os(lv(n.$attrs)),{default:Ee(()=>[Be(n.$slots,"default")]),_:3},16)]),_:3})}var xQ=je(bQ,[["render",_Q],["__file","roving-focus-group.vue"]]);const wQ=pe({components:{ElRovingFocusCollectionItem:cQ},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:i,onItemFocus:r,onItemShiftTab:s}=Qe(Vw,void 0),{getItems:o}=Qe($w,void 0),a=Li(),l=X(null),c=En(h=>{e("mousedown",h)},h=>{n.focusable?r(p(a)):h.preventDefault()}),u=En(h=>{e("focus",h)},()=>{r(p(a))}),d=En(h=>{e("keydown",h)},h=>{const{key:g,shiftKey:m,target:v,currentTarget:y}=h;if(g===it.tab&&m){s();return}if(v!==y)return;const b=hQ(h);if(b){h.preventDefault();let _=o().filter(w=>w.focusable).map(w=>w.ref);switch(b){case"last":{_.reverse();break}case"prev":case"next":{b==="prev"&&_.reverse();const w=_.indexOf(y);_=i.value?pQ(_,w+1):_.slice(w+1);break}}at(()=>{Hw(_)})}}),f=I(()=>t.value===p(a));return Dt(RI,{rovingFocusGroupItemRef:l,tabIndex:I(()=>p(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function SQ(n,e,t,i,r,s){const o=Ct("el-roving-focus-collection-item");return B(),Oe(o,{id:n.id,focusable:n.focusable,active:n.active},{default:Ee(()=>[Be(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var MQ=je(wQ,[["render",SQ],["__file","roving-focus-item.vue"]]);const qm=Ge({trigger:Yf.trigger,effect:{...li.effect,default:"light"},type:{type:Le(String)},placement:{type:Le(String),default:"bottom"},popperOptions:{type:Le(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Le([Number,String]),default:0},maxHeight:{type:Le([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Le(Object)},teleported:li.teleported}),PI=Ge({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Qt}}),TQ=Ge({onKeydown:{type:Le(Function)}}),EQ=[it.down,it.pageDown,it.home],II=[it.up,it.pageUp,it.end],CQ=[...EQ,...II],{ElCollection:AQ,ElCollectionItem:LQ,COLLECTION_INJECTION_KEY:RQ,COLLECTION_ITEM_INJECTION_KEY:PQ}=LI("Dropdown"),Iv=Symbol("elDropdown"),{ButtonGroup:IQ}=ti,kQ=pe({name:"ElDropdown",components:{ElButton:ti,ElButtonGroup:IQ,ElScrollbar:ko,ElDropdownCollection:AQ,ElTooltip:Ri,ElRovingFocusGroup:xQ,ElOnlyChild:iP,ElIcon:et,ArrowDown:Po},props:qm,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=Mt(),i=He("dropdown"),{t:r}=Ut(),s=X(),o=X(),a=X(null),l=X(null),c=X(null),u=X(null),d=X(!1),f=[it.enter,it.space,it.down],h=I(()=>({maxHeight:Nn(n.maxHeight)})),g=I(()=>[i.m(w.value)]),m=I(()=>$l(n.trigger)),v=Li().value,y=I(()=>n.id||v);Ve([s,m],([A,N],[P])=>{var z,Y,H;(z=P==null?void 0:P.$el)!=null&&z.removeEventListener&&P.$el.removeEventListener("pointerenter",T),(Y=A==null?void 0:A.$el)!=null&&Y.removeEventListener&&A.$el.removeEventListener("pointerenter",T),(H=A==null?void 0:A.$el)!=null&&H.addEventListener&&N.includes("hover")&&A.$el.addEventListener("pointerenter",T)},{immediate:!0}),sn(()=>{var A,N;(N=(A=s.value)==null?void 0:A.$el)!=null&&N.removeEventListener&&s.value.$el.removeEventListener("pointerenter",T)});function b(){x()}function x(){var A;(A=a.value)==null||A.onClose()}function _(){var A;(A=a.value)==null||A.onOpen()}const w=Gn();function S(...A){e("command",...A)}function T(){var A,N;(N=(A=s.value)==null?void 0:A.$el)==null||N.focus()}function M(){}function C(){const A=p(l);m.value.includes("hover")&&(A==null||A.focus()),u.value=null}function L(A){u.value=A}function E(A){d.value||(A.preventDefault(),A.stopImmediatePropagation())}function O(){e("visible-change",!0)}function F(A){(A==null?void 0:A.type)==="keydown"&&l.value.focus()}function R(){e("visible-change",!1)}return Dt(Iv,{contentRef:l,role:I(()=>n.role),triggerId:y,isUsingKeyboard:d,onItemEnter:M,onItemLeave:C}),Dt("elDropdown",{instance:t,dropdownSize:w,handleClick:b,commandHandler:S,trigger:tn(n,"trigger"),hideOnClick:tn(n,"hideOnClick")}),{t:r,ns:i,scrollbar:c,wrapStyle:h,dropdownTriggerKls:g,dropdownSize:w,triggerId:y,triggerKeys:f,currentTabId:u,handleCurrentTabIdChange:L,handlerMainButtonClick:A=>{e("click",A)},handleEntryFocus:E,handleClose:x,handleOpen:_,handleBeforeShowTooltip:O,handleShowTooltip:F,handleBeforeHideTooltip:R,onFocusAfterTrapped:A=>{var N,P;A.preventDefault(),(P=(N=l.value)==null?void 0:N.focus)==null||P.call(N,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:s,referenceElementRef:o}}});function DQ(n,e,t,i,r,s){var o;const a=Ct("el-dropdown-collection"),l=Ct("el-roving-focus-group"),c=Ct("el-scrollbar"),u=Ct("el-only-child"),d=Ct("el-tooltip"),f=Ct("el-button"),h=Ct("arrow-down"),g=Ct("el-icon"),m=Ct("el-button-group");return B(),se("div",{class:U([n.ns.b(),n.ns.is("disabled",n.disabled)])},[ye(d,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(o=n.referenceElementRef)==null?void 0:o.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},xo({content:Ee(()=>[ye(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:Ee(()=>[ye(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:Ee(()=>[ye(a,null,{default:Ee(()=>[Be(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:Ee(()=>[ye(u,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:Ee(()=>[Be(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(B(),Oe(m,{key:0},{default:Ee(()=>[ye(f,Rt({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:Ee(()=>[Be(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ye(f,Rt({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:Ee(()=>[ye(g,{class:U(n.ns.e("icon"))},{default:Ee(()=>[ye(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ke("v-if",!0)],2)}var NQ=je(kQ,[["render",DQ],["__file","dropdown.vue"]]);const OQ=pe({name:"DropdownItemImpl",components:{ElIcon:et},props:PI,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const t=He("dropdown"),{role:i}=Qe(Iv,void 0),{collectionItemRef:r}=Qe(PQ,void 0),{collectionItemRef:s}=Qe(uQ,void 0),{rovingFocusGroupItemRef:o,tabIndex:a,handleFocus:l,handleKeydown:c,handleMousedown:u}=Qe(RI,void 0),d=bv(r,s,o),f=I(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),h=En(g=>{const{code:m}=g;if(m===it.enter||m===it.space)return g.preventDefault(),g.stopImmediatePropagation(),e("clickimpl",g),!0},c);return{ns:t,itemRef:d,dataset:{[AI]:""},role:f,tabIndex:a,handleFocus:l,handleKeydown:h,handleMousedown:u}}}),FQ=["aria-disabled","tabindex","role"];function BQ(n,e,t,i,r,s){const o=Ct("el-icon");return B(),se(rt,null,[n.divided?(B(),se("li",Rt({key:0,role:"separator",class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):ke("v-if",!0),de("li",Rt({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:e[0]||(e[0]=a=>n.$emit("clickimpl",a)),onFocus:e[1]||(e[1]=(...a)=>n.handleFocus&&n.handleFocus(...a)),onKeydown:e[2]||(e[2]=ft((...a)=>n.handleKeydown&&n.handleKeydown(...a),["self"])),onMousedown:e[3]||(e[3]=(...a)=>n.handleMousedown&&n.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>n.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>n.$emit("pointerleave",a))}),[n.icon?(B(),Oe(o,{key:0},{default:Ee(()=>[(B(),Oe(Pt(n.icon)))]),_:1})):ke("v-if",!0),Be(n.$slots,"default")],16,FQ)],64)}var zQ=je(OQ,[["render",BQ],["__file","dropdown-item-impl.vue"]]);const kI=()=>{const n=Qe("elDropdown",{}),e=I(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},$Q=pe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:LQ,ElRovingFocusItem:MQ,ElDropdownItemImpl:zQ},inheritAttrs:!1,props:PI,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:i}=kI(),r=Mt(),s=X(null),o=I(()=>{var h,g;return(g=(h=p(s))==null?void 0:h.textContent)!=null?g:""}),{onItemEnter:a,onItemLeave:l}=Qe(Iv,void 0),c=En(h=>(e("pointermove",h),h.defaultPrevented),KS(h=>{if(n.disabled){l(h);return}const g=h.currentTarget;g===document.activeElement||g.contains(document.activeElement)||(a(h),h.defaultPrevented||g==null||g.focus())})),u=En(h=>(e("pointerleave",h),h.defaultPrevented),KS(h=>{l(h)})),d=En(h=>{if(!n.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var g,m,v;if(n.disabled){h.stopImmediatePropagation();return}(g=i==null?void 0:i.hideOnClick)!=null&&g.value&&((m=i.handleClick)==null||m.call(i)),(v=i.commandHandler)==null||v.call(i,n.command,r,h)}),f=I(()=>({...n,...t}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:o,propsAndAttrs:f}}});function VQ(n,e,t,i,r,s){var o;const a=Ct("el-dropdown-item-impl"),l=Ct("el-roving-focus-item"),c=Ct("el-dropdown-collection-item");return B(),Oe(c,{disabled:n.disabled,"text-value":(o=n.textValue)!=null?o:n.textContent},{default:Ee(()=>[ye(l,{focusable:!n.disabled},{default:Ee(()=>[ye(a,Rt(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:Ee(()=>[Be(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DI=je($Q,[["render",VQ],["__file","dropdown-item.vue"]]);const HQ=pe({name:"ElDropdownMenu",props:TQ,setup(n){const e=He("dropdown"),{_elDropdownSize:t}=kI(),i=t.value,{focusTrapRef:r,onKeydown:s}=Qe(Rw,void 0),{contentRef:o,role:a,triggerId:l}=Qe(Iv,void 0),{collectionRef:c,getItems:u}=Qe(RQ,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:g,onFocus:m,onMousedown:v}=Qe(Vw,void 0),{collectionRef:y}=Qe($w,void 0),b=I(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),x=bv(o,c,r,d,y),_=En(S=>{var T;(T=n.onKeydown)==null||T.call(n,S)},S=>{const{currentTarget:T,code:M,target:C}=S;if(T.contains(C),it.tab===M&&S.stopImmediatePropagation(),S.preventDefault(),C!==p(o)||!CQ.includes(M))return;const E=u().filter(O=>!O.disabled).map(O=>O.ref);II.includes(M)&&E.reverse(),Hw(E)});return{size:i,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:b,role:a,triggerId:l,dropdownListWrapperRef:x,handleKeydown:S=>{_(S),s(S)},onBlur:g,onFocus:m,onMousedown:v}}}),UQ=["role","aria-labelledby"];function WQ(n,e,t,i,r,s){return B(),se("ul",{ref:n.dropdownListWrapperRef,class:U(n.dropdownKls),style:tt(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:e[0]||(e[0]=(...o)=>n.onBlur&&n.onBlur(...o)),onFocus:e[1]||(e[1]=(...o)=>n.onFocus&&n.onFocus(...o)),onKeydown:e[2]||(e[2]=ft((...o)=>n.handleKeydown&&n.handleKeydown(...o),["self"])),onMousedown:e[3]||(e[3]=ft((...o)=>n.onMousedown&&n.onMousedown(...o),["self"]))},[Be(n.$slots,"default")],46,UQ)}var NI=je(HQ,[["render",WQ],["__file","dropdown-menu.vue"]]);const GQ=At(NQ,{DropdownItem:DI,DropdownMenu:NI}),jQ=xn(DI),KQ=xn(NI),qQ={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},YQ=["id"],XQ=["stop-color"],ZQ=["stop-color"],JQ=["id"],QQ=["stop-color"],eee=["stop-color"],tee=["id"],nee={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},iee={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},ree={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},see=["fill"],oee=["fill"],aee={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},lee=["fill"],cee=["fill"],uee=["fill"],dee=["fill"],fee=["fill"],hee={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},pee=["fill","xlink:href"],mee=["fill","mask"],gee=["fill"],vee=pe({name:"ImgEmpty"}),yee=pe({...vee,setup(n){const e=He("empty"),t=Li();return(i,r)=>(B(),se("svg",qQ,[de("defs",null,[de("linearGradient",{id:`linearGradient-1-${p(t)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[de("stop",{"stop-color":`var(${p(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,XQ),de("stop",{"stop-color":`var(${p(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ZQ)],8,YQ),de("linearGradient",{id:`linearGradient-2-${p(t)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[de("stop",{"stop-color":`var(${p(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,QQ),de("stop",{"stop-color":`var(${p(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,eee)],8,JQ),de("rect",{id:`path-3-${p(t)}`,x:"0",y:"0",width:"17",height:"36"},null,8,tee)]),de("g",nee,[de("g",iee,[de("g",ree,[de("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${p(e).cssVarBlockName("fill-color-3")})`},null,8,see),de("polygon",{id:"Rectangle-Copy-14",fill:`var(${p(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,oee),de("g",aee,[de("polygon",{id:"Rectangle-Copy-10",fill:`var(${p(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,lee),de("polygon",{id:"Rectangle-Copy-11",fill:`var(${p(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,cee),de("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${p(t)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,uee),de("polygon",{id:"Rectangle-Copy-13",fill:`var(${p(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,dee)]),de("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${p(t)})`,x:"13",y:"45",width:"40",height:"36"},null,8,fee),de("g",hee,[de("use",{id:"Mask",fill:`var(${p(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${p(t)}`},null,8,pee),de("polygon",{id:"Rectangle-Copy",fill:`var(${p(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${p(t)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,mee)]),de("polygon",{id:"Rectangle-Copy-18",fill:`var(${p(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,gee)])])])]))}});var bee=je(yee,[["__file","img-empty.vue"]]);const _ee=Ge({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),xee=["src"],wee={key:1},See=pe({name:"ElEmpty"}),Mee=pe({...See,props:_ee,setup(n){const e=n,{t}=Ut(),i=He("empty"),r=I(()=>e.description||t("el.table.emptyText")),s=I(()=>({width:Nn(e.imageSize)}));return(o,a)=>(B(),se("div",{class:U(p(i).b())},[de("div",{class:U(p(i).e("image")),style:tt(p(s))},[o.image?(B(),se("img",{key:0,src:o.image,ondragstart:"return false"},null,8,xee)):Be(o.$slots,"image",{key:1},()=>[ye(bee)])],6),de("div",{class:U(p(i).e("description"))},[o.$slots.description?Be(o.$slots,"description",{key:0}):(B(),se("p",wee,qe(p(r)),1))],2),o.$slots.default?(B(),se("div",{key:0,class:U(p(i).e("bottom"))},[Be(o.$slots,"default")],2)):ke("v-if",!0)],2))}});var Tee=je(Mee,[["__file","empty.vue"]]);const OI=At(Tee),Eee=Ge({urlList:{type:Le(Array),default:()=>yn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Le(String)}}),Cee={close:()=>!0,switch:n=>ut(n),rotate:n=>ut(n)},Aee=["src","crossorigin"],Lee=pe({name:"ElImageViewer"}),Ree=pe({...Lee,props:Eee,emits:Cee,setup(n,{expose:e,emit:t}){var i;const r=n,s={CONTAIN:{name:"contain",icon:Al(tU)},ORIGINAL:{name:"original",icon:Al(xU)}},{t:o}=Ut(),a=He("image-viewer"),{nextZIndex:l}=dd(),c=X(),u=X([]),d=EO(),f=X(!0),h=X(r.initialIndex),g=rn(s.CONTAIN),m=X({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=X((i=r.zIndex)!=null?i:l()),y=I(()=>{const{urlList:z}=r;return z.length<=1}),b=I(()=>h.value===0),x=I(()=>h.value===r.urlList.length-1),_=I(()=>r.urlList[h.value]),w=I(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!r.infinite&&b.value)]),S=I(()=>[a.e("btn"),a.e("next"),a.is("disabled",!r.infinite&&x.value)]),T=I(()=>{const{scale:z,deg:Y,offsetX:H,offsetY:V,enableTransition:W}=m.value;let ie=H/z,G=V/z;switch(Y%360){case 90:case-270:[ie,G]=[G,-ie];break;case 180:case-180:[ie,G]=[-ie,-G];break;case 270:case-90:[ie,G]=[-G,ie];break}const te={transform:`scale(${z}) rotate(${Y}deg) translate(${ie}px, ${G}px)`,transition:W?"transform .3s":""};return g.value.name===s.CONTAIN.name&&(te.maxWidth=te.maxHeight="100%"),te});function M(){L(),t("close")}function C(){const z=Ll(H=>{switch(H.code){case it.esc:r.closeOnPressEscape&&M();break;case it.space:$();break;case it.left:A();break;case it.up:P("zoomIn");break;case it.right:N();break;case it.down:P("zoomOut");break}}),Y=Ll(H=>{const V=H.deltaY||H.deltaX;P(V<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});d.run(()=>{gn(document,"keydown",z),gn(document,"wheel",Y)})}function L(){d.stop()}function E(){f.value=!1}function O(z){f.value=!1,z.target.alt=o("el.image.error")}function F(z){if(f.value||z.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:Y,offsetY:H}=m.value,V=z.pageX,W=z.pageY,ie=Ll(te=>{m.value={...m.value,offsetX:Y+te.pageX-V,offsetY:H+te.pageY-W}}),G=gn(document,"mousemove",ie);gn(document,"mouseup",()=>{G()}),z.preventDefault()}function R(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function $(){if(f.value)return;const z=ku(s),Y=Object.values(s),H=g.value.name,W=(Y.findIndex(ie=>ie.name===H)+1)%z.length;g.value=s[z[W]],R()}function D(z){const Y=r.urlList.length;h.value=(z+Y)%Y}function A(){b.value&&!r.infinite||D(h.value-1)}function N(){x.value&&!r.infinite||D(h.value+1)}function P(z,Y={}){if(f.value)return;const{minScale:H,maxScale:V}=r,{zoomRate:W,rotateDeg:ie,enableTransition:G}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...Y};switch(z){case"zoomOut":m.value.scale>H&&(m.value.scale=Number.parseFloat((m.value.scale/W).toFixed(3)));break;case"zoomIn":m.value.scale<V&&(m.value.scale=Number.parseFloat((m.value.scale*W).toFixed(3)));break;case"clockwise":m.value.deg+=ie,t("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=ie,t("rotate",m.value.deg);break}m.value.enableTransition=G}return Ve(_,()=>{at(()=>{const z=u.value[0];z!=null&&z.complete||(f.value=!0)})}),Ve(h,z=>{R(),t("switch",z)}),St(()=>{var z,Y;C(),(Y=(z=c.value)==null?void 0:z.focus)==null||Y.call(z)}),e({setActiveItem:D}),(z,Y)=>(B(),Oe(ld,{to:"body",disabled:!z.teleported},[ye(Un,{name:"viewer-fade",appear:""},{default:Ee(()=>[de("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:U(p(a).e("wrapper")),style:tt({zIndex:v.value})},[de("div",{class:U(p(a).e("mask")),onClick:Y[0]||(Y[0]=ft(H=>z.hideOnClickModal&&M(),["self"]))},null,2),ke(" CLOSE "),de("span",{class:U([p(a).e("btn"),p(a).e("close")]),onClick:M},[ye(p(et),null,{default:Ee(()=>[ye(p(gs))]),_:1})],2),ke(" ARROW "),p(y)?ke("v-if",!0):(B(),se(rt,{key:0},[de("span",{class:U(p(w)),onClick:A},[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1})],2),de("span",{class:U(p(S)),onClick:N},[ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})],2)],64)),ke(" ACTIONS "),de("div",{class:U([p(a).e("btn"),p(a).e("actions")])},[de("div",{class:U(p(a).e("actions__inner"))},[ye(p(et),{onClick:Y[1]||(Y[1]=H=>P("zoomOut"))},{default:Ee(()=>[ye(p(FU))]),_:1}),ye(p(et),{onClick:Y[2]||(Y[2]=H=>P("zoomIn"))},{default:Ee(()=>[ye(p(cR))]),_:1}),de("i",{class:U(p(a).e("actions__divider"))},null,2),ye(p(et),{onClick:$},{default:Ee(()=>[(B(),Oe(Pt(p(g).icon)))]),_:1}),de("i",{class:U(p(a).e("actions__divider"))},null,2),ye(p(et),{onClick:Y[3]||(Y[3]=H=>P("anticlockwise"))},{default:Ee(()=>[ye(p(vU))]),_:1}),ye(p(et),{onClick:Y[4]||(Y[4]=H=>P("clockwise"))},{default:Ee(()=>[ye(p(bU))]),_:1})],2)],2),ke(" CANVAS "),de("div",{class:U(p(a).e("canvas"))},[(B(!0),se(rt,null,Bt(z.urlList,(H,V)=>_t((B(),se("img",{ref_for:!0,ref:W=>u.value[V]=W,key:H,src:H,style:tt(p(T)),class:U(p(a).e("img")),crossorigin:z.crossorigin,onLoad:E,onError:O,onMousedown:F},null,46,Aee)),[[Wt,V===h.value]])),128))],2),Be(z.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Pee=je(Ree,[["__file","image-viewer.vue"]]);const FI=At(Pee),Iee=Ge({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Le([String,Object])},previewSrcList:{type:Le(Array),default:()=>yn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Le(String)}}),kee={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>ut(n),close:()=>!0,show:()=>!0},Dee=["src","loading","crossorigin"],Nee={key:0},Oee=pe({name:"ElImage",inheritAttrs:!1}),Fee=pe({...Oee,props:Iee,emits:kee,setup(n,{emit:e}){const t=n;let i="";const{t:r}=Ut(),s=He("image"),o=Zl(),a=lw(),l=X(),c=X(!1),u=X(!0),d=X(!1),f=X(),h=X(),g=Vt&&"loading"in HTMLImageElement.prototype;let m,v;const y=I(()=>[s.e("inner"),_.value&&s.e("preview"),u.value&&s.is("loading")]),b=I(()=>o.style),x=I(()=>{const{fit:N}=t;return Vt&&N?{objectFit:N}:{}}),_=I(()=>{const{previewSrcList:N}=t;return Array.isArray(N)&&N.length>0}),w=I(()=>{const{previewSrcList:N,initialIndex:P}=t;let z=P;return P>N.length-1&&(z=0),z}),S=I(()=>t.loading==="eager"?!1:!g&&t.loading==="lazy"||t.lazy),T=()=>{Vt&&(u.value=!0,c.value=!1,l.value=t.src)};function M(N){u.value=!1,c.value=!1,e("load",N)}function C(N){u.value=!1,c.value=!0,e("error",N)}function L(){gB(f.value,h.value)&&(T(),F())}const E=hL(L,200,!0);async function O(){var N;if(!Vt)return;await at();const{scrollContainer:P}=t;Vr(P)?h.value=P:vt(P)&&P!==""?h.value=(N=document.querySelector(P))!=null?N:void 0:f.value&&(h.value=Qx(f.value)),h.value&&(m=gn(h,"scroll",E),setTimeout(()=>L(),100))}function F(){!Vt||!h.value||!E||(m==null||m(),h.value=void 0)}function R(N){if(N.ctrlKey){if(N.deltaY<0)return N.preventDefault(),!1;if(N.deltaY>0)return N.preventDefault(),!1}}function $(){_.value&&(v=gn("wheel",R,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,e("show"))}function D(){v==null||v(),document.body.style.overflow=i,d.value=!1,e("close")}function A(N){e("switch",N)}return Ve(()=>t.src,()=>{S.value?(u.value=!0,c.value=!1,F(),O()):T()}),St(()=>{S.value?O():T()}),(N,P)=>(B(),se("div",{ref_key:"container",ref:f,class:U([p(s).b(),N.$attrs.class]),style:tt(p(b))},[c.value?Be(N.$slots,"error",{key:0},()=>[de("div",{class:U(p(s).e("error"))},qe(p(r)("el.image.error")),3)]):(B(),se(rt,{key:1},[l.value!==void 0?(B(),se("img",Rt({key:0},p(a),{src:l.value,loading:N.loading,style:p(x),class:p(y),crossorigin:N.crossorigin,onClick:$,onLoad:M,onError:C}),null,16,Dee)):ke("v-if",!0),u.value?(B(),se("div",{key:1,class:U(p(s).e("wrapper"))},[Be(N.$slots,"placeholder",{},()=>[de("div",{class:U(p(s).e("placeholder"))},null,2)])],2)):ke("v-if",!0)],64)),p(_)?(B(),se(rt,{key:2},[d.value?(B(),Oe(p(FI),{key:0,"z-index":N.zIndex,"initial-index":p(w),infinite:N.infinite,"zoom-rate":N.zoomRate,"min-scale":N.minScale,"max-scale":N.maxScale,"url-list":N.previewSrcList,"hide-on-click-modal":N.hideOnClickModal,teleported:N.previewTeleported,"close-on-press-escape":N.closeOnPressEscape,onClose:D,onSwitch:A},{default:Ee(()=>[N.$slots.viewer?(B(),se("div",Nee,[Be(N.$slots,"viewer")])):ke("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ke("v-if",!0)],64)):ke("v-if",!0)],6))}});var Bee=je(Fee,[["__file","image.vue"]]);const zee=At(Bee),$ee=Ge({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ni,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||ut(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0}}),Vee={[dn]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[Vi]:n=>ut(n)||Kn(n),[Lt]:n=>ut(n)||Kn(n)},Hee=["aria-label","onKeydown"],Uee=["aria-label","onKeydown"],Wee=pe({name:"ElInputNumber"}),Gee=pe({...Wee,props:$ee,emits:Vee,setup(n,{expose:e,emit:t}){const i=n,{t:r}=Ut(),s=He("input-number"),o=X(),a=Gt({currentValue:i.modelValue,userInput:null}),{formItem:l}=qi(),c=I(()=>ut(i.modelValue)&&i.modelValue<=i.min),u=I(()=>ut(i.modelValue)&&i.modelValue>=i.max),d=I(()=>{const R=y(i.step);return Hn(i.precision)?Math.max(y(i.modelValue),R):(R>i.precision,i.precision)}),f=I(()=>i.controls&&i.controlsPosition==="right"),h=Gn(),g=dr(),m=I(()=>{if(a.userInput!==null)return a.userInput;let R=a.currentValue;if(Kn(R))return"";if(ut(R)){if(Number.isNaN(R))return"";Hn(i.precision)||(R=R.toFixed(i.precision))}return R}),v=(R,$)=>{if(Hn($)&&($=d.value),$===0)return Math.round(R);let D=String(R);const A=D.indexOf(".");if(A===-1||!D.replace(".","").split("")[A+$])return R;const z=D.length;return D.charAt(z-1)==="5"&&(D=`${D.slice(0,Math.max(0,z-1))}6`),Number.parseFloat(Number(D).toFixed($))},y=R=>{if(Kn(R))return 0;const $=R.toString(),D=$.indexOf(".");let A=0;return D!==-1&&(A=$.length-D-1),A},b=(R,$=1)=>ut(R)?v(R+i.step*$):a.currentValue,x=()=>{if(i.readonly||g.value||u.value)return;const R=Number(m.value)||0,$=b(R);S($),t(Vi,a.currentValue),F()},_=()=>{if(i.readonly||g.value||c.value)return;const R=Number(m.value)||0,$=b(R,-1);S($),t(Vi,a.currentValue),F()},w=(R,$)=>{const{max:D,min:A,step:N,precision:P,stepStrictly:z,valueOnClear:Y}=i;D<A&&Wn("InputNumber","min should not be greater than max.");let H=Number(R);if(Kn(R)||Number.isNaN(H))return null;if(R===""){if(Y===null)return null;H=vt(Y)?{min:A,max:D}[Y]:Y}return z&&(H=v(Math.round(H/N)*N,P)),Hn(P)||(H=v(H,P)),(H>D||H<A)&&(H=H>D?D:A,$&&t(Lt,H)),H},S=(R,$=!0)=>{var D;const A=a.currentValue,N=w(R);if(!$){t(Lt,N);return}A!==N&&(a.userInput=null,t(Lt,N),t(dn,N,A),i.validateEvent&&((D=l==null?void 0:l.validate)==null||D.call(l,"change").catch(P=>void 0)),a.currentValue=N)},T=R=>{a.userInput=R;const $=R===""?null:Number(R);t(Vi,$),S($,!1)},M=R=>{const $=R!==""?Number(R):"";(ut($)&&!Number.isNaN($)||R==="")&&S($),F(),a.userInput=null},C=()=>{var R,$;($=(R=o.value)==null?void 0:R.focus)==null||$.call(R)},L=()=>{var R,$;($=(R=o.value)==null?void 0:R.blur)==null||$.call(R)},E=R=>{t("focus",R)},O=R=>{var $;a.userInput=null,t("blur",R),i.validateEvent&&(($=l==null?void 0:l.validate)==null||$.call(l,"blur").catch(D=>void 0))},F=()=>{a.currentValue!==i.modelValue&&(a.currentValue=i.modelValue)};return Ve(()=>i.modelValue,(R,$)=>{const D=w(R,!0);a.userInput===null&&D!==$&&(a.currentValue=D)},{immediate:!0}),St(()=>{var R;const{min:$,max:D,modelValue:A}=i,N=(R=o.value)==null?void 0:R.input;if(N.setAttribute("role","spinbutton"),Number.isFinite(D)?N.setAttribute("aria-valuemax",String(D)):N.removeAttribute("aria-valuemax"),Number.isFinite($)?N.setAttribute("aria-valuemin",String($)):N.removeAttribute("aria-valuemin"),N.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),N.setAttribute("aria-disabled",String(g.value)),!ut(A)&&A!=null){let P=Number(A);Number.isNaN(P)&&(P=null),t(Lt,P)}}),Ao(()=>{var R,$;const D=(R=o.value)==null?void 0:R.input;D==null||D.setAttribute("aria-valuenow",`${($=a.currentValue)!=null?$:""}`)}),e({focus:C,blur:L}),(R,$)=>(B(),se("div",{class:U([p(s).b(),p(s).m(p(h)),p(s).is("disabled",p(g)),p(s).is("without-controls",!R.controls),p(s).is("controls-right",p(f))]),onDragstart:$[1]||($[1]=ft(()=>{},["prevent"]))},[R.controls?_t((B(),se("span",{key:0,role:"button","aria-label":p(r)("el.inputNumber.decrease"),class:U([p(s).e("decrease"),p(s).is("disabled",p(c))]),onKeydown:Jt(_,["enter"])},[ye(p(et),null,{default:Ee(()=>[p(f)?(B(),Oe(p(Po),{key:0})):(B(),Oe(p(aU),{key:1}))]),_:1})],42,Hee)),[[p(Ag),_]]):ke("v-if",!0),R.controls?_t((B(),se("span",{key:1,role:"button","aria-label":p(r)("el.inputNumber.increase"),class:U([p(s).e("increase"),p(s).is("disabled",p(u))]),onKeydown:Jt(x,["enter"])},[ye(p(et),null,{default:Ee(()=>[p(f)?(B(),Oe(p(ew),{key:0})):(B(),Oe(p(aR),{key:1}))]),_:1})],42,Uee)),[[p(Ag),x]]):ke("v-if",!0),ye(p(Ai),{id:R.id,ref_key:"input",ref:o,type:"number",step:R.step,"model-value":p(m),placeholder:R.placeholder,readonly:R.readonly,disabled:p(g),size:p(h),max:R.max,min:R.min,name:R.name,label:R.label,"validate-event":!1,onWheel:$[0]||($[0]=ft(()=>{},["prevent"])),onKeydown:[Jt(ft(x,["prevent"]),["up"]),Jt(ft(_,["prevent"]),["down"])],onBlur:O,onFocus:E,onInput:T,onChange:M},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var jee=je(Gee,[["__file","input-number.vue"]]);const BI=At(jee),Kee=Ge({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Qt}}),qee={click:n=>n instanceof MouseEvent},Yee=["href","target"],Xee=pe({name:"ElLink"}),Zee=pe({...Xee,props:Kee,emits:qee,setup(n,{emit:e}){const t=n,i=He("link"),r=I(()=>[i.b(),i.m(t.type),i.is("disabled",t.disabled),i.is("underline",t.underline&&!t.disabled)]);function s(o){t.disabled||e("click",o)}return(o,a)=>(B(),se("a",{class:U(p(r)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:s},[o.icon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(o.icon)))]),_:1})):ke("v-if",!0),o.$slots.default?(B(),se("span",{key:1,class:U(p(i).e("inner"))},[Be(o.$slots,"default")],2)):ke("v-if",!0),o.$slots.icon?Be(o.$slots,"icon",{key:2}):ke("v-if",!0)],10,Yee))}});var Jee=je(Zee,[["__file","link.vue"]]);const Qee=At(Jee);let ete=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",i=>{let r=!1;switch(i.code){case it.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case it.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case it.tab:{Dm(e,"mouseleave");break}case it.enter:case it.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}},tte=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new ete(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case it.down:{Dm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case it.up:{Dm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case it.tab:{Dm(e.currentTarget,"mouseleave");break}case it.enter:case it.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}},nte=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(i=>{i.nodeType===1&&new tte(i,e)})}};const ite=pe({name:"ElMenuCollapseTransition",setup(){const n=He("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,i){As(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",i()},onAfterEnter(t){rr(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),fs(t,n.m("collapse"))?(rr(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),As(t,n.m("collapse"))):(As(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),rr(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){As(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function rte(n,e,t,i,r,s){return B(),Oe(Un,Rt({mode:"out-in"},n.listeners),{default:Ee(()=>[Be(n.$slots,"default")]),_:3},16)}var ste=je(ite,[["render",rte],["__file","menu-collapse-transition.vue"]]);function zI(n,e){const t=I(()=>{let r=n.parent;const s=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&s.unshift(r.props.index),r=r.parent;return s});return{parentMenu:I(()=>{let r=n.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:t}}function ote(n){return I(()=>{const t=n.backgroundColor;return t?new gP(t).shade(20).toString():""})}const $I=(n,e)=>{const t=He("menu");return I(()=>t.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":ote(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},ate=Ge({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Qt},expandOpenIcon:{type:Qt},collapseCloseIcon:{type:Qt},collapseOpenIcon:{type:Qt}}),xp="ElSubMenu";var Uw=pe({name:xp,props:ate,setup(n,{slots:e,expose:t}){Os({from:"popper-append-to-body",replacement:"teleported",scope:xp,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},I(()=>n.popperAppendToBody!==void 0));const i=Mt(),{indexPath:r,parentMenu:s}=zI(i,I(()=>n.index)),o=He("menu"),a=He("sub-menu"),l=Qe("rootMenu");l||Wn(xp,"can not inject root menu");const c=Qe(`subMenu:${s.value.uid}`);c||Wn(xp,"can not inject sub menu");const u=X({}),d=X({});let f;const h=X(!1),g=X(),m=X(null),v=I(()=>M.value==="horizontal"&&b.value?"bottom-start":"right-start"),y=I(()=>M.value==="horizontal"&&b.value||M.value==="vertical"&&!l.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?S.value?n.expandOpenIcon:n.expandCloseIcon:Po:n.collapseCloseIcon&&n.collapseOpenIcon?S.value?n.collapseOpenIcon:n.collapseCloseIcon:$i),b=I(()=>c.level===0),x=I(()=>{var z;const Y=(z=n.teleported)!=null?z:n.popperAppendToBody;return Y===void 0?b.value:Y}),_=I(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),w=I(()=>M.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=I(()=>l.openedMenus.includes(n.index)),T=I(()=>{let z=!1;return Object.values(u.value).forEach(Y=>{Y.active&&(z=!0)}),Object.values(d.value).forEach(Y=>{Y.active&&(z=!0)}),z}),M=I(()=>l.props.mode),C=Gt({index:n.index,indexPath:r,active:T}),L=$I(l.props,c.level+1),E=I(()=>{var z;return(z=n.popperOffset)!=null?z:l.props.popperOffset}),O=I(()=>{var z;return(z=n.popperClass)!=null?z:l.props.popperClass}),F=I(()=>{var z;return(z=n.showTimeout)!=null?z:l.props.showTimeout}),R=I(()=>{var z;return(z=n.hideTimeout)!=null?z:l.props.hideTimeout}),$=()=>{var z,Y,H;return(H=(Y=(z=m.value)==null?void 0:z.popperRef)==null?void 0:Y.popperInstanceRef)==null?void 0:H.destroy()},D=z=>{z||$()},A=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||n.disabled||l.handleSubMenuClick({index:n.index,indexPath:r.value,active:T.value})},N=(z,Y=F.value)=>{var H;if(z.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||n.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,f==null||f(),{stop:f}=Bl(()=>{l.openMenu(n.index,r.value)},Y),x.value&&((H=s.value.vnode.el)==null||H.dispatchEvent(new MouseEvent("mouseenter")))}},P=(z=!1)=>{var Y;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}f==null||f(),c.mouseInChild.value=!1,{stop:f}=Bl(()=>!h.value&&l.closeMenu(n.index,r.value),R.value),x.value&&z&&((Y=c.handleMouseleave)==null||Y.call(c,!0))};Ve(()=>l.props.collapse,z=>D(!!z));{const z=H=>{d.value[H.index]=H},Y=H=>{delete d.value[H.index]};Dt(`subMenu:${i.uid}`,{addSubMenu:z,removeSubMenu:Y,handleMouseleave:P,mouseInChild:h,level:c.level+1})}return t({opened:S}),St(()=>{l.addSubMenu(C),c.addSubMenu(C)}),sn(()=>{c.removeSubMenu(C),l.removeSubMenu(C)}),()=>{var z;const Y=[(z=e.title)==null?void 0:z.call(e),ot(et,{class:a.e("icon-arrow"),style:{transform:S.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>vt(y.value)?ot(i.appContext.components[y.value]):ot(y.value)})],H=l.isMenuPopup?ot(Ri,{ref:m,visible:S.value,effect:"light",pure:!0,offset:E.value,showArrow:!1,persistent:!0,popperClass:O.value,placement:v.value,teleported:x.value,fallbackPlacements:w.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var V;return ot("div",{class:[o.m(M.value),o.m("popup-container"),O.value],onMouseenter:W=>N(W,100),onMouseleave:()=>P(!0),onFocus:W=>N(W,100)},[ot("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${v.value}`)],style:L.value},[(V=e.default)==null?void 0:V.call(e)])])},default:()=>ot("div",{class:a.e("title"),onClick:A},Y)}):ot(rt,{},[ot("div",{class:a.e("title"),ref:g,onClick:A},Y),ot(Pv,{},{default:()=>{var V;return _t(ot("ul",{role:"menu",class:[o.b(),o.m("inline")],style:L.value},[(V=e.default)==null?void 0:V.call(e)]),[[Wt,S.value]])}})]);return ot("li",{class:[a.b(),a.is("active",T.value),a.is("opened",S.value),a.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:N,onMouseleave:()=>P(),onFocus:N},[H])}}});const lte=Ge({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Le(Array),default:()=>yn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Qt,default:()=>uU},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),R0=n=>Array.isArray(n)&&n.every(e=>vt(e)),cte={close:(n,e)=>vt(n)&&R0(e),open:(n,e)=>vt(n)&&R0(e),select:(n,e,t,i)=>vt(n)&&R0(e)&&It(t)&&(i===void 0||i instanceof Promise)};var ute=pe({name:"ElMenu",props:lte,emits:cte,setup(n,{emit:e,slots:t,expose:i}){const r=Mt(),s=r.appContext.config.globalProperties.$router,o=X(),a=He("menu"),l=He("sub-menu"),c=X(-1),u=X(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),d=X(n.defaultActive),f=X({}),h=X({}),g=I(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),m=()=>{const F=d.value&&f.value[d.value];if(!F||n.mode==="horizontal"||n.collapse)return;F.indexPath.forEach($=>{const D=h.value[$];D&&v($,D.indexPath)})},v=(F,R)=>{u.value.includes(F)||(n.uniqueOpened&&(u.value=u.value.filter($=>R.includes($))),u.value.push(F),e("open",F,R))},y=F=>{const R=u.value.indexOf(F);R!==-1&&u.value.splice(R,1)},b=(F,R)=>{y(F),e("close",F,R)},x=({index:F,indexPath:R})=>{u.value.includes(F)?b(F,R):v(F,R)},_=F=>{(n.mode==="horizontal"||n.collapse)&&(u.value=[]);const{index:R,indexPath:$}=F;if(!(Kn(R)||Kn($)))if(n.router&&s){const D=F.route||R,A=s.push(D).then(N=>(N||(d.value=R),N));e("select",R,$,{index:R,indexPath:$,route:D},A)}else d.value=R,e("select",R,$,{index:R,indexPath:$})},w=F=>{const R=f.value,$=R[F]||d.value&&R[d.value]||R[n.defaultActive];$?d.value=$.index:d.value=F},S=()=>{var F,R;if(!o.value)return-1;const $=Array.from((R=(F=o.value)==null?void 0:F.childNodes)!=null?R:[]).filter(H=>H.nodeName!=="#comment"&&(H.nodeName!=="#text"||H.nodeValue)),D=64,A=Number.parseInt(getComputedStyle(o.value).paddingLeft,10),N=Number.parseInt(getComputedStyle(o.value).paddingRight,10),P=o.value.clientWidth-A-N;let z=0,Y=0;return $.forEach((H,V)=>{z+=H.offsetWidth||0,z<=P-D&&(Y=V+1)}),Y===$.length?-1:Y},T=F=>h.value[F].indexPath,M=(F,R=33.34)=>{let $;return()=>{$&&clearTimeout($),$=setTimeout(()=>{F()},R)}};let C=!0;const L=()=>{const F=()=>{c.value=-1,at(()=>{c.value=S()})};C?F():M(F)(),C=!1};Ve(()=>n.defaultActive,F=>{f.value[F]||(d.value=""),w(F)}),Ve(()=>n.collapse,F=>{F&&(u.value=[])}),Ve(f.value,m);let E;yi(()=>{n.mode==="horizontal"&&n.ellipsis?E=bn(o,L).stop:E==null||E()});const O=X(!1);{const F=A=>{h.value[A.index]=A},R=A=>{delete h.value[A.index]};Dt("rootMenu",Gt({props:n,openedMenus:u,items:f,subMenus:h,activeIndex:d,isMenuPopup:g,addMenuItem:A=>{f.value[A.index]=A},removeMenuItem:A=>{delete f.value[A.index]},addSubMenu:F,removeSubMenu:R,openMenu:v,closeMenu:b,handleMenuItemClick:_,handleSubMenuClick:x})),Dt(`subMenu:${r.uid}`,{addSubMenu:F,removeSubMenu:R,mouseInChild:O,level:0})}return St(()=>{n.mode==="horizontal"&&new nte(r.vnode.el,a.namespace.value)}),i({open:R=>{const{indexPath:$}=h.value[R];$.forEach(D=>v(D,$))},close:y,handleResize:L}),()=>{var F,R;let $=(R=(F=t.default)==null?void 0:F.call(t))!=null?R:[];const D=[];if(n.mode==="horizontal"&&o.value){const z=xa($),Y=c.value===-1?z:z.slice(0,c.value),H=c.value===-1?[]:z.slice(c.value);H!=null&&H.length&&n.ellipsis&&($=Y,D.push(ot(Uw,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:n.popperOffset},{title:()=>ot(et,{class:l.e("icon-more")},{default:()=>ot(n.ellipsisIcon)}),default:()=>H})))}const A=$I(n,0),N=n.closeOnClickOutside?[[To,()=>{u.value.length&&(O.value||(u.value.forEach(z=>e("close",z,T(z))),u.value=[]))}]]:[],P=_t(ot("ul",{key:String(n.collapse),role:"menubar",ref:o,style:A.value,class:{[a.b()]:!0,[a.m(n.mode)]:!0,[a.m("collapse")]:n.collapse}},[...$,...D]),N);return n.collapseTransition&&n.mode==="vertical"?ot(ste,()=>P):P}}});const dte=Ge({index:{type:Le([String,null]),default:null},route:{type:Le([String,Object])},disabled:Boolean}),fte={click:n=>vt(n.index)&&Array.isArray(n.indexPath)},P0="ElMenuItem",hte=pe({name:P0,components:{ElTooltip:Ri},props:dte,emits:fte,setup(n,{emit:e}){const t=Mt(),i=Qe("rootMenu"),r=He("menu"),s=He("menu-item");i||Wn(P0,"can not inject root menu");const{parentMenu:o,indexPath:a}=zI(t,tn(n,"index")),l=Qe(`subMenu:${o.value.uid}`);l||Wn(P0,"can not inject sub menu");const c=I(()=>n.index===i.activeIndex),u=Gt({index:n.index,indexPath:a,active:c}),d=()=>{n.disabled||(i.handleMenuItemClick({index:n.index,indexPath:a.value,route:n.route}),e("click",u))};return St(()=>{l.addSubMenu(u),i.addMenuItem(u)}),sn(()=>{l.removeSubMenu(u),i.removeMenuItem(u)}),{parentMenu:o,rootMenu:i,active:c,nsMenu:r,nsMenuItem:s,handleClick:d}}});function pte(n,e,t,i,r,s){const o=Ct("el-tooltip");return B(),se("li",{class:U([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(B(),Oe(o,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Ee(()=>[Be(n.$slots,"title")]),default:Ee(()=>[de("div",{class:U(n.nsMenu.be("tooltip","trigger"))},[Be(n.$slots,"default")],2)]),_:3},8,["effect"])):(B(),se(rt,{key:1},[Be(n.$slots,"default"),Be(n.$slots,"title")],64))],2)}var VI=je(hte,[["render",pte],["__file","menu-item.vue"]]);const mte={title:String},gte="ElMenuItemGroup",vte=pe({name:gte,props:mte,setup(){return{ns:He("menu-item-group")}}});function yte(n,e,t,i,r,s){return B(),se("li",{class:U(n.ns.b())},[de("div",{class:U(n.ns.e("title"))},[n.$slots.title?Be(n.$slots,"title",{key:1}):(B(),se(rt,{key:0},[Ht(qe(n.title),1)],64))],2),de("ul",null,[Be(n.$slots,"default")])],2)}var HI=je(vte,[["render",yte],["__file","menu-item-group.vue"]]);const bte=At(ute,{MenuItem:VI,MenuItemGroup:HI,SubMenu:Uw}),_te=xn(VI),xte=xn(HI),wte=xn(Uw),Ste=Ge({icon:{type:Qt,default:()=>DH},title:String,content:{type:String,default:""}}),Mte={back:()=>!0},Tte=["aria-label"],Ete=pe({name:"ElPageHeader"}),Cte=pe({...Ete,props:Ste,emits:Mte,setup(n,{emit:e}){const t=Yn(),{t:i}=Ut(),r=He("page-header"),s=I(()=>[r.b(),{[r.m("has-breadcrumb")]:!!t.breadcrumb,[r.m("has-extra")]:!!t.extra,[r.is("contentful")]:!!t.default}]);function o(){e("back")}return(a,l)=>(B(),se("div",{class:U(p(s))},[a.$slots.breadcrumb?(B(),se("div",{key:0,class:U(p(r).e("breadcrumb"))},[Be(a.$slots,"breadcrumb")],2)):ke("v-if",!0),de("div",{class:U(p(r).e("header"))},[de("div",{class:U(p(r).e("left"))},[de("div",{class:U(p(r).e("back")),role:"button",tabindex:"0",onClick:o},[a.icon||a.$slots.icon?(B(),se("div",{key:0,"aria-label":a.title||p(i)("el.pageHeader.title"),class:U(p(r).e("icon"))},[Be(a.$slots,"icon",{},()=>[a.icon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(a.icon)))]),_:1})):ke("v-if",!0)])],10,Tte)):ke("v-if",!0),de("div",{class:U(p(r).e("title"))},[Be(a.$slots,"title",{},()=>[Ht(qe(a.title||p(i)("el.pageHeader.title")),1)])],2)],2),ye(p(CI),{direction:"vertical"}),de("div",{class:U(p(r).e("content"))},[Be(a.$slots,"content",{},()=>[Ht(qe(a.content),1)])],2)],2),a.$slots.extra?(B(),se("div",{key:0,class:U(p(r).e("extra"))},[Be(a.$slots,"extra")],2)):ke("v-if",!0)],2),a.$slots.default?(B(),se("div",{key:1,class:U(p(r).e("main"))},[Be(a.$slots,"default")],2)):ke("v-if",!0)],2))}});var Ate=je(Cte,[["__file","page-header.vue"]]);const Lte=At(Ate),UI=Symbol("elPaginationKey"),Rte=Ge({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Qt}}),Pte={click:n=>n instanceof MouseEvent},Ite=["disabled","aria-label","aria-disabled"],kte={key:0},Dte=pe({name:"ElPaginationPrev"}),Nte=pe({...Dte,props:Rte,emits:Pte,setup(n){const e=n,{t}=Ut(),i=I(()=>e.disabled||e.currentPage<=1);return(r,s)=>(B(),se("button",{type:"button",class:"btn-prev",disabled:p(i),"aria-label":r.prevText||p(t)("el.pagination.prev"),"aria-disabled":p(i),onClick:s[0]||(s[0]=o=>r.$emit("click",o))},[r.prevText?(B(),se("span",kte,qe(r.prevText),1)):(B(),Oe(p(et),{key:1},{default:Ee(()=>[(B(),Oe(Pt(r.prevIcon)))]),_:1}))],8,Ite))}});var Ote=je(Nte,[["__file","prev.vue"]]);const Fte=Ge({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Qt}}),Bte=["disabled","aria-label","aria-disabled"],zte={key:0},$te=pe({name:"ElPaginationNext"}),Vte=pe({...$te,props:Fte,emits:["click"],setup(n){const e=n,{t}=Ut(),i=I(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,s)=>(B(),se("button",{type:"button",class:"btn-next",disabled:p(i),"aria-label":r.nextText||p(t)("el.pagination.next"),"aria-disabled":p(i),onClick:s[0]||(s[0]=o=>r.$emit("click",o))},[r.nextText?(B(),se("span",zte,qe(r.nextText),1)):(B(),Oe(p(et),{key:1},{default:Ee(()=>[(B(),Oe(Pt(r.nextIcon)))]),_:1}))],8,Bte))}});var Hte=je(Vte,[["__file","next.vue"]]);const WI=Symbol("ElSelectGroup"),Hh=Symbol("ElSelect");function Ute(n,e){const t=Qe(Hh),i=Qe(WI,{disabled:!1}),r=I(()=>t.props.multiple?u(t.props.modelValue,n.value):bi(n.value,t.props.modelValue)),s=I(()=>{if(t.props.multiple){const h=t.props.modelValue||[];return!r.value&&h.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),o=I(()=>n.label||(It(n.value)?"":n.value)),a=I(()=>n.value||n.label||""),l=I(()=>n.disabled||e.groupDisabled||s.value),c=Mt(),u=(h=[],g)=>{if(It(n.value)){const m=t.props.valueKey;return h&&h.some(v=>qt(kn(v,m))===kn(g,m))}else return h&&h.includes(g)},d=()=>{!n.disabled&&!i.disabled&&(t.states.hoveringIndex=t.optionsArray.indexOf(c.proxy))},f=h=>{const g=new RegExp(Jx(h),"i");e.visible=g.test(o.value)||n.created};return Ve(()=>o.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),Ve(()=>n.value,(h,g)=>{const{remote:m,valueKey:v}=t.props;if(bi(h,g)||(t.onOptionDestroy(g,c.proxy),t.onOptionCreate(c.proxy)),!n.created&&!m){if(v&&It(h)&&It(g)&&h[v]===g[v])return;t.setSelected()}}),Ve(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0}),{select:t,currentLabel:o,currentValue:a,itemSelected:r,isDisabled:l,hoverItem:d,updateOption:f}}const Wte=pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=He("select"),t=Li(),i=I(()=>[e.be("dropdown","item"),e.is("disabled",p(a)),e.is("selected",p(o)),e.is("hovering",p(f))]),r=Gt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:c,updateOption:u}=Ute(n,r),{visible:d,hover:f}=fi(r),h=Mt().proxy;l.onOptionCreate(h),sn(()=>{const m=h.value,{selected:v}=l.states,b=(l.props.multiple?v:[v]).some(x=>x.value===h.value);at(()=>{l.states.cachedOptions.get(m)===h&&!b&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,h)});function g(){n.disabled!==!0&&r.groupDisabled!==!0&&l.handleOptionSelect(h)}return{ns:e,id:t,containerKls:i,currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:c,updateOption:u,visible:d,hover:f,selectOptionClick:g,states:r}}}),Gte=["id","aria-disabled","aria-selected"];function jte(n,e,t,i,r,s){return _t((B(),se("li",{id:n.id,class:U(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=ft((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[Be(n.$slots,"default",{},()=>[de("span",null,qe(n.currentLabel),1)])],42,Gte)),[[Wt,n.visible]])}var Ww=je(Wte,[["render",jte],["__file","option.vue"]]);const Kte=pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=Qe(Hh),e=He("select"),t=I(()=>n.props.popperClass),i=I(()=>n.props.multiple),r=I(()=>n.props.fitInputWidth),s=X("");function o(){var a;s.value=`${(a=n.selectRef)==null?void 0:a.offsetWidth}px`}return St(()=>{o(),bn(n.selectRef,o)}),{ns:e,minWidth:s,popperClass:t,isMultiple:i,isFitInputWidth:r}}});function qte(n,e,t,i,r,s){return B(),se("div",{class:U([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:tt({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?(B(),se("div",{key:0,class:U(n.ns.be("dropdown","header"))},[Be(n.$slots,"header")],2)):ke("v-if",!0),Be(n.$slots,"default"),n.$slots.footer?(B(),se("div",{key:1,class:U(n.ns.be("dropdown","footer"))},[Be(n.$slots,"footer")],2)):ke("v-if",!0)],6)}var Yte=je(Kte,[["render",qte],["__file","select-dropdown.vue"]]);function GI(n){const e=X(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:s=>{const o=s.target.value,a=o[o.length-1]||"";e.value=!aw(a)},handleCompositionEnd:s=>{e.value&&(e.value=!1,dt(n)&&n(s))}}}const Xte=11,Zte=(n,e)=>{const{t}=Ut(),i=Li(),r=He("select"),s=He("input"),o=Gt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:n.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1});Os({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},I(()=>n.suffixTransition===!1));const a=X(null),l=X(null),c=X(null),u=X(null),d=X(null),f=X(null),h=X(null),g=X(null),m=X(null),v=X(null),y=X(null),b=X(null),{wrapperRef:x,isFocused:_,handleFocus:w,handleBlur:S}=Tv(d,{afterFocus(){n.automaticDropdown&&!T.value&&(T.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(K){var ae,Me;return((ae=c.value)==null?void 0:ae.isFocusInsideContent(K))||((Me=u.value)==null?void 0:Me.isFocusInsideContent(K))},afterBlur(){T.value=!1,o.menuVisibleOnFocus=!1}}),T=X(!1),M=X(),{form:C,formItem:L}=qi(),{inputId:E}=Hs(n,{formItemContext:L}),O=I(()=>n.disabled||(C==null?void 0:C.disabled)),F=I(()=>n.multiple?Je(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!==""),R=I(()=>n.clearable&&!O.value&&o.inputHovering&&F.value),$=I(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),D=I(()=>r.is("reverse",$.value&&T.value&&n.suffixTransition)),A=I(()=>(L==null?void 0:L.validateState)||""),N=I(()=>ow[A.value]),P=I(()=>n.remote?300:0),z=I(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!o.inputValue&&o.options.size===0?!1:n.filterable&&o.inputValue&&o.options.size>0&&Y.value===0?n.noMatchText||t("el.select.noMatch"):o.options.size===0?n.noDataText||t("el.select.noData"):null),Y=I(()=>H.value.filter(K=>K.visible).length),H=I(()=>{const K=Array.from(o.options.values()),ae=[];return o.optionValues.forEach(Me=>{const Ie=K.findIndex(We=>We.value===Me);Ie>-1&&ae.push(K[Ie])}),ae.length>=K.length?ae:K}),V=I(()=>Array.from(o.cachedOptions.values())),W=I(()=>{const K=H.value.filter(ae=>!ae.created).some(ae=>ae.currentLabel===o.inputValue);return n.filterable&&n.allowCreate&&o.inputValue!==""&&!K}),ie=()=>{n.filterable&&dt(n.filterMethod)||n.filterable&&n.remote&&dt(n.remoteMethod)||H.value.forEach(K=>{K.updateOption(o.inputValue)})},G=Gn(),te=I(()=>["small"].includes(G.value)?"small":"default"),oe=I({get(){return T.value&&z.value!==!1},set(K){T.value=K}}),xe=I(()=>Je(n.modelValue)?n.modelValue.length===0&&!o.inputValue:n.filterable?!o.inputValue:!0),ue=I(()=>{var K;const ae=(K=n.placeholder)!=null?K:t("el.select.placeholder");return n.multiple||!F.value?ae:o.selectedLabel});Ve(()=>n.modelValue,(K,ae)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(o.inputValue="",we("")),j(),!bi(K,ae)&&n.validateEvent&&(L==null||L.validate("change").catch(Me=>void 0))},{flush:"post",deep:!0}),Ve(()=>T.value,K=>{K?we(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),e("visible-change",K)}),Ve(()=>o.options.entries(),()=>{var K;if(!Vt)return;const ae=((K=a.value)==null?void 0:K.querySelectorAll("input"))||[];(!n.filterable&&!n.defaultFirstOption&&!Hn(n.modelValue)||!Array.from(ae).includes(document.activeElement))&&j(),n.defaultFirstOption&&(n.filterable||n.remote)&&Y.value&&re()},{flush:"post"}),Ve(()=>o.hoveringIndex,K=>{ut(K)&&K>-1?M.value=H.value[K]||{}:M.value={},H.value.forEach(ae=>{ae.hover=M.value===ae})}),yi(()=>{o.isBeforeHide||ie()});const we=K=>{o.previousQuery!==K&&(o.previousQuery=K,n.filterable&&dt(n.filterMethod)?n.filterMethod(K):n.filterable&&n.remote&&dt(n.remoteMethod)&&n.remoteMethod(K),n.defaultFirstOption&&(n.filterable||n.remote)&&Y.value?at(re):at(le))},re=()=>{const K=H.value.filter(Ie=>Ie.visible&&!Ie.disabled&&!Ie.states.groupDisabled),ae=K.find(Ie=>Ie.created),Me=K[0];o.hoveringIndex=Re(H.value,ae||Me)},j=()=>{if(n.multiple)o.selectedLabel="";else{const ae=Z(n.modelValue);o.selectedLabel=ae.currentLabel,o.selected=ae;return}const K=[];Je(n.modelValue)&&n.modelValue.forEach(ae=>{K.push(Z(ae))}),o.selected=K},Z=K=>{let ae;const Me=Am(K).toLowerCase()==="object",Ie=Am(K).toLowerCase()==="null",We=Am(K).toLowerCase()==="undefined";for(let ct=o.cachedOptions.size-1;ct>=0;ct--){const mt=V.value[ct];if(Me?kn(mt.value,n.valueKey)===kn(K,n.valueKey):mt.value===K){ae={value:K,currentLabel:mt.currentLabel,isDisabled:mt.isDisabled};break}}if(ae)return ae;const nt=Me?K.label:!Ie&&!We?K:"";return{value:K,currentLabel:nt}},le=()=>{n.multiple?o.selected.length>0?o.hoveringIndex=Math.min(...o.selected.map(K=>H.value.findIndex(ae=>nn(ae)===nn(K)))):o.hoveringIndex=-1:o.hoveringIndex=H.value.findIndex(K=>nn(K)===nn(o.selected))},J=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},k=()=>{o.calculatorWidth=f.value.getBoundingClientRect().width},q=()=>{o.collapseItemWidth=y.value.getBoundingClientRect().width},ce=()=>{var K,ae;(ae=(K=c.value)==null?void 0:K.updatePopper)==null||ae.call(K)},me=()=>{var K,ae;(ae=(K=u.value)==null?void 0:K.updatePopper)==null||ae.call(K)},Ce=()=>{o.inputValue.length>0&&!T.value&&(T.value=!0),we(o.inputValue)},Q=K=>{if(o.inputValue=K.target.value,n.remote)ee();else return Ce()},ee=cr(()=>{Ce()},P.value),Se=K=>{bi(n.modelValue,K)||e(dn,K)},be=K=>QL(K,ae=>!o.disabledOptions.has(ae)),Pe=K=>{if(n.multiple&&K.code!==it.delete&&K.target.value.length<=0){const ae=n.modelValue.slice(),Me=be(ae);if(Me<0)return;ae.splice(Me,1),e(Lt,ae),Se(ae)}},he=(K,ae)=>{const Me=o.selected.indexOf(ae);if(Me>-1&&!O.value){const Ie=n.modelValue.slice();Ie.splice(Me,1),e(Lt,Ie),Se(Ie),e("remove-tag",ae.value)}K.stopPropagation(),Ke()},$e=K=>{K.stopPropagation();const ae=n.multiple?[]:"";if(!vt(ae))for(const Me of o.selected)Me.isDisabled&&ae.push(Me.value);e(Lt,ae),Se(ae),o.hoveringIndex=-1,T.value=!1,e("clear"),Ke()},ne=K=>{if(n.multiple){const ae=(n.modelValue||[]).slice(),Me=Re(ae,K.value);Me>-1?ae.splice(Me,1):(n.multipleLimit<=0||ae.length<n.multipleLimit)&&ae.push(K.value),e(Lt,ae),Se(ae),K.created&&we(""),n.filterable&&!n.reserveKeyword&&(o.inputValue="")}else e(Lt,K.value),Se(K.value),T.value=!1;Ke(),!T.value&&at(()=>{fe(K)})},Re=(K=[],ae)=>{if(!It(ae))return K.indexOf(ae);const Me=n.valueKey;let Ie=-1;return K.some((We,nt)=>qt(kn(We,Me))===kn(ae,Me)?(Ie=nt,!0):!1),Ie},fe=K=>{var ae,Me,Ie,We,nt;const st=Je(K)?K[0]:K;let ct=null;if(st!=null&&st.value){const mt=H.value.filter(xt=>xt.value===st.value);mt.length>0&&(ct=mt[0].$el)}if(c.value&&ct){const mt=(We=(Ie=(Me=(ae=c.value)==null?void 0:ae.popperRef)==null?void 0:Me.contentRef)==null?void 0:Ie.querySelector)==null?void 0:We.call(Ie,`.${r.be("dropdown","wrap")}`);mt&&rR(mt,ct)}(nt=b.value)==null||nt.handleScroll()},ge=K=>{o.options.set(K.value,K),o.cachedOptions.set(K.value,K),K.disabled&&o.disabledOptions.set(K.value,K)},_e=(K,ae)=>{o.options.get(K)===ae&&o.options.delete(K)},{handleCompositionStart:Ne,handleCompositionUpdate:ve,handleCompositionEnd:Ue}=GI(K=>Q(K)),Ae=I(()=>{var K,ae;return(ae=(K=c.value)==null?void 0:K.popperRef)==null?void 0:ae.contentRef}),Ye=()=>{at(()=>fe(o.selected))},Ke=()=>{var K;(K=d.value)==null||K.focus()},lt=()=>{Ot()},ht=K=>{$e(K)},Ot=K=>{if(T.value=!1,_.value){const ae=new FocusEvent("focus",K);at(()=>S(ae))}},Tt=()=>{o.inputValue.length>0?o.inputValue="":T.value=!1},Ft=()=>{O.value||n.filterable&&n.remote&&dt(n.remoteMethod)||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:T.value=!T.value)},Ln=()=>{T.value?H.value[o.hoveringIndex]&&ne(H.value[o.hoveringIndex]):Ft()},nn=K=>It(K.value)?kn(K.value,n.valueKey):K.value,Xn=I(()=>H.value.filter(K=>K.visible).every(K=>K.disabled)),ri=I(()=>n.multiple?n.collapseTags?o.selected.slice(0,n.maxCollapseTags):o.selected:[]),Cr=I(()=>n.multiple?n.collapseTags?o.selected.slice(n.maxCollapseTags):[]:[]),qr=K=>{if(!T.value){T.value=!0;return}if(!(o.options.size===0||Y.value===0)&&!Xn.value){K==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):K==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const ae=H.value[o.hoveringIndex];(ae.disabled===!0||ae.states.groupDisabled===!0||!ae.visible)&&qr(K),at(()=>fe(M.value))}},Ks=()=>{if(!l.value)return 0;const K=window.getComputedStyle(l.value);return Number.parseFloat(K.gap||"6px")},qa=I(()=>{const K=Ks();return{maxWidth:`${y.value&&n.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-K:o.selectionWidth}px`}}),Ya=I(()=>({maxWidth:`${o.selectionWidth}px`})),Te=I(()=>({width:`${Math.max(o.calculatorWidth,Xte)}px`}));return n.multiple&&!Je(n.modelValue)&&e(Lt,[]),!n.multiple&&Je(n.modelValue)&&e(Lt,""),bn(l,J),bn(f,k),bn(m,ce),bn(x,ce),bn(v,me),bn(y,q),St(()=>{j()}),{inputId:E,contentId:i,nsSelect:r,nsInput:s,states:o,isFocused:_,expanded:T,optionsArray:H,hoverOption:M,selectSize:G,filteredOptionsCount:Y,resetCalculatorWidth:k,updateTooltip:ce,updateTagTooltip:me,debouncedOnInputChange:ee,onInput:Q,deletePrevTag:Pe,deleteTag:he,deleteSelected:$e,handleOptionSelect:ne,scrollToOption:fe,hasModelValue:F,shouldShowPlaceholder:xe,currentPlaceholder:ue,showClose:R,iconComponent:$,iconReverse:D,validateState:A,validateIcon:N,showNewOption:W,updateOptions:ie,collapseTagSize:te,setSelected:j,selectDisabled:O,emptyText:z,handleCompositionStart:Ne,handleCompositionUpdate:ve,handleCompositionEnd:Ue,onOptionCreate:ge,onOptionDestroy:_e,handleMenuEnter:Ye,handleFocus:w,focus:Ke,blur:lt,handleBlur:S,handleClearClick:ht,handleClickOutside:Ot,handleEsc:Tt,toggleMenu:Ft,selectOption:Ln,getValueKey:nn,navigateOptions:qr,dropdownMenuVisible:oe,showTagList:ri,collapseTagList:Cr,tagStyle:qa,collapseTagStyle:Ya,inputStyle:Te,popperRef:Ae,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:f,prefixRef:h,suffixRef:g,selectRef:a,wrapperRef:x,selectionRef:l,scrollbarRef:b,menuRef:m,tagMenuRef:v,collapseItemRef:y}};var Jte=pe({name:"ElOptions",setup(n,{slots:e}){const t=Qe(Hh);let i=[];return()=>{var r,s;const o=(r=e.default)==null?void 0:r.call(e),a=[];function l(c){Je(c)&&c.forEach(u=>{var d,f,h,g;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!vt(u.children)&&!Je(u.children)&&dt((f=u.children)==null?void 0:f.default)?(h=u.children)==null?void 0:h.default():u.children):m==="ElOption"?a.push((g=u.props)==null?void 0:g.value):Je(u.children)&&l(u.children)})}return o.length&&l((s=o[0])==null?void 0:s.children),bi(a,i)||(i=a,t&&(t.states.optionValues=a)),o}}});const Qte=Ge({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ni,effect:{type:Le(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Le(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:li.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Qt,default:Ua},fitInputWidth:Boolean,suffixIcon:{type:Qt,default:Po},tagType:{...Rv.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:Le(String),values:nc,default:"bottom-start"},ariaLabel:{type:String,default:void 0}}),YT="ElSelect",ene=pe({name:YT,componentName:YT,components:{ElInput:Ai,ElSelectMenu:Yte,ElOption:Ww,ElOptions:Jte,ElTag:Xf,ElScrollbar:ko,ElTooltip:Ri,ElIcon:et},directives:{ClickOutside:To},props:Qte,emits:[Lt,dn,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=Zte(n,e);return Dt(Hh,Gt({props:n,states:t.states,optionsArray:t.optionsArray,handleOptionSelect:t.handleOptionSelect,onOptionCreate:t.onOptionCreate,onOptionDestroy:t.onOptionDestroy,selectRef:t.selectRef,setSelected:t.setSelected})),{...t}}}),tne=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],nne=["textContent"];function ine(n,e,t,i,r,s){const o=Ct("el-tag"),a=Ct("el-tooltip"),l=Ct("el-icon"),c=Ct("el-option"),u=Ct("el-options"),d=Ct("el-scrollbar"),f=Ct("el-select-menu"),h=Th("click-outside");return _t((B(),se("div",{ref:"selectRef",class:U([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:e[14]||(e[14]=g=>n.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=g=>n.states.inputHovering=!1),onClick:e[16]||(e[16]=ft((...g)=>n.toggleMenu&&n.toggleMenu(...g),["stop"]))},[ye(a,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onBeforeShow:n.handleMenuEnter,onHide:e[13]||(e[13]=g=>n.states.isBeforeHide=!1)},{default:Ee(()=>{var g;return[de("div",{ref:"wrapperRef",class:U([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)])},[n.$slots.prefix?(B(),se("div",{key:0,ref:"prefixRef",class:U(n.nsSelect.e("prefix"))},[Be(n.$slots,"prefix")],2)):ke("v-if",!0),de("div",{ref:"selectionRef",class:U([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?Be(n.$slots,"tag",{key:0},()=>[(B(!0),se(rt,null,Bt(n.showTagList,m=>(B(),se("div",{key:n.getValueKey(m),class:U(n.nsSelect.e("selected-item"))},[ye(o,{closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",style:tt(n.tagStyle),onClose:v=>n.deleteTag(v,m)},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))},qe(m.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?(B(),Oe(a,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Ee(()=>[de("div",{ref:"collapseItemRef",class:U(n.nsSelect.e("selected-item"))},[ye(o,{closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",style:tt(n.collapseTagStyle)},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))}," + "+qe(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Ee(()=>[de("div",{ref:"tagMenuRef",class:U(n.nsSelect.e("selection"))},[(B(!0),se(rt,null,Bt(n.collapseTagList,m=>(B(),se("div",{key:n.getValueKey(m),class:U(n.nsSelect.e("selected-item"))},[ye(o,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",onClose:v=>n.deleteTag(v,m)},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))},qe(m.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):ke("v-if",!0)]):ke("v-if",!0),n.selectDisabled?ke("v-if",!0):(B(),se("div",{key:1,class:U([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[_t(de("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=m=>n.states.inputValue=m),type:"text",class:U([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:tt(n.inputStyle),role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((g=n.hoverOption)==null?void 0:g.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...m)=>n.handleFocus&&n.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>n.handleBlur&&n.handleBlur(...m)),onKeydown:[e[3]||(e[3]=Jt(ft(m=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Jt(ft(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Jt(ft((...m)=>n.handleEsc&&n.handleEsc(...m),["stop","prevent"]),["esc"])),e[6]||(e[6]=Jt(ft((...m)=>n.selectOption&&n.selectOption(...m),["stop","prevent"]),["enter"])),e[7]||(e[7]=Jt(ft((...m)=>n.deletePrevTag&&n.deletePrevTag(...m),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...m)=>n.handleCompositionStart&&n.handleCompositionStart(...m)),onCompositionupdate:e[9]||(e[9]=(...m)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...m)),onCompositionend:e[10]||(e[10]=(...m)=>n.handleCompositionEnd&&n.handleCompositionEnd(...m)),onInput:e[11]||(e[11]=(...m)=>n.onInput&&n.onInput(...m)),onClick:e[12]||(e[12]=ft((...m)=>n.toggleMenu&&n.toggleMenu(...m),["stop"]))},null,46,tne),[[kx,n.states.inputValue]]),n.filterable?(B(),se("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(n.nsSelect.e("input-calculator")),textContent:qe(n.states.inputValue)},null,10,nne)):ke("v-if",!0)],2)),n.shouldShowPlaceholder?(B(),se("div",{key:2,class:U([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[de("span",null,qe(n.currentPlaceholder),1)],2)):ke("v-if",!0)],2),de("div",{ref:"suffixRef",class:U(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClose?(B(),Oe(l,{key:0,class:U([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Ee(()=>[(B(),Oe(Pt(n.iconComponent)))]),_:1},8,["class"])):ke("v-if",!0),n.showClose&&n.clearIcon?(B(),Oe(l,{key:1,class:U([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:Ee(()=>[(B(),Oe(Pt(n.clearIcon)))]),_:1},8,["class","onClick"])):ke("v-if",!0),n.validateState&&n.validateIcon?(B(),Oe(l,{key:2,class:U([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:Ee(()=>[(B(),Oe(Pt(n.validateIcon)))]),_:1},8,["class"])):ke("v-if",!0)],2)],2)]}),content:Ee(()=>[ye(f,{ref:"menuRef"},{default:Ee(()=>[n.$slots.header?(B(),se("div",{key:0,class:U(n.nsSelect.be("dropdown","header"))},[Be(n.$slots,"header")],2)):ke("v-if",!0),_t(ye(d,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:U([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical"},{default:Ee(()=>[n.showNewOption?(B(),Oe(c,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):ke("v-if",!0),ye(u,null,{default:Ee(()=>[Be(n.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Wt,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?(B(),se("div",{key:1,class:U(n.nsSelect.be("dropdown","loading"))},[Be(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?(B(),se("div",{key:2,class:U(n.nsSelect.be("dropdown","empty"))},[Be(n.$slots,"empty",{},()=>[de("span",null,qe(n.emptyText),1)])],2)):ke("v-if",!0),n.$slots.footer?(B(),se("div",{key:3,class:U(n.nsSelect.be("dropdown","footer"))},[Be(n.$slots,"footer")],2)):ke("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onBeforeShow"])],34)),[[h,n.handleClickOutside,n.popperRef]])}var rne=je(ene,[["render",ine],["__file","select.vue"]]);const sne=pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=He("select"),t=X(null),i=Mt(),r=X([]);Dt(WI,Gt({...fi(n)}));const s=I(()=>r.value.some(l=>l.visible===!0)),o=l=>{const c=[];return Je(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...o(u))}),c},a=()=>{r.value=o(i.subTree)};return St(()=>{a()}),mL(t,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:s,ns:e}}});function one(n,e,t,i,r,s){return _t((B(),se("ul",{ref:"groupRef",class:U(n.ns.be("group","wrap"))},[de("li",{class:U(n.ns.be("group","title"))},qe(n.label),3),de("li",null,[de("ul",{class:U(n.ns.b("group"))},[Be(n.$slots,"default")],2)])],2)),[[Wt,n.visible]])}var jI=je(sne,[["render",one],["__file","option-group.vue"]]);const Ul=At(rne,{Option:Ww,OptionGroup:jI}),Rg=xn(Ww),ane=xn(jI),Gw=()=>Qe(UI,{}),lne=Ge({pageSize:{type:Number,required:!0},pageSizes:{type:Le(Array),default:()=>yn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Vs}}),cne=pe({name:"ElPaginationSizes"}),une=pe({...cne,props:lne,emits:["page-size-change"],setup(n,{emit:e}){const t=n,{t:i}=Ut(),r=He("pagination"),s=Gw(),o=X(t.pageSize);Ve(()=>t.pageSizes,(c,u)=>{if(!bi(c,u)&&Array.isArray(c)){const d=c.includes(t.pageSize)?t.pageSize:t.pageSizes[0];e("page-size-change",d)}}),Ve(()=>t.pageSize,c=>{o.value=c});const a=I(()=>t.pageSizes);function l(c){var u;c!==o.value&&(o.value=c,(u=s.handleSizeChange)==null||u.call(s,Number(c)))}return(c,u)=>(B(),se("span",{class:U(p(r).e("sizes"))},[ye(p(Ul),{"model-value":o.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,onChange:l},{default:Ee(()=>[(B(!0),se(rt,null,Bt(p(a),d=>(B(),Oe(p(Rg),{key:d,value:d,label:d+p(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var dne=je(une,[["__file","sizes.vue"]]);const fne=Ge({size:{type:String,values:Vs}}),hne=["disabled"],pne=pe({name:"ElPaginationJumper"}),mne=pe({...pne,props:fne,setup(n){const{t:e}=Ut(),t=He("pagination"),{pageCount:i,disabled:r,currentPage:s,changeEvent:o}=Gw(),a=X(),l=I(()=>{var d;return(d=a.value)!=null?d:s==null?void 0:s.value});function c(d){a.value=d?+d:""}function u(d){d=Math.trunc(+d),o==null||o(d),a.value=void 0}return(d,f)=>(B(),se("span",{class:U(p(t).e("jump")),disabled:p(r)},[de("span",{class:U([p(t).e("goto")])},qe(p(e)("el.pagination.goto")),3),ye(p(Ai),{size:d.size,class:U([p(t).e("editor"),p(t).is("in-pagination")]),min:1,max:p(i),disabled:p(r),"model-value":p(l),"validate-event":!1,label:p(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","label"]),de("span",{class:U([p(t).e("classifier")])},qe(p(e)("el.pagination.pageClassifier")),3)],10,hne))}});var gne=je(mne,[["__file","jumper.vue"]]);const vne=Ge({total:{type:Number,default:1e3}}),yne=["disabled"],bne=pe({name:"ElPaginationTotal"}),_ne=pe({...bne,props:vne,setup(n){const{t:e}=Ut(),t=He("pagination"),{disabled:i}=Gw();return(r,s)=>(B(),se("span",{class:U(p(t).e("total")),disabled:p(i)},qe(p(e)("el.pagination.total",{total:r.total})),11,yne))}});var xne=je(_ne,[["__file","total.vue"]]);const wne=Ge({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Sne=["onKeyup"],Mne=["aria-current","aria-label","tabindex"],Tne=["tabindex","aria-label"],Ene=["aria-current","aria-label","tabindex"],Cne=["tabindex","aria-label"],Ane=["aria-current","aria-label","tabindex"],Lne=pe({name:"ElPaginationPager"}),Rne=pe({...Lne,props:wne,emits:["change"],setup(n,{emit:e}){const t=n,i=He("pager"),r=He("icon"),{t:s}=Ut(),o=X(!1),a=X(!1),l=X(!1),c=X(!1),u=X(!1),d=X(!1),f=I(()=>{const _=t.pagerCount,w=(_-1)/2,S=Number(t.currentPage),T=Number(t.pageCount);let M=!1,C=!1;T>_&&(S>_-w&&(M=!0),S<T-w&&(C=!0));const L=[];if(M&&!C){const E=T-(_-2);for(let O=E;O<T;O++)L.push(O)}else if(!M&&C)for(let E=2;E<_;E++)L.push(E);else if(M&&C){const E=Math.floor(_/2)-1;for(let O=S-E;O<=S+E;O++)L.push(O)}else for(let E=2;E<T;E++)L.push(E);return L}),h=I(()=>["more","btn-quickprev",r.b(),i.is("disabled",t.disabled)]),g=I(()=>["more","btn-quicknext",r.b(),i.is("disabled",t.disabled)]),m=I(()=>t.disabled?-1:0);yi(()=>{const _=(t.pagerCount-1)/2;o.value=!1,a.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-_&&(o.value=!0),t.currentPage<t.pageCount-_&&(a.value=!0))});function v(_=!1){t.disabled||(_?l.value=!0:c.value=!0)}function y(_=!1){_?u.value=!0:d.value=!0}function b(_){const w=_.target;if(w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("number")){const S=Number(w.textContent);S!==t.currentPage&&e("change",S)}else w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("more")&&x(_)}function x(_){const w=_.target;if(w.tagName.toLowerCase()==="ul"||t.disabled)return;let S=Number(w.textContent);const T=t.pageCount,M=t.currentPage,C=t.pagerCount-2;w.className.includes("more")&&(w.className.includes("quickprev")?S=M-C:w.className.includes("quicknext")&&(S=M+C)),Number.isNaN(+S)||(S<1&&(S=1),S>T&&(S=T)),S!==M&&e("change",S)}return(_,w)=>(B(),se("ul",{class:U(p(i).b()),onClick:x,onKeyup:Jt(b,["enter"])},[_.pageCount>0?(B(),se("li",{key:0,class:U([[p(i).is("active",_.currentPage===1),p(i).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":p(s)("el.pagination.currentPage",{pager:1}),tabindex:p(m)}," 1 ",10,Mne)):ke("v-if",!0),o.value?(B(),se("li",{key:1,class:U(p(h)),tabindex:p(m),"aria-label":p(s)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:w[0]||(w[0]=S=>v(!0)),onMouseleave:w[1]||(w[1]=S=>l.value=!1),onFocus:w[2]||(w[2]=S=>y(!0)),onBlur:w[3]||(w[3]=S=>u.value=!1)},[(l.value||u.value)&&!_.disabled?(B(),Oe(p(Du),{key:0})):(B(),Oe(p(zM),{key:1}))],42,Tne)):ke("v-if",!0),(B(!0),se(rt,null,Bt(p(f),S=>(B(),se("li",{key:S,class:U([[p(i).is("active",_.currentPage===S),p(i).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===S,"aria-label":p(s)("el.pagination.currentPage",{pager:S}),tabindex:p(m)},qe(S),11,Ene))),128)),a.value?(B(),se("li",{key:2,class:U(p(g)),tabindex:p(m),"aria-label":p(s)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:w[4]||(w[4]=S=>v()),onMouseleave:w[5]||(w[5]=S=>c.value=!1),onFocus:w[6]||(w[6]=S=>y()),onBlur:w[7]||(w[7]=S=>d.value=!1)},[(c.value||d.value)&&!_.disabled?(B(),Oe(p(Nu),{key:0})):(B(),Oe(p(zM),{key:1}))],42,Cne)):ke("v-if",!0),_.pageCount>1?(B(),se("li",{key:3,class:U([[p(i).is("active",_.currentPage===_.pageCount),p(i).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":p(s)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:p(m)},qe(_.pageCount),11,Ane)):ke("v-if",!0)],42,Sne))}});var Pne=je(Rne,[["__file","pager.vue"]]);const Di=n=>typeof n!="number",Ine=Ge({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>ut(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Le(Array),default:()=>yn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Qt,default:()=>Da},nextText:{type:String,default:""},nextIcon:{type:Qt,default:()=>$i},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),kne={"update:current-page":n=>ut(n),"update:page-size":n=>ut(n),"size-change":n=>ut(n),change:(n,e)=>ut(n)&&ut(e),"current-change":n=>ut(n),"prev-click":n=>ut(n),"next-click":n=>ut(n)},XT="ElPagination";var Dne=pe({name:XT,props:Ine,emits:kne,setup(n,{emit:e,slots:t}){const{t:i}=Ut(),r=He("pagination"),s=Mt().vnode.props||{},o="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,a="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,l=I(()=>{if(Di(n.total)&&Di(n.pageCount)||!Di(n.currentPage)&&!o)return!1;if(n.layout.includes("sizes")){if(Di(n.pageCount)){if(!Di(n.total)&&!Di(n.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),c=X(Di(n.defaultPageSize)?10:n.defaultPageSize),u=X(Di(n.defaultCurrentPage)?1:n.defaultCurrentPage),d=I({get(){return Di(n.pageSize)?c.value:n.pageSize},set(x){Di(n.pageSize)&&(c.value=x),a&&(e("update:page-size",x),e("size-change",x))}}),f=I(()=>{let x=0;return Di(n.pageCount)?Di(n.total)||(x=Math.max(1,Math.ceil(n.total/d.value))):x=n.pageCount,x}),h=I({get(){return Di(n.currentPage)?u.value:n.currentPage},set(x){let _=x;x<1?_=1:x>f.value&&(_=f.value),Di(n.currentPage)&&(u.value=_),o&&(e("update:current-page",_),e("current-change",_))}});Ve(f,x=>{h.value>x&&(h.value=x)}),Ve([h,d],x=>{e("change",...x)},{flush:"post"});function g(x){h.value=x}function m(x){d.value=x;const _=f.value;h.value>_&&(h.value=_)}function v(){n.disabled||(h.value-=1,e("prev-click",h.value))}function y(){n.disabled||(h.value+=1,e("next-click",h.value))}function b(x,_){x&&(x.props||(x.props={}),x.props.class=[x.props.class,_].join(" "))}return Dt(UI,{pageCount:f,disabled:I(()=>n.disabled),currentPage:h,changeEvent:g,handleSizeChange:m}),()=>{var x,_;if(!l.value)return i("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&f.value<=1)return null;const w=[],S=[],T=ot("div",{class:r.e("rightwrapper")},S),M={prev:ot(Ote,{disabled:n.disabled,currentPage:h.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:v}),jumper:ot(gne,{size:n.small?"small":"default"}),pager:ot(Pne,{currentPage:h.value,pageCount:f.value,pagerCount:n.pagerCount,onChange:g,disabled:n.disabled}),next:ot(Hte,{disabled:n.disabled,currentPage:h.value,pageCount:f.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:y}),sizes:ot(dne,{pageSize:d.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,teleported:n.teleported,size:n.small?"small":"default"}),slot:(_=(x=t==null?void 0:t.default)==null?void 0:x.call(t))!=null?_:null,total:ot(xne,{total:Di(n.total)?0:n.total})},C=n.layout.split(",").map(E=>E.trim());let L=!1;return C.forEach(E=>{if(E==="->"){L=!0;return}L?S.push(M[E]):w.push(M[E])}),b(w[0],r.is("first")),b(w[w.length-1],r.is("last")),L&&S.length>0&&(b(S[0],r.is("first")),b(S[S.length-1],r.is("last")),w.push(T)),ot("div",{class:[r.b(),r.is("background",n.background),{[r.m("small")]:n.small}]},w)}}});const Nne=At(Dne),One=Ge({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Hb,default:"primary"},cancelButtonType:{type:String,values:Hb,default:"text"},icon:{type:Qt,default:()=>mU},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:li.teleported,persistent:li.persistent,width:{type:[String,Number],default:150}}),Fne={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},Bne=pe({name:"ElPopconfirm"}),zne=pe({...Bne,props:One,emits:Fne,setup(n,{emit:e}){const t=n,{t:i}=Ut(),r=He("popconfirm"),s=X(),o=()=>{var f,h;(h=(f=s.value)==null?void 0:f.onClose)==null||h.call(f)},a=I(()=>({width:Nn(t.width)})),l=f=>{e("confirm",f),o()},c=f=>{e("cancel",f),o()},u=I(()=>t.confirmButtonText||i("el.popconfirm.confirmButtonText")),d=I(()=>t.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(f,h)=>(B(),Oe(p(Ri),Rt({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${p(r).namespace.value}-popover`,"popper-style":p(a),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:Ee(()=>[de("div",{class:U(p(r).b())},[de("div",{class:U(p(r).e("main"))},[!f.hideIcon&&f.icon?(B(),Oe(p(et),{key:0,class:U(p(r).e("icon")),style:tt({color:f.iconColor})},{default:Ee(()=>[(B(),Oe(Pt(f.icon)))]),_:1},8,["class","style"])):ke("v-if",!0),Ht(" "+qe(f.title),1)],2),de("div",{class:U(p(r).e("action"))},[ye(p(ti),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:c},{default:Ee(()=>[Ht(qe(p(d)),1)]),_:1},8,["type","text"]),ye(p(ti),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:Ee(()=>[Ht(qe(p(u)),1)]),_:1},8,["type","text"])],2)],2)]),default:Ee(()=>[f.$slots.reference?Be(f.$slots,"reference",{key:0}):ke("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var $ne=je(zne,[["__file","popconfirm.vue"]]);const Vne=At($ne),Hne=Ge({trigger:Yf.trigger,placement:qm.placement,disabled:Yf.disabled,visible:li.visible,transition:li.transition,popperOptions:qm.popperOptions,tabindex:qm.tabindex,content:li.content,popperStyle:li.popperStyle,popperClass:li.popperClass,enterable:{...li.enterable,default:!0},effect:{...li.effect,default:"light"},teleported:li.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Une={"update:visible":n=>zn(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Wne="onUpdate:visible",Gne=pe({name:"ElPopover"}),jne=pe({...Gne,props:Hne,emits:Une,setup(n,{expose:e,emit:t}){const i=n,r=I(()=>i[Wne]),s=He("popover"),o=X(),a=I(()=>{var v;return(v=p(o))==null?void 0:v.popperRef}),l=I(()=>[{width:Nn(i.width)},i.popperStyle]),c=I(()=>[s.b(),i.popperClass,{[s.m("plain")]:!!i.content}]),u=I(()=>i.transition===`${s.namespace.value}-fade-in-linear`),d=()=>{var v;(v=o.value)==null||v.hide()},f=()=>{t("before-enter")},h=()=>{t("before-leave")},g=()=>{t("after-enter")},m=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:a,hide:d}),(v,y)=>(B(),Oe(p(Ri),Rt({ref_key:"tooltipRef",ref:o},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":p(c),"popper-style":p(l),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":p(u),"onUpdate:visible":p(r),onBeforeShow:f,onBeforeHide:h,onShow:g,onHide:m}),{content:Ee(()=>[v.title?(B(),se("div",{key:0,class:U(p(s).e("title")),role:"title"},qe(v.title),3)):ke("v-if",!0),Be(v.$slots,"default",{},()=>[Ht(qe(v.content),1)])]),default:Ee(()=>[v.$slots.reference?Be(v.$slots,"reference",{key:0}):ke("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Kne=je(jne,[["__file","popover.vue"]]);const ZT=(n,e)=>{const t=e.arg||e.value,i=t==null?void 0:t.popperRef;i&&(i.triggerRef=n)};var qne={mounted(n,e){ZT(n,e)},updated(n,e){ZT(n,e)}};const Yne="popover",KI=zU(qne,Yne),Xne=At(Kne,{directive:KI}),Zne=Ge({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Le(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Le([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Le(Function),default:n=>`${n}%`}}),Jne=["aria-valuenow"],Qne={viewBox:"0 0 100 100"},eie=["d","stroke","stroke-linecap","stroke-width"],tie=["d","stroke","opacity","stroke-linecap","stroke-width"],nie={key:0},iie=pe({name:"ElProgress"}),rie=pe({...iie,props:Zne,setup(n){const e=n,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=He("progress"),r=I(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:b(e.percentage)})),s=I(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=I(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),a=I(()=>{const x=o.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${x}
          a ${x} ${x} 0 1 1 0 ${_?"-":""}${x*2}
          a ${x} ${x} 0 1 1 0 ${_?"":"-"}${x*2}
          `}),l=I(()=>2*Math.PI*o.value),c=I(()=>e.type==="dashboard"?.75:1),u=I(()=>`${-1*l.value*(1-c.value)/2}px`),d=I(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=I(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=I(()=>{let x;return e.color?x=b(e.percentage):x=t[e.status]||t.default,x}),g=I(()=>e.status==="warning"?yv:e.type==="line"?e.status==="success"?tw:Ua:e.status==="success"?Dh:gs),m=I(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),v=I(()=>e.format(e.percentage));function y(x){const _=100/x.length;return x.map((S,T)=>vt(S)?{color:S,percentage:(T+1)*_}:S).sort((S,T)=>S.percentage-T.percentage)}const b=x=>{var _;const{color:w}=e;if(dt(w))return w(x);if(vt(w))return w;{const S=y(w);for(const T of S)if(T.percentage>x)return T.color;return(_=S[S.length-1])==null?void 0:_.color}};return(x,_)=>(B(),se("div",{class:U([p(i).b(),p(i).m(x.type),p(i).is(x.status),{[p(i).m("without-text")]:!x.showText,[p(i).m("text-inside")]:x.textInside}]),role:"progressbar","aria-valuenow":x.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[x.type==="line"?(B(),se("div",{key:0,class:U(p(i).b("bar"))},[de("div",{class:U(p(i).be("bar","outer")),style:tt({height:`${x.strokeWidth}px`})},[de("div",{class:U([p(i).be("bar","inner"),{[p(i).bem("bar","inner","indeterminate")]:x.indeterminate},{[p(i).bem("bar","inner","striped")]:x.striped},{[p(i).bem("bar","inner","striped-flow")]:x.stripedFlow}]),style:tt(p(r))},[(x.showText||x.$slots.default)&&x.textInside?(B(),se("div",{key:0,class:U(p(i).be("bar","innerText"))},[Be(x.$slots,"default",{percentage:x.percentage},()=>[de("span",null,qe(p(v)),1)])],2)):ke("v-if",!0)],6)],6)],2)):(B(),se("div",{key:1,class:U(p(i).b("circle")),style:tt({height:`${x.width}px`,width:`${x.width}px`})},[(B(),se("svg",Qne,[de("path",{class:U(p(i).be("circle","track")),d:p(a),stroke:`var(${p(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":x.strokeLinecap,"stroke-width":p(s),fill:"none",style:tt(p(d))},null,14,eie),de("path",{class:U(p(i).be("circle","path")),d:p(a),stroke:p(h),fill:"none",opacity:x.percentage?1:0,"stroke-linecap":x.strokeLinecap,"stroke-width":p(s),style:tt(p(f))},null,14,tie)]))],6)),(x.showText||x.$slots.default)&&!x.textInside?(B(),se("div",{key:2,class:U(p(i).e("text")),style:tt({fontSize:`${p(m)}px`})},[Be(x.$slots,"default",{percentage:x.percentage},()=>[x.status?(B(),Oe(p(et),{key:1},{default:Ee(()=>[(B(),Oe(Pt(p(g))))]),_:1})):(B(),se("span",nie,qe(p(v)),1))])],6)):ke("v-if",!0)],10,Jne))}});var sie=je(rie,[["__file","progress.vue"]]);const qI=At(sie),oie=Ge({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Le([Array,Object]),default:()=>yn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Le([Array,Object]),default:()=>[lp,lp,lp]},voidIcon:{type:Qt,default:()=>RU},disabledVoidIcon:{type:Qt,default:()=>lp},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Le(Array),default:()=>yn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:ni,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),aie={[dn]:n=>ut(n),[Lt]:n=>ut(n)},lie=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],cie=["onMousemove","onClick"],uie=pe({name:"ElRate"}),die=pe({...uie,props:oie,emits:aie,setup(n,{expose:e,emit:t}){const i=n;function r(D,A){const N=Y=>It(Y),P=Object.keys(A).map(Y=>+Y).filter(Y=>{const H=A[Y];return(N(H)?H.excluded:!1)?D<Y:D<=Y}).sort((Y,H)=>Y-H),z=A[P[0]];return N(z)&&z.value||z}const s=Qe(ic,void 0),o=Qe(zs,void 0),a=Gn(),l=He("rate"),{inputId:c,isLabeledByFormItem:u}=Hs(i,{formItemContext:o}),d=X(i.modelValue),f=X(-1),h=X(!0),g=I(()=>[l.b(),l.m(a.value)]),m=I(()=>i.disabled||(s==null?void 0:s.disabled)),v=I(()=>l.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":_.value})),y=I(()=>{let D="";return i.showScore?D=i.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${i.modelValue}`:`${d.value}`):i.showText&&(D=i.texts[Math.ceil(d.value)-1]),D}),b=I(()=>i.modelValue*100-Math.floor(i.modelValue)*100),x=I(()=>Je(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),_=I(()=>{const D=r(d.value,x.value);return It(D)?"":D}),w=I(()=>{let D="";return m.value?D=`${b.value}%`:i.allowHalf&&(D="50%"),{color:_.value,width:D}}),S=I(()=>{let D=Je(i.icons)?[...i.icons]:{...i.icons};return D=Al(D),Je(D)?{[i.lowThreshold]:D[0],[i.highThreshold]:{value:D[1],excluded:!0},[i.max]:D[2]}:D}),T=I(()=>r(i.modelValue,S.value)),M=I(()=>m.value?vt(i.disabledVoidIcon)?i.disabledVoidIcon:Al(i.disabledVoidIcon):vt(i.voidIcon)?i.voidIcon:Al(i.voidIcon)),C=I(()=>r(d.value,S.value));function L(D){const A=m.value&&b.value>0&&D-1<i.modelValue&&D>i.modelValue,N=i.allowHalf&&h.value&&D-.5<=d.value&&D>d.value;return A||N}function E(D){i.clearable&&D===i.modelValue&&(D=0),t(Lt,D),i.modelValue!==D&&t("change",D)}function O(D){m.value||(i.allowHalf&&h.value?E(d.value):E(D))}function F(D){if(m.value)return;let A=d.value;const N=D.code;return N===it.up||N===it.right?(i.allowHalf?A+=.5:A+=1,D.stopPropagation(),D.preventDefault()):(N===it.left||N===it.down)&&(i.allowHalf?A-=.5:A-=1,D.stopPropagation(),D.preventDefault()),A=A<0?0:A,A=A>i.max?i.max:A,t(Lt,A),t("change",A),A}function R(D,A){if(!m.value){if(i.allowHalf&&A){let N=A.target;fs(N,l.e("item"))&&(N=N.querySelector(`.${l.e("icon")}`)),(N.clientWidth===0||fs(N,l.e("decimal")))&&(N=N.parentNode),h.value=A.offsetX*2<=N.clientWidth,d.value=h.value?D-.5:D}else d.value=D;f.value=D}}function $(){m.value||(i.allowHalf&&(h.value=i.modelValue!==Math.floor(i.modelValue)),d.value=i.modelValue,f.value=-1)}return Ve(()=>i.modelValue,D=>{d.value=D,h.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||t(Lt,0),e({setCurrentValue:R,resetCurrentValue:$}),(D,A)=>{var N;return B(),se("div",{id:p(c),class:U([p(g),p(l).is("disabled",p(m))]),role:"slider","aria-label":p(u)?void 0:D.label||"rating","aria-labelledby":p(u)?(N=p(o))==null?void 0:N.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":p(y)||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:tt(p(v)),onKeydown:F},[(B(!0),se(rt,null,Bt(D.max,(P,z)=>(B(),se("span",{key:z,class:U(p(l).e("item")),onMousemove:Y=>R(P,Y),onMouseleave:$,onClick:Y=>O(P)},[ye(p(et),{class:U([p(l).e("icon"),{hover:f.value===P},p(l).is("active",P<=d.value)])},{default:Ee(()=>[L(P)?ke("v-if",!0):(B(),se(rt,{key:0},[_t((B(),Oe(Pt(p(C)),null,null,512)),[[Wt,P<=d.value]]),_t((B(),Oe(Pt(p(M)),null,null,512)),[[Wt,!(P<=d.value)]])],64)),L(P)?(B(),se(rt,{key:1},[(B(),Oe(Pt(p(M)),{class:U([p(l).em("decimal","box")])},null,8,["class"])),ye(p(et),{style:tt(p(w)),class:U([p(l).e("icon"),p(l).e("decimal")])},{default:Ee(()=>[(B(),Oe(Pt(p(T))))]),_:1},8,["style","class"])],64)):ke("v-if",!0)]),_:2},1032,["class"])],42,cie))),128)),D.showText||D.showScore?(B(),se("span",{key:0,class:U(p(l).e("text")),style:tt({color:D.textColor})},qe(p(y)),7)):ke("v-if",!0)],46,lie)}}});var fie=je(die,[["__file","rate.vue"]]);const hie=At(fie),nu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},JT={[nu.success]:HH,[nu.warning]:yv,[nu.error]:nw,[nu.info]:iw},pie=Ge({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),mie=pe({name:"ElResult"}),gie=pe({...mie,props:pie,setup(n){const e=n,t=He("result"),i=I(()=>{const r=e.icon,s=r&&nu[r]?nu[r]:"icon-info",o=JT[s]||JT["icon-info"];return{class:s,component:o}});return(r,s)=>(B(),se("div",{class:U(p(t).b())},[de("div",{class:U(p(t).e("icon"))},[Be(r.$slots,"icon",{},()=>[p(i).component?(B(),Oe(Pt(p(i).component),{key:0,class:U(p(i).class)},null,8,["class"])):ke("v-if",!0)])],2),r.title||r.$slots.title?(B(),se("div",{key:0,class:U(p(t).e("title"))},[Be(r.$slots,"title",{},()=>[de("p",null,qe(r.title),1)])],2)):ke("v-if",!0),r.subTitle||r.$slots["sub-title"]?(B(),se("div",{key:1,class:U(p(t).e("subtitle"))},[Be(r.$slots,"sub-title",{},()=>[de("p",null,qe(r.subTitle),1)])],2)):ke("v-if",!0),r.$slots.extra?(B(),se("div",{key:2,class:U(p(t).e("extra"))},[Be(r.$slots,"extra")],2)):ke("v-if",!0)],2))}});var vie=je(gie,[["__file","result.vue"]]);const yie=At(vie);var QT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bie(n,e){return!!(n===e||QT(n)&&QT(e))}function _ie(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!bie(n[t],e[t]))return!1;return!0}function xie(n,e){e===void 0&&(e=_ie);var t=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var o=n.apply(this,r);return t={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){t=null},i}const YI=()=>{const e=Mt().proxy.$props;return I(()=>{const t=(i,r,s)=>({});return e.perfMode?mv(t):xie(t)})},c_=50,Pg="itemRendered",Ig="scroll",iu="forward",kg="backward",Nr="auto",kv="smart",Jf="start",Ls="center",Qf="end",Wu="horizontal",jw="vertical",wie="ltr",yu="rtl",eh="negative",Kw="positive-ascending",qw="positive-descending",Sie={[Wu]:"left",[jw]:"top"},Mie=20,Tie={[Wu]:"deltaX",[jw]:"deltaY"},Eie=({atEndEdge:n,atStartEdge:e,layout:t},i)=>{let r,s=0;const o=l=>l<0&&e.value||l>0&&n.value;return{hasReachedEdge:o,onWheel:l=>{_v(r);const c=l[Tie[t.value]];o(s)&&o(s+c)||(s+=c,vL()||l.preventDefault(),r=Ou(()=>{i(s),s=0}))}}},u_=ys({type:Le([Number,Function]),required:!0}),d_=ys({type:Number}),f_=ys({type:Number,default:2}),Cie=ys({type:String,values:["ltr","rtl"],default:"ltr"}),h_=ys({type:Number,default:0}),Dg=ys({type:Number,required:!0}),XI=ys({type:String,values:["horizontal","vertical"],default:jw}),ZI=Ge({className:{type:String,default:""},containerElement:{type:Le([String,Object]),default:"div"},data:{type:Le(Array),default:()=>yn([])},direction:Cie,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Le([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),JI=Ge({cache:f_,estimatedItemSize:d_,layout:XI,initScrollOffset:h_,total:Dg,itemSize:u_,...ZI}),p_={type:Number,default:6},QI={type:Number,default:0},ek={type:Number,default:2},Il=Ge({columnCache:f_,columnWidth:u_,estimatedColumnWidth:d_,estimatedRowHeight:d_,initScrollLeft:h_,initScrollTop:h_,itemKey:{type:Le(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:f_,rowHeight:u_,totalColumn:Dg,totalRow:Dg,hScrollbarSize:p_,vScrollbarSize:p_,scrollbarStartGap:QI,scrollbarEndGap:ek,role:String,...ZI}),tk=Ge({alwaysOn:Boolean,class:String,layout:XI,total:Dg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:p_,startGap:QI,endGap:ek,visible:Boolean}),xl=(n,e)=>n<e?iu:kg,th=n=>n===wie||n===yu||n===Wu,eE=n=>n===yu;let cc=null;function Ng(n=!1){if(cc===null||n){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?cc=qw:(e.scrollLeft=1,e.scrollLeft===0?cc=eh:cc=Kw),document.body.removeChild(e),cc}return cc}function Aie({move:n,size:e,bar:t},i){const r={},s=`translate${t.axis}(${n}px)`;return r[t.size]=e,r.transform=s,r.msTransform=s,r.webkitTransform=s,i==="horizontal"?r.height="100%":r.width="100%",r}const m_=pe({name:"ElVirtualScrollBar",props:tk,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const t=I(()=>n.startGap+n.endGap),i=He("virtual-scrollbar"),r=He("scrollbar"),s=X(),o=X();let a=null,l=null;const c=Gt({isDragging:!1,traveled:0}),u=I(()=>JR[n.layout]),d=I(()=>n.clientSize-p(t)),f=I(()=>({position:"absolute",width:`${Wu===n.layout?d.value:n.scrollbarSize}px`,height:`${Wu===n.layout?n.scrollbarSize:d.value}px`,[Sie[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=I(()=>{const S=n.ratio,T=n.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*T/100;const M=T/3;return Math.floor(Math.min(Math.max(S*T,Mie),M))}),g=I(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return Aie({bar:u.value,size:S,move:c.traveled},n.layout)}),m=I(()=>Math.floor(n.clientSize-h.value-p(t))),v=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",x);const S=p(o);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",_),S.addEventListener("touchend",x))},y=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",x),document.onselectstart=l,l=null;const S=p(o);S&&(S.removeEventListener("touchmove",_),S.removeEventListener("touchend",x))},b=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(c.isDragging=!0,c[u.value.axis]=S.currentTarget[u.value.offset]-(S[u.value.client]-S.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),v())},x=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),y()},_=S=>{const{isDragging:T}=c;if(!T||!o.value||!s.value)return;const M=c[u.value.axis];if(!M)return;_v(a);const C=(s.value.getBoundingClientRect()[u.value.direction]-S[u.value.client])*-1,L=o.value[u.value.offset]-M,E=C-L;a=Ou(()=>{c.traveled=Math.max(n.startGap,Math.min(E,m.value)),e("scroll",E,m.value)})},w=S=>{const T=Math.abs(S.target.getBoundingClientRect()[u.value.direction]-S[u.value.client]),M=o.value[u.value.offset]/2,C=T-M;c.traveled=Math.max(0,Math.min(C,m.value)),e("scroll",C,m.value)};return Ve(()=>n.scrollFrom,S=>{c.isDragging||(c.traveled=Math.ceil(S*m.value))}),sn(()=>{y()}),()=>ot("div",{role:"presentation",ref:s,class:[i.b(),n.class,(n.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:ft(w,["stop","prevent"]),onTouchstartPrevent:b},ot("div",{ref:o,class:r.e("thumb"),style:g.value,onMousedown:b},[]))}}),nk=({name:n,getOffset:e,getItemSize:t,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:s,getStopIndexForStartIndex:o,initCache:a,clearCache:l,validateProps:c})=>pe({name:n??"ElVirtualList",props:JI,emits:[Pg,Ig],setup(u,{emit:d,expose:f}){c(u);const h=Mt(),g=He("vl"),m=X(a(u,h)),v=YI(),y=X(),b=X(),x=X(),_=X({isScrolling:!1,scrollDir:"forward",scrollOffset:ut(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),w=I(()=>{const{total:V,cache:W}=u,{isScrolling:ie,scrollDir:G,scrollOffset:te}=p(_);if(V===0)return[0,0,0,0];const oe=s(u,te,p(m)),xe=o(u,oe,te,p(m)),ue=!ie||G===kg?Math.max(1,W):1,we=!ie||G===iu?Math.max(1,W):1;return[Math.max(0,oe-ue),Math.max(0,Math.min(V-1,xe+we)),oe,xe]}),S=I(()=>r(u,p(m))),T=I(()=>th(u.layout)),M=I(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:ut(u.height)?`${u.height}px`:u.height,width:ut(u.width)?`${u.width}px`:u.width},u.style]),C=I(()=>{const V=p(S),W=p(T);return{height:W?"100%":`${V}px`,pointerEvents:p(_).isScrolling?"none":void 0,width:W?`${V}px`:"100%"}}),L=I(()=>T.value?u.width:u.height),{onWheel:E}=Eie({atStartEdge:I(()=>_.value.scrollOffset<=0),atEndEdge:I(()=>_.value.scrollOffset>=S.value),layout:I(()=>u.layout)},V=>{var W,ie;(ie=(W=x.value).onMouseUp)==null||ie.call(W),A(Math.min(_.value.scrollOffset+V,S.value-L.value))}),O=()=>{const{total:V}=u;if(V>0){const[te,oe,xe,ue]=p(w);d(Pg,te,oe,xe,ue)}const{scrollDir:W,scrollOffset:ie,updateRequested:G}=p(_);d(Ig,W,ie,G)},F=V=>{const{clientHeight:W,scrollHeight:ie,scrollTop:G}=V.currentTarget,te=p(_);if(te.scrollOffset===G)return;const oe=Math.max(0,Math.min(G,ie-W));_.value={...te,isScrolling:!0,scrollDir:xl(te.scrollOffset,oe),scrollOffset:oe,updateRequested:!1},at(z)},R=V=>{const{clientWidth:W,scrollLeft:ie,scrollWidth:G}=V.currentTarget,te=p(_);if(te.scrollOffset===ie)return;const{direction:oe}=u;let xe=ie;if(oe===yu)switch(Ng()){case eh:{xe=-ie;break}case qw:{xe=G-W-ie;break}}xe=Math.max(0,Math.min(xe,G-W)),_.value={...te,isScrolling:!0,scrollDir:xl(te.scrollOffset,xe),scrollOffset:xe,updateRequested:!1},at(z)},$=V=>{p(T)?R(V):F(V),O()},D=(V,W)=>{const ie=(S.value-L.value)/W*V;A(Math.min(S.value-L.value,ie))},A=V=>{V=Math.max(V,0),V!==p(_).scrollOffset&&(_.value={...p(_),scrollOffset:V,scrollDir:xl(p(_).scrollOffset,V),updateRequested:!0},at(z))},N=(V,W=Nr)=>{const{scrollOffset:ie}=p(_);V=Math.max(0,Math.min(V,u.total-1)),A(e(u,V,W,ie,p(m)))},P=V=>{const{direction:W,itemSize:ie,layout:G}=u,te=v.value(l&&ie,l&&G,l&&W);let oe;if(zt(te,String(V)))oe=te[V];else{const xe=i(u,V,p(m)),ue=t(u,V,p(m)),we=p(T),re=W===yu,j=we?xe:0;te[V]=oe={position:"absolute",left:re?void 0:`${j}px`,right:re?`${j}px`:void 0,top:we?0:`${xe}px`,height:we?"100%":`${ue}px`,width:we?`${ue}px`:"100%"}}return oe},z=()=>{_.value.isScrolling=!1,at(()=>{v.value(-1,null,null)})},Y=()=>{const V=y.value;V&&(V.scrollTop=0)};St(()=>{if(!Vt)return;const{initScrollOffset:V}=u,W=p(y);ut(V)&&W&&(p(T)?W.scrollLeft=V:W.scrollTop=V),O()}),Ao(()=>{const{direction:V,layout:W}=u,{scrollOffset:ie,updateRequested:G}=p(_),te=p(y);if(G&&te)if(W===Wu)if(V===yu)switch(Ng()){case eh:{te.scrollLeft=-ie;break}case Kw:{te.scrollLeft=ie;break}default:{const{clientWidth:oe,scrollWidth:xe}=te;te.scrollLeft=xe-oe-ie;break}}else te.scrollLeft=ie;else te.scrollTop=ie});const H={ns:g,clientSize:L,estimatedTotalSize:S,windowStyle:M,windowRef:y,innerRef:b,innerStyle:C,itemsToRender:w,scrollbarRef:x,states:_,getItemStyle:P,onScroll:$,onScrollbarScroll:D,onWheel:E,scrollTo:A,scrollToItem:N,resetScrollTop:Y};return f({windowRef:y,innerRef:b,getItemStyleCache:v,scrollTo:A,scrollToItem:N,resetScrollTop:Y,states:_}),H},render(u){var d;const{$slots:f,className:h,clientSize:g,containerElement:m,data:v,getItemStyle:y,innerElement:b,itemsToRender:x,innerStyle:_,layout:w,total:S,onScroll:T,onScrollbarScroll:M,onWheel:C,states:L,useIsScrolling:E,windowStyle:O,ns:F}=u,[R,$]=x,D=Pt(m),A=Pt(b),N=[];if(S>0)for(let H=R;H<=$;H++)N.push((d=f.default)==null?void 0:d.call(f,{data:v,key:H,index:H,isScrolling:E?L.isScrolling:void 0,style:y(H)}));const P=[ot(A,{style:_,ref:"innerRef"},vt(A)?N:{default:()=>N})],z=ot(m_,{ref:"scrollbarRef",clientSize:g,layout:w,onScroll:M,ratio:g*100/this.estimatedTotalSize,scrollFrom:L.scrollOffset/(this.estimatedTotalSize-g),total:S}),Y=ot(D,{class:[F.e("window"),h],style:O,onScroll:T,onWheel:C,ref:"windowRef",key:0},vt(D)?[P]:{default:()=>[P]});return ot("div",{key:0,class:[F.e("wrapper"),L.scrollbarAlwaysOn?"always-on":""]},[Y,z])}}),ik=nk({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:t,layout:i,width:r},s,o,a)=>{const l=th(i)?r:n,c=Math.max(0,e*t-l),u=Math.min(c,s*t),d=Math.max(0,(s+1)*t-l);switch(o===kv&&(a>=d-l&&a<=u+l?o=Nr:o=Ls),o){case Jf:return u;case Qf:return d;case Ls:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case Nr:default:return a>=d&&a<=u?a:a<d?d:u}},getStartIndexForOffset:({total:n,itemSize:e},t)=>Math.max(0,Math.min(n-1,Math.floor(t/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:t,layout:i,width:r},s,o)=>{const a=s*t,l=th(i)?r:n,c=Math.ceil((l+o-a)/t);return Math.max(0,Math.min(e-1,s+c-1))},initCache(){},clearCache:!0,validateProps(){}}),ru=(n,e,t)=>{const{itemSize:i}=n,{items:r,lastVisitedIndex:s}=t;if(e>s){let o=0;if(s>=0){const a=r[s];o=a.offset+a.size}for(let a=s+1;a<=e;a++){const l=i(a);r[a]={offset:o,size:l},o+=l}t.lastVisitedIndex=e}return r[e]},Lie=(n,e,t)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=t?rk(n,e,0,r,t):Rie(n,e,Math.max(0,r),t)},rk=(n,e,t,i,r)=>{for(;t<=i;){const s=t+Math.floor((i-t)/2),o=ru(n,s,e).offset;if(o===r)return s;o<r?t=s+1:o>r&&(i=s-1)}return Math.max(0,t-1)},Rie=(n,e,t,i)=>{const{total:r}=n;let s=1;for(;t<r&&ru(n,t,e).offset<i;)t+=s,s*=2;return rk(n,e,Math.floor(t/2),Math.min(t,r-1),i)},tE=({total:n},{items:e,estimatedItemSize:t,lastVisitedIndex:i})=>{let r=0;if(i>=n&&(i=n-1),i>=0){const a=e[i];r=a.offset+a.size}const o=(n-i-1)*t;return r+o},Pie=nk({name:"ElDynamicSizeList",getItemOffset:(n,e,t)=>ru(n,e,t).offset,getItemSize:(n,e,{items:t})=>t[e].size,getEstimatedTotalSize:tE,getOffset:(n,e,t,i,r)=>{const{height:s,layout:o,width:a}=n,l=th(o)?a:s,c=ru(n,e,r),u=tE(n,r),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(t===kv&&(i>=f-l&&i<=d+l?t=Nr:t=Ls),t){case Jf:return d;case Qf:return f;case Ls:return Math.round(f+(d-f)/2);case Nr:default:return i>=f&&i<=d?i:i<f?f:d}},getStartIndexForOffset:(n,e,t)=>Lie(n,t,e),getStopIndexForStartIndex:(n,e,t,i)=>{const{height:r,total:s,layout:o,width:a}=n,l=th(o)?a:r,c=ru(n,e,i),u=t+l;let d=c.offset+c.size,f=e;for(;f<s-1&&d<u;)f++,d+=ru(n,f,i).size;return f},initCache({estimatedItemSize:n=c_},e){const t={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(i,r=!0)=>{var s,o;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,i-1),(s=e.exposed)==null||s.getItemStyleCache(-1),r&&((o=e.proxy)==null||o.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:n})=>{}}),Iie=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:t,atYStartEdge:i},r)=>{let s=null,o=0,a=0;const l=(u,d)=>{const f=u<=0&&e.value||u>=0&&n.value,h=d<=0&&i.value||d>=0&&t.value;return f&&h};return{hasReachedEdge:l,onWheel:u=>{_v(s);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(o,a)&&l(o+d,a+f))&&(o+=d,a+=f,u.preventDefault(),s=Ou(()=>{r(o,a),o=0,a=0}))}}},sk=({name:n,clearCache:e,getColumnPosition:t,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:s,getEstimatedTotalWidth:o,getColumnOffset:a,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:g})=>pe({name:n??"ElVirtualList",props:Il,emits:[Pg,Ig],setup(m,{emit:v,expose:y,slots:b}){const x=He("vl");g(m);const _=Mt(),w=X(f(m,_));h==null||h(_,w);const S=X(),T=X(),M=X(),C=X(null),L=X({isScrolling:!1,scrollLeft:ut(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:ut(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:iu,yAxisScrollDir:iu}),E=YI(),O=I(()=>Number.parseInt(`${m.height}`,10)),F=I(()=>Number.parseInt(`${m.width}`,10)),R=I(()=>{const{totalColumn:k,totalRow:q,columnCache:ce}=m,{isScrolling:me,xAxisScrollDir:Ce,scrollLeft:Q}=p(L);if(k===0||q===0)return[0,0,0,0];const ee=i(m,Q,p(w)),Se=r(m,ee,Q,p(w)),be=!me||Ce===kg?Math.max(1,ce):1,Pe=!me||Ce===iu?Math.max(1,ce):1;return[Math.max(0,ee-be),Math.max(0,Math.min(k-1,Se+Pe)),ee,Se]}),$=I(()=>{const{totalColumn:k,totalRow:q,rowCache:ce}=m,{isScrolling:me,yAxisScrollDir:Ce,scrollTop:Q}=p(L);if(k===0||q===0)return[0,0,0,0];const ee=u(m,Q,p(w)),Se=d(m,ee,Q,p(w)),be=!me||Ce===kg?Math.max(1,ce):1,Pe=!me||Ce===iu?Math.max(1,ce):1;return[Math.max(0,ee-be),Math.max(0,Math.min(q-1,Se+Pe)),ee,Se]}),D=I(()=>s(m,p(w))),A=I(()=>o(m,p(w))),N=I(()=>{var k;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:ut(m.height)?`${m.height}px`:m.height,width:ut(m.width)?`${m.width}px`:m.width},(k=m.style)!=null?k:{}]}),P=I(()=>{const k=`${p(A)}px`;return{height:`${p(D)}px`,pointerEvents:p(L).isScrolling?"none":void 0,width:k}}),z=()=>{const{totalColumn:k,totalRow:q}=m;if(k>0&&q>0){const[Se,be,Pe,he]=p(R),[$e,ne,Re,fe]=p($);v(Pg,{columnCacheStart:Se,columnCacheEnd:be,rowCacheStart:$e,rowCacheEnd:ne,columnVisibleStart:Pe,columnVisibleEnd:he,rowVisibleStart:Re,rowVisibleEnd:fe})}const{scrollLeft:ce,scrollTop:me,updateRequested:Ce,xAxisScrollDir:Q,yAxisScrollDir:ee}=p(L);v(Ig,{xAxisScrollDir:Q,scrollLeft:ce,yAxisScrollDir:ee,scrollTop:me,updateRequested:Ce})},Y=k=>{const{clientHeight:q,clientWidth:ce,scrollHeight:me,scrollLeft:Ce,scrollTop:Q,scrollWidth:ee}=k.currentTarget,Se=p(L);if(Se.scrollTop===Q&&Se.scrollLeft===Ce)return;let be=Ce;if(eE(m.direction))switch(Ng()){case eh:be=-Ce;break;case qw:be=ee-ce-Ce;break}L.value={...Se,isScrolling:!0,scrollLeft:be,scrollTop:Math.max(0,Math.min(Q,me-q)),updateRequested:!0,xAxisScrollDir:xl(Se.scrollLeft,be),yAxisScrollDir:xl(Se.scrollTop,Q)},at(()=>oe()),xe(),z()},H=(k,q)=>{const ce=p(O),me=(D.value-ce)/q*k;ie({scrollTop:Math.min(D.value-ce,me)})},V=(k,q)=>{const ce=p(F),me=(A.value-ce)/q*k;ie({scrollLeft:Math.min(A.value-ce,me)})},{onWheel:W}=Iie({atXStartEdge:I(()=>L.value.scrollLeft<=0),atXEndEdge:I(()=>L.value.scrollLeft>=A.value-p(F)),atYStartEdge:I(()=>L.value.scrollTop<=0),atYEndEdge:I(()=>L.value.scrollTop>=D.value-p(O))},(k,q)=>{var ce,me,Ce,Q;(me=(ce=T.value)==null?void 0:ce.onMouseUp)==null||me.call(ce),(Q=(Ce=M.value)==null?void 0:Ce.onMouseUp)==null||Q.call(Ce);const ee=p(F),Se=p(O);ie({scrollLeft:Math.min(L.value.scrollLeft+k,A.value-ee),scrollTop:Math.min(L.value.scrollTop+q,D.value-Se)})}),ie=({scrollLeft:k=L.value.scrollLeft,scrollTop:q=L.value.scrollTop})=>{k=Math.max(k,0),q=Math.max(q,0);const ce=p(L);q===ce.scrollTop&&k===ce.scrollLeft||(L.value={...ce,xAxisScrollDir:xl(ce.scrollLeft,k),yAxisScrollDir:xl(ce.scrollTop,q),scrollLeft:k,scrollTop:q,updateRequested:!0},at(()=>oe()),xe(),z())},G=(k=0,q=0,ce=Nr)=>{const me=p(L);q=Math.max(0,Math.min(q,m.totalColumn-1)),k=Math.max(0,Math.min(k,m.totalRow-1));const Ce=iR(x.namespace.value),Q=p(w),ee=s(m,Q),Se=o(m,Q);ie({scrollLeft:a(m,q,ce,me.scrollLeft,Q,Se>m.width?Ce:0),scrollTop:l(m,k,ce,me.scrollTop,Q,ee>m.height?Ce:0)})},te=(k,q)=>{const{columnWidth:ce,direction:me,rowHeight:Ce}=m,Q=E.value(e&&ce,e&&Ce,e&&me),ee=`${k},${q}`;if(zt(Q,ee))return Q[ee];{const[,Se]=t(m,q,p(w)),be=p(w),Pe=eE(me),[he,$e]=c(m,k,be),[ne]=t(m,q,be);return Q[ee]={position:"absolute",left:Pe?void 0:`${Se}px`,right:Pe?`${Se}px`:void 0,top:`${$e}px`,height:`${he}px`,width:`${ne}px`},Q[ee]}},oe=()=>{L.value.isScrolling=!1,at(()=>{E.value(-1,null,null)})};St(()=>{if(!Vt)return;const{initScrollLeft:k,initScrollTop:q}=m,ce=p(S);ce&&(ut(k)&&(ce.scrollLeft=k),ut(q)&&(ce.scrollTop=q)),z()});const xe=()=>{const{direction:k}=m,{scrollLeft:q,scrollTop:ce,updateRequested:me}=p(L),Ce=p(S);if(me&&Ce){if(k===yu)switch(Ng()){case eh:{Ce.scrollLeft=-q;break}case Kw:{Ce.scrollLeft=q;break}default:{const{clientWidth:Q,scrollWidth:ee}=Ce;Ce.scrollLeft=ee-Q-q;break}}else Ce.scrollLeft=Math.max(0,q);Ce.scrollTop=Math.max(0,ce)}},{resetAfterColumnIndex:ue,resetAfterRowIndex:we,resetAfter:re}=_.proxy;y({windowRef:S,innerRef:C,getItemStyleCache:E,scrollTo:ie,scrollToItem:G,states:L,resetAfterColumnIndex:ue,resetAfterRowIndex:we,resetAfter:re});const j=()=>{const{scrollbarAlwaysOn:k,scrollbarStartGap:q,scrollbarEndGap:ce,totalColumn:me,totalRow:Ce}=m,Q=p(F),ee=p(O),Se=p(A),be=p(D),{scrollLeft:Pe,scrollTop:he}=p(L),$e=ot(m_,{ref:T,alwaysOn:k,startGap:q,endGap:ce,class:x.e("horizontal"),clientSize:Q,layout:"horizontal",onScroll:V,ratio:Q*100/Se,scrollFrom:Pe/(Se-Q),total:Ce,visible:!0}),ne=ot(m_,{ref:M,alwaysOn:k,startGap:q,endGap:ce,class:x.e("vertical"),clientSize:ee,layout:"vertical",onScroll:H,ratio:ee*100/be,scrollFrom:he/(be-ee),total:me,visible:!0});return{horizontalScrollbar:$e,verticalScrollbar:ne}},Z=()=>{var k;const[q,ce]=p(R),[me,Ce]=p($),{data:Q,totalColumn:ee,totalRow:Se,useIsScrolling:be,itemKey:Pe}=m,he=[];if(Se>0&&ee>0)for(let $e=me;$e<=Ce;$e++)for(let ne=q;ne<=ce;ne++)he.push((k=b.default)==null?void 0:k.call(b,{columnIndex:ne,data:Q,key:Pe({columnIndex:ne,data:Q,rowIndex:$e}),isScrolling:be?p(L).isScrolling:void 0,style:te($e,ne),rowIndex:$e}));return he},le=()=>{const k=Pt(m.innerElement),q=Z();return[ot(k,{style:p(P),ref:C},vt(k)?q:{default:()=>q})]};return()=>{const k=Pt(m.containerElement),{horizontalScrollbar:q,verticalScrollbar:ce}=j(),me=le();return ot("div",{key:0,class:x.e("wrapper"),role:m.role},[ot(k,{class:m.className,style:p(N),onScroll:Y,onWheel:W,ref:S},vt(k)?me:{default:()=>me}),q,ce])}}}),kie=sk({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:t},i,r,s,o,a)=>{t=Number(t);const l=Math.max(0,n*e-t),c=Math.min(l,i*e),u=Math.max(0,i*e-t+a+e);switch(r==="smart"&&(s>=u-t&&s<=c+t?r=Nr:r=Ls),r){case Jf:return c;case Qf:return u;case Ls:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case Nr:default:return s>=u&&s<=c?s:u>c||s<u?u:c}},getRowOffset:({rowHeight:n,height:e,totalRow:t},i,r,s,o,a)=>{e=Number(e);const l=Math.max(0,t*n-e),c=Math.min(l,i*n),u=Math.max(0,i*n-e+a+n);switch(r===kv&&(s>=u-e&&s<=c+e?r=Nr:r=Ls),r){case Jf:return c;case Qf:return u;case Ls:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Nr:default:return s>=u&&s<=c?s:u>c||s<u?u:c}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:t},i,r)=>{const s=i*n,o=Math.ceil((t+r-s)/n);return Math.max(0,Math.min(e-1,i+o-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:t},i,r)=>{const s=i*n,o=Math.ceil((t+r-s)/n);return Math.max(0,Math.min(e-1,i+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),{max:Og,min:ok,floor:ak}=Math,Die={column:"columnWidth",row:"rowHeight"},g_={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},co=(n,e,t,i)=>{const[r,s,o]=[t[i],n[Die[i]],t[g_[i]]];if(e>o){let a=0;if(o>=0){const l=r[o];a=l.offset+l.size}for(let l=o+1;l<=e;l++){const c=s(l);r[l]={offset:a,size:c},a+=c}t[g_[i]]=e}return r[e]},lk=(n,e,t,i,r,s)=>{for(;t<=i;){const o=t+ak((i-t)/2),a=co(n,o,e,s).offset;if(a===r)return o;a<r?t=o+1:i=o-1}return Og(0,t-1)},Nie=(n,e,t,i,r)=>{const s=r==="column"?n.totalColumn:n.totalRow;let o=1;for(;t<s&&co(n,t,e,r).offset<i;)t+=o,o*=2;return lk(n,e,ak(t/2),ok(t,s-1),i,r)},nE=(n,e,t,i)=>{const[r,s]=[e[i],e[g_[i]]];return(s>0?r[s].offset:0)>=t?lk(n,e,0,s,t,i):Nie(n,e,Og(0,s),t,i)},ck=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:t,row:i})=>{let r=0;if(t>=n&&(t=n-1),t>=0){const a=i[t];r=a.offset+a.size}const o=(n-t-1)*e;return r+o},uk=({totalColumn:n},{column:e,estimatedColumnWidth:t,lastVisitedColumnIndex:i})=>{let r=0;if(i>n&&(i=n-1),i>=0){const a=e[i];r=a.offset+a.size}const o=(n-i-1)*t;return r+o},Oie={column:uk,row:ck},iE=(n,e,t,i,r,s,o)=>{const[a,l]=[s==="row"?n.height:n.width,Oie[s]],c=co(n,e,r,s),u=l(n,r),d=Og(0,ok(u-a,c.offset)),f=Og(0,c.offset-a+o+c.size);switch(t===kv&&(i>=f-a&&i<=d+a?t=Nr:t=Ls),t){case Jf:return d;case Qf:return f;case Ls:return Math.round(f+(d-f)/2);case Nr:default:return i>=f&&i<=d?i:f>d||i<f?f:d}},Fie=sk({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,t)=>{const i=co(n,e,t,"column");return[i.size,i.offset]},getRowPosition:(n,e,t)=>{const i=co(n,e,t,"row");return[i.size,i.offset]},getColumnOffset:(n,e,t,i,r,s)=>iE(n,e,t,i,r,"column",s),getRowOffset:(n,e,t,i,r,s)=>iE(n,e,t,i,r,"row",s),getColumnStartIndexForOffset:(n,e,t)=>nE(n,t,e,"column"),getColumnStopIndexForStartIndex:(n,e,t,i)=>{const r=co(n,e,i,"column"),s=t+n.width;let o=r.offset+r.size,a=e;for(;a<n.totalColumn-1&&o<s;)a++,o+=co(n,e,i,"column").size;return a},getEstimatedTotalHeight:ck,getEstimatedTotalWidth:uk,getRowStartIndexForOffset:(n,e,t)=>nE(n,t,e,"row"),getRowStopIndexForStartIndex:(n,e,t,i)=>{const{totalRow:r,height:s}=n,o=co(n,e,i,"row"),a=t+s;let l=o.size+o.offset,c=e;for(;c<r-1&&l<a;)c++,l+=co(n,c,i,"row").size;return c},injectToInstance:(n,e)=>{const t=({columnIndex:s,rowIndex:o},a)=>{var l,c;a=Hn(a)?!0:a,ut(s)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,s-1)),ut(o)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,o-1)),(l=n.exposed)==null||l.getItemStyleCache.value(-1,null,null),a&&((c=n.proxy)==null||c.$forceUpdate())},i=(s,o)=>{t({columnIndex:s},o)},r=(s,o)=>{t({rowIndex:s},o)};Object.assign(n.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:r,resetAfter:t})},initCache:({estimatedColumnWidth:n=c_,estimatedRowHeight:e=c_})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),Bie=pe({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:He("select")}}});function zie(n,e,t,i,r,s){return n.item.isTitle?(B(),se("div",{key:0,class:U(n.ns.be("group","title")),style:tt([n.style,{lineHeight:`${n.height}px`}])},qe(n.item.label),7)):(B(),se("div",{key:1,class:U(n.ns.be("group","split")),style:tt(n.style)},[de("span",{class:U(n.ns.be("group","split-dash")),style:tt({top:`${n.height/2}px`})},null,6)],6))}var $ie=je(Bie,[["render",zie],["__file","group-item.vue"]]);function Vie(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const dk={label:"label",value:"value",disabled:"disabled",options:"options"};function Dv(n){const e=I(()=>({...dk,...n.props}));return{aliasProps:e,getLabel:o=>kn(o,e.value.label),getValue:o=>kn(o,e.value.value),getDisabled:o=>kn(o,e.value.disabled),getOptions:o=>kn(o,e.value.options)}}const Hie=Ge({allowCreate:Boolean,autocomplete:{type:Le(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Qt,default:Ua},effect:{type:Le(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Le([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Le(Array),required:!0},placeholder:{type:String},teleported:li.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Le(Object),default:()=>({})},remote:Boolean,size:ni,props:{type:Le(Object),default:()=>dk},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:Le(String),values:nc,default:"bottom-start"},tagType:{...Rv.type,default:"info"},ariaLabel:{type:String,default:void 0}}),Uie=Ge({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Le(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Yw=Symbol("ElSelectV2Injection"),Wie=pe({props:Uie,emits:["select","hover"],setup(n,{emit:e}){const t=Qe(Yw),i=He("select"),{hoverItem:r,selectOptionClick:s}=Vie(n,{emit:e}),{getLabel:o}=Dv(t.props);return{ns:i,hoverItem:r,selectOptionClick:s,getLabel:o}}}),Gie=["aria-selected"];function jie(n,e,t,i,r,s){return B(),se("li",{"aria-selected":n.selected,style:tt(n.style),class:U([n.ns.be("dropdown","item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),n.ns.is("hovering",n.hovering)]),onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=ft((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[Be(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[de("span",null,qe(n.getLabel(n.item)),1)])],46,Gie)}var Kie=je(Wie,[["render",jie],["__file","option-item.vue"]]),qie=pe({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(n,{slots:e,expose:t}){const i=Qe(Yw),r=He("select"),{getLabel:s,getValue:o,getDisabled:a}=Dv(i.props),l=X([]),c=X(),u=I(()=>n.data.length);Ve(()=>u.value,()=>{var E,O;(O=(E=i.tooltipRef.value).updatePopper)==null||O.call(E)});const d=I(()=>Hn(i.props.estimatedOptionHeight)),f=I(()=>d.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:E=>l.value[E]}),h=(E=[],O)=>{const{props:{valueKey:F}}=i;return It(O)?E&&E.some(R=>qt(kn(R,F))===kn(O,F)):E.includes(O)},g=(E,O)=>{if(It(O)){const{valueKey:F}=i.props;return kn(E,F)===kn(O,F)}else return E===O},m=(E,O)=>i.props.multiple?h(E,o(O)):g(E,o(O)),v=(E,O)=>{const{disabled:F,multiple:R,multipleLimit:$}=i.props;return F||!O&&(R?$>0&&E.length>=$:!1)},y=E=>n.hoveringIndex===E;t({listRef:c,isSized:d,isItemDisabled:v,isItemHovering:y,isItemSelected:m,scrollToItem:E=>{const O=c.value;O&&O.scrollToItem(E)},resetScrollTop:()=>{const E=c.value;E&&E.resetScrollTop()}});const _=E=>{const{index:O,data:F,style:R}=E,$=p(d),{itemSize:D,estimatedSize:A}=p(f),{modelValue:N}=i.props,{onSelect:P,onHover:z}=i,Y=F[O];if(Y.type==="Group")return ye($ie,{item:Y,style:R,height:$?D:A},null);const H=m(N,Y),V=v(N,H),W=y(O);return ye(Kie,Rt(E,{selected:H,disabled:a(Y)||V,created:!!Y.created,hovering:W,item:Y,onSelect:P,onHover:z}),{default:ie=>{var G;return((G=e.default)==null?void 0:G.call(e,ie))||ye("span",null,[s(Y)])}})},{onKeyboardNavigate:w,onKeyboardSelect:S}=i,T=()=>{w("forward")},M=()=>{w("backward")},C=()=>{i.expanded=!1},L=E=>{const{code:O}=E,{tab:F,esc:R,down:$,up:D,enter:A}=it;switch(O!==F&&(E.preventDefault(),E.stopPropagation()),O){case F:case R:{C();break}case $:{T();break}case D:{M();break}case A:{S();break}}};return()=>{var E,O,F,R;const{data:$,width:D}=n,{height:A,multiple:N,scrollbarAlwaysOn:P}=i.props;if(e.loading||e.empty)return ye("div",{class:r.b("dropdown"),style:{width:`${D}px`}},[((E=e.loading)==null?void 0:E.call(e))||((O=e.empty)==null?void 0:O.call(e))]);const z=p(d)?ik:Pie;return ye("div",{class:[r.b("dropdown"),r.is("multiple",N)]},[(F=e.header)==null?void 0:F.call(e),ye(z,Rt({ref:c},p(f),{className:r.be("dropdown","list"),scrollbarAlwaysOn:P,data:$,height:A,width:D,total:$.length,onKeydown:L}),{default:Y=>ye(_,Y,null)}),(R=e.footer)==null?void 0:R.call(e)])}}});function Yie(n,e){const{aliasProps:t,getLabel:i,getValue:r}=Dv(n),s=X(0),o=X(null),a=I(()=>n.allowCreate&&n.filterable);function l(h){const g=m=>r(m)===h;return n.options&&n.options.some(g)||e.createdOptions.some(g)}function c(h){a.value&&(n.multiple&&h.created?s.value++:o.value=h)}function u(h){if(a.value)if(h&&h.length>0){if(l(h))return;const g={[t.value.value]:h,[t.value.label]:h,created:!0,[t.value.disabled]:!1};e.createdOptions.length>=s.value?e.createdOptions[s.value]=g:e.createdOptions.push(g)}else if(n.multiple)e.createdOptions.length=s.value;else{const g=o.value;e.createdOptions.length=0,g&&g.created&&e.createdOptions.push(g)}}function d(h){if(!a.value||!h||!h.created||h.created&&n.reserveKeyword&&e.inputValue===i(h))return;const g=e.createdOptions.findIndex(m=>r(m)===r(h));~g&&(e.createdOptions.splice(g,1),s.value--)}function f(){a.value&&(e.createdOptions.length=0,s.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:f}}const Xie=11,Zie=(n,e)=>{const{t}=Ut(),i=He("select"),r=He("input"),{form:s,formItem:o}=qi(),{inputId:a}=Hs(n,{formItemContext:o}),{getLabel:l,getValue:c,getDisabled:u,getOptions:d}=Dv(n),f=Gt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),h=X(-1),g=X(-1),m=X(null),v=X(null),y=X(null),b=X(null),x=X(null),_=X(null),w=X(null),S=X(null),T=X(null),M=X(null),C=X(null),{wrapperRef:L,isFocused:E,handleFocus:O,handleBlur:F}=Tv(x,{afterFocus(){n.automaticDropdown&&!D.value&&(D.value=!0,f.menuVisibleOnFocus=!0)},beforeBlur(ze){var Xe,pt;return((Xe=y.value)==null?void 0:Xe.isFocusInsideContent(ze))||((pt=b.value)==null?void 0:pt.isFocusInsideContent(ze))},afterBlur(){D.value=!1,f.menuVisibleOnFocus=!1}}),R=X([]),$=X([]),D=X(!1),A=I(()=>n.disabled||(s==null?void 0:s.disabled)),N=I(()=>{const ze=$.value.length*n.itemHeight;return ze>n.height?n.height:ze}),P=I(()=>n.multiple?Je(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!==""),z=I(()=>n.clearable&&!A.value&&f.inputHovering&&P.value),Y=I(()=>n.remote&&n.filterable?"":Po),H=I(()=>Y.value&&i.is("reverse",D.value)),V=I(()=>(o==null?void 0:o.validateState)||""),W=I(()=>ow[V.value]),ie=I(()=>n.remote?300:0),G=I(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!f.inputValue&&R.value.length===0?!1:n.filterable&&f.inputValue&&R.value.length>0&&$.value.length===0?n.noMatchText||t("el.select.noMatch"):R.value.length===0?n.noDataText||t("el.select.noData"):null),te=ze=>{const Xe=pt=>{if(n.filterable&&dt(n.filterMethod)||n.filterable&&n.remote&&dt(n.remoteMethod))return!0;const wt=new RegExp(Jx(ze),"i");return ze?wt.test(l(pt)||""):!0};return n.loading?[]:[...f.createdOptions,...n.options].reduce((pt,wt)=>{const Sn=d(wt);if(Je(Sn)){const vn=Sn.filter(Xe);vn.length>0&&pt.push({label:l(wt),isTitle:!0,type:"Group"},...vn,{type:"Group"})}else(n.remote||Xe(wt))&&pt.push(wt);return pt},[])},oe=()=>{R.value=te(""),$.value=te(f.inputValue)},xe=I(()=>{const ze=new Map;return $.value.forEach((Xe,pt)=>{ze.set(lt(c(Xe)),{option:Xe,index:pt})}),ze}),ue=I(()=>$.value.every(ze=>u(ze))),we=Gn(),re=I(()=>we.value==="small"?"small":"default"),j=()=>{var ze;g.value=((ze=m.value)==null?void 0:ze.offsetWidth)||200},Z=()=>{if(!v.value)return 0;const ze=window.getComputedStyle(v.value);return Number.parseFloat(ze.gap||"6px")},le=I(()=>{const ze=Z();return{maxWidth:`${C.value&&n.maxCollapseTags===1?f.selectionWidth-f.collapseItemWidth-ze:f.selectionWidth}px`}}),J=I(()=>({maxWidth:`${f.selectionWidth}px`})),k=I(()=>({width:`${Math.max(f.calculatorWidth,Xie)}px`})),q=I(()=>Je(n.modelValue)?n.modelValue.length===0&&!f.inputValue:n.filterable?!f.inputValue:!0),ce=I(()=>{var ze;const Xe=(ze=n.placeholder)!=null?ze:t("el.select.placeholder");return n.multiple||!P.value?Xe:f.selectedLabel}),me=I(()=>{var ze,Xe;return(Xe=(ze=y.value)==null?void 0:ze.popperRef)==null?void 0:Xe.contentRef}),Ce=I(()=>{if(n.multiple){const ze=n.modelValue.length;if(n.modelValue.length>0&&xe.value.has(n.modelValue[ze-1])){const{index:Xe}=xe.value.get(n.modelValue[ze-1]);return Xe}}else if(n.modelValue&&xe.value.has(n.modelValue)){const{index:ze}=xe.value.get(n.modelValue);return ze}return-1}),Q=I({get(){return D.value&&G.value!==!1},set(ze){D.value=ze}}),ee=I(()=>n.multiple?n.collapseTags?f.cachedOptions.slice(0,n.maxCollapseTags):f.cachedOptions:[]),Se=I(()=>n.multiple?n.collapseTags?f.cachedOptions.slice(n.maxCollapseTags):[]:[]),{createNewOption:be,removeNewOption:Pe,selectNewOption:he,clearAllNewOption:$e}=Yie(n,f),{handleCompositionStart:ne,handleCompositionUpdate:Re,handleCompositionEnd:fe}=GI(ze=>We(ze)),ge=()=>{A.value||n.filterable&&n.remote&&dt(n.remoteMethod)||(f.menuVisibleOnFocus?f.menuVisibleOnFocus=!1:D.value=!D.value)},_e=()=>{f.inputValue.length>0&&!D.value&&(D.value=!0),be(f.inputValue),ve(f.inputValue)},Ne=cr(_e,ie.value),ve=ze=>{f.previousQuery!==ze&&(f.previousQuery=ze,n.filterable&&dt(n.filterMethod)?n.filterMethod(ze):n.filterable&&n.remote&&dt(n.remoteMethod)&&n.remoteMethod(ze),n.defaultFirstOption&&(n.filterable||n.remote)&&$.value.length?at(Ue):at(Ie))},Ue=()=>{const ze=$.value.filter(wt=>!wt.disabled&&wt.type!=="Group"),Xe=ze.find(wt=>wt.created),pt=ze[0];f.hoveringIndex=Ke($.value,Xe||pt)},Ae=ze=>{bi(n.modelValue,ze)||e(dn,ze)},Ye=ze=>{e(Lt,ze),Ae(ze),f.previousValue=String(ze)},Ke=(ze=[],Xe)=>{if(!It(Xe))return ze.indexOf(Xe);const pt=n.valueKey;let wt=-1;return ze.some((Sn,vn)=>kn(Sn,pt)===kn(Xe,pt)?(wt=vn,!0):!1),wt},lt=ze=>It(ze)?kn(ze,n.valueKey):ze,ht=()=>{j()},Ot=()=>{f.selectionWidth=v.value.getBoundingClientRect().width},Tt=()=>{f.calculatorWidth=_.value.getBoundingClientRect().width},Ft=()=>{f.collapseItemWidth=C.value.getBoundingClientRect().width},Ln=()=>{var ze,Xe;(Xe=(ze=y.value)==null?void 0:ze.updatePopper)==null||Xe.call(ze)},nn=()=>{var ze,Xe;(Xe=(ze=b.value)==null?void 0:ze.updatePopper)==null||Xe.call(ze)},Xn=(ze,Xe)=>{if(n.multiple){let pt=n.modelValue.slice();const wt=Ke(pt,c(ze));wt>-1?(pt=[...pt.slice(0,wt),...pt.slice(wt+1)],f.cachedOptions.splice(wt,1),Pe(ze)):(n.multipleLimit<=0||pt.length<n.multipleLimit)&&(pt=[...pt,c(ze)],f.cachedOptions.push(ze),he(ze)),Ye(pt),ze.created&&ve(""),n.filterable&&!n.reserveKeyword&&(f.inputValue="")}else h.value=Xe,f.selectedLabel=l(ze),Ye(c(ze)),D.value=!1,he(ze),ze.created||$e();Cr()},ri=(ze,Xe)=>{let pt=n.modelValue.slice();const wt=Ke(pt,c(Xe));wt>-1&&!A.value&&(pt=[...n.modelValue.slice(0,wt),...n.modelValue.slice(wt+1)],f.cachedOptions.splice(wt,1),Ye(pt),e("remove-tag",c(Xe)),Pe(Xe)),ze.stopPropagation(),Cr()},Cr=()=>{var ze;(ze=x.value)==null||ze.focus()},qr=()=>{var ze;(ze=x.value)==null||ze.blur()},Ks=()=>{f.inputValue.length>0?f.inputValue="":D.value=!1},qa=ze=>QL(ze,Xe=>!f.cachedOptions.some(pt=>c(pt)===Xe&&u(pt))),Ya=ze=>{if(n.multiple&&ze.code!==it.delete&&f.inputValue.length===0){ze.preventDefault();const Xe=n.modelValue.slice(),pt=qa(Xe);if(pt<0)return;Xe.splice(pt,1);const wt=f.cachedOptions[pt];f.cachedOptions.splice(pt,1),Pe(wt),Ye(Xe)}},Te=()=>{let ze;Je(n.modelValue)?ze=[]:ze=void 0,n.multiple?f.cachedOptions=[]:f.selectedLabel="",D.value=!1,Ye(ze),e("clear"),$e(),Cr()},K=(ze,Xe=void 0)=>{const pt=$.value;if(!["forward","backward"].includes(ze)||A.value||pt.length<=0||ue.value)return;if(!D.value)return ge();Xe===void 0&&(Xe=f.hoveringIndex);let wt=-1;ze==="forward"?(wt=Xe+1,wt>=pt.length&&(wt=0)):ze==="backward"&&(wt=Xe-1,(wt<0||wt>=pt.length)&&(wt=pt.length-1));const Sn=pt[wt];if(u(Sn)||Sn.type==="Group")return K(ze,wt);f.hoveringIndex=wt,ct(wt)},ae=()=>{if(D.value)~f.hoveringIndex&&$.value[f.hoveringIndex]&&Xn($.value[f.hoveringIndex],f.hoveringIndex);else return ge()},Me=ze=>{f.hoveringIndex=ze},Ie=()=>{n.multiple?n.modelValue.length>0?f.hoveringIndex=Math.min(...n.modelValue.map(ze=>$.value.findIndex(Xe=>c(Xe)===ze))):f.hoveringIndex=-1:f.hoveringIndex=$.value.findIndex(ze=>lt(ze)===lt(n.modelValue))},We=ze=>{if(f.inputValue=ze.target.value,n.remote)Ne();else return _e()},nt=ze=>{if(D.value=!1,E.value){const Xe=new FocusEvent("focus",ze);F(Xe)}},st=()=>at(()=>{~Ce.value&&ct(f.hoveringIndex)}),ct=ze=>{T.value.scrollToItem(ze)},mt=ze=>{const Xe=lt(ze);if(xe.value.has(Xe)){const{option:pt}=xe.value.get(Xe);return pt}return{value:ze,label:ze}},xt=()=>{if(n.multiple)if(n.modelValue.length>0){f.cachedOptions.length=0,f.previousValue=n.modelValue.toString();for(const ze of n.modelValue){const Xe=mt(ze);f.cachedOptions.push(Xe)}}else f.cachedOptions=[],f.previousValue=void 0;else if(P.value){f.previousValue=n.modelValue;const ze=$.value,Xe=ze.findIndex(pt=>lt(c(pt))===lt(n.modelValue));~Xe?f.selectedLabel=l(ze[Xe]):f.selectedLabel=lt(n.modelValue)}else f.selectedLabel="",f.previousValue=void 0;$e(),j()};return Ve(D,ze=>{ze?ve(""):(f.inputValue="",f.previousQuery=null,f.isBeforeHide=!0,be("")),e("visible-change",ze)}),Ve(()=>n.modelValue,(ze,Xe)=>{var pt;(!ze||ze.toString()!==f.previousValue)&&xt(),!bi(ze,Xe)&&n.validateEvent&&((pt=o==null?void 0:o.validate)==null||pt.call(o,"change").catch(wt=>void 0))},{deep:!0}),Ve(()=>n.options,()=>{const ze=x.value;(!ze||ze&&document.activeElement!==ze)&&xt()},{deep:!0}),Ve(()=>$.value,()=>T.value&&at(T.value.resetScrollTop)),yi(()=>{f.isBeforeHide||oe()}),yi(()=>{const{valueKey:ze,options:Xe}=n,pt=new Map;for(const wt of Xe){const Sn=c(wt);let vn=Sn;if(It(vn)&&(vn=kn(Sn,ze)),pt.get(vn))break;pt.set(vn,!0)}}),St(()=>{xt()}),bn(m,ht),bn(v,Ot),bn(_,Tt),bn(T,Ln),bn(L,Ln),bn(M,nn),bn(C,Ft),{inputId:a,collapseTagSize:re,currentPlaceholder:ce,expanded:D,emptyText:G,popupHeight:N,debounce:ie,allOptions:R,filteredOptions:$,iconComponent:Y,iconReverse:H,tagStyle:le,collapseTagStyle:J,inputStyle:k,popperSize:g,dropdownMenuVisible:Q,hasModelValue:P,shouldShowPlaceholder:q,selectDisabled:A,selectSize:we,showClearBtn:z,states:f,isFocused:E,nsSelect:i,nsInput:r,calculatorRef:_,inputRef:x,menuRef:T,tagMenuRef:M,tooltipRef:y,tagTooltipRef:b,selectRef:m,wrapperRef:L,selectionRef:v,prefixRef:w,suffixRef:S,collapseItemRef:C,popperRef:me,validateState:V,validateIcon:W,showTagList:ee,collapseTagList:Se,debouncedOnInputChange:Ne,deleteTag:ri,getLabel:l,getValue:c,getDisabled:u,getValueKey:lt,handleBlur:F,handleClear:Te,handleClickOutside:nt,handleDel:Ya,handleEsc:Ks,handleFocus:O,focus:Cr,blur:qr,handleMenuEnter:st,handleResize:ht,resetSelectionWidth:Ot,resetCalculatorWidth:Tt,updateTooltip:Ln,updateTagTooltip:nn,updateOptions:oe,toggleMenu:ge,scrollTo:ct,onInput:We,onKeyboardNavigate:K,onKeyboardSelect:ae,onSelect:Xn,onHover:Me,handleCompositionStart:ne,handleCompositionEnd:fe,handleCompositionUpdate:Re}},Jie=pe({name:"ElSelectV2",components:{ElSelectMenu:qie,ElTag:Xf,ElTooltip:Ri,ElIcon:et},directives:{ClickOutside:To},props:Hie,emits:[Lt,dn,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=I(()=>{const{modelValue:r,multiple:s}=n,o=s?[]:void 0;return Je(r)?s?r:o:s?o:r}),i=Zie(Gt({...fi(n),modelValue:t}),e);return Dt(Yw,{props:Gt({...fi(n),height:i.popupHeight,modelValue:t}),tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:t}}}),Qie=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],ere=["textContent"];function tre(n,e,t,i,r,s){const o=Ct("el-tag"),a=Ct("el-tooltip"),l=Ct("el-icon"),c=Ct("el-select-menu"),u=Th("click-outside");return _t((B(),se("div",{ref:"selectRef",class:U([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:e[14]||(e[14]=d=>n.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=d=>n.states.inputHovering=!1),onClick:e[16]||(e[16]=ft((...d)=>n.toggleMenu&&n.toggleMenu(...d),["stop"]))},[ye(a,{ref:"tooltipRef",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,onBeforeShow:n.handleMenuEnter,onHide:e[13]||(e[13]=d=>n.states.isBeforeHide=!1)},{default:Ee(()=>[de("div",{ref:"wrapperRef",class:U([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)])},[n.$slots.prefix?(B(),se("div",{key:0,ref:"prefixRef",class:U(n.nsSelect.e("prefix"))},[Be(n.$slots,"prefix")],2)):ke("v-if",!0),de("div",{ref:"selectionRef",class:U([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.modelValue.length)])},[n.multiple?Be(n.$slots,"tag",{key:0},()=>[(B(!0),se(rt,null,Bt(n.showTagList,d=>(B(),se("div",{key:n.getValueKey(n.getValue(d)),class:U(n.nsSelect.e("selected-item"))},[ye(o,{closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",style:tt(n.tagStyle),onClose:f=>n.deleteTag(f,d)},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))},qe(n.getLabel(d)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),n.collapseTags&&n.modelValue.length>n.maxCollapseTags?(B(),Oe(a,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Ee(()=>[de("div",{ref:"collapseItemRef",class:U(n.nsSelect.e("selected-item"))},[ye(o,{closable:!1,size:n.collapseTagSize,type:n.tagType,style:tt(n.collapseTagStyle),"disable-transitions":""},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))}," + "+qe(n.modelValue.length-n.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Ee(()=>[de("div",{ref:"tagMenuRef",class:U(n.nsSelect.e("selection"))},[(B(!0),se(rt,null,Bt(n.collapseTagList,d=>(B(),se("div",{key:n.getValueKey(n.getValue(d)),class:U(n.nsSelect.e("selected-item"))},[ye(o,{class:"in-tooltip",closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",onClose:f=>n.deleteTag(f,d)},{default:Ee(()=>[de("span",{class:U(n.nsSelect.e("tags-text"))},qe(n.getLabel(d)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):ke("v-if",!0)]):ke("v-if",!0),n.selectDisabled?ke("v-if",!0):(B(),se("div",{key:1,class:U([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[_t(de("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=d=>n.states.inputValue=d),style:tt(n.inputStyle),autocomplete:n.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-label":n.ariaLabel,class:U([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,onFocus:e[1]||(e[1]=(...d)=>n.handleFocus&&n.handleFocus(...d)),onBlur:e[2]||(e[2]=(...d)=>n.handleBlur&&n.handleBlur(...d)),onInput:e[3]||(e[3]=(...d)=>n.onInput&&n.onInput(...d)),onCompositionstart:e[4]||(e[4]=(...d)=>n.handleCompositionStart&&n.handleCompositionStart(...d)),onCompositionupdate:e[5]||(e[5]=(...d)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...d)),onCompositionend:e[6]||(e[6]=(...d)=>n.handleCompositionEnd&&n.handleCompositionEnd(...d)),onKeydown:[e[7]||(e[7]=Jt(ft(d=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Jt(ft(d=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Jt(ft((...d)=>n.onKeyboardSelect&&n.onKeyboardSelect(...d),["stop","prevent"]),["enter"])),e[10]||(e[10]=Jt(ft((...d)=>n.handleEsc&&n.handleEsc(...d),["stop","prevent"]),["esc"])),e[11]||(e[11]=Jt(ft((...d)=>n.handleDel&&n.handleDel(...d),["stop"]),["delete"]))],onClick:e[12]||(e[12]=ft((...d)=>n.toggleMenu&&n.toggleMenu(...d),["stop"]))},null,46,Qie),[[kx,n.states.inputValue]]),n.filterable?(B(),se("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(n.nsSelect.e("input-calculator")),textContent:qe(n.states.inputValue)},null,10,ere)):ke("v-if",!0)],2)),n.shouldShowPlaceholder?(B(),se("div",{key:2,class:U([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[de("span",null,qe(n.currentPlaceholder),1)],2)):ke("v-if",!0)],2),de("div",{ref:"suffixRef",class:U(n.nsSelect.e("suffix"))},[n.iconComponent?_t((B(),Oe(l,{key:0,class:U([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:Ee(()=>[(B(),Oe(Pt(n.iconComponent)))]),_:1},8,["class"])),[[Wt,!n.showClearBtn]]):ke("v-if",!0),n.showClearBtn&&n.clearIcon?(B(),Oe(l,{key:1,class:U([n.nsSelect.e("caret"),n.nsInput.e("icon")]),onClick:ft(n.handleClear,["prevent","stop"])},{default:Ee(()=>[(B(),Oe(Pt(n.clearIcon)))]),_:1},8,["class","onClick"])):ke("v-if",!0),n.validateState&&n.validateIcon?(B(),Oe(l,{key:2,class:U([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:Ee(()=>[(B(),Oe(Pt(n.validateIcon)))]),_:1},8,["class"])):ke("v-if",!0)],2)],2)]),content:Ee(()=>[ye(c,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},xo({default:Ee(d=>[Be(n.$slots,"default",os(lv(d)))]),_:2},[n.$slots.header?{name:"header",fn:Ee(()=>[de("div",{class:U(n.nsSelect.be("dropdown","header"))},[Be(n.$slots,"header")],2)])}:void 0,n.$slots.loading&&n.loading?{name:"loading",fn:Ee(()=>[de("div",{class:U(n.nsSelect.be("dropdown","loading"))},[Be(n.$slots,"loading")],2)])}:n.loading||n.filteredOptions.length===0?{name:"empty",fn:Ee(()=>[de("div",{class:U(n.nsSelect.be("dropdown","empty"))},[Be(n.$slots,"empty",{},()=>[de("span",null,qe(n.emptyText),1)])],2)])}:void 0,n.$slots.footer?{name:"footer",fn:Ee(()=>[de("div",{class:U(n.nsSelect.be("dropdown","footer"))},[Be(n.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[u,n.handleClickOutside,n.popperRef]])}var Ym=je(Jie,[["render",tre],["__file","select.vue"]]);Ym.install=n=>{n.component(Ym.name,Ym)};const nre=Ym,ire=nre,rre=Ge({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),sre=Ge({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ore=pe({name:"ElSkeletonItem"}),are=pe({...ore,props:sre,setup(n){const e=He("skeleton");return(t,i)=>(B(),se("div",{class:U([p(e).e("item"),p(e).e(t.variant)])},[t.variant==="image"?(B(),Oe(p(fU),{key:0})):ke("v-if",!0)],2))}});var Fg=je(are,[["__file","skeleton-item.vue"]]);const lre=pe({name:"ElSkeleton"}),cre=pe({...lre,props:rre,setup(n,{expose:e}){const t=n,i=He("skeleton"),r=rW(tn(t,"loading"),t.throttle);return e({uiLoading:r}),(s,o)=>p(r)?(B(),se("div",Rt({key:0,class:[p(i).b(),p(i).is("animated",s.animated)]},s.$attrs),[(B(!0),se(rt,null,Bt(s.count,a=>(B(),se(rt,{key:a},[s.loading?Be(s.$slots,"template",{key:a},()=>[ye(Fg,{class:U(p(i).is("first")),variant:"p"},null,8,["class"]),(B(!0),se(rt,null,Bt(s.rows,l=>(B(),Oe(Fg,{key:l,class:U([p(i).e("paragraph"),p(i).is("last",l===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ke("v-if",!0)],64))),128))],16)):Be(s.$slots,"default",os(Rt({key:1},s.$attrs)))}});var ure=je(cre,[["__file","skeleton.vue"]]);const dre=At(ure,{SkeletonItem:Fg}),fre=xn(Fg),fk=Symbol("sliderContextKey"),hre=Ge({modelValue:{type:Le([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ni,inputSize:ni,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Le(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Le(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:nc,default:"top"},marks:{type:Le(Object)},validateEvent:{type:Boolean,default:!0}}),I0=n=>ut(n)||Je(n)&&n.every(ut),pre={[Lt]:I0,[Vi]:I0,[dn]:I0},mre=(n,e,t)=>{const i=X();return St(async()=>{n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof n.modelValue!="number"||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),gn(window,"resize",t),await at(),t()}),{sliderWrapper:i}},gre=n=>I(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((t,i)=>t-i).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),vre=(n,e,t)=>{const{form:i,formItem:r}=qi(),s=rn(),o=X(),a=X(),l={firstButton:o,secondButton:a},c=I(()=>n.disabled||(i==null?void 0:i.disabled)||!1),u=I(()=>Math.min(e.firstValue,e.secondValue)),d=I(()=>Math.max(e.firstValue,e.secondValue)),f=I(()=>n.range?`${100*(d.value-u.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),h=I(()=>n.range?`${100*(u.value-n.min)/(n.max-n.min)}%`:"0%"),g=I(()=>n.vertical?{height:n.height}:{}),m=I(()=>n.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),v=()=>{s.value&&(e.sliderSize=s.value[`client${n.vertical?"Height":"Width"}`])},y=E=>{const O=n.min+E*(n.max-n.min)/100;if(!n.range)return o;let F;return Math.abs(u.value-O)<Math.abs(d.value-O)?F=e.firstValue<e.secondValue?"firstButton":"secondButton":F=e.firstValue>e.secondValue?"firstButton":"secondButton",l[F]},b=E=>{const O=y(E);return O.value.setPosition(E),O},x=E=>{e.firstValue=E,w(n.range?[u.value,d.value]:E)},_=E=>{e.secondValue=E,n.range&&w([u.value,d.value])},w=E=>{t(Lt,E),t(Vi,E)},S=async()=>{await at(),t(dn,n.range?[u.value,d.value]:n.modelValue)},T=E=>{var O,F,R,$,D,A;if(c.value||e.dragging)return;v();let N=0;if(n.vertical){const P=(R=(F=(O=E.touches)==null?void 0:O.item(0))==null?void 0:F.clientY)!=null?R:E.clientY;N=(s.value.getBoundingClientRect().bottom-P)/e.sliderSize*100}else{const P=(A=(D=($=E.touches)==null?void 0:$.item(0))==null?void 0:D.clientX)!=null?A:E.clientX,z=s.value.getBoundingClientRect().left;N=(P-z)/e.sliderSize*100}if(!(N<0||N>100))return b(N)};return{elFormItem:r,slider:s,firstButton:o,secondButton:a,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:g,barStyle:m,resetSize:v,setPosition:b,emitChange:S,onSliderWrapperPrevent:E=>{var O,F;((O=l.firstButton.value)!=null&&O.dragging||(F=l.secondButton.value)!=null&&F.dragging)&&E.preventDefault()},onSliderClick:E=>{T(E)&&S()},onSliderDown:async E=>{const O=T(E);O&&(await at(),O.value.onButtonDown(E))},setFirstValue:x,setSecondValue:_}},{left:yre,down:bre,right:_re,up:xre,home:wre,end:Sre,pageUp:Mre,pageDown:Tre}=it,Ere=(n,e,t)=>{const i=X(),r=X(!1),s=I(()=>e.value instanceof Function),o=I(()=>s.value&&e.value(n.modelValue)||n.modelValue),a=cr(()=>{t.value&&(r.value=!0)},50),l=cr(()=>{t.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:o,displayTooltip:a,hideTooltip:l}},Cre=(n,e,t)=>{const{disabled:i,min:r,max:s,step:o,showTooltip:a,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:h}=Qe(fk),{tooltip:g,tooltipVisible:m,formatValue:v,displayTooltip:y,hideTooltip:b}=Ere(n,u,a),x=X(),_=I(()=>`${(n.modelValue-r.value)/(s.value-r.value)*100}%`),w=I(()=>n.vertical?{bottom:_.value}:{left:_.value}),S=()=>{e.hovering=!0,y()},T=()=>{e.hovering=!1,e.dragging||b()},M=H=>{i.value||(H.preventDefault(),N(H),window.addEventListener("mousemove",P),window.addEventListener("touchmove",P),window.addEventListener("mouseup",z),window.addEventListener("touchend",z),window.addEventListener("contextmenu",z),x.value.focus())},C=H=>{i.value||(e.newPosition=Number.parseFloat(_.value)+H/(s.value-r.value)*100,Y(e.newPosition),d())},L=()=>{C(-o.value)},E=()=>{C(o.value)},O=()=>{C(-o.value*4)},F=()=>{C(o.value*4)},R=()=>{i.value||(Y(0),d())},$=()=>{i.value||(Y(100),d())},D=H=>{let V=!0;[yre,bre].includes(H.key)?L():[_re,xre].includes(H.key)?E():H.key===wre?R():H.key===Sre?$():H.key===Tre?O():H.key===Mre?F():V=!1,V&&H.preventDefault()},A=H=>{let V,W;return H.type.startsWith("touch")?(W=H.touches[0].clientY,V=H.touches[0].clientX):(W=H.clientY,V=H.clientX),{clientX:V,clientY:W}},N=H=>{e.dragging=!0,e.isClick=!0;const{clientX:V,clientY:W}=A(H);n.vertical?e.startY=W:e.startX=V,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},P=H=>{if(e.dragging){e.isClick=!1,y(),f();let V;const{clientX:W,clientY:ie}=A(H);n.vertical?(e.currentY=ie,V=(e.startY-e.currentY)/c.value*100):(e.currentX=W,V=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+V,Y(e.newPosition)}},z=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||b(),e.isClick||Y(e.newPosition),d()},0),window.removeEventListener("mousemove",P),window.removeEventListener("touchmove",P),window.removeEventListener("mouseup",z),window.removeEventListener("touchend",z),window.removeEventListener("contextmenu",z))},Y=async H=>{if(H===null||Number.isNaN(+H))return;H<0?H=0:H>100&&(H=100);const V=100/((s.value-r.value)/o.value);let ie=Math.round(H/V)*V*(s.value-r.value)*.01+r.value;ie=Number.parseFloat(ie.toFixed(l.value)),ie!==n.modelValue&&t(Lt,ie),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await at(),e.dragging&&y(),g.value.updatePopper()};return Ve(()=>e.dragging,H=>{h(H)}),{disabled:i,button:x,tooltip:g,tooltipVisible:m,showTooltip:a,wrapperStyle:w,formatValue:v,handleMouseEnter:S,handleMouseLeave:T,onButtonDown:M,onKeyDown:D,setPosition:Y}},Are=(n,e,t,i)=>({stops:I(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const o=(n.max-n.min)/n.step,a=100*n.step/(n.max-n.min),l=Array.from({length:o-1}).map((c,u)=>(u+1)*a);return n.range?l.filter(c=>c<100*(t.value-n.min)/(n.max-n.min)||c>100*(i.value-n.min)/(n.max-n.min)):l.filter(c=>c>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:o=>n.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),Lre=(n,e,t,i,r,s)=>{const o=c=>{r(Lt,c),r(Vi,c)},a=()=>n.range?![t.value,i.value].every((c,u)=>c===e.oldValue[u]):n.modelValue!==e.oldValue,l=()=>{var c,u;n.min>n.max&&Wn("Slider","min should not be greater than max.");const d=n.modelValue;n.range&&Array.isArray(d)?d[1]<n.min?o([n.min,n.min]):d[0]>n.max?o([n.max,n.max]):d[0]<n.min?o([n.min,d[1]]):d[1]>n.max?o([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&(n.validateEvent&&((c=s==null?void 0:s.validate)==null||c.call(s,"change").catch(f=>void 0)),e.oldValue=d.slice())):!n.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<n.min?o(n.min):d>n.max?o(n.max):(e.firstValue=d,a()&&(n.validateEvent&&((u=s==null?void 0:s.validate)==null||u.call(s,"change").catch(f=>void 0)),e.oldValue=d)))};l(),Ve(()=>e.dragging,c=>{c||l()}),Ve(()=>n.modelValue,(c,u)=>{e.dragging||Array.isArray(c)&&Array.isArray(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),Ve(()=>[n.min,n.max],()=>{l()})},Rre=Ge({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:nc,default:"top"}}),Pre={[Lt]:n=>ut(n)},Ire=["tabindex"],kre=pe({name:"ElSliderButton"}),Dre=pe({...kre,props:Rre,emits:Pre,setup(n,{expose:e,emit:t}){const i=n,r=He("slider"),s=Gt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:o,button:a,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:h,handleMouseLeave:g,onButtonDown:m,onKeyDown:v,setPosition:y}=Cre(i,s,t),{hovering:b,dragging:x}=fi(s);return e({onButtonDown:m,onKeyDown:v,setPosition:y,hovering:b,dragging:x}),(_,w)=>(B(),se("div",{ref_key:"button",ref:a,class:U([p(r).e("button-wrapper"),{hover:p(b),dragging:p(x)}]),style:tt(p(d)),tabindex:p(o)?-1:0,onMouseenter:w[0]||(w[0]=(...S)=>p(h)&&p(h)(...S)),onMouseleave:w[1]||(w[1]=(...S)=>p(g)&&p(g)(...S)),onMousedown:w[2]||(w[2]=(...S)=>p(m)&&p(m)(...S)),onTouchstart:w[3]||(w[3]=(...S)=>p(m)&&p(m)(...S)),onFocus:w[4]||(w[4]=(...S)=>p(h)&&p(h)(...S)),onBlur:w[5]||(w[5]=(...S)=>p(g)&&p(g)(...S)),onKeydown:w[6]||(w[6]=(...S)=>p(v)&&p(v)(...S))},[ye(p(Ri),{ref_key:"tooltip",ref:l,visible:p(u),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!p(c),persistent:""},{content:Ee(()=>[de("span",null,qe(p(f)),1)]),default:Ee(()=>[de("div",{class:U([p(r).e("button"),{hover:p(b),dragging:p(x)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,Ire))}});var rE=je(Dre,[["__file","button.vue"]]);const Nre=Ge({mark:{type:Le([String,Object]),default:void 0}});var Ore=pe({name:"ElSliderMarker",props:Nre,setup(n){const e=He("slider"),t=I(()=>vt(n.mark)?n.mark:n.mark.label),i=I(()=>vt(n.mark)?void 0:n.mark.style);return()=>ot("div",{class:e.e("marks-text"),style:i.value},t.value)}});const Fre=["id","role","aria-label","aria-labelledby"],Bre={key:1},zre=pe({name:"ElSlider"}),$re=pe({...zre,props:hre,emits:pre,setup(n,{expose:e,emit:t}){const i=n,r=He("slider"),{t:s}=Ut(),o=Gt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:g,barStyle:m,resetSize:v,emitChange:y,onSliderWrapperPrevent:b,onSliderClick:x,onSliderDown:_,setFirstValue:w,setSecondValue:S}=vre(i,o,t),{stops:T,getStopStyle:M}=Are(i,o,f,h),{inputId:C,isLabeledByFormItem:L}=Hs(i,{formItemContext:a}),E=Gn(),O=I(()=>i.inputSize||E.value),F=I(()=>i.label||s("el.slider.defaultLabel",{min:i.min,max:i.max})),R=I(()=>i.range?i.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):F.value),$=I(()=>i.formatValueText?i.formatValueText(H.value):`${H.value}`),D=I(()=>i.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),A=I(()=>i.formatValueText?i.formatValueText(V.value):`${V.value}`),N=I(()=>[r.b(),r.m(E.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}]),P=gre(i);Lre(i,o,f,h,t,a);const z=I(()=>{const G=[i.min,i.max,i.step].map(te=>{const oe=`${te}`.split(".")[1];return oe?oe.length:0});return Math.max.apply(null,G)}),{sliderWrapper:Y}=mre(i,o,v),{firstValue:H,secondValue:V,sliderSize:W}=fi(o),ie=G=>{o.dragging=G};return Dt(fk,{...fi(i),sliderSize:W,disabled:d,precision:z,emitChange:y,resetSize:v,updateDragging:ie}),e({onSliderClick:x}),(G,te)=>{var oe,xe;return B(),se("div",{id:G.range?p(C):void 0,ref_key:"sliderWrapper",ref:Y,class:U(p(N)),role:G.range?"group":void 0,"aria-label":G.range&&!p(L)?p(F):void 0,"aria-labelledby":G.range&&p(L)?(oe=p(a))==null?void 0:oe.labelId:void 0,onTouchstart:te[2]||(te[2]=(...ue)=>p(b)&&p(b)(...ue)),onTouchmove:te[3]||(te[3]=(...ue)=>p(b)&&p(b)(...ue))},[de("div",{ref_key:"slider",ref:l,class:U([p(r).e("runway"),{"show-input":G.showInput&&!G.range},p(r).is("disabled",p(d))]),style:tt(p(g)),onMousedown:te[0]||(te[0]=(...ue)=>p(_)&&p(_)(...ue)),onTouchstart:te[1]||(te[1]=(...ue)=>p(_)&&p(_)(...ue))},[de("div",{class:U(p(r).e("bar")),style:tt(p(m))},null,6),ye(rE,{id:G.range?void 0:p(C),ref_key:"firstButton",ref:c,"model-value":p(H),vertical:G.vertical,"tooltip-class":G.tooltipClass,placement:G.placement,role:"slider","aria-label":G.range||!p(L)?p(R):void 0,"aria-labelledby":!G.range&&p(L)?(xe=p(a))==null?void 0:xe.labelId:void 0,"aria-valuemin":G.min,"aria-valuemax":G.range?p(V):G.max,"aria-valuenow":p(H),"aria-valuetext":p($),"aria-orientation":G.vertical?"vertical":"horizontal","aria-disabled":p(d),"onUpdate:modelValue":p(w)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),G.range?(B(),Oe(rE,{key:0,ref_key:"secondButton",ref:u,"model-value":p(V),vertical:G.vertical,"tooltip-class":G.tooltipClass,placement:G.placement,role:"slider","aria-label":p(D),"aria-valuemin":p(H),"aria-valuemax":G.max,"aria-valuenow":p(V),"aria-valuetext":p(A),"aria-orientation":G.vertical?"vertical":"horizontal","aria-disabled":p(d),"onUpdate:modelValue":p(S)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ke("v-if",!0),G.showStops?(B(),se("div",Bre,[(B(!0),se(rt,null,Bt(p(T),(ue,we)=>(B(),se("div",{key:we,class:U(p(r).e("stop")),style:tt(p(M)(ue))},null,6))),128))])):ke("v-if",!0),p(P).length>0?(B(),se(rt,{key:2},[de("div",null,[(B(!0),se(rt,null,Bt(p(P),(ue,we)=>(B(),se("div",{key:we,style:tt(p(M)(ue.position)),class:U([p(r).e("stop"),p(r).e("marks-stop")])},null,6))),128))]),de("div",{class:U(p(r).e("marks"))},[(B(!0),se(rt,null,Bt(p(P),(ue,we)=>(B(),Oe(p(Ore),{key:we,mark:ue.mark,style:tt(p(M)(ue.position))},null,8,["mark","style"]))),128))],2)],64)):ke("v-if",!0)],38),G.showInput&&!G.range?(B(),Oe(p(BI),{key:0,ref:"input","model-value":p(H),class:U(p(r).e("input")),step:G.step,disabled:p(d),controls:G.showInputControls,min:G.min,max:G.max,debounce:G.debounce,size:p(O),"onUpdate:modelValue":p(w),onChange:p(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ke("v-if",!0)],42,Fre)}}});var Vre=je($re,[["__file","slider.vue"]]);const Hre=At(Vre),Ure=Ge({prefixCls:{type:String}}),sE=pe({name:"ElSpaceItem",props:Ure,setup(n,{slots:e}){const t=He("space"),i=I(()=>`${n.prefixCls||t.b()}__item`);return()=>ot("div",{class:i.value},Be(e,"default"))}}),oE={small:8,default:12,large:16};function Wre(n){const e=He("space"),t=I(()=>[e.b(),e.m(n.direction),n.class]),i=X(0),r=X(0),s=I(()=>{const a=n.wrap||n.fill?{flexWrap:"wrap"}:{},l={alignItems:n.alignment},c={rowGap:`${r.value}px`,columnGap:`${i.value}px`};return[a,l,c,n.style]}),o=I(()=>n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{});return yi(()=>{const{size:a="small",wrap:l,direction:c,fill:u}=n;if(Je(a)){const[d=0,f=0]=a;i.value=d,r.value=f}else{let d;ut(a)?d=a:d=oE[a||"small"]||oE.small,(l||u)&&c==="horizontal"?i.value=r.value=d:c==="horizontal"?(i.value=d,r.value=0):(r.value=d,i.value=0)}}),{classes:t,containerStyle:s,itemStyle:o}}const Gre=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Le([String,Object,Array]),default:""},style:{type:Le([String,Array,Object]),default:""},alignment:{type:Le(String),default:"center"},prefixCls:{type:String},spacer:{type:Le([Object,String,Number,Array]),default:null,validator:n=>un(n)||ut(n)||vt(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Vs,validator:n=>ut(n)||Je(n)&&n.length===2&&n.every(ut)}}),jre=pe({name:"ElSpace",props:Gre,setup(n,{slots:e}){const{classes:t,containerStyle:i,itemStyle:r}=Wre(n);function s(o,a="",l=[]){const{prefixCls:c}=n;return o.forEach((u,d)=>{Ib(u)?Je(u.children)&&u.children.forEach((f,h)=>{Ib(f)&&Je(f.children)?s(f.children,`${a+h}-`,l):l.push(ye(sE,{style:r.value,prefixCls:c,key:`nested-${a+h}`},{default:()=>[f]},Ir.PROPS|Ir.STYLE,["style","prefixCls"]))}):HU(u)&&l.push(ye(sE,{style:r.value,prefixCls:c,key:`LoopKey${a+d}`},{default:()=>[u]},Ir.PROPS|Ir.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:a,direction:l}=n,c=Be(e,"default",{key:0},()=>[]);if(((o=c.children)!=null?o:[]).length===0)return null;if(Je(c.children)){let u=s(c.children);if(a){const d=u.length-1;u=u.reduce((f,h,g)=>{const m=[...f,h];return g!==d&&m.push(ye("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:g},[un(a)?a:Ht(a,Ir.TEXT)],Ir.STYLE)),m},[])}return ye("div",{class:t.value,style:i.value},u,Ir.STYLE|Ir.CLASS)}return c.children}}}),Kre=At(jre),qre=Ge({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Le([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Le([String,Object,Array])}}),Yre=pe({name:"ElStatistic"}),Xre=pe({...Yre,props:qre,setup(n,{expose:e}){const t=n,i=He("statistic"),r=I(()=>{const{value:s,formatter:o,precision:a,decimalSeparator:l,groupSeparator:c}=t;if(dt(o))return o(s);if(!ut(s))return s;let[u,d=""]=String(s).split(".");return d=d.padEnd(a,"0").slice(0,a>0?a:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:r}),(s,o)=>(B(),se("div",{class:U(p(i).b())},[s.$slots.title||s.title?(B(),se("div",{key:0,class:U(p(i).e("head"))},[Be(s.$slots,"title",{},()=>[Ht(qe(s.title),1)])],2)):ke("v-if",!0),de("div",{class:U(p(i).e("content"))},[s.$slots.prefix||s.prefix?(B(),se("div",{key:0,class:U(p(i).e("prefix"))},[Be(s.$slots,"prefix",{},()=>[de("span",null,qe(s.prefix),1)])],2)):ke("v-if",!0),de("span",{class:U(p(i).e("number")),style:tt(s.valueStyle)},qe(p(r)),7),s.$slots.suffix||s.suffix?(B(),se("div",{key:1,class:U(p(i).e("suffix"))},[Be(s.$slots,"suffix",{},()=>[de("span",null,qe(s.suffix),1)])],2)):ke("v-if",!0)],2)],2))}});var Zre=je(Xre,[["__file","statistic.vue"]]);const hk=At(Zre),Jre=Ge({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Le([Number,Object]),default:0},valueStyle:{type:Le([String,Object,Array])}}),Qre={finish:()=>!0,[dn]:n=>ut(n)},ese=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],aE=n=>ut(n)?new Date(n).getTime():n.valueOf(),lE=(n,e)=>{let t=n;const i=/\[([^\]]*)]/g;return ese.reduce((s,[o,a])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(s)){const c=Math.floor(t/a);return t-=c*a,s.replace(l,u=>String(c).padStart(u.length,"0"))}return s},e).replace(i,"$1")},tse=pe({name:"ElCountdown"}),nse=pe({...tse,props:Jre,emits:Qre,setup(n,{expose:e,emit:t}){const i=n;let r;const s=X(aE(i.value)-Date.now()),o=I(()=>lE(s.value,i.format)),a=u=>lE(u,i.format),l=()=>{r&&(_v(r),r=void 0)},c=()=>{const u=aE(i.value),d=()=>{let f=u-Date.now();t("change",f),f<=0?(f=0,l(),t("finish")):r=Ou(d),s.value=f};r=Ou(d)};return Ve(()=>[i.value,i.format],()=>{l(),c()},{immediate:!0}),sn(()=>{l()}),e({displayValue:o}),(u,d)=>(B(),Oe(p(hk),{value:s.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:a},xo({_:2},[Bt(u.$slots,(f,h)=>({name:h,fn:Ee(()=>[Be(u.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var ise=je(nse,[["__file","countdown.vue"]]);const rse=At(ise),sse=Ge({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),ose={[dn]:(n,e)=>[n,e].every(ut)},ase=pe({name:"ElSteps"}),lse=pe({...ase,props:sse,emits:ose,setup(n,{emit:e}){const t=n,i=He("steps"),{children:r,addChild:s,removeChild:o}=Cw(Mt(),"ElStep");return Ve(r,()=>{r.value.forEach((a,l)=>{a.setIndex(l)})}),Dt("ElSteps",{props:t,steps:r,addStep:s,removeStep:o}),Ve(()=>t.active,(a,l)=>{e(dn,a,l)}),(a,l)=>(B(),se("div",{class:U([p(i).b(),p(i).m(a.simple?"simple":a.direction)])},[Be(a.$slots,"default")],2))}});var cse=je(lse,[["__file","steps.vue"]]);const use=Ge({title:{type:String,default:""},icon:{type:Qt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),dse=pe({name:"ElStep"}),fse=pe({...dse,props:use,setup(n){const e=n,t=He("step"),i=X(-1),r=X({}),s=X(""),o=Qe("ElSteps"),a=Mt();St(()=>{Ve([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([S])=>{_(S)},{immediate:!0})}),sn(()=>{o.removeStep(w.uid)});const l=I(()=>e.status||s.value),c=I(()=>{const S=o.steps.value[i.value-1];return S?S.currentStatus:"wait"}),u=I(()=>o.props.alignCenter),d=I(()=>o.props.direction==="vertical"),f=I(()=>o.props.simple),h=I(()=>o.steps.value.length),g=I(()=>{var S;return((S=o.steps.value[h.value-1])==null?void 0:S.uid)===(a==null?void 0:a.uid)}),m=I(()=>f.value?"":o.props.space),v=I(()=>[t.b(),t.is(f.value?"simple":o.props.direction),t.is("flex",g.value&&!m.value&&!u.value),t.is("center",u.value&&!d.value&&!f.value)]),y=I(()=>{const S={flexBasis:ut(m.value)?`${m.value}px`:m.value?m.value:`${100/(h.value-(u.value?0:1))}%`};return d.value||g.value&&(S.maxWidth=`${100/h.value}%`),S}),b=S=>{i.value=S},x=S=>{const T=S==="wait",M={transitionDelay:`${T?"-":""}${150*i.value}ms`},C=S===o.props.processStatus||T?0:100;M.borderWidth=C&&!f.value?"1px":0,M[o.props.direction==="vertical"?"height":"width"]=`${C}%`,r.value=M},_=S=>{S>i.value?s.value=o.props.finishStatus:S===i.value&&c.value!=="error"?s.value=o.props.processStatus:s.value="wait";const T=o.steps.value[i.value-1];T&&T.calcProgress(s.value)},w=Gt({uid:a.uid,currentStatus:l,setIndex:b,calcProgress:x});return o.addStep(w),(S,T)=>(B(),se("div",{style:tt(p(y)),class:U(p(v))},[ke(" icon & line "),de("div",{class:U([p(t).e("head"),p(t).is(p(l))])},[p(f)?ke("v-if",!0):(B(),se("div",{key:0,class:U(p(t).e("line"))},[de("i",{class:U(p(t).e("line-inner")),style:tt(r.value)},null,6)],2)),de("div",{class:U([p(t).e("icon"),p(t).is(S.icon||S.$slots.icon?"icon":"text")])},[Be(S.$slots,"icon",{},()=>[S.icon?(B(),Oe(p(et),{key:0,class:U(p(t).e("icon-inner"))},{default:Ee(()=>[(B(),Oe(Pt(S.icon)))]),_:1},8,["class"])):p(l)==="success"?(B(),Oe(p(et),{key:1,class:U([p(t).e("icon-inner"),p(t).is("status")])},{default:Ee(()=>[ye(p(Dh))]),_:1},8,["class"])):p(l)==="error"?(B(),Oe(p(et),{key:2,class:U([p(t).e("icon-inner"),p(t).is("status")])},{default:Ee(()=>[ye(p(gs))]),_:1},8,["class"])):p(f)?ke("v-if",!0):(B(),se("div",{key:3,class:U(p(t).e("icon-inner"))},qe(i.value+1),3))])],2)],2),ke(" title & description "),de("div",{class:U(p(t).e("main"))},[de("div",{class:U([p(t).e("title"),p(t).is(p(l))])},[Be(S.$slots,"title",{},()=>[Ht(qe(S.title),1)])],2),p(f)?(B(),se("div",{key:0,class:U(p(t).e("arrow"))},null,2)):(B(),se("div",{key:1,class:U([p(t).e("description"),p(t).is(p(l))])},[Be(S.$slots,"description",{},()=>[Ht(qe(S.description),1)])],2))],2)],6))}});var pk=je(fse,[["__file","item.vue"]]);const hse=At(cse,{Step:pk}),pse=xn(pk),mse=Ge({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:fR},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Qt},activeActionIcon:{type:Qt},activeIcon:{type:Qt},inactiveIcon:{type:Qt},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Le(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),gse={[Lt]:n=>zn(n)||vt(n)||ut(n),[dn]:n=>zn(n)||vt(n)||ut(n),[Vi]:n=>zn(n)||vt(n)||ut(n)},vse=["onClick"],yse=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],bse=["aria-hidden"],_se=["aria-hidden"],xse=["aria-hidden"],v_="ElSwitch",wse=pe({name:v_}),Sse=pe({...wse,props:mse,emits:gse,setup(n,{expose:e,emit:t}){const i=n,r=Mt(),{formItem:s}=qi(),o=Gn(),a=He("switch");(M=>{M.forEach(C=>{Os({from:C[0],replacement:C[1],scope:v_,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},I(()=>{var L;return!!((L=r.vnode.props)!=null&&L[C[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:c}=Hs(i,{formItemContext:s}),u=dr(I(()=>i.loading)),d=X(i.modelValue!==!1),f=X(),h=X(),g=I(()=>[a.b(),a.m(o.value),a.is("disabled",u.value),a.is("checked",x.value)]),m=I(()=>[a.e("label"),a.em("label","left"),a.is("active",!x.value)]),v=I(()=>[a.e("label"),a.em("label","right"),a.is("active",x.value)]),y=I(()=>({width:Nn(i.width)}));Ve(()=>i.modelValue,()=>{d.value=!0}),Ve(()=>i.value,()=>{d.value=!1});const b=I(()=>d.value?i.modelValue:i.value),x=I(()=>b.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(b.value)||(t(Lt,i.inactiveValue),t(dn,i.inactiveValue),t(Vi,i.inactiveValue)),Ve(x,M=>{var C;f.value.checked=M,i.validateEvent&&((C=s==null?void 0:s.validate)==null||C.call(s,"change").catch(L=>void 0))});const _=()=>{const M=x.value?i.inactiveValue:i.activeValue;t(Lt,M),t(dn,M),t(Vi,M),at(()=>{f.value.checked=x.value})},w=()=>{if(u.value)return;const{beforeChange:M}=i;if(!M){_();return}const C=M();[If(C),zn(C)].includes(!0)||Wn(v_,"beforeChange must return type `Promise<boolean>` or `boolean`"),If(C)?C.then(E=>{E&&_()}).catch(E=>{}):C&&_()},S=I(()=>a.cssVarBlock({...i.activeColor?{"on-color":i.activeColor}:null,...i.inactiveColor?{"off-color":i.inactiveColor}:null,...i.borderColor?{"border-color":i.borderColor}:null})),T=()=>{var M,C;(C=(M=f.value)==null?void 0:M.focus)==null||C.call(M)};return St(()=>{f.value.checked=x.value}),e({focus:T,checked:x}),(M,C)=>(B(),se("div",{class:U(p(g)),style:tt(p(S)),onClick:ft(w,["prevent"])},[de("input",{id:p(c),ref_key:"input",ref:f,class:U(p(a).e("input")),type:"checkbox",role:"switch","aria-checked":p(x),"aria-disabled":p(u),"aria-label":M.label,name:M.name,"true-value":M.activeValue,"false-value":M.inactiveValue,disabled:p(u),tabindex:M.tabindex,onChange:_,onKeydown:Jt(w,["enter"])},null,42,yse),!M.inlinePrompt&&(M.inactiveIcon||M.inactiveText)?(B(),se("span",{key:0,class:U(p(m))},[M.inactiveIcon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(M.inactiveIcon)))]),_:1})):ke("v-if",!0),!M.inactiveIcon&&M.inactiveText?(B(),se("span",{key:1,"aria-hidden":p(x)},qe(M.inactiveText),9,bse)):ke("v-if",!0)],2)):ke("v-if",!0),de("span",{ref_key:"core",ref:h,class:U(p(a).e("core")),style:tt(p(y))},[M.inlinePrompt?(B(),se("div",{key:0,class:U(p(a).e("inner"))},[M.activeIcon||M.inactiveIcon?(B(),Oe(p(et),{key:0,class:U(p(a).is("icon"))},{default:Ee(()=>[(B(),Oe(Pt(p(x)?M.activeIcon:M.inactiveIcon)))]),_:1},8,["class"])):M.activeText||M.inactiveText?(B(),se("span",{key:1,class:U(p(a).is("text")),"aria-hidden":!p(x)},qe(p(x)?M.activeText:M.inactiveText),11,_se)):ke("v-if",!0)],2)):ke("v-if",!0),de("div",{class:U(p(a).e("action"))},[M.loading?(B(),Oe(p(et),{key:0,class:U(p(a).is("loading"))},{default:Ee(()=>[ye(p(Wa))]),_:1},8,["class"])):p(x)?Be(M.$slots,"active-action",{key:1},()=>[M.activeActionIcon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(M.activeActionIcon)))]),_:1})):ke("v-if",!0)]):p(x)?ke("v-if",!0):Be(M.$slots,"inactive-action",{key:2},()=>[M.inactiveActionIcon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(M.inactiveActionIcon)))]),_:1})):ke("v-if",!0)])],2)],6),!M.inlinePrompt&&(M.activeIcon||M.activeText)?(B(),se("span",{key:1,class:U(p(v))},[M.activeIcon?(B(),Oe(p(et),{key:0},{default:Ee(()=>[(B(),Oe(Pt(M.activeIcon)))]),_:1})):ke("v-if",!0),!M.activeIcon&&M.activeText?(B(),se("span",{key:1,"aria-hidden":!p(x)},qe(M.activeText),9,xse)):ke("v-if",!0)],2)):ke("v-if",!0)],14,vse))}});var Mse=je(Sse,[["__file","switch.vue"]]);const Tse=At(Mse),k0=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},Ese=function(n,e,t,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return n;typeof t=="string"?t=t==="descending"?-1:1:t=t&&t<0?-1:1;const s=i?null:function(a,l){return r?(Array.isArray(r)||(r=[r]),r.map(c=>typeof c=="string"?kn(a,c):c(a,l,n))):(e!=="$key"&&It(a)&&"$value"in a&&(a=a.$value),[It(a)?kn(a,e):a])},o=function(a,l){if(i)return i(a.value,l.value);for(let c=0,u=a.key.length;c<u;c++){if(a.key[c]<l.key[c])return-1;if(a.key[c]>l.key[c])return 1}return 0};return n.map((a,l)=>({value:a,index:l,key:s?s(a,l):null})).sort((a,l)=>{let c=o(a,l);return c||(c=a.index-l.index),c*+t}).map(a=>a.value)},mk=function(n,e){let t=null;return n.columns.forEach(i=>{i.id===e&&(t=i)}),t},Cse=function(n,e){let t=null;for(let i=0;i<n.columns.length;i++){const r=n.columns[i];if(r.columnKey===e){t=r;break}}return t||Wn("ElTable",`No column matching with column-key: ${e}`),t},cE=function(n,e,t){const i=(e.className||"").match(new RegExp(`${t}-table_[^\\s]+`,"gm"));return i?mk(n,i[0]):null},gi=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${n[e]}`;const t=e.split(".");let i=n;for(const r of t)i=i[r];return`${i}`}else if(typeof e=="function")return e.call(null,n)},wl=function(n,e){const t={};return(n||[]).forEach((i,r)=>{t[gi(i,e)]={row:i,index:r}}),t};function Ase(n,e){const t={};let i;for(i in n)t[i]=n[i];for(i in e)if(zt(e,i)){const r=e[i];typeof r<"u"&&(t[i]=r)}return t}function Xw(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function gk(n){return n===""||n!==void 0&&(n=Xw(n),Number.isNaN(n)&&(n=80)),n}function Lse(n){return typeof n=="number"?n:typeof n=="string"?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function Rse(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function xf(n,e,t){let i=!1;const r=n.indexOf(e),s=r!==-1,o=a=>{a==="add"?n.push(e):n.splice(r,1),i=!0,Je(e.children)&&e.children.forEach(l=>{xf(n,l,t??!s)})};return zn(t)?t&&!s?o("add"):!t&&s&&o("remove"):o(s?"remove":"add"),i}function Pse(n,e,t="children",i="hasChildren"){const r=o=>!(Array.isArray(o)&&o.length);function s(o,a,l){e(o,a,l),a.forEach(c=>{if(c[i]){e(c,null,l+1);return}const u=c[t];r(u)||s(c,u,l+1)})}n.forEach(o=>{if(o[i]){e(o,null,0);return}const a=o[t];r(a)||s(o,a,0)})}let Pr=null;function Ise(n,e,t,i){if((Pr==null?void 0:Pr.trigger)===t)return;Pr==null||Pr();const r=i==null?void 0:i.refs.tableWrapper,s=r==null?void 0:r.dataset.prefix,o={strategy:"fixed",...n.popperOptions},a=ye(Ri,{content:e,virtualTriggering:!0,virtualRef:t,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...n,popperOptions:o,onHide:()=>{Pr==null||Pr()}});a.appContext=i.appContext;const l=document.createElement("div");Ia(a,l),a.component.exposed.onOpen();const c=r==null?void 0:r.querySelector(`.${s}-scrollbar__wrap`);Pr=()=>{Ia(null,l),c==null||c.removeEventListener("scroll",Pr),Pr=null},Pr.trigger=t,c==null||c.addEventListener("scroll",Pr)}function vk(n){return n.children?lH(n.children,vk):[n]}function uE(n,e){return n+e.colSpan}const yk=(n,e,t,i)=>{let r=0,s=n;const o=t.states.columns.value;if(i){const l=vk(i[n]);r=o.slice(0,o.indexOf(l[0])).reduce(uE,0),s=r+l.reduce(uE,0)-1}else r=n;let a;switch(e){case"left":s<t.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":r>=o.length-t.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:s<t.states.fixedLeafColumnsLength.value?a="left":r>=o.length-t.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:r,after:s}:{}},Zw=(n,e,t,i,r,s=0)=>{const o=[],{direction:a,start:l,after:c}=yk(e,t,i,r);if(a){const u=a==="left";o.push(`${n}-fixed-column--${a}`),u&&c+s===i.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!u&&l-s===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function dE(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const Jw=(n,e,t,i)=>{const{direction:r,start:s=0,after:o=0}=yk(n,e,t,i);if(!r)return;const a={},l=r==="left",c=t.states.columns.value;return l?a.left=c.slice(0,s).reduce(dE,0):a.right=c.slice(o+1).reverse().reduce(dE,0),a},Gu=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function kse(n){const e=Mt(),t=X(!1),i=X([]);return{updateExpandRows:()=>{const l=n.data.value||[],c=n.rowKey.value;if(t.value)i.value=l.slice();else if(c){const u=wl(i.value,c);i.value=l.reduce((d,f)=>{const h=gi(f,c);return u[h]&&d.push(f),d},[])}else i.value=[]},toggleRowExpansion:(l,c)=>{xf(i.value,l,c)&&e.emit("expand-change",l,i.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=n.data.value||[],u=n.rowKey.value,d=wl(c,u);i.value=l.reduce((f,h)=>{const g=d[h];return g&&f.push(g.row),f},[])},isRowExpanded:l=>{const c=n.rowKey.value;return c?!!wl(i.value,c)[gi(l,c)]:i.value.includes(l)},states:{expandRows:i,defaultExpandAll:t}}}function Dse(n){const e=Mt(),t=X(null),i=X(null),r=c=>{e.store.assertRowKey(),t.value=c,o(c)},s=()=>{t.value=null},o=c=>{const{data:u,rowKey:d}=n;let f=null;d.value&&(f=(p(u)||[]).find(h=>gi(h,d.value)===c)),i.value=f,e.emit("current-change",i.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:s,setCurrentRowByKey:o,updateCurrentRow:c=>{const u=i.value;if(c&&c!==u){i.value=c,e.emit("current-change",i.value,u);return}!c&&u&&(i.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=n.rowKey.value,u=n.data.value||[],d=i.value;if(!u.includes(d)&&d){if(c){const f=gi(d,c);o(f)}else i.value=null;i.value===null&&e.emit("current-change",null,d)}else t.value&&(o(t.value),s())},states:{_currentRowKey:t,currentRow:i}}}function Nse(n){const e=X([]),t=X({}),i=X(16),r=X(!1),s=X({}),o=X("hasChildren"),a=X("children"),l=Mt(),c=I(()=>{if(!n.rowKey.value)return{};const y=n.data.value||[];return d(y)}),u=I(()=>{const y=n.rowKey.value,b=Object.keys(s.value),x={};return b.length&&b.forEach(_=>{if(s.value[_].length){const w={children:[]};s.value[_].forEach(S=>{const T=gi(S,y);w.children.push(T),S[o.value]&&!x[T]&&(x[T]={children:[]})}),x[_]=w}}),x}),d=y=>{const b=n.rowKey.value,x={};return Pse(y,(_,w,S)=>{const T=gi(_,b);Array.isArray(w)?x[T]={children:w.map(M=>gi(M,b)),level:S}:r.value&&(x[T]={children:[],lazy:!0,level:S})},a.value,o.value),x},f=(y=!1,b=(x=>(x=l.store)==null?void 0:x.states.defaultExpandAll.value)())=>{var x;const _=c.value,w=u.value,S=Object.keys(_),T={};if(S.length){const M=p(t),C=[],L=(O,F)=>{if(y)return e.value?b||e.value.includes(F):!!(b||O!=null&&O.expanded);{const R=b||e.value&&e.value.includes(F);return!!(O!=null&&O.expanded||R)}};S.forEach(O=>{const F=M[O],R={..._[O]};if(R.expanded=L(F,O),R.lazy){const{loaded:$=!1,loading:D=!1}=F||{};R.loaded=!!$,R.loading=!!D,C.push(O)}T[O]=R});const E=Object.keys(w);r.value&&E.length&&C.length&&E.forEach(O=>{const F=M[O],R=w[O].children;if(C.includes(O)){if(T[O].children.length!==0)throw new Error("[ElTable]children must be an empty array.");T[O].children=R}else{const{loaded:$=!1,loading:D=!1}=F||{};T[O]={lazy:!0,loaded:!!$,loading:!!D,expanded:L(F,O),children:R,level:""}}})}t.value=T,(x=l.store)==null||x.updateTableScrollY()};Ve(()=>e.value,()=>{f(!0)}),Ve(()=>c.value,()=>{f()}),Ve(()=>u.value,()=>{f()});const h=y=>{e.value=y,f()},g=(y,b)=>{l.store.assertRowKey();const x=n.rowKey.value,_=gi(y,x),w=_&&t.value[_];if(_&&w&&"expanded"in w){const S=w.expanded;b=typeof b>"u"?!w.expanded:b,t.value[_].expanded=b,S!==b&&l.emit("expand-change",y,b),l.store.updateTableScrollY()}},m=y=>{l.store.assertRowKey();const b=n.rowKey.value,x=gi(y,b),_=t.value[x];r.value&&_&&"loaded"in _&&!_.loaded?v(y,x,_):g(y,void 0)},v=(y,b,x)=>{const{load:_}=l.props;_&&!t.value[b].loaded&&(t.value[b].loading=!0,_(y,x,w=>{if(!Array.isArray(w))throw new TypeError("[ElTable] data must be an array");t.value[b].loading=!1,t.value[b].loaded=!0,t.value[b].expanded=!0,w.length&&(s.value[b]=w),l.emit("expand-change",y,!0)}))};return{loadData:v,loadOrToggle:m,toggleTreeExpansion:g,updateTreeExpandKeys:h,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:t,indent:i,lazy:r,lazyTreeNodeMap:s,lazyColumnIdentifier:o,childrenColumnName:a}}}const Ose=(n,e)=>{const t=e.sortingColumn;return!t||typeof t.sortable=="string"?n:Ese(n,e.sortProp,e.sortOrder,t.sortMethod,t.sortBy)},Xm=n=>{const e=[];return n.forEach(t=>{t.children&&t.children.length>0?e.push.apply(e,Xm(t.children)):e.push(t)}),e};function Fse(){var n;const e=Mt(),{size:t}=fi((n=e.proxy)==null?void 0:n.$props),i=X(null),r=X([]),s=X([]),o=X(!1),a=X([]),l=X([]),c=X([]),u=X([]),d=X([]),f=X([]),h=X([]),g=X([]),m=[],v=X(0),y=X(0),b=X(0),x=X(!1),_=X([]),w=X(!1),S=X(!1),T=X(null),M=X({}),C=X(null),L=X(null),E=X(null),O=X(null),F=X(null);Ve(r,()=>e.state&&A(!1),{deep:!0});const R=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},$=Re=>{var fe;(fe=Re.children)==null||fe.forEach(ge=>{ge.fixed=Re.fixed,$(ge)})},D=()=>{a.value.forEach(Ne=>{$(Ne)}),u.value=a.value.filter(Ne=>Ne.fixed===!0||Ne.fixed==="left"),d.value=a.value.filter(Ne=>Ne.fixed==="right"),u.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,u.value.unshift(a.value[0]));const Re=a.value.filter(Ne=>!Ne.fixed);l.value=[].concat(u.value).concat(Re).concat(d.value);const fe=Xm(Re),ge=Xm(u.value),_e=Xm(d.value);v.value=fe.length,y.value=ge.length,b.value=_e.length,c.value=[].concat(ge).concat(fe).concat(_e),o.value=u.value.length>0||d.value.length>0},A=(Re,fe=!1)=>{Re&&D(),fe?e.state.doLayout():e.state.debouncedUpdateLayout()},N=Re=>_.value.includes(Re),P=()=>{x.value=!1,_.value.length&&(_.value=[],e.emit("selection-change",[]))},z=()=>{let Re;if(i.value){Re=[];const fe=wl(_.value,i.value),ge=wl(r.value,i.value);for(const _e in fe)zt(fe,_e)&&!ge[_e]&&Re.push(fe[_e].row)}else Re=_.value.filter(fe=>!r.value.includes(fe));if(Re.length){const fe=_.value.filter(ge=>!Re.includes(ge));_.value=fe,e.emit("selection-change",fe.slice())}},Y=()=>(_.value||[]).slice(),H=(Re,fe=void 0,ge=!0)=>{if(xf(_.value,Re,fe)){const Ne=(_.value||[]).slice();ge&&e.emit("select",Ne,Re),e.emit("selection-change",Ne)}},V=()=>{var Re,fe;const ge=S.value?!x.value:!(x.value||_.value.length);x.value=ge;let _e=!1,Ne=0;const ve=(fe=(Re=e==null?void 0:e.store)==null?void 0:Re.states)==null?void 0:fe.rowKey.value;r.value.forEach((Ue,Ae)=>{const Ye=Ae+Ne;T.value?T.value.call(null,Ue,Ye)&&xf(_.value,Ue,ge)&&(_e=!0):xf(_.value,Ue,ge)&&(_e=!0),Ne+=G(gi(Ue,ve))}),_e&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",_.value)},W=()=>{const Re=wl(_.value,i.value);r.value.forEach(fe=>{const ge=gi(fe,i.value),_e=Re[ge];_e&&(_.value[_e.index]=fe)})},ie=()=>{var Re,fe,ge;if(((Re=r.value)==null?void 0:Re.length)===0){x.value=!1;return}let _e;i.value&&(_e=wl(_.value,i.value));const Ne=function(Ye){return _e?!!_e[gi(Ye,i.value)]:_.value.includes(Ye)};let ve=!0,Ue=0,Ae=0;for(let Ye=0,Ke=(r.value||[]).length;Ye<Ke;Ye++){const lt=(ge=(fe=e==null?void 0:e.store)==null?void 0:fe.states)==null?void 0:ge.rowKey.value,ht=Ye+Ae,Ot=r.value[Ye],Tt=T.value&&T.value.call(null,Ot,ht);if(Ne(Ot))Ue++;else if(!T.value||Tt){ve=!1;break}Ae+=G(gi(Ot,lt))}Ue===0&&(ve=!1),x.value=ve},G=Re=>{var fe;if(!e||!e.store)return 0;const{treeData:ge}=e.store.states;let _e=0;const Ne=(fe=ge.value[Re])==null?void 0:fe.children;return Ne&&(_e+=Ne.length,Ne.forEach(ve=>{_e+=G(ve)})),_e},te=(Re,fe)=>{Array.isArray(Re)||(Re=[Re]);const ge={};return Re.forEach(_e=>{M.value[_e.id]=fe,ge[_e.columnKey||_e.id]=fe}),ge},oe=(Re,fe,ge)=>{L.value&&L.value!==Re&&(L.value.order=null),L.value=Re,E.value=fe,O.value=ge},xe=()=>{let Re=p(s);Object.keys(M.value).forEach(fe=>{const ge=M.value[fe];if(!ge||ge.length===0)return;const _e=mk({columns:c.value},fe);_e&&_e.filterMethod&&(Re=Re.filter(Ne=>ge.some(ve=>_e.filterMethod.call(null,ve,Ne,_e))))}),C.value=Re},ue=()=>{r.value=Ose(C.value,{sortingColumn:L.value,sortProp:E.value,sortOrder:O.value})},we=(Re=void 0)=>{Re&&Re.filter||xe(),ue()},re=Re=>{const{tableHeaderRef:fe}=e.refs;if(!fe)return;const ge=Object.assign({},fe.filterPanels),_e=Object.keys(ge);if(_e.length)if(typeof Re=="string"&&(Re=[Re]),Array.isArray(Re)){const Ne=Re.map(ve=>Cse({columns:c.value},ve));_e.forEach(ve=>{const Ue=Ne.find(Ae=>Ae.id===ve);Ue&&(Ue.filteredValue=[])}),e.store.commit("filterChange",{column:Ne,values:[],silent:!0,multi:!0})}else _e.forEach(Ne=>{const ve=c.value.find(Ue=>Ue.id===Ne);ve&&(ve.filteredValue=[])}),M.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},j=()=>{L.value&&(oe(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Z,toggleRowExpansion:le,updateExpandRows:J,states:k,isRowExpanded:q}=kse({data:r,rowKey:i}),{updateTreeExpandKeys:ce,toggleTreeExpansion:me,updateTreeData:Ce,loadOrToggle:Q,states:ee}=Nse({data:r,rowKey:i}),{updateCurrentRowData:Se,updateCurrentRow:be,setCurrentRowKey:Pe,states:he}=Dse({data:r,rowKey:i});return{assertRowKey:R,updateColumns:D,scheduleLayout:A,isSelected:N,clearSelection:P,cleanSelection:z,getSelectionRows:Y,toggleRowSelection:H,_toggleAllSelection:V,toggleAllSelection:null,updateSelectionByRowKey:W,updateAllSelected:ie,updateFilters:te,updateCurrentRow:be,updateSort:oe,execFilter:xe,execSort:ue,execQuery:we,clearFilter:re,clearSort:j,toggleRowExpansion:le,setExpandRowKeysAdapter:Re=>{Z(Re),ce(Re)},setCurrentRowKey:Pe,toggleRowExpansionAdapter:(Re,fe)=>{c.value.some(({type:_e})=>_e==="expand")?le(Re,fe):me(Re,fe)},isRowExpanded:q,updateExpandRows:J,updateCurrentRowData:Se,loadOrToggle:Q,updateTreeData:Ce,states:{tableSize:t,rowKey:i,data:r,_data:s,isComplex:o,_columns:a,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:g,updateOrderFns:m,leafColumnsLength:v,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:b,isAllSelected:x,selection:_,reserveSelection:w,selectOnIndeterminate:S,selectable:T,filters:M,filteredData:C,sortingColumn:L,sortProp:E,sortOrder:O,hoverRow:F,...k,...ee,...he}}}function y_(n,e){return n.map(t=>{var i;return t.id===e.id?e:((i=t.children)!=null&&i.length&&(t.children=y_(t.children,e)),t)})}function b_(n){n.forEach(e=>{var t,i;e.no=(t=e.getColumnIndex)==null?void 0:t.call(e),(i=e.children)!=null&&i.length&&b_(e.children)}),n.sort((e,t)=>e.no-t.no)}function Bse(){const n=Mt(),e=Fse();return{ns:He("table"),...e,mutations:{setData(o,a){const l=p(o._data)!==a;o.data.value=a,o._data.value=a,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),p(o.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):l?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(o,a,l,c){const u=p(o._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),d=y_(u,l)):(u.push(a),d=u),b_(d),o._columns.value=d,o.updateOrderFns.push(c),a.type==="selection"&&(o.selectable.value=a.selectable,o.reserveSelection.value=a.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder(o,a){var l;((l=a.getColumnIndex)==null?void 0:l.call(a))!==a.no&&(b_(o._columns.value),n.$ready&&n.store.updateColumns())},removeColumn(o,a,l,c){const u=p(o._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===a.id),1),at(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),o._columns.value=y_(u,l);else{const f=u.indexOf(a);f>-1&&(u.splice(f,1),o._columns.value=u)}const d=o.updateOrderFns.indexOf(c);d>-1&&o.updateOrderFns.splice(d,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(o,a){const{prop:l,order:c,init:u}=a;if(l){const d=p(o.columns).find(f=>f.property===l);d&&(d.order=c,n.store.updateSort(d,l,c),n.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(o,a){const{sortingColumn:l,sortProp:c,sortOrder:u}=o,d=p(l),f=p(c),h=p(u);h===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const g={filter:!0};n.store.execQuery(g),(!a||!(a.silent||a.init))&&n.emit("sort-change",{column:d,prop:f,order:h}),n.store.updateTableScrollY()},filterChange(o,a){const{column:l,values:c,silent:u}=a,d=n.store.updateFilters(l,c);n.store.execQuery(),u||n.emit("filter-change",d),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(o,a){n.store.toggleRowSelection(a),n.store.updateAllSelected()},setHoverRow(o,a){o.hoverRow.value=a},setCurrentRow(o,a){n.store.updateCurrentRow(a)}},commit:function(o,...a){const l=n.store.mutations;if(l[o])l[o].apply(n,[n.store.states].concat(a));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){at(()=>n.layout.updateScrollY.apply(n.layout))}}}const wf={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function zse(n,e){if(!n)throw new Error("Table is required.");const t=Bse();return t.toggleAllSelection=cr(t._toggleAllSelection,10),Object.keys(wf).forEach(i=>{bk(_k(e,i),i,t)}),$se(t,e),t}function $se(n,e){Object.keys(wf).forEach(t=>{Ve(()=>_k(e,t),i=>{bk(i,t,n)})})}function bk(n,e,t){let i=n,r=wf[e];typeof wf[e]=="object"&&(r=r.key,i=i||wf[e].default),t.states[r].value=i}function _k(n,e){if(e.includes(".")){const t=e.split(".");let i=n;return t.forEach(r=>{i=i[r]}),i}else return n[e]}class Vse{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=X(null),this.scrollX=X(!1),this.scrollY=X(!1),this.bodyWidth=X(null),this.fixedWidth=X(null),this.rightFixedWidth=X(null),this.gutterWidth=0;for(const t in e)zt(e,t)&&(an(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(t!=null&&t.wrapRef)){let i=!0;const r=this.scrollY.value;return i=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=i,r!==i}return!1}setHeight(e,t="height"){if(!Vt)return;const i=this.table.vnode.el;if(e=Lse(e),this.height.value=Number(e),!i&&(e||e===0))return at(()=>this.setHeight(e,t));typeof e=="number"?(i.style[t]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!=="DIV";){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!Vt)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let i=0;const r=this.getFlattenColumns(),s=r.filter(l=>typeof l.width!="number");if(r.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),s.length>0&&e){if(r.forEach(l=>{i+=Number(l.width||l.minWidth||80)}),i<=t){this.scrollX.value=!1;const l=t-i;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+l;else{const c=s.reduce((f,h)=>f+Number(h.minWidth||80),0),u=l/c;let d=0;s.forEach((f,h)=>{if(h===0)return;const g=Math.floor(Number(f.minWidth||80)*u);d+=g,f.realWidth=Number(f.minWidth||80)+g}),s[0].realWidth=Number(s[0].minWidth||80)+l-d}}else this.scrollX.value=!0,s.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(i,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),i+=l.realWidth}),this.scrollX.value=i>t,this.bodyWidth.value=i;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(i=>{var r,s;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(s=i.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:Hse}=Gr,Use=pe({name:"ElTableFilterPanel",components:{ElCheckbox:Gr,ElCheckboxGroup:Hse,ElScrollbar:ko,ElTooltip:Ri,ElIcon:et,ArrowDown:Po,ArrowUp:ew},directives:{ClickOutside:To},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(n){const e=Mt(),{t}=Ut(),i=He("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[n.column.id]||(r.filterPanels.value[n.column.id]=e);const s=X(!1),o=X(null),a=I(()=>n.column&&n.column.filters),l=I(()=>n.column.filterClassName?`${i.b()} ${n.column.filterClassName}`:i.b()),c=I({get:()=>{var w;return(((w=n.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{u.value&&(typeof w<"u"&&w!==null?u.value.splice(0,1,w):u.value.splice(0,1))}}),u=I({get(){return n.column?n.column.filteredValue||[]:[]},set(w){n.column&&n.upDataColumn("filteredValue",w)}}),d=I(()=>n.column?n.column.filterMultiple:!0),f=w=>w.value===c.value,h=()=>{s.value=!1},g=w=>{w.stopPropagation(),s.value=!s.value},m=()=>{s.value=!1},v=()=>{x(u.value),h()},y=()=>{u.value=[],x(u.value),h()},b=w=>{c.value=w,x(typeof w<"u"&&w!==null?u.value:[]),h()},x=w=>{n.store.commit("filterChange",{column:n.column,values:w}),n.store.updateAllSelected()};Ve(s,w=>{n.column&&n.upDataColumn("filterOpened",w)},{immediate:!0});const _=I(()=>{var w,S;return(S=(w=o.value)==null?void 0:w.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:s,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:a,handleConfirm:v,handleReset:y,handleSelect:b,isActive:f,t,ns:i,showFilterPanel:g,hideFilterPanel:m,popperPaneRef:_,tooltip:o}}}),Wse={key:0},Gse=["disabled"],jse=["label","onClick"];function Kse(n,e,t,i,r,s){const o=Ct("el-checkbox"),a=Ct("el-checkbox-group"),l=Ct("el-scrollbar"),c=Ct("arrow-up"),u=Ct("arrow-down"),d=Ct("el-icon"),f=Ct("el-tooltip"),h=Th("click-outside");return B(),Oe(f,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.filterClassName,persistent:""},{content:Ee(()=>[n.multiple?(B(),se("div",Wse,[de("div",{class:U(n.ns.e("content"))},[ye(l,{"wrap-class":n.ns.e("wrap")},{default:Ee(()=>[ye(a,{modelValue:n.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=g=>n.filteredValue=g),class:U(n.ns.e("checkbox-group"))},{default:Ee(()=>[(B(!0),se(rt,null,Bt(n.filters,g=>(B(),Oe(o,{key:g.value,label:g.value},{default:Ee(()=>[Ht(qe(g.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),de("div",{class:U(n.ns.e("bottom"))},[de("button",{class:U({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...g)=>n.handleConfirm&&n.handleConfirm(...g))},qe(n.t("el.table.confirmFilter")),11,Gse),de("button",{type:"button",onClick:e[2]||(e[2]=(...g)=>n.handleReset&&n.handleReset(...g))},qe(n.t("el.table.resetFilter")),1)],2)])):(B(),se("ul",{key:1,class:U(n.ns.e("list"))},[de("li",{class:U([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:e[3]||(e[3]=g=>n.handleSelect(null))},qe(n.t("el.table.clearFilter")),3),(B(!0),se(rt,null,Bt(n.filters,g=>(B(),se("li",{key:g.value,class:U([n.ns.e("list-item"),n.ns.is("active",n.isActive(g))]),label:g.value,onClick:m=>n.handleSelect(g.value)},qe(g.text),11,jse))),128))],2))]),default:Ee(()=>[_t((B(),se("span",{class:U([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...g)=>n.showFilterPanel&&n.showFilterPanel(...g))},[ye(d,null,{default:Ee(()=>[n.column.filterOpened?(B(),Oe(c,{key:0})):(B(),Oe(u,{key:1}))]),_:1})],2)),[[h,n.hideFilterPanel,n.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var qse=je(Use,[["render",Kse],["__file","filter-panel.vue"]]);function xk(n){const e=Mt();ov(()=>{t.value.addObserver(e)}),St(()=>{i(t.value),r(t.value)}),Ao(()=>{i(t.value),r(t.value)}),Ha(()=>{t.value.removeObserver(e)});const t=I(()=>{const s=n.layout;if(!s)throw new Error("Can not find table layout.");return s}),i=s=>{var o;const a=((o=n.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=s.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=a.length;u<d;u++){const f=a[u],h=f.getAttribute("name"),g=c[h];g&&f.setAttribute("width",g.realWidth||g.width)}},r=s=>{var o,a;const l=((o=n.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const c=((a=n.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",f.style.display=s.scrollY.value?"":"none"}};return{tableLayout:t.value,onColumnsChange:i,onScrollableChange:r}}const Us=Symbol("ElTable");function Yse(n,e){const t=Mt(),i=Qe(Us),r=m=>{m.stopPropagation()},s=(m,v)=>{!v.filters&&v.sortable?g(m,v,!1):v.filterable&&!v.sortable&&r(m),i==null||i.emit("header-click",v,m)},o=(m,v)=>{i==null||i.emit("header-contextmenu",v,m)},a=X(null),l=X(!1),c=X({}),u=(m,v)=>{if(Vt&&!(v.children&&v.children.length>0)&&a.value&&n.border){l.value=!0;const y=i;e("set-drag-visible",!0);const x=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,_=t.vnode.el.querySelector(`th.${v.id}`),w=_.getBoundingClientRect(),S=w.left-x+30;As(_,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:w.right-x,startColumnLeft:w.left-x,tableLeft:x};const T=y==null?void 0:y.refs.resizeProxy;T.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=L=>{const E=L.clientX-c.value.startMouseLeft,O=c.value.startLeft+E;T.style.left=`${Math.max(S,O)}px`},C=()=>{if(l.value){const{startColumnLeft:L,startLeft:E}=c.value,F=Number.parseInt(T.style.left,10)-L;v.width=v.realWidth=F,y==null||y.emit("header-dragend",v.width,E-L,v,m),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",C),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{rr(_,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",C)}},d=(m,v)=>{if(v.children&&v.children.length>0)return;const y=m.target;if(!Vr(y))return;const b=y==null?void 0:y.closest("th");if(!(!v||!v.resizable)&&!l.value&&n.border){const x=b.getBoundingClientRect(),_=document.body.style;x.width>12&&x.right-m.pageX<8?(_.cursor="col-resize",fs(b,"is-sortable")&&(b.style.cursor="col-resize"),a.value=v):l.value||(_.cursor="",fs(b,"is-sortable")&&(b.style.cursor="pointer"),a.value=null)}},f=()=>{Vt&&(document.body.style.cursor="")},h=({order:m,sortOrders:v})=>{if(m==="")return v[0];const y=v.indexOf(m||null);return v[y>v.length-2?0:y+1]},g=(m,v,y)=>{var b;m.stopPropagation();const x=v.order===y?null:y||h(v),_=(b=m.target)==null?void 0:b.closest("th");if(_&&fs(_,"noclick")){rr(_,"noclick");return}if(!v.sortable)return;const w=n.store.states;let S=w.sortProp.value,T;const M=w.sortingColumn.value;(M!==v||M===v&&M.order===null)&&(M&&(M.order=null),w.sortingColumn.value=v,S=v.property),x?T=v.order=x:T=v.order=null,w.sortProp.value=S,w.sortOrder.value=T,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:g,handleFilterClick:r}}function Xse(n){const e=Qe(Us),t=He("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?l.push(c):typeof c=="function"&&l.push(c.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof f=="function"&&(f=f.call(null,{rowIndex:a,columnIndex:l,row:c,column:u}));const h=Jw(l,u.fixed,n.store,c);return Gu(h,"left"),Gu(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(a,l,c,u)=>{const d=Zw(t.b(),l,u.fixed,n.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{rowIndex:a,columnIndex:l,row:c,column:u})),f.push(t.e("cell")),f.filter(g=>!!g).join(" ")}}}const wk=n=>{const e=[];return n.forEach(t=>{t.children?(e.push(t),e.push.apply(e,wk(t.children))):e.push(t)}),e},Zse=n=>{let e=1;const t=(s,o)=>{if(o&&(s.level=o.level+1,e<s.level&&(e=s.level)),s.children){let a=0;s.children.forEach(l=>{t(l,s),a+=l.colSpan}),s.colSpan=a}else s.colSpan=1};n.forEach(s=>{s.level=1,t(s,void 0)});const i=[];for(let s=0;s<e;s++)i.push([]);return wk(n).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(o=>o.isSubColumn=!0)):s.rowSpan=e-s.level+1,i[s.level-1].push(s)}),i};function Jse(n){const e=Qe(Us),t=I(()=>Zse(n.store.states.originColumns.value));return{isGroup:I(()=>{const s=t.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:t}}var Qse=pe({name:"ElTableHeader",components:{ElCheckbox:Gr},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n,{emit:e}){const t=Mt(),i=Qe(Us),r=He("table"),s=X({}),{onColumnsChange:o,onScrollableChange:a}=xk(i);St(async()=>{await at(),await at();const{prop:S,order:T}=n.defaultSort;i==null||i.store.commit("sort",{prop:S,order:T,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:g}=Yse(n,e),{getHeaderRowStyle:m,getHeaderRowClass:v,getHeaderCellStyle:y,getHeaderCellClass:b}=Xse(n),{isGroup:x,toggleAllSelection:_,columnRows:w}=Jse(n);return t.state={onColumnsChange:o,onScrollableChange:a},t.filterPanels=s,{ns:r,filterPanels:s,onColumnsChange:o,onScrollableChange:a,columnRows:w,getHeaderRowClass:v,getHeaderRowStyle:m,getHeaderCellClass:b,getHeaderCellStyle:y,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:g,isGroup:x,toggleAllSelection:_}},render(){const{ns:n,isGroup:e,columnRows:t,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:s,getHeaderRowStyle:o,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:h,$parent:g}=this;let m=1;return ot("thead",{class:{[n.is("group")]:e}},t.map((v,y)=>ot("tr",{class:s(y),key:y,style:o(y)},v.map((b,x)=>(b.rowSpan>m&&(m=b.rowSpan),ot("th",{class:r(y,x,v,b),colspan:b.colSpan,key:`${b.id}-thead`,rowspan:b.rowSpan,style:i(y,x,v,b),onClick:_=>a(_,b),onContextmenu:_=>l(_,b),onMousedown:_=>c(_,b),onMousemove:_=>u(_,b),onMouseout:f},[ot("div",{class:["cell",b.filteredValue&&b.filteredValue.length>0?"highlight":""]},[b.renderHeader?b.renderHeader({column:b,$index:x,store:h,_self:g}):b.label,b.sortable&&ot("span",{onClick:_=>d(_,b),class:"caret-wrapper"},[ot("i",{onClick:_=>d(_,b,"ascending"),class:"sort-caret ascending"}),ot("i",{onClick:_=>d(_,b,"descending"),class:"sort-caret descending"})]),b.filterable&&ot(qse,{store:h,placement:b.filterPlacement||"bottom-start",column:b,upDataColumn:(_,w)=>{b[_]=w}})])]))))))}});function eoe(n){const e=Qe(Us),t=X(""),i=X(ot("div")),r=(h,g,m)=>{var v;const y=e,b=k0(h);let x;const _=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;b&&(x=cE({columns:n.store.states.columns.value},b,_),x&&(y==null||y.emit(`cell-${m}`,g,x,b,h))),y==null||y.emit(`row-${m}`,g,x,h)},s=(h,g)=>{r(h,g,"dblclick")},o=(h,g)=>{n.store.commit("setCurrentRow",g),r(h,g,"click")},a=(h,g)=>{r(h,g,"contextmenu")},l=cr(h=>{n.store.commit("setHoverRow",h)},30),c=cr(()=>{n.store.commit("setHoverRow",null)},30),u=h=>{const g=window.getComputedStyle(h,null),m=Number.parseInt(g.paddingLeft,10)||0,v=Number.parseInt(g.paddingRight,10)||0,y=Number.parseInt(g.paddingTop,10)||0,b=Number.parseInt(g.paddingBottom,10)||0;return{left:m,right:v,top:y,bottom:b}};return{handleDoubleClick:s,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(h,g,m)=>{var v;const y=e,b=k0(h),x=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;if(b){const D=cE({columns:n.store.states.columns.value},b,x),A=y.hoverState={cell:b,column:D,row:g};y==null||y.emit("cell-mouse-enter",A.row,A.column,A.cell,h)}if(!m)return;const _=h.target.querySelector(".cell");if(!(fs(_,`${x}-tooltip`)&&_.childNodes.length))return;const w=document.createRange();w.setStart(_,0),w.setEnd(_,_.childNodes.length);let S=w.getBoundingClientRect().width,T=w.getBoundingClientRect().height;S-Math.floor(S)<.001&&(S=Math.floor(S)),T-Math.floor(T)<.001&&(T=Math.floor(T));const{top:L,left:E,right:O,bottom:F}=u(_),R=E+O,$=L+F;(S+R>_.offsetWidth||T+$>_.offsetHeight||_.scrollWidth>_.offsetWidth)&&Ise(m,b.innerText||b.textContent,b,y)},handleCellMouseLeave:h=>{if(!k0(h))return;const m=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,h)},tooltipContent:t,tooltipTrigger:i}}function toe(n){const e=Qe(Us),t=He("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[t.e("row")];e!=null&&e.props.highlightCurrentRow&&c===n.store.states.currentRow.value&&d.push("current-row"),n.stripe&&u%2===1&&d.push(t.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return typeof f=="string"?d.push(f):typeof f=="function"&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let g=h??{};typeof h=="function"&&(g=h.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const m=Jw(u,n==null?void 0:n.fixed,n.store);return Gu(m,"left"),Gu(m,"right"),Object.assign({},g,m)},getCellClass:(c,u,d,f,h)=>{const g=Zw(t.b(),u,n==null?void 0:n.fixed,n.store,void 0,h),m=[f.id,f.align,f.className,...g],v=e==null?void 0:e.props.cellClassName;return typeof v=="string"?m.push(v):typeof v=="function"&&m.push(v.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),m.push(t.e("cell")),m.filter(y=>!!y).join(" ")},getSpan:(c,u,d,f)=>{let h=1,g=1;const m=e==null?void 0:e.props.spanMethod;if(typeof m=="function"){const v=m({row:c,column:u,rowIndex:d,columnIndex:f});Array.isArray(v)?(h=v[0],g=v[1]):typeof v=="object"&&(h=v.rowspan,g=v.colspan)}return{rowspan:h,colspan:g}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:h,width:g})=>h||g).slice(d,d+u);return Number(f.reduce((h,g)=>Number(h)+Number(g),-1))}}}function noe(n){const e=Qe(Us),t=He("table"),{handleDoubleClick:i,handleClick:r,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=eoe(n),{getRowStyle:f,getRowClass:h,getCellStyle:g,getCellClass:m,getSpan:v,getColspanRealWidth:y}=toe(n),b=I(()=>n.store.states.columns.value.findIndex(({type:T})=>T==="default")),x=(T,M)=>{const C=e.props.rowKey;return C?gi(T,C):M},_=(T,M,C,L=!1)=>{const{tooltipEffect:E,tooltipOptions:O,store:F}=n,{indent:R,columns:$}=F.states,D=h(T,M);let A=!0;return C&&(D.push(t.em("row",`level-${C.level}`)),A=C.display),ot("tr",{style:[A?null:{display:"none"},f(T,M)],class:D,key:x(T,M),onDblclick:P=>i(P,T),onClick:P=>r(P,T),onContextmenu:P=>s(P,T),onMouseenter:()=>o(M),onMouseleave:a},$.value.map((P,z)=>{const{rowspan:Y,colspan:H}=v(T,P,M,z);if(!Y||!H)return null;const V=Object.assign({},P);V.realWidth=y($.value,H,z);const W={store:n.store,_self:n.context||e,column:V,row:T,$index:M,cellIndex:z,expanded:L};z===b.value&&C&&(W.treeNode={indent:C.level*R.value,level:C.level},typeof C.expanded=="boolean"&&(W.treeNode.expanded=C.expanded,"loading"in C&&(W.treeNode.loading=C.loading),"noLazyChildren"in C&&(W.treeNode.noLazyChildren=C.noLazyChildren)));const ie=`${M},${z}`,G=V.columnKey||V.rawColumnKey||"",te=w(z,P,W),oe=P.showOverflowTooltip&&fH({effect:E},O,P.showOverflowTooltip);return ot("td",{style:g(M,z,T,P),class:m(M,z,T,P,H-1),key:`${G}${ie}`,rowspan:Y,colspan:H,onMouseenter:xe=>l(xe,T,oe),onMouseleave:c},[te])}))},w=(T,M,C)=>M.renderCell(C);return{wrappedRowRender:(T,M)=>{const C=n.store,{isRowExpanded:L,assertRowKey:E}=C,{treeData:O,lazyTreeNodeMap:F,childrenColumnName:R,rowKey:$}=C.states,D=C.states.columns.value;if(D.some(({type:N})=>N==="expand")){const N=L(T),P=_(T,M,void 0,N),z=e.renderExpanded;return N?z?[[P,ot("tr",{key:`expanded-row__${P.key}`},[ot("td",{colspan:D.length,class:`${t.e("cell")} ${t.e("expanded-cell")}`},[z({row:T,$index:M,store:C,expanded:N})])])]]:(console.error("[Element Error]renderExpanded is required."),P):[[P]]}else if(Object.keys(O.value).length){E();const N=gi(T,$.value);let P=O.value[N],z=null;P&&(z={expanded:P.expanded,level:P.level,display:!0},typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(z.noLazyChildren=!(P.children&&P.children.length)),z.loading=P.loading));const Y=[_(T,M,z)];if(P){let H=0;const V=(ie,G)=>{ie&&ie.length&&G&&ie.forEach(te=>{const oe={display:G.display&&G.expanded,level:G.level+1,expanded:!1,noLazyChildren:!1,loading:!1},xe=gi(te,$.value);if(xe==null)throw new Error("For nested data item, row-key is required.");if(P={...O.value[xe]},P&&(oe.expanded=P.expanded,P.level=P.level||oe.level,P.display=!!(P.expanded&&oe.display),typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(oe.noLazyChildren=!(P.children&&P.children.length)),oe.loading=P.loading)),H++,Y.push(_(te,M+H,oe)),P){const ue=F.value[xe]||te[R.value];V(ue,P)}})};P.display=!0;const W=F.value[N]||T[R.value];V(W,P)}return Y}else return _(T,M,void 0)},tooltipContent:u,tooltipTrigger:d}}const ioe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var roe=pe({name:"ElTableBody",props:ioe,setup(n){const e=Mt(),t=Qe(Us),i=He("table"),{wrappedRowRender:r,tooltipContent:s,tooltipTrigger:o}=noe(n),{onColumnsChange:a,onScrollableChange:l}=xk(t);return Ve(n.store.states.hoverRow,(c,u)=>{!n.store.states.isComplex.value||!Vt||Ou(()=>{const d=e==null?void 0:e.vnode.el,f=Array.from((d==null?void 0:d.children)||[]).filter(m=>m==null?void 0:m.classList.contains(`${i.e("row")}`)),h=f[u],g=f[c];h&&rr(h,"hover-row"),g&&As(g,"hover-row")})}),Ha(()=>{var c;(c=Pr)==null||c()}),{ns:i,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:r,tooltipContent:s,tooltipTrigger:o}},render(){const{wrappedRowRender:n,store:e}=this,t=e.states.data.value||[];return ot("tbody",{tabIndex:-1},[t.reduce((i,r)=>i.concat(n(r,i.length)),[])])}});function soe(){const n=Qe(Us),e=n==null?void 0:n.store,t=I(()=>e.states.fixedLeafColumnsLength.value),i=I(()=>e.states.rightFixedColumns.value.length),r=I(()=>e.states.columns.value.length),s=I(()=>e.states.fixedColumns.value.length),o=I(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:t,rightFixedLeafCount:i,columnsCount:r,leftFixedCount:s,rightFixedCount:o,columns:e.states.columns}}function ooe(n){const{columns:e}=soe(),t=He("table");return{getCellClasses:(s,o)=>{const a=s[o],l=[t.e("cell"),a.id,a.align,a.labelClassName,...Zw(t.b(),o,a.fixed,n.store)];return a.className&&l.push(a.className),a.children||l.push(t.is("leaf")),l},getCellStyles:(s,o)=>{const a=Jw(o,s.fixed,n.store);return Gu(a,"left"),Gu(a,"right"),a},columns:e}}var aoe=pe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:t,columns:i}=ooe(n);return{ns:He("table"),getCellClasses:e,getCellStyles:t,columns:i}},render(){const{columns:n,getCellStyles:e,getCellClasses:t,summaryMethod:i,sumText:r}=this,s=this.store.states.data.value;let o=[];return i?o=i({columns:n,data:s}):n.forEach((a,l)=>{if(l===0){o[l]=r;return}const c=s.map(h=>Number(h[a.property])),u=[];let d=!0;c.forEach(h=>{if(!Number.isNaN(+h)){d=!1;const g=`${h}`.split(".")[1];u.push(g?g.length:0)}});const f=Math.max.apply(null,u);d?o[l]="":o[l]=c.reduce((h,g)=>{const m=Number(g);return Number.isNaN(+m)?h:Number.parseFloat((h+g).toFixed(Math.min(f,20)))},0)}),ot(ot("tfoot",[ot("tr",{},[...n.map((a,l)=>ot("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:t(n,l),style:e(a,l)},[ot("div",{class:["cell",a.labelClassName]},[o[l]])]))])]))}});function loe(n){return{setCurrentRow:u=>{n.commit("setCurrentRow",u)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(u,d)=>{n.toggleRowSelection(u,d,!1),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:u=>{n.clearFilter(u)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(u,d)=>{n.toggleRowExpansionAdapter(u,d)},clearSort:()=>{n.clearSort()},sort:(u,d)=>{n.commit("sort",{prop:u,order:d})}}}function coe(n,e,t,i){const r=X(!1),s=X(null),o=X(!1),a=P=>{o.value=P},l=X({width:null,height:null,headerHeight:null}),c=X(!1),u={display:"inline-block",verticalAlign:"middle"},d=X(),f=X(0),h=X(0),g=X(0),m=X(0),v=X(0);yi(()=>{e.setHeight(n.height)}),yi(()=>{e.setMaxHeight(n.maxHeight)}),Ve(()=>[n.currentRowKey,t.states.rowKey],([P,z])=>{!p(z)||!p(P)||t.setCurrentRowKey(`${P}`)},{immediate:!0}),Ve(()=>n.data,P=>{i.store.commit("setData",P)},{immediate:!0,deep:!0}),yi(()=>{n.expandRowKeys&&t.setExpandRowKeysAdapter(n.expandRowKeys)});const y=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},b=(P,z)=>{const{pixelX:Y,pixelY:H}=z;Math.abs(Y)>=Math.abs(H)&&(i.refs.bodyWrapper.scrollLeft+=z.pixelX/5)},x=I(()=>n.height||n.maxHeight||t.states.fixedColumns.value.length>0||t.states.rightFixedColumns.value.length>0),_=I(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),w=()=>{x.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(C)};St(async()=>{await at(),t.updateColumns(),L(),requestAnimationFrame(w);const P=i.vnode.el,z=i.refs.headerWrapper;n.flexible&&P&&P.parentElement&&(P.parentElement.style.minWidth="0"),l.value={width:d.value=P.offsetWidth,height:P.offsetHeight,headerHeight:n.showHeader&&z?z.offsetHeight:null},t.states.columns.value.forEach(Y=>{Y.filteredValue&&Y.filteredValue.length&&i.store.commit("filterChange",{column:Y,values:Y.filteredValue,silent:!0})}),i.$ready=!0});const S=(P,z)=>{if(!P)return;const Y=Array.from(P.classList).filter(H=>!H.startsWith("is-scrolling-"));Y.push(e.scrollX.value?z:"is-scrolling-none"),P.className=Y.join(" ")},T=P=>{const{tableWrapper:z}=i.refs;S(z,P)},M=P=>{const{tableWrapper:z}=i.refs;return!!(z&&z.classList.contains(P))},C=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const G="is-scrolling-none";M(G)||T(G);return}const P=i.refs.scrollBarRef.wrapRef;if(!P)return;const{scrollLeft:z,offsetWidth:Y,scrollWidth:H}=P,{headerWrapper:V,footerWrapper:W}=i.refs;V&&(V.scrollLeft=z),W&&(W.scrollLeft=z);const ie=H-Y-1;z>=ie?T("is-scrolling-right"):T(z===0?"is-scrolling-left":"is-scrolling-middle")},L=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&gn(i.refs.scrollBarRef.wrapRef,"scroll",C,{passive:!0}),n.fit?bn(i.vnode.el,E):gn(window,"resize",E),bn(i.refs.bodyWrapper,()=>{var P,z;E(),(z=(P=i.refs)==null?void 0:P.scrollBarRef)==null||z.update()}))},E=()=>{var P,z,Y,H;const V=i.vnode.el;if(!i.$ready||!V)return;let W=!1;const{width:ie,height:G,headerHeight:te}=l.value,oe=d.value=V.offsetWidth;ie!==oe&&(W=!0);const xe=V.offsetHeight;(n.height||x.value)&&G!==xe&&(W=!0);const ue=n.tableLayout==="fixed"?i.refs.headerWrapper:(P=i.refs.tableHeaderRef)==null?void 0:P.$el;n.showHeader&&(ue==null?void 0:ue.offsetHeight)!==te&&(W=!0),f.value=((z=i.refs.tableWrapper)==null?void 0:z.scrollHeight)||0,g.value=(ue==null?void 0:ue.scrollHeight)||0,m.value=((Y=i.refs.footerWrapper)==null?void 0:Y.offsetHeight)||0,v.value=((H=i.refs.appendWrapper)==null?void 0:H.offsetHeight)||0,h.value=f.value-g.value-m.value-v.value,W&&(l.value={width:oe,height:xe,headerHeight:n.showHeader&&(ue==null?void 0:ue.offsetHeight)||0},w())},O=Gn(),F=I(()=>{const{bodyWidth:P,scrollY:z,gutterWidth:Y}=e;return P.value?`${P.value-(z.value?Y:0)}px`:""}),R=I(()=>n.maxHeight?"fixed":n.tableLayout),$=I(()=>{if(n.data&&n.data.length)return null;let P="100%";n.height&&h.value&&(P=`${h.value}px`);const z=d.value;return{width:z?`${z}px`:"",height:P}}),D=I(()=>n.height?{height:Number.isNaN(Number(n.height))?n.height:`${n.height}px`}:n.maxHeight?{maxHeight:Number.isNaN(Number(n.maxHeight))?n.maxHeight:`${n.maxHeight}px`}:{}),A=I(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${g.value+m.value}px)`}:{maxHeight:`${n.maxHeight-g.value-m.value}px`}:{});return{isHidden:r,renderExpanded:s,setDragVisible:a,isGroup:c,handleMouseLeave:y,handleHeaderFooterMousewheel:b,tableSize:O,emptyBlockStyle:$,handleFixedMousewheel:(P,z)=>{const Y=i.refs.bodyWrapper;if(Math.abs(z.spinY)>0){const H=Y.scrollTop;z.pixelY<0&&H!==0&&P.preventDefault(),z.pixelY>0&&Y.scrollHeight-Y.clientHeight>H&&P.preventDefault(),Y.scrollTop+=Math.ceil(z.pixelY/5)}else Y.scrollLeft+=Math.ceil(z.pixelX/5)},resizeProxyVisible:o,bodyWidth:F,resizeState:l,doLayout:w,tableBodyStyles:_,tableLayout:R,scrollbarViewStyle:u,tableInnerStyle:D,scrollbarStyle:A}}function uoe(n){const e=X(),t=()=>{const r=n.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},o=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{o.forEach(a=>a())}),e.value.observe(r,s)};St(()=>{t()}),Ha(()=>{var i;(i=e.value)==null||i.disconnect()})}var doe={data:{type:Array,default:()=>[]},size:ni,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function Sk(n){const e=n.tableLayout==="auto";let t=n.columns||[];e&&t.every(r=>r.width===void 0)&&(t=[]);const i=r=>{const s={key:`${n.tableLayout}_${r.id}`,style:{},name:void 0};return e?s.style={width:`${r.width}px`}:s.name=r.id,s};return ot("colgroup",{},t.map(r=>ot("col",i(r))))}Sk.props=["columns","tableLayout"];const foe=()=>{const n=X(),e=(s,o)=>{const a=n.value;a&&a.scrollTo(s,o)},t=(s,o)=>{const a=n.value;a&&ut(o)&&["Top","Left"].includes(s)&&a[`setScroll${s}`](o)};return{scrollBarRef:n,scrollTo:e,setScrollTop:s=>t("Top",s),setScrollLeft:s=>t("Left",s)}};let hoe=1;const poe=pe({name:"ElTable",directives:{Mousewheel:sK},components:{TableHeader:Qse,TableBody:roe,TableFooter:aoe,ElScrollbar:ko,hColgroup:Sk},props:doe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(n){const{t:e}=Ut(),t=He("table"),i=Mt();Dt(Us,i);const r=zse(i,n);i.store=r;const s=new Vse({store:i.store,table:i,fit:n.fit,showHeader:n.showHeader});i.layout=s;const o=I(()=>(r.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:g,sort:m}=loe(r),{isHidden:v,renderExpanded:y,setDragVisible:b,isGroup:x,handleMouseLeave:_,handleHeaderFooterMousewheel:w,tableSize:S,emptyBlockStyle:T,handleFixedMousewheel:M,resizeProxyVisible:C,bodyWidth:L,resizeState:E,doLayout:O,tableBodyStyles:F,tableLayout:R,scrollbarViewStyle:$,tableInnerStyle:D,scrollbarStyle:A}=coe(n,s,r,i),{scrollBarRef:N,scrollTo:P,setScrollLeft:z,setScrollTop:Y}=foe(),H=cr(O,50),V=`${t.namespace.value}-table_${hoe++}`;i.tableId=V,i.state={isGroup:x,resizeState:E,doLayout:O,debouncedUpdateLayout:H};const W=I(()=>n.sumText||e("el.table.sumText")),ie=I(()=>n.emptyText||e("el.table.emptyText"));return uoe(i),{ns:t,layout:s,store:r,handleHeaderFooterMousewheel:w,handleMouseLeave:_,tableId:V,tableSize:S,isHidden:v,isEmpty:o,renderExpanded:y,resizeProxyVisible:C,resizeState:E,isGroup:x,bodyWidth:L,tableBodyStyles:F,emptyBlockStyle:T,debouncedUpdateLayout:H,handleFixedMousewheel:M,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:g,doLayout:O,sort:m,t:e,setDragVisible:b,context:i,computedSumText:W,computedEmptyText:ie,tableLayout:R,scrollbarViewStyle:$,tableInnerStyle:D,scrollbarStyle:A,scrollBarRef:N,scrollTo:P,setScrollLeft:z,setScrollTop:Y}}}),moe=["data-prefix"],goe={ref:"hiddenColumns",class:"hidden-columns"};function voe(n,e,t,i,r,s){const o=Ct("hColgroup"),a=Ct("table-header"),l=Ct("table-body"),c=Ct("table-footer"),u=Ct("el-scrollbar"),d=Th("mousewheel");return B(),se("div",{ref:"tableWrapper",class:U([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:tt(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...f)=>n.handleMouseLeave&&n.handleMouseLeave(...f))},[de("div",{class:U(n.ns.e("inner-wrapper")),style:tt(n.tableInnerStyle)},[de("div",goe,[Be(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?_t((B(),se("div",{key:0,ref:"headerWrapper",class:U(n.ns.e("header-wrapper"))},[de("table",{ref:"tableHeader",class:U(n.ns.e("header")),style:tt(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ye(o,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),ye(a,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,n.handleHeaderFooterMousewheel]]):ke("v-if",!0),de("div",{ref:"bodyWrapper",class:U(n.ns.e("body-wrapper"))},[ye(u,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn},{default:Ee(()=>[de("table",{ref:"tableBody",class:U(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:tt({width:n.bodyWidth,tableLayout:n.tableLayout})},[ye(o,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(B(),Oe(a,{key:0,ref:"tableHeaderRef",class:U(n.ns.e("body-header")),border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):ke("v-if",!0),ye(l,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),n.showSummary&&n.tableLayout==="auto"?(B(),Oe(c,{key:1,class:U(n.ns.e("body-footer")),border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ke("v-if",!0)],6),n.isEmpty?(B(),se("div",{key:0,ref:"emptyBlock",style:tt(n.emptyBlockStyle),class:U(n.ns.e("empty-block"))},[de("span",{class:U(n.ns.e("empty-text"))},[Be(n.$slots,"empty",{},()=>[Ht(qe(n.computedEmptyText),1)])],2)],6)):ke("v-if",!0),n.$slots.append?(B(),se("div",{key:1,ref:"appendWrapper",class:U(n.ns.e("append-wrapper"))},[Be(n.$slots,"append")],2)):ke("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),n.showSummary&&n.tableLayout==="fixed"?_t((B(),se("div",{key:1,ref:"footerWrapper",class:U(n.ns.e("footer-wrapper"))},[de("table",{class:U(n.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:tt(n.tableBodyStyles)},[ye(o,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),ye(c,{border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Wt,!n.isEmpty],[d,n.handleHeaderFooterMousewheel]]):ke("v-if",!0),n.border||n.isGroup?(B(),se("div",{key:2,class:U(n.ns.e("border-left-patch"))},null,2)):ke("v-if",!0)],6),_t(de("div",{ref:"resizeProxy",class:U(n.ns.e("column-resize-proxy"))},null,2),[[Wt,n.resizeProxyVisible]])],46,moe)}var yoe=je(poe,[["render",voe],["__file","table.vue"]]);const boe={selection:"table-column--selection",expand:"table__expand-column"},_oe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},xoe=n=>boe[n]||"",woe={selection:{renderHeader({store:n,column:e}){function t(){return n.states.data.value&&n.states.data.value.length===0}return ot(Gr,{disabled:t(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:t,$index:i}){return ot(Gr,{disabled:e.selectable?!e.selectable.call(null,n,i):!1,size:t.states.tableSize.value,onChange:()=>{t.commit("rowSelectedChanged",n)},onClick:r=>r.stopPropagation(),modelValue:t.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let t=e+1;const i=n.index;return typeof i=="number"?t=e+i:typeof i=="function"&&(t=i(e)),ot("div",{},[t])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:t}){const{ns:i}=e,r=[i.e("expand-icon")];return t&&r.push(i.em("expand-icon","expanded")),ot("div",{class:r,onClick:function(o){o.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[ot(et,null,{default:()=>[ot($i)]})]})},sortable:!1,resizable:!1}};function Soe({row:n,column:e,$index:t}){var i;const r=e.property,s=r&&Om(n,r).value;return e&&e.formatter?e.formatter(n,e,s,t):((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||""}function Moe({row:n,treeNode:e,store:t},i=!1){const{ns:r}=t;if(!e)return i?[ot("span",{class:r.e("placeholder")})]:null;const s=[],o=function(a){a.stopPropagation(),!e.loading&&t.loadOrToggle(n)};if(e.indent&&s.push(ot("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let l=$i;e.loading&&(l=Wa),s.push(ot("div",{class:a,onClick:o},{default:()=>[ot(et,{class:{[r.is("loading")]:e.loading}},{default:()=>[ot(l)]})]}))}else s.push(ot("span",{class:r.e("placeholder")}));return s}function fE(n,e){return n.reduce((t,i)=>(t[i]=i,t),e)}function Toe(n,e){const t=Mt();return{registerComplexWatchers:()=>{const s=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=fE(s,o);Object.keys(a).forEach(l=>{const c=o[l];zt(e,c)&&Ve(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=Xw(u)),c==="minWidth"&&l==="realMinWidth"&&(d=gk(u)),t.columnConfig.value[c]=d,t.columnConfig.value[l]=d;const f=c==="fixed";n.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=fE(s,o);Object.keys(a).forEach(l=>{const c=o[l];zt(e,c)&&Ve(()=>e[c],u=>{t.columnConfig.value[l]=u})})}}}function Eoe(n,e,t){const i=Mt(),r=X(""),s=X(!1),o=X(),a=X(),l=He("table");yi(()=>{o.value=n.align?`is-${n.align}`:null,o.value}),yi(()=>{a.value=n.headerAlign?`is-${n.headerAlign}`:o.value,a.value});const c=I(()=>{let _=i.vnode.vParent||i.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),u=I(()=>{const{store:_}=i.parent;if(!_)return!1;const{treeData:w}=_.states,S=w.value;return S&&Object.keys(S).length>0}),d=X(Xw(n.width)),f=X(gk(n.minWidth)),h=_=>(d.value&&(_.width=d.value),f.value&&(_.minWidth=f.value),!d.value&&f.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),g=_=>{const w=_.type,S=woe[w]||{};Object.keys(S).forEach(M=>{const C=S[M];M!=="className"&&C!==void 0&&(_[M]=C)});const T=xoe(w);if(T){const M=`${p(l.namespace)}-${T}`;_.className=_.className?`${_.className} ${M}`:M}return _},m=_=>{Array.isArray(_)?_.forEach(S=>w(S)):w(_);function w(S){var T;((T=S==null?void 0:S.type)==null?void 0:T.name)==="ElTableColumn"&&(S.vParent=i)}};return{columnId:r,realAlign:o,isSubColumn:s,realHeaderAlign:a,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:g,setColumnRenders:_=>{n.renderHeader||_.type!=="selection"&&(_.renderHeader=S=>(i.columnConfig.value.label,Be(e,"header",S,()=>[_.label])));let w=_.renderCell;return _.type==="expand"?(_.renderCell=S=>ot("div",{class:"cell"},[w(S)]),t.value.renderExpanded=S=>e.default?e.default(S):e.default):(w=w||Soe,_.renderCell=S=>{let T=null;if(e.default){const F=e.default(S);T=F.some(R=>R.type!==zi)?F:w(S)}else T=w(S);const{columns:M}=t.value.store.states,C=M.value.findIndex(F=>F.type==="default"),L=u.value&&S.cellIndex===C,E=Moe(S,L),O={class:"cell",style:{}};return _.showOverflowTooltip&&(O.class=`${O.class} ${p(l.namespace)}-tooltip`,O.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),m(T),ot("div",O,[E,T])}),_},getPropsData:(..._)=>_.reduce((w,S)=>(Array.isArray(S)&&S.forEach(T=>{w[T]=n[T]}),w),{}),getColumnElIndex:(_,w)=>Array.prototype.indexOf.call(_,w),updateColumnOrder:()=>{t.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var Coe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let Aoe=1;var Mk=pe({name:"ElTableColumn",components:{ElCheckbox:Gr},props:Coe,setup(n,{slots:e}){const t=Mt(),i=X({}),r=I(()=>{let x=t.parent;for(;x&&!x.tableId;)x=x.parent;return x}),{registerNormalWatchers:s,registerComplexWatchers:o}=Toe(r,n),{columnId:a,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:g,getColumnElIndex:m,realAlign:v,updateColumnOrder:y}=Eoe(n,e,r),b=u.value;a.value=`${b.tableId||b.columnId}_column_${Aoe++}`,ov(()=>{l.value=r.value!==b;const x=n.type||"default",_=n.sortable===""?!0:n.sortable,w=Hn(n.showOverflowTooltip)?b.props.showOverflowTooltip:n.showOverflowTooltip,S={..._oe[x],id:a.value,type:x,property:n.prop||n.property,align:v,headerAlign:c,showOverflowTooltip:w,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:n.index,rawColumnKey:t.vnode.key};let E=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);E=Ase(S,E),E=Rse(h,d,f)(E),i.value=E,s(),o()}),St(()=>{var x;const _=u.value,w=l.value?_.vnode.el.children:(x=_.refs.hiddenColumns)==null?void 0:x.children,S=()=>m(w||[],t.vnode.el);i.value.getColumnIndex=S,S()>-1&&r.value.store.commit("insertColumn",i.value,l.value?_.columnConfig.value:null,y)}),sn(()=>{r.value.store.commit("removeColumn",i.value,l.value?b.columnConfig.value:null,y)}),t.columnId=a.value,t.columnConfig=i},render(){var n,e,t;try{const i=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(i))for(const o of i)((t=o.type)==null?void 0:t.name)==="ElTableColumn"||o.shapeFlag&2?r.push(o):o.type===rt&&Array.isArray(o.children)&&o.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!vt(a==null?void 0:a.children)&&r.push(a)});return ot("div",r)}catch{return ot("div",[])}}});const Loe=At(yoe,{TableColumn:Mk}),Roe=xn(Mk);var nh=(n=>(n.ASC="asc",n.DESC="desc",n))(nh||{}),ih=(n=>(n.CENTER="center",n.RIGHT="right",n))(ih||{}),Tk=(n=>(n.LEFT="left",n.RIGHT="right",n))(Tk||{});const __={asc:"desc",desc:"asc"},rh=Symbol("placeholder"),Poe=(n,e,t)=>{var i;const r={flexGrow:0,flexShrink:0,...t?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};t||(r.flexShrink=1);const s={...(i=n.style)!=null?i:{},...r,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(s.maxWidth=n.maxWidth),n.minWidth&&(s.minWidth=n.minWidth)),s};function Ioe(n,e,t){const i=I(()=>p(e).filter(m=>!m.hidden)),r=I(()=>p(i).filter(m=>m.fixed==="left"||m.fixed===!0)),s=I(()=>p(i).filter(m=>m.fixed==="right")),o=I(()=>p(i).filter(m=>!m.fixed)),a=I(()=>{const m=[];return p(r).forEach(v=>{m.push({...v,placeholderSign:rh})}),p(o).forEach(v=>{m.push(v)}),p(s).forEach(v=>{m.push({...v,placeholderSign:rh})}),m}),l=I(()=>p(r).length||p(s).length),c=I(()=>p(e).reduce((v,y)=>(v[y.key]=Poe(y,p(t),n.fixed),v),{})),u=I(()=>p(i).reduce((m,v)=>m+v.width,0)),d=m=>p(e).find(v=>v.key===m),f=m=>p(c)[m],h=(m,v)=>{m.width=v};function g(m){var v;const{key:y}=m.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:x}=n;let _=nh.ASC;It(b)?_=__[b[y]]:_=__[x.order],(v=n.onColumnSort)==null||v.call(n,{column:d(y),key:y,order:_})}return{columns:e,columnsStyles:c,columnsTotalWidth:u,fixedColumnsOnLeft:r,fixedColumnsOnRight:s,hasFixedColumns:l,mainColumns:a,normalColumns:o,visibleColumns:i,getColumn:d,getColumnStyle:f,updateColumnWidth:h,onColumnSorted:g}}const koe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:i,onMaybeEndReached:r})=>{const s=X({scrollLeft:0,scrollTop:0});function o(h){var g,m,v;const{scrollTop:y}=h;(g=e.value)==null||g.scrollTo(h),(m=t.value)==null||m.scrollToTop(y),(v=i.value)==null||v.scrollToTop(y)}function a(h){s.value=h,o(h)}function l(h){s.value.scrollTop=h,o(p(s))}function c(h){var g,m;s.value.scrollLeft=h,(m=(g=e.value)==null?void 0:g.scrollTo)==null||m.call(g,p(s))}function u(h){var g;a(h),(g=n.onScroll)==null||g.call(n,h)}function d({scrollTop:h}){const{scrollTop:g}=p(s);h!==g&&l(h)}function f(h,g="auto"){var m;(m=e.value)==null||m.scrollToRow(h,g)}return Ve(()=>p(s).scrollTop,(h,g)=>{h>g&&r()}),{scrollPos:s,scrollTo:a,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},Doe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:i})=>{const r=Mt(),{emit:s}=r,o=rn(!1),a=rn(null),l=X(n.defaultExpandedRowKeys||[]),c=X(-1),u=rn(null),d=X({}),f=X({}),h=rn({}),g=rn({}),m=rn({}),v=I(()=>ut(n.estimatedRowHeight));function y(M){var C;(C=n.onRowsRendered)==null||C.call(n,M),M.rowCacheEnd>p(c)&&(c.value=M.rowCacheEnd)}function b({hovered:M,rowKey:C}){a.value=M?C:null}function x({expanded:M,rowData:C,rowIndex:L,rowKey:E}){var O,F;const R=[...p(l)],$=R.indexOf(E);M?$===-1&&R.push(E):$>-1&&R.splice($,1),l.value=R,s("update:expandedRowKeys",R),(O=n.onRowExpand)==null||O.call(n,{expanded:M,rowData:C,rowIndex:L,rowKey:E}),(F=n.onExpandedRowsChange)==null||F.call(n,R)}const _=cr(()=>{var M,C,L,E;o.value=!0,d.value={...p(d),...p(f)},w(p(u),!1),f.value={},u.value=null,(M=e.value)==null||M.forceUpdate(),(C=t.value)==null||C.forceUpdate(),(L=i.value)==null||L.forceUpdate(),(E=r.proxy)==null||E.$forceUpdate(),o.value=!1},0);function w(M,C=!1){p(v)&&[e,t,i].forEach(L=>{const E=p(L);E&&E.resetAfterRowIndex(M,C)})}function S(M,C,L){const E=p(u);(E===null||E>L)&&(u.value=L),f.value[M]=C}function T({rowKey:M,height:C,rowIndex:L},E){E?E===Tk.RIGHT?m.value[M]=C:h.value[M]=C:g.value[M]=C;const O=Math.max(...[h,m,g].map(F=>F.value[M]||0));p(d)[M]!==O&&(S(M,O,L),_())}return{hoveringRowKey:a,expandedRowKeys:l,lastRenderedRowIndex:c,isDynamic:v,isResetting:o,rowHeights:d,resetAfterIndex:w,onRowExpanded:x,onRowHovered:b,onRowsRendered:y,onRowHeightChange:T}},Noe=(n,{expandedRowKeys:e,lastRenderedRowIndex:t,resetAfterIndex:i})=>{const r=X({}),s=I(()=>{const a={},{data:l,rowKey:c}=n,u=p(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(g=>f.add(g));let h=l.slice();for(h.forEach(g=>a[g[c]]=0);h.length>0;){const g=h.shift();d.push(g),f.has(g[c])&&Array.isArray(g.children)&&g.children.length>0&&(h=[...g.children,...h],g.children.forEach(m=>a[m[c]]=a[g[c]]+1))}return r.value=a,d}),o=I(()=>{const{data:a,expandColumnKey:l}=n;return l?p(s):a});return Ve(o,(a,l)=>{a!==l&&(t.value=-1,i(0,!0))}),{data:o,depthMap:r}},Ooe=(n,e)=>n+e,Zm=n=>Je(n)?n.reduce(Ooe,0):n,Wl=(n,e,t={})=>dt(n)?n(e):n??t,ma=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=Nn(n[e])}),n),Ek=n=>un(n)?e=>ot(n,e):n,Foe=(n,{columnsTotalWidth:e,data:t,fixedColumnsOnLeft:i,fixedColumnsOnRight:r})=>{const s=I(()=>{const{fixed:x,width:_,vScrollbarSize:w}=n,S=_-w;return x?Math.max(Math.round(p(e)),S):S}),o=I(()=>p(s)+(n.fixed?n.vScrollbarSize:0)),a=I(()=>{const{height:x=0,maxHeight:_=0,footerHeight:w,hScrollbarSize:S}=n;if(_>0){const T=p(g),M=p(l),L=p(h)+T+M+S;return Math.min(L,_-w)}return x-w}),l=I(()=>{const{rowHeight:x,estimatedRowHeight:_}=n,w=p(t);return ut(_)?w.length*_:w.length*x}),c=I(()=>{const{maxHeight:x}=n,_=p(a);if(ut(x)&&x>0)return _;const w=p(l)+p(h)+p(g);return Math.min(_,w)}),u=x=>x.width,d=I(()=>Zm(p(i).map(u))),f=I(()=>Zm(p(r).map(u))),h=I(()=>Zm(n.headerHeight)),g=I(()=>{var x;return(((x=n.fixedData)==null?void 0:x.length)||0)*n.rowHeight}),m=I(()=>p(a)-p(h)-p(g)),v=I(()=>{const{style:x={},height:_,width:w}=n;return ma({...x,height:_,width:w})}),y=I(()=>ma({height:n.footerHeight})),b=I(()=>({top:Nn(p(h)),bottom:Nn(n.footerHeight),width:Nn(n.width)}));return{bodyWidth:s,fixedTableHeight:c,mainTableHeight:a,leftTableWidth:d,rightTableWidth:f,headerWidth:o,rowsHeight:l,windowHeight:m,footerHeight:y,emptyStyle:b,rootStyle:v,headerHeight:h}},Boe=n=>{const e=X(),t=X(0),i=X(0);let r;return St(()=>{r=bn(e,([s])=>{const{width:o,height:a}=s.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(s.target),f=Number.parseInt(l)||0,h=Number.parseInt(c)||0,g=Number.parseInt(u)||0,m=Number.parseInt(d)||0;t.value=o-f-h,i.value=a-g-m}).stop}),sn(()=>{r==null||r()}),Ve([t,i],([s,o])=>{var a;(a=n.onResize)==null||a.call(n,{width:s,height:o})}),{sizer:e,width:t,height:i}};function zoe(n){const e=X(),t=X(),i=X(),{columns:r,columnsStyles:s,columnsTotalWidth:o,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=Ioe(n,tn(n,"columns"),tn(n,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:g,scrollToRow:m,onScroll:v,onVerticalScroll:y,scrollPos:b}=koe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:i,onMaybeEndReached:re}),{expandedRowKeys:x,hoveringRowKey:_,lastRenderedRowIndex:w,isDynamic:S,isResetting:T,rowHeights:M,resetAfterIndex:C,onRowExpanded:L,onRowHeightChange:E,onRowHovered:O,onRowsRendered:F}=Doe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:i}),{data:R,depthMap:$}=Noe(n,{expandedRowKeys:x,lastRenderedRowIndex:w,resetAfterIndex:C}),{bodyWidth:D,fixedTableHeight:A,mainTableHeight:N,leftTableWidth:P,rightTableWidth:z,headerWidth:Y,rowsHeight:H,windowHeight:V,footerHeight:W,emptyStyle:ie,rootStyle:G,headerHeight:te}=Foe(n,{columnsTotalWidth:o,data:R,fixedColumnsOnLeft:a,fixedColumnsOnRight:l}),oe=rn(!1),xe=X(),ue=I(()=>{const j=p(R).length===0;return Je(n.fixedData)?n.fixedData.length===0&&j:j});function we(j){const{estimatedRowHeight:Z,rowHeight:le,rowKey:J}=n;return Z?p(M)[p(R)[j][J]]||Z:le}function re(){const{onEndReached:j}=n;if(!j)return;const{scrollTop:Z}=p(b),le=p(H),J=p(V),k=le-(Z+J)+n.hScrollbarSize;p(w)>=0&&le===Z+p(N)-p(te)&&j(k)}return Ve(()=>n.expandedRowKeys,j=>x.value=j,{deep:!0}),{columns:r,containerRef:xe,mainTableRef:e,leftTableRef:t,rightTableRef:i,isDynamic:S,isResetting:T,isScrolling:oe,hoveringRowKey:_,hasFixedColumns:c,columnsStyles:s,columnsTotalWidth:o,data:R,expandedRowKeys:x,depthMap:$,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:D,emptyStyle:ie,rootStyle:G,headerWidth:Y,footerHeight:W,mainTableHeight:N,fixedTableHeight:A,leftTableWidth:P,rightTableWidth:z,showEmpty:ue,getRowHeight:we,onColumnSorted:d,onRowHovered:O,onRowExpanded:L,onRowsRendered:F,onRowHeightChange:E,scrollTo:f,scrollToLeft:h,scrollToTop:g,scrollToRow:m,onScroll:v,onVerticalScroll:y}}const Qw=Symbol("tableV2"),Ck=String,Uh={type:Le(Array),required:!0},e1={type:Le(Array)},Ak={...e1,required:!0},$oe=String,hE={type:Le(Array),default:()=>yn([])},pl={type:Number,required:!0},Lk={type:Le([String,Number,Symbol]),default:"id"},pE={type:Le(Object)},Sl=Ge({class:String,columns:Uh,columnsStyles:{type:Le(Object),required:!0},depth:Number,expandColumnKey:$oe,estimatedRowHeight:{...Il.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Le(Function)},onRowHover:{type:Le(Function)},onRowHeightChange:{type:Le(Function)},rowData:{type:Le(Object),required:!0},rowEventHandlers:{type:Le(Object)},rowIndex:{type:Number,required:!0},rowKey:Lk,style:{type:Le(Object)}}),D0={type:Number,required:!0},t1=Ge({class:String,columns:Uh,fixedHeaderData:{type:Le(Array)},headerData:{type:Le(Array),required:!0},headerHeight:{type:Le([Number,Array]),default:50},rowWidth:D0,rowHeight:{type:Number,default:50},height:D0,width:D0}),Jm=Ge({columns:Uh,data:Ak,fixedData:e1,estimatedRowHeight:Sl.estimatedRowHeight,width:pl,height:pl,headerWidth:pl,headerHeight:t1.headerHeight,bodyWidth:pl,rowHeight:pl,cache:JI.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Il.scrollbarAlwaysOn,scrollbarStartGap:Il.scrollbarStartGap,scrollbarEndGap:Il.scrollbarEndGap,class:Ck,style:pE,containerStyle:pE,getRowHeight:{type:Le(Function),required:!0},rowKey:Sl.rowKey,onRowsRendered:{type:Le(Function)},onScroll:{type:Le(Function)}}),Voe=Ge({cache:Jm.cache,estimatedRowHeight:Sl.estimatedRowHeight,rowKey:Lk,headerClass:{type:Le([String,Function])},headerProps:{type:Le([Object,Function])},headerCellProps:{type:Le([Object,Function])},headerHeight:t1.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Le([String,Function])},rowProps:{type:Le([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Le([Object,Function])},columns:Uh,data:Ak,dataGetter:{type:Le(Function)},fixedData:e1,expandColumnKey:Sl.expandColumnKey,expandedRowKeys:hE,defaultExpandedRowKeys:hE,class:Ck,fixed:Boolean,style:{type:Le(Object)},width:pl,height:pl,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Il.hScrollbarSize,vScrollbarSize:Il.vScrollbarSize,scrollbarAlwaysOn:tk.alwaysOn,sortBy:{type:Le(Object),default:()=>({})},sortState:{type:Le(Object),default:void 0},onColumnSort:{type:Le(Function)},onExpandedRowsChange:{type:Le(Function)},onEndReached:{type:Le(Function)},onRowExpand:Sl.onRowExpand,onScroll:Jm.onScroll,onRowsRendered:Jm.onRowsRendered,rowEventHandlers:Sl.rowEventHandlers}),n1=(n,{slots:e})=>{var t;const{cellData:i,style:r}=n,s=((t=i==null?void 0:i.toString)==null?void 0:t.call(i))||"",o=Be(e,"default",n,()=>[s]);return ye("div",{class:n.class,title:s,style:r},[o])};n1.displayName="ElTableV2Cell";n1.inheritAttrs=!1;const i1=(n,{slots:e})=>Be(e,"default",n,()=>{var t,i;return[ye("div",{class:n.class,title:(t=n.column)==null?void 0:t.title},[(i=n.column)==null?void 0:i.title])]});i1.displayName="ElTableV2HeaderCell";i1.inheritAttrs=!1;const Hoe=Ge({class:String,columns:Uh,columnsStyles:{type:Le(Object),required:!0},headerIndex:Number,style:{type:Le(Object)}}),Uoe=pe({name:"ElTableV2HeaderRow",props:Hoe,setup(n,{slots:e}){return()=>{const{columns:t,columnsStyles:i,headerIndex:r,style:s}=n;let o=t.map((a,l)=>e.cell({columns:t,column:a,columnIndex:l,headerIndex:r,style:i[a.key]}));return e.header&&(o=e.header({cells:o.map(a=>Je(a)&&a.length===1?a[0]:a),columns:t,headerIndex:r})),ye("div",{class:n.class,style:s,role:"row"},[o])}}}),Woe="ElTableV2Header",Goe=pe({name:Woe,props:t1,setup(n,{slots:e,expose:t}){const i=He("table-v2"),r=X(),s=I(()=>ma({width:n.width,height:n.height})),o=I(()=>ma({width:n.rowWidth,height:n.height})),a=I(()=>$l(p(n.headerHeight))),l=d=>{const f=p(r);at(()=>{f!=null&&f.scroll&&f.scroll({left:d})})},c=()=>{const d=i.e("fixed-header-row"),{columns:f,fixedHeaderData:h,rowHeight:g}=n;return h==null?void 0:h.map((m,v)=>{var y;const b=ma({height:g,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:d,columns:f,rowData:m,rowIndex:-(v+1),style:b})})},u=()=>{const d=i.e("dynamic-header-row"),{columns:f}=n;return p(a).map((h,g)=>{var m;const v=ma({width:"100%",height:h});return(m=e.dynamic)==null?void 0:m.call(e,{class:d,columns:f,headerIndex:g,style:v})})};return t({scrollToLeft:l}),()=>{if(!(n.height<=0))return ye("div",{ref:r,class:n.class,style:p(s),role:"rowgroup"},[ye("div",{style:p(o),class:i.e("header")},[u(),c()])])}}}),joe=n=>{const{isScrolling:e}=Qe(Qw),t=X(!1),i=X(),r=I(()=>ut(n.estimatedRowHeight)&&n.rowIndex>=0),s=(l=!1)=>{const c=p(i);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:h,style:g}=n,{height:m}=c.getBoundingClientRect();t.value=!0,at(()=>{if(l||m!==Number.parseInt(g.height)){const v=u[0],y=(v==null?void 0:v.placeholderSign)===rh;d==null||d({rowKey:f,height:m,rowIndex:h},v&&!y&&v.fixed)}})},o=I(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=n,f=n.rowEventHandlers||{},h={};return Object.entries(f).forEach(([g,m])=>{dt(m)&&(h[g]=v=>{m({event:v,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:m})=>{const v=h[g];h[g]=y=>{d({event:y,hovered:m,rowData:l,rowIndex:c,rowKey:u}),v==null||v(y)}}),h}),a=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=n;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return St(()=>{p(r)&&s(!0)}),{isScrolling:e,measurable:r,measured:t,rowRef:i,eventHandlers:o,onExpand:a}},Koe="ElTableV2TableRow",qoe=pe({name:Koe,props:Sl,setup(n,{expose:e,slots:t,attrs:i}){const{eventHandlers:r,isScrolling:s,measurable:o,measured:a,rowRef:l,onExpand:c}=joe(n);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:h,rowData:g,rowIndex:m,style:v}=n;let y=u.map((b,x)=>{const _=Je(g.children)&&g.children.length>0&&b.key===f;return t.cell({column:b,columns:u,columnIndex:x,depth:h,style:d[b.key],rowData:g,rowIndex:m,isScrolling:p(s),expandIconProps:_?{rowData:g,rowIndex:m,onExpand:c}:void 0})});if(t.row&&(y=t.row({cells:y.map(b=>Je(b)&&b.length===1?b[0]:b),style:v,columns:u,depth:h,rowData:g,rowIndex:m,isScrolling:p(s)})),p(o)){const{height:b,...x}=v||{},_=p(a);return ye("div",Rt({ref:l,class:n.class,style:_?v:x,role:"row"},i,p(r)),[y])}return ye("div",Rt(i,{ref:l,class:n.class,style:v,role:"row"},p(r)),[y])}}}),Yoe=n=>{const{sortOrder:e}=n;return ye(et,{size:14,class:n.class},{default:()=>[e===nh.ASC?ye(CU,null,null):ye(TU,null,null)]})},Xoe=n=>{const{expanded:e,expandable:t,onExpand:i,style:r,size:s}=n,o={onClick:t?()=>i(!e):void 0,class:n.class};return ye(et,Rt(o,{size:s,style:r}),{default:()=>[ye($i,null,null)]})},Zoe="ElTableV2Grid",Joe=n=>{const e=X(),t=X(),i=I(()=>{const{data:m,rowHeight:v,estimatedRowHeight:y}=n;if(!y)return m.length*v}),r=I(()=>{const{fixedData:m,rowHeight:v}=n;return((m==null?void 0:m.length)||0)*v}),s=I(()=>Zm(n.headerHeight)),o=I(()=>{const{height:m}=n;return Math.max(0,m-p(s)-p(r))}),a=I(()=>p(s)+p(r)>0),l=({data:m,rowIndex:v})=>m[v][n.rowKey];function c({rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b}){var x;(x=n.onRowsRendered)==null||x.call(n,{rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b})}function u(m,v){var y;(y=t.value)==null||y.resetAfterRowIndex(m,v)}function d(m,v){const y=p(e),b=p(t);!y||!b||(It(m)?(y.scrollToLeft(m.scrollLeft),b.scrollTo(m)):(y.scrollToLeft(m),b.scrollTo({scrollLeft:m,scrollTop:v})))}function f(m){var v;(v=p(t))==null||v.scrollTo({scrollTop:m})}function h(m,v){var y;(y=p(t))==null||y.scrollToItem(m,1,v)}function g(){var m,v;(m=p(t))==null||m.$forceUpdate(),(v=p(e))==null||v.$forceUpdate()}return{bodyRef:t,forceUpdate:g,fixedRowHeight:r,gridHeight:o,hasHeader:a,headerHeight:s,headerRef:e,totalHeight:i,itemKey:l,onItemRendered:c,resetAfterRowIndex:u,scrollTo:d,scrollToTop:f,scrollToRow:h}},r1=pe({name:Zoe,props:Jm,setup(n,{slots:e,expose:t}){const{ns:i}=Qe(Qw),{bodyRef:r,fixedRowHeight:s,gridHeight:o,hasHeader:a,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:g,scrollTo:m,scrollToTop:v,scrollToRow:y}=Joe(n);t({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:v,scrollToRow:y,resetAfterRowIndex:g});const b=()=>n.bodyWidth;return()=>{const{cache:x,columns:_,data:w,fixedData:S,useIsScrolling:T,scrollbarAlwaysOn:M,scrollbarEndGap:C,scrollbarStartGap:L,style:E,rowHeight:O,bodyWidth:F,estimatedRowHeight:R,headerWidth:$,height:D,width:A,getRowHeight:N,onScroll:P}=n,z=ut(R),Y=z?Fie:kie,H=p(c);return ye("div",{role:"table",class:[i.e("table"),n.class],style:E},[ye(Y,{ref:r,data:w,useIsScrolling:T,itemKey:f,columnCache:0,columnWidth:z?b:F,totalColumn:1,totalRow:w.length,rowCache:x,rowHeight:z?N:O,width:A,height:p(o),class:i.e("body"),role:"rowgroup",scrollbarStartGap:L,scrollbarEndGap:C,scrollbarAlwaysOn:M,onScroll:P,onItemRendered:h,perfMode:!1},{default:V=>{var W;const ie=w[V.rowIndex];return(W=e.row)==null?void 0:W.call(e,{...V,columns:_,rowData:ie})}}),p(a)&&ye(Goe,{ref:l,class:i.e("header-wrapper"),columns:_,headerData:w,headerHeight:n.headerHeight,fixedHeaderData:S,rowWidth:$,rowHeight:O,width:A,height:Math.min(H+p(s),D)},{dynamic:e.header,fixed:e.row})])}}});function Qoe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const eae=(n,{slots:e})=>{const{mainTableRef:t,...i}=n;return ye(r1,Rt({ref:t},i),Qoe(e)?e:{default:()=>[e]})};function tae(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const nae=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:t,...i}=n;return ye(r1,Rt({ref:t},i),tae(e)?e:{default:()=>[e]})};function iae(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const rae=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:t,...i}=n;return ye(r1,Rt({ref:t},i),iae(e)?e:{default:()=>[e]})};function sae(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const oae=(n,{slots:e})=>{const{columns:t,columnsStyles:i,depthMap:r,expandColumnKey:s,expandedRowKeys:o,estimatedRowHeight:a,hasFixedColumns:l,hoveringRowKey:c,rowData:u,rowIndex:d,style:f,isScrolling:h,rowProps:g,rowClass:m,rowKey:v,rowEventHandlers:y,ns:b,onRowHovered:x,onRowExpanded:_}=n,w=Wl(m,{columns:t,rowData:u,rowIndex:d},""),S=Wl(g,{columns:t,rowData:u,rowIndex:d}),T=u[v],M=r[T]||0,C=!!s,L=d<0,E=[b.e("row"),w,{[b.e(`row-depth-${M}`)]:C&&d>=0,[b.is("expanded")]:C&&o.includes(T),[b.is("hovered")]:!h&&T===c,[b.is("fixed")]:!M&&L,[b.is("customized")]:!!e.row}],O=l?x:void 0,F={...S,columns:t,columnsStyles:i,class:E,depth:M,expandColumnKey:s,estimatedRowHeight:L?void 0:a,isScrolling:h,rowIndex:d,rowData:u,rowKey:T,rowEventHandlers:y,style:f};return ye(qoe,Rt(F,{onRowHover:O,onRowExpand:_}),sae(e)?e:{default:()=>[e]})},x_=({columns:n,column:e,columnIndex:t,depth:i,expandIconProps:r,isScrolling:s,rowData:o,rowIndex:a,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:g,rowKey:m},{slots:v})=>{const y=ma(l);if(e.placeholderSign===rh)return ye("div",{class:u.em("row-cell","placeholder"),style:y},null);const{cellRenderer:b,dataKey:x,dataGetter:_}=e,w=dt(_)?_({columns:n,column:e,columnIndex:t,rowData:o,rowIndex:a}):kn(o,x??""),S=Wl(d,{cellData:w,columns:n,column:e,columnIndex:t,rowIndex:a,rowData:o}),T={class:u.e("cell-text"),columns:n,column:e,columnIndex:t,cellData:w,isScrolling:s,rowData:o,rowIndex:a},M=Ek(b),C=M?M(T):Be(v,"default",T,()=>[ye(n1,T,null)]),L=[u.e("row-cell"),e.class,e.align===ih.CENTER&&u.is("align-center"),e.align===ih.RIGHT&&u.is("align-right")],E=a>=0&&f&&e.key===f,O=a>=0&&c.includes(o[m]);let F;const R=`margin-inline-start: ${i*h}px;`;return E&&(It(r)?F=ye(Xoe,Rt(r,{class:[u.e("expand-icon"),u.is("expanded",O)],size:g,expanded:O,style:R,expandable:!0}),null):F=ye("div",{style:[R,`width: ${g}px; height: ${g}px;`].join(" ")},null)),ye("div",Rt({class:L,style:y},S,{role:"cell"}),[F,C])};x_.inheritAttrs=!1;function aae(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const lae=({columns:n,columnsStyles:e,headerIndex:t,style:i,headerClass:r,headerProps:s,ns:o},{slots:a})=>{const l={columns:n,headerIndex:t},c=[o.e("header-row"),Wl(r,l,""),{[o.is("customized")]:!!a.header}],u={...Wl(s,l),columnsStyles:e,class:c,columns:n,headerIndex:t,style:i};return ye(Uoe,u,aae(a)?a:{default:()=>[a]})},mE=(n,{slots:e})=>{const{column:t,ns:i,style:r,onColumnSorted:s}=n,o=ma(r);if(t.placeholderSign===rh)return ye("div",{class:i.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:a,headerClass:l,sortable:c}=t,u={...n,class:i.e("header-cell-text")},d=Ek(a),f=d?d(u):Be(e,"default",u,()=>[ye(i1,u,null)]),{sortBy:h,sortState:g,headerCellProps:m}=n;let v,y;if(g){const _=g[t.key];v=!!__[_],y=v?_:nh.ASC}else v=t.key===h.key,y=v?h.order:nh.ASC;const b=[i.e("header-cell"),Wl(l,n,""),t.align===ih.CENTER&&i.is("align-center"),t.align===ih.RIGHT&&i.is("align-right"),c&&i.is("sortable")],x={...Wl(m,n),onClick:t.sortable?s:void 0,class:b,style:o,"data-key":t.key};return ye("div",Rt(x,{role:"columnheader"}),[f,c&&ye(Yoe,{class:[i.e("sort-icon"),v&&i.is("sorting")],sortOrder:y},null)])},Rk=(n,{slots:e})=>{var t;return ye("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};Rk.displayName="ElTableV2Footer";const Pk=(n,{slots:e})=>{const t=Be(e,"default",{},()=>[ye(OI,null,null)]);return ye("div",{class:n.class,style:n.style},[t])};Pk.displayName="ElTableV2Empty";const Ik=(n,{slots:e})=>{var t;return ye("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};Ik.displayName="ElTableV2Overlay";function Fd(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!un(n)}const cae="ElTableV2",uae=pe({name:cae,props:Voe,setup(n,{slots:e,expose:t}){const i=He("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:s,fixedColumnsOnRight:o,mainColumns:a,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:g,hasFixedColumns:m,hoveringRowKey:v,mainTableRef:y,leftTableRef:b,rightTableRef:x,isDynamic:_,isResetting:w,isScrolling:S,bodyWidth:T,emptyStyle:M,rootStyle:C,headerWidth:L,footerHeight:E,showEmpty:O,scrollTo:F,scrollToLeft:R,scrollToTop:$,scrollToRow:D,getRowHeight:A,onColumnSorted:N,onRowHeightChange:P,onRowHovered:z,onRowExpanded:Y,onRowsRendered:H,onScroll:V,onVerticalScroll:W}=zoe(n);return t({scrollTo:F,scrollToLeft:R,scrollToTop:$,scrollToRow:D}),Dt(Qw,{ns:i,isResetting:w,hoveringRowKey:v,isScrolling:S}),()=>{const{cache:ie,cellProps:G,estimatedRowHeight:te,expandColumnKey:oe,fixedData:xe,headerHeight:ue,headerClass:we,headerProps:re,headerCellProps:j,sortBy:Z,sortState:le,rowHeight:J,rowClass:k,rowEventHandlers:q,rowKey:ce,rowProps:me,scrollbarAlwaysOn:Ce,indentSize:Q,iconSize:ee,useIsScrolling:Se,vScrollbarSize:be,width:Pe}=n,he=p(f),$e={cache:ie,class:i.e("main"),columns:p(a),data:he,fixedData:xe,estimatedRowHeight:te,bodyWidth:p(T)+be,headerHeight:ue,headerWidth:p(L),height:p(l),mainTableRef:y,rowKey:ce,rowHeight:J,scrollbarAlwaysOn:Ce,scrollbarStartGap:2,scrollbarEndGap:be,useIsScrolling:Se,width:Pe,getRowHeight:A,onRowsRendered:H,onScroll:V},ne=p(u),Re=p(c),fe={cache:ie,class:i.e("left"),columns:p(s),data:he,estimatedRowHeight:te,leftTableRef:b,rowHeight:J,bodyWidth:ne,headerWidth:ne,headerHeight:ue,height:Re,rowKey:ce,scrollbarAlwaysOn:Ce,scrollbarStartGap:2,scrollbarEndGap:be,useIsScrolling:Se,width:ne,getRowHeight:A,onScroll:W},_e=p(d)+be,Ne={cache:ie,class:i.e("right"),columns:p(o),data:he,estimatedRowHeight:te,rightTableRef:x,rowHeight:J,bodyWidth:_e,headerWidth:_e,headerHeight:ue,height:Re,rowKey:ce,scrollbarAlwaysOn:Ce,scrollbarStartGap:2,scrollbarEndGap:be,width:_e,style:`--${p(i.namespace)}-table-scrollbar-size: ${be}px`,useIsScrolling:Se,getRowHeight:A,onScroll:W},ve=p(r),Ue={ns:i,depthMap:p(h),columnsStyles:ve,expandColumnKey:oe,expandedRowKeys:p(g),estimatedRowHeight:te,hasFixedColumns:p(m),hoveringRowKey:p(v),rowProps:me,rowClass:k,rowKey:ce,rowEventHandlers:q,onRowHovered:z,onRowExpanded:Y,onRowHeightChange:P},Ae={cellProps:G,expandColumnKey:oe,indentSize:Q,iconSize:ee,rowKey:ce,expandedRowKeys:p(g),ns:i},Ye={ns:i,headerClass:we,headerProps:re,columnsStyles:ve},Ke={ns:i,sortBy:Z,sortState:le,headerCellProps:j,onColumnSorted:N},lt={row:Tt=>ye(oae,Rt(Tt,Ue),{row:e.row,cell:Ft=>{let Ln;return e.cell?ye(x_,Rt(Ft,Ae,{style:ve[Ft.column.key]}),Fd(Ln=e.cell(Ft))?Ln:{default:()=>[Ln]}):ye(x_,Rt(Ft,Ae,{style:ve[Ft.column.key]}),null)}}),header:Tt=>ye(lae,Rt(Tt,Ye),{header:e.header,cell:Ft=>{let Ln;return e["header-cell"]?ye(mE,Rt(Ft,Ke,{style:ve[Ft.column.key]}),Fd(Ln=e["header-cell"](Ft))?Ln:{default:()=>[Ln]}):ye(mE,Rt(Ft,Ke,{style:ve[Ft.column.key]}),null)}})},ht=[n.class,i.b(),i.e("root"),{[i.is("dynamic")]:p(_)}],Ot={class:i.e("footer"),style:p(E)};return ye("div",{class:ht,style:p(C)},[ye(eae,$e,Fd(lt)?lt:{default:()=>[lt]}),ye(nae,fe,Fd(lt)?lt:{default:()=>[lt]}),ye(rae,Ne,Fd(lt)?lt:{default:()=>[lt]}),e.footer&&ye(Rk,Ot,{default:e.footer}),p(O)&&ye(Pk,{class:i.e("empty"),style:p(M)},{default:e.empty}),e.overlay&&ye(Ik,{class:i.e("overlay")},{default:e.overlay})])}}}),dae=Ge({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Le(Function)}}),fae=pe({name:"ElAutoResizer",props:dae,setup(n,{slots:e}){const t=He("auto-resizer"),{height:i,width:r,sizer:s}=Boe(n),o={width:"100%",height:"100%"};return()=>{var a;return ye("div",{ref:s,class:t.b(),style:o},[(a=e.default)==null?void 0:a.call(e,{height:i.value,width:r.value})])}}}),hae=At(uae),pae=At(fae),Nv=Symbol("tabsRootContextKey"),mae=Ge({tabs:{type:Le(Array),default:()=>yn([])}}),kk="ElTabBar",gae=pe({name:kk}),vae=pe({...gae,props:mae,setup(n,{expose:e}){const t=n,i=Mt(),r=Qe(Nv);r||Wn(kk,"<el-tabs><el-tab-bar /></el-tabs>");const s=He("tabs"),o=X(),a=X(),l=()=>{let u=0,d=0;const f=["top","bottom"].includes(r.props.tabPosition)?"width":"height",h=f==="width"?"x":"y",g=h==="x"?"left":"top";return t.tabs.every(m=>{var v,y;const b=(y=(v=i.parent)==null?void 0:v.refs)==null?void 0:y[`tab-${m.uid}`];if(!b)return!1;if(!m.active)return!0;u=b[`offset${Cs(g)}`],d=b[`client${Cs(f)}`];const x=window.getComputedStyle(b);return f==="width"&&(t.tabs.length>1&&(d-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight)),u+=Number.parseFloat(x.paddingLeft)),!1}),{[f]:`${d}px`,transform:`translate${Cs(h)}(${u}px)`}},c=()=>a.value=l();return Ve(()=>t.tabs,async()=>{await at(),c()},{immediate:!0}),bn(o,()=>c()),e({ref:o,update:c}),(u,d)=>(B(),se("div",{ref_key:"barRef",ref:o,class:U([p(s).e("active-bar"),p(s).is(p(r).props.tabPosition)]),style:tt(a.value)},null,6))}});var yae=je(vae,[["__file","tab-bar.vue"]]);const bae=Ge({panes:{type:Le(Array),default:()=>yn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),_ae={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},gE="ElTabNav",xae=pe({name:gE,props:bae,emits:_ae,setup(n,{expose:e,emit:t}){const i=Mt(),r=Qe(Nv);r||Wn(gE,"<el-tabs><tab-nav /></el-tabs>");const s=He("tabs"),o=nB(),a=pB(),l=X(),c=X(),u=X(),d=X(),f=X(!1),h=X(0),g=X(!1),m=X(!0),v=I(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),y=I(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${h.value}px)`})),b=()=>{if(!l.value)return;const C=l.value[`offset${Cs(v.value)}`],L=h.value;if(!L)return;const E=L>C?L-C:0;h.value=E},x=()=>{if(!l.value||!c.value)return;const C=c.value[`offset${Cs(v.value)}`],L=l.value[`offset${Cs(v.value)}`],E=h.value;if(C-E<=L)return;const O=C-E>L*2?E+L:C-L;h.value=O},_=async()=>{const C=c.value;if(!f.value||!u.value||!l.value||!C)return;await at();const L=u.value.querySelector(".is-active");if(!L)return;const E=l.value,O=["top","bottom"].includes(r.props.tabPosition),F=L.getBoundingClientRect(),R=E.getBoundingClientRect(),$=O?C.offsetWidth-R.width:C.offsetHeight-R.height,D=h.value;let A=D;O?(F.left<R.left&&(A=D-(R.left-F.left)),F.right>R.right&&(A=D+F.right-R.right)):(F.top<R.top&&(A=D-(R.top-F.top)),F.bottom>R.bottom&&(A=D+(F.bottom-R.bottom))),A=Math.max(A,0),h.value=Math.min(A,$)},w=()=>{var C;if(!c.value||!l.value)return;n.stretch&&((C=d.value)==null||C.update());const L=c.value[`offset${Cs(v.value)}`],E=l.value[`offset${Cs(v.value)}`],O=h.value;E<L?(f.value=f.value||{},f.value.prev=O,f.value.next=O+E<L,L-O<E&&(h.value=L-E)):(f.value=!1,O>0&&(h.value=0))},S=C=>{const L=C.code,{up:E,down:O,left:F,right:R}=it;if(![E,O,F,R].includes(L))return;const $=Array.from(C.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),D=$.indexOf(C.target);let A;L===F||L===E?D===0?A=$.length-1:A=D-1:D<$.length-1?A=D+1:A=0,$[A].focus({preventScroll:!0}),$[A].click(),T()},T=()=>{m.value&&(g.value=!0)},M=()=>g.value=!1;return Ve(o,C=>{C==="hidden"?m.value=!1:C==="visible"&&setTimeout(()=>m.value=!0,50)}),Ve(a,C=>{C?setTimeout(()=>m.value=!0,50):m.value=!1}),bn(u,w),St(()=>setTimeout(()=>_(),0)),Ao(()=>w()),e({scrollToActiveTab:_,removeFocus:M}),Ve(()=>n.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const C=f.value?[ye("span",{class:[s.e("nav-prev"),s.is("disabled",!f.value.prev)],onClick:b},[ye(et,null,{default:()=>[ye(Da,null,null)]})]),ye("span",{class:[s.e("nav-next"),s.is("disabled",!f.value.next)],onClick:x},[ye(et,null,{default:()=>[ye($i,null,null)]})])]:null,L=n.panes.map((E,O)=>{var F,R,$,D;const A=E.uid,N=E.props.disabled,P=(R=(F=E.props.name)!=null?F:E.index)!=null?R:`${O}`,z=!N&&(E.isClosable||n.editable);E.index=`${O}`;const Y=z?ye(et,{class:"is-icon-close",onClick:W=>t("tabRemove",E,W)},{default:()=>[ye(gs,null,null)]}):null,H=((D=($=E.slots).label)==null?void 0:D.call($))||E.props.label,V=!N&&E.active?0:-1;return ye("div",{ref:`tab-${A}`,class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",E.active),s.is("disabled",N),s.is("closable",z),s.is("focus",g.value)],id:`tab-${P}`,key:`tab-${A}`,"aria-controls":`pane-${P}`,role:"tab","aria-selected":E.active,tabindex:V,onFocus:()=>T(),onBlur:()=>M(),onClick:W=>{M(),t("tabClick",E,P,W)},onKeydown:W=>{z&&(W.code===it.delete||W.code===it.backspace)&&t("tabRemove",E,W)}},[H,Y])});return ye("div",{ref:u,class:[s.e("nav-wrap"),s.is("scrollable",!!f.value),s.is(r.props.tabPosition)]},[C,ye("div",{class:s.e("nav-scroll"),ref:l},[ye("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",n.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:c,style:y.value,role:"tablist",onKeydown:S},[n.type?null:ye(yae,{ref:d,tabs:[...n.panes]},null),L])])])}}}),wae=Ge({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Le(Function),default:()=>!0},stretch:Boolean}),N0=n=>vt(n)||ut(n),Sae={[Lt]:n=>N0(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>N0(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>N0(n),tabAdd:()=>!0},Mae=pe({name:"ElTabs",props:wae,emits:Sae,setup(n,{emit:e,slots:t,expose:i}){var r,s;const o=He("tabs"),{children:a,addChild:l,removeChild:c}=Cw(Mt(),"ElTabPane"),u=X(),d=X((s=(r=n.modelValue)!=null?r:n.activeName)!=null?s:"0"),f=async(v,y=!1)=>{var b,x,_;if(!(d.value===v||Hn(v)))try{await((b=n.beforeLeave)==null?void 0:b.call(n,v,d.value))!==!1&&(d.value=v,y&&(e(Lt,v),e("tabChange",v)),(_=(x=u.value)==null?void 0:x.removeFocus)==null||_.call(x))}catch{}},h=(v,y,b)=>{v.props.disabled||(f(y,!0),e("tabClick",v,b))},g=(v,y)=>{v.props.disabled||Hn(v.props.name)||(y.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};return Os({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},I(()=>!!n.activeName)),Ve(()=>n.activeName,v=>f(v)),Ve(()=>n.modelValue,v=>f(v)),Ve(d,async()=>{var v;await at(),(v=u.value)==null||v.scrollToActiveTab()}),Dt(Nv,{props:n,currentName:d,registerPane:l,unregisterPane:c}),i({currentName:d}),()=>{const v=t.addIcon,y=n.editable||n.addable?ye("span",{class:o.e("new-tab"),tabindex:"0",onClick:m,onKeydown:_=>{_.code===it.enter&&m()}},[v?Be(t,"addIcon"):ye(et,{class:o.is("icon-plus")},{default:()=>[ye(aR,null,null)]})]):null,b=ye("div",{class:[o.e("header"),o.is(n.tabPosition)]},[y,ye(xae,{ref:u,currentName:d.value,editable:n.editable,type:n.type,panes:a.value,stretch:n.stretch,onTabClick:h,onTabRemove:g},null)]),x=ye("div",{class:o.e("content")},[Be(t,"default")]);return ye("div",{class:[o.b(),o.m(n.tabPosition),{[o.m("card")]:n.type==="card",[o.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[b,x]:[x,b]])}}}),Tae=Ge({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Eae=["id","aria-hidden","aria-labelledby"],Dk="ElTabPane",Cae=pe({name:Dk}),Aae=pe({...Cae,props:Tae,setup(n){const e=n,t=Mt(),i=Yn(),r=Qe(Nv);r||Wn(Dk,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=He("tab-pane"),o=X(),a=I(()=>e.closable||r.props.closable),l=XS(()=>{var h;return r.currentName.value===((h=e.name)!=null?h:o.value)}),c=X(l.value),u=I(()=>{var h;return(h=e.name)!=null?h:o.value}),d=XS(()=>!e.lazy||c.value||l.value);Ve(l,h=>{h&&(c.value=!0)});const f=Gt({uid:t.uid,slots:i,props:e,paneName:u,active:l,index:o,isClosable:a});return St(()=>{r.registerPane(f)}),Ha(()=>{r.unregisterPane(f.uid)}),(h,g)=>p(d)?_t((B(),se("div",{key:0,id:`pane-${p(u)}`,class:U(p(s).b()),role:"tabpanel","aria-hidden":!p(l),"aria-labelledby":`tab-${p(u)}`},[Be(h.$slots,"default")],10,Eae)),[[Wt,p(l)]]):ke("v-if",!0)}});var Nk=je(Aae,[["__file","tab-pane.vue"]]);const Lae=At(Mae,{TabPane:Nk}),Rae=xn(Nk),Pae=Ge({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Vs,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Iae=pe({name:"ElText"}),kae=pe({...Iae,props:Pae,setup(n){const e=n,t=Gn(),i=He("text"),r=I(()=>[i.b(),i.m(e.type),i.m(t.value),i.is("truncated",e.truncated),i.is("line-clamp",!Hn(e.lineClamp))]);return(s,o)=>(B(),Oe(Pt(s.tag),{class:U(p(r)),style:tt({"-webkit-line-clamp":s.lineClamp})},{default:Ee(()=>[Be(s.$slots,"default")]),_:3},8,["class","style"]))}});var Dae=je(kae,[["__file","text.vue"]]);const Nae=At(Dae),Oae=Ge({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:ni,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Le([String,Object]),default:()=>oR},clearIcon:{type:Le([String,Object]),default:()=>Ua}}),fo=n=>{const e=(n||"").split(":");if(e.length>=2){let t=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),r=n.toUpperCase();return r.includes("AM")&&t===12?t=0:r.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:i}}return null},O0=(n,e)=>{const t=fo(n);if(!t)return-1;const i=fo(e);if(!i)return-1;const r=t.minutes+t.hours*60,s=i.minutes+i.hours*60;return r===s?0:r>s?1:-1},vE=n=>`${n}`.padStart(2,"0"),Yc=n=>`${vE(n.hours)}:${vE(n.minutes)}`,Fae=(n,e)=>{const t=fo(n);if(!t)return"";const i=fo(e);if(!i)return"";const r={hours:t.hours,minutes:t.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,Yc(r)},Bae=pe({name:"ElTimeSelect"}),zae=pe({...Bae,props:Oae,emits:["change","blur","focus","update:modelValue"],setup(n,{expose:e}){const t=n;Et.extend(kw);const{Option:i}=Ul,r=He("input"),s=X(),o=dr(),{lang:a}=Ut(),l=I(()=>t.modelValue),c=I(()=>{const y=fo(t.start);return y?Yc(y):null}),u=I(()=>{const y=fo(t.end);return y?Yc(y):null}),d=I(()=>{const y=fo(t.step);return y?Yc(y):null}),f=I(()=>{const y=fo(t.minTime||"");return y?Yc(y):null}),h=I(()=>{const y=fo(t.maxTime||"");return y?Yc(y):null}),g=I(()=>{const y=[];if(t.start&&t.end&&t.step){let b=c.value,x;for(;b&&u.value&&O0(b,u.value)<=0;)x=Et(b,"HH:mm").locale(a.value).format(t.format),y.push({value:x,disabled:O0(b,f.value||"-1:-1")<=0||O0(b,h.value||"100:100")>=0}),b=Fae(b,d.value)}return y});return e({blur:()=>{var y,b;(b=(y=s.value)==null?void 0:y.blur)==null||b.call(y)},focus:()=>{var y,b;(b=(y=s.value)==null?void 0:y.focus)==null||b.call(y)}}),(y,b)=>(B(),Oe(p(Ul),{ref_key:"select",ref:s,"model-value":p(l),disabled:p(o),clearable:y.clearable,"clear-icon":y.clearIcon,size:y.size,effect:y.effect,placeholder:y.placeholder,"default-first-option":"",filterable:y.editable,"onUpdate:modelValue":b[0]||(b[0]=x=>y.$emit("update:modelValue",x)),onChange:b[1]||(b[1]=x=>y.$emit("change",x)),onBlur:b[2]||(b[2]=x=>y.$emit("blur",x)),onFocus:b[3]||(b[3]=x=>y.$emit("focus",x))},{prefix:Ee(()=>[y.prefixIcon?(B(),Oe(p(et),{key:0,class:U(p(r).e("prefix-icon"))},{default:Ee(()=>[(B(),Oe(Pt(y.prefixIcon)))]),_:1},8,["class"])):ke("v-if",!0)]),default:Ee(()=>[(B(!0),se(rt,null,Bt(p(g),x=>(B(),Oe(p(i),{key:x.value,label:x.value,value:x.value,disabled:x.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var Qm=je(zae,[["__file","time-select.vue"]]);Qm.install=n=>{n.component(Qm.name,Qm)};const $ae=Qm,Vae=$ae,Hae=pe({name:"ElTimeline",setup(n,{slots:e}){const t=He("timeline");return Dt("timeline",e),()=>ot("ul",{class:[t.b()]},[Be(e,"default")])}}),Uae=Ge({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Qt},hollow:{type:Boolean,default:!1}}),Wae=pe({name:"ElTimelineItem"}),Gae=pe({...Wae,props:Uae,setup(n){const e=n,t=He("timeline-item"),i=I(()=>[t.e("node"),t.em("node",e.size||""),t.em("node",e.type||""),t.is("hollow",e.hollow)]);return(r,s)=>(B(),se("li",{class:U([p(t).b(),{[p(t).e("center")]:r.center}])},[de("div",{class:U(p(t).e("tail"))},null,2),r.$slots.dot?ke("v-if",!0):(B(),se("div",{key:0,class:U(p(i)),style:tt({backgroundColor:r.color})},[r.icon?(B(),Oe(p(et),{key:0,class:U(p(t).e("icon"))},{default:Ee(()=>[(B(),Oe(Pt(r.icon)))]),_:1},8,["class"])):ke("v-if",!0)],6)),r.$slots.dot?(B(),se("div",{key:1,class:U(p(t).e("dot"))},[Be(r.$slots,"dot")],2)):ke("v-if",!0),de("div",{class:U(p(t).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(B(),se("div",{key:0,class:U([p(t).e("timestamp"),p(t).is("top")])},qe(r.timestamp),3)):ke("v-if",!0),de("div",{class:U(p(t).e("content"))},[Be(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(B(),se("div",{key:1,class:U([p(t).e("timestamp"),p(t).is("bottom")])},qe(r.timestamp),3)):ke("v-if",!0)],2)],2))}});var Ok=je(Gae,[["__file","timeline-item.vue"]]);const jae=At(Hae,{TimelineItem:Ok}),Kae=xn(Ok),Fk=Ge({nowrap:Boolean});var Bk=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))(Bk||{});const qae=Object.values(Bk),s1=Ge({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Le(Object),default:null}}),Yae=Ge({side:{type:Le(String),values:qae,required:!0}}),Xae=["absolute","fixed"],Zae=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],o1=Ge({ariaLabel:String,arrowPadding:{type:Le(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Le(String),values:Zae,default:"bottom"},reference:{type:Le(Object),default:null},offset:{type:Number,default:8},strategy:{type:Le(String),values:Xae,default:"absolute"},showArrow:{type:Boolean,default:!1}}),a1=Ge({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Le(Function)},"onUpdate:open":{type:Le(Function)}}),uc={type:Le(Function)},l1=Ge({onBlur:uc,onClick:uc,onFocus:uc,onMouseDown:uc,onMouseEnter:uc,onMouseLeave:uc}),Jae=Ge({...a1,...s1,...l1,...o1,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Le(Object),default:null},teleported:Boolean,to:{type:Le(String),default:"body"}}),Ov=Symbol("tooltipV2"),zk=Symbol("tooltipV2Content"),F0="tooltip_v2.open",Qae=pe({name:"ElTooltipV2Root"}),ele=pe({...Qae,props:a1,setup(n,{expose:e}){const t=n,i=X(t.defaultOpen),r=X(null),s=I({get:()=>MH(t.open)?i.value:t.open,set:v=>{var y;i.value=v,(y=t["onUpdate:open"])==null||y.call(t,v)}}),o=I(()=>ut(t.delayDuration)&&t.delayDuration>0),{start:a,stop:l}=Bl(()=>{s.value=!0},I(()=>t.delayDuration),{immediate:!1}),c=He("tooltip-v2"),u=Li(),d=()=>{l(),s.value=!0},f=()=>{p(o)?a():d()},h=d,g=()=>{l(),s.value=!1};return Ve(s,v=>{var y;v&&(document.dispatchEvent(new CustomEvent(F0)),h()),(y=t.onOpenChange)==null||y.call(t,v)}),St(()=>{document.addEventListener(F0,g)}),sn(()=>{l(),document.removeEventListener(F0,g)}),Dt(Ov,{contentId:u,triggerRef:r,ns:c,onClose:g,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:g}),(v,y)=>Be(v.$slots,"default",{open:p(s)})}});var tle=je(ele,[["__file","root.vue"]]);const nle=pe({name:"ElTooltipV2Arrow"}),ile=pe({...nle,props:{...s1,...Yae},setup(n){const e=n,{ns:t}=Qe(Ov),{arrowRef:i}=Qe(zk),r=I(()=>{const{style:s,width:o,height:a}=e,l=t.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${a}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...s||{}}});return(s,o)=>(B(),se("span",{ref_key:"arrowRef",ref:i,style:tt(p(r)),class:U(p(t).e("arrow"))},null,6))}});var yE=je(ile,[["__file","arrow.vue"]]);const rle=Ge({style:{type:Le([String,Object,Array]),default:()=>({})}}),sle=pe({name:"ElVisuallyHidden"}),ole=pe({...sle,props:rle,setup(n){const e=n,t=I(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,r)=>(B(),se("span",Rt(i.$attrs,{style:p(t)}),[Be(i.$slots,"default")],16))}});var ale=je(ole,[["__file","visual-hidden.vue"]]);const lle=["data-side"],cle=pe({name:"ElTooltipV2Content"}),ule=pe({...cle,props:{...o1,...Fk},setup(n){const e=n,{triggerRef:t,contentId:i}=Qe(Ov),r=X(e.placement),s=X(e.strategy),o=X(null),{referenceRef:a,contentRef:l,middlewareData:c,x:u,y:d,update:f}=jW({placement:r,strategy:s,middleware:I(()=>{const x=[NR(e.offset)];return e.showArrow&&x.push(KW({arrowRef:o})),x})}),h=dd().nextZIndex(),g=He("tooltip-v2"),m=I(()=>r.value.split("-")[0]),v=I(()=>({position:p(s),top:`${p(d)||0}px`,left:`${p(u)||0}px`,zIndex:h})),y=I(()=>{if(!e.showArrow)return{};const{arrow:x}=p(c);return{[`--${g.namespace.value}-tooltip-v2-arrow-x`]:`${x==null?void 0:x.x}px`||"",[`--${g.namespace.value}-tooltip-v2-arrow-y`]:`${x==null?void 0:x.y}px`||""}}),b=I(()=>[g.e("content"),g.is("dark",e.effect==="dark"),g.is(p(s)),e.contentClass]);return Ve(o,()=>f()),Ve(()=>e.placement,x=>r.value=x),St(()=>{Ve(()=>e.reference||t.value,x=>{a.value=x||void 0},{immediate:!0})}),Dt(zk,{arrowRef:o}),(x,_)=>(B(),se("div",{ref_key:"contentRef",ref:l,style:tt(p(v)),"data-tooltip-v2-root":""},[x.nowrap?ke("v-if",!0):(B(),se("div",{key:0,"data-side":p(m),class:U(p(b))},[Be(x.$slots,"default",{contentStyle:p(v),contentClass:p(b)}),ye(p(ale),{id:p(i),role:"tooltip"},{default:Ee(()=>[x.ariaLabel?(B(),se(rt,{key:0},[Ht(qe(x.ariaLabel),1)],64)):Be(x.$slots,"default",{key:1})]),_:3},8,["id"]),Be(x.$slots,"arrow",{style:tt(p(y)),side:p(m)})],10,lle))],4))}});var bE=je(ule,[["__file","content.vue"]]);const dle=Ge({setRef:{type:Le(Function),required:!0},onlyChild:Boolean});var fle=pe({props:dle,setup(n,{slots:e}){const t=X(),i=bv(t,r=>{r?n.setRef(r.nextElementSibling):n.setRef(null)});return()=>{var r;const[s]=((r=e.default)==null?void 0:r.call(e))||[],o=n.onlyChild?WU(s.children):s.children;return ye(rt,{ref:i},[o])}}});const hle=pe({name:"ElTooltipV2Trigger"}),ple=pe({...hle,props:{...Fk,...l1},setup(n){const e=n,{onClose:t,onOpen:i,onDelayOpen:r,triggerRef:s,contentId:o}=Qe(Ov);let a=!1;const l=b=>{s.value=b},c=()=>{a=!1},u=En(e.onMouseEnter,r),d=En(e.onMouseLeave,t),f=En(e.onMouseDown,()=>{t(),a=!0,document.addEventListener("mouseup",c,{once:!0})}),h=En(e.onFocus,()=>{a||i()}),g=En(e.onBlur,t),m=En(e.onClick,b=>{b.detail===0&&t()}),v={blur:g,click:m,focus:h,mousedown:f,mouseenter:u,mouseleave:d},y=(b,x,_)=>{b&&Object.entries(x).forEach(([w,S])=>{b[_](w,S)})};return Ve(s,(b,x)=>{y(b,v,"addEventListener"),y(x,v,"removeEventListener"),b&&b.setAttribute("aria-describedby",o.value)}),sn(()=>{y(s.value,v,"removeEventListener"),document.removeEventListener("mouseup",c)}),(b,x)=>b.nowrap?(B(),Oe(p(fle),{key:0,"set-ref":l,"only-child":""},{default:Ee(()=>[Be(b.$slots,"default")]),_:3})):(B(),se("button",Rt({key:1,ref_key:"triggerRef",ref:s},b.$attrs),[Be(b.$slots,"default")],16))}});var mle=je(ple,[["__file","trigger.vue"]]);const gle=pe({name:"ElTooltipV2"}),vle=pe({...gle,props:Jae,setup(n){const t=fi(n),i=Gt(po(t,Object.keys(s1))),r=Gt(po(t,Object.keys(o1))),s=Gt(po(t,Object.keys(a1))),o=Gt(po(t,Object.keys(l1)));return(a,l)=>(B(),Oe(tle,os(lv(s)),{default:Ee(({open:c})=>[ye(mle,Rt(o,{nowrap:""}),{default:Ee(()=>[Be(a.$slots,"trigger")]),_:3},16),(B(),Oe(ld,{to:a.to,disabled:!a.teleported},[a.fullTransition?(B(),Oe(Un,os(Rt({key:0},a.transitionProps)),{default:Ee(()=>[a.alwaysOn||c?(B(),Oe(bE,os(Rt({key:0},r)),{arrow:Ee(({style:u,side:d})=>[a.showArrow?(B(),Oe(yE,Rt({key:0},i,{style:u,side:d}),null,16,["style","side"])):ke("v-if",!0)]),default:Ee(()=>[Be(a.$slots,"default")]),_:3},16)):ke("v-if",!0)]),_:2},1040)):(B(),se(rt,{key:1},[a.alwaysOn||c?(B(),Oe(bE,os(Rt({key:0},r)),{arrow:Ee(({style:u,side:d})=>[a.showArrow?(B(),Oe(yE,Rt({key:0},i,{style:u,side:d}),null,16,["style","side"])):ke("v-if",!0)]),default:Ee(()=>[Be(a.$slots,"default")]),_:3},16)):ke("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var yle=je(vle,[["__file","tooltip.vue"]]);const ble=At(yle),$k="left-check-change",Vk="right-check-change",Xc=Ge({data:{type:Le(Array),default:()=>[]},titles:{type:Le(Array),default:()=>[]},buttonTexts:{type:Le(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Le(Function)},leftDefaultChecked:{type:Le(Array),default:()=>[]},rightDefaultChecked:{type:Le(Array),default:()=>[]},renderContent:{type:Le(Function)},modelValue:{type:Le(Array),default:()=>[]},format:{type:Le(Object),default:()=>({})},filterable:Boolean,props:{type:Le(Object),default:()=>yn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),w_=(n,e)=>[n,e].every(Je)||Je(n)&&Kn(e),_le={[dn]:(n,e,t)=>[n,t].every(Je)&&["left","right"].includes(e),[Lt]:n=>Je(n),[$k]:w_,[Vk]:w_},S_="checked-change",xle=Ge({data:Xc.data,optionRender:{type:Le(Function)},placeholder:String,title:String,filterable:Boolean,format:Xc.format,filterMethod:Xc.filterMethod,defaultChecked:Xc.leftDefaultChecked,props:Xc.props}),wle={[S_]:w_},Wh=n=>{const e={label:"label",key:"key",disabled:"disabled"};return I(()=>({...e,...n.props}))},Sle=(n,e,t)=>{const i=Wh(n),r=I(()=>n.data.filter(u=>dt(n.filterMethod)?n.filterMethod(e.query,u):String(u[i.value.label]||u[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=I(()=>r.value.filter(u=>!u[i.value.disabled])),o=I(()=>{const u=e.checked.length,d=n.data.length,{noChecked:f,hasChecked:h}=n.format;return f&&h?u>0?h.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),a=I(()=>{const u=e.checked.length;return u>0&&u<s.value.length}),l=()=>{const u=s.value.map(d=>d[i.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?s.value.map(d=>d[i.value.key]):[]};return Ve(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(h=>!u.includes(h)||!d.includes(h));t(S_,u,f)}else t(S_,u),e.checkChangeByUser=!0}),Ve(s,()=>{l()}),Ve(()=>n.data,()=>{const u=[],d=r.value.map(f=>f[i.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),Ve(()=>n.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(g=>d.includes(g)))return;const f=[],h=s.value.map(g=>g[i.value.key]);u.forEach(g=>{h.includes(g)&&f.push(g)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:r,checkableData:s,checkedSummary:o,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:c}},Mle=(n,e)=>({onSourceCheckedChange:(r,s)=>{n.leftChecked=r,s&&e($k,r,s)},onTargetCheckedChange:(r,s)=>{n.rightChecked=r,s&&e(Vk,r,s)}}),Tle=n=>{const e=Wh(n),t=I(()=>n.data.reduce((s,o)=>(s[o[e.value.key]]=o)&&s,{})),i=I(()=>n.data.filter(s=>!n.modelValue.includes(s[e.value.key]))),r=I(()=>n.targetOrder==="original"?n.data.filter(s=>n.modelValue.includes(s[e.value.key])):n.modelValue.reduce((s,o)=>{const a=t.value[o];return a&&s.push(a),s},[]));return{sourceData:i,targetData:r}},Ele=(n,e,t)=>{const i=Wh(n),r=(a,l,c)=>{t(Lt,a),t(dn,a,l,c)};return{addToLeft:()=>{const a=n.modelValue.slice();e.rightChecked.forEach(l=>{const c=a.indexOf(l);c>-1&&a.splice(c,1)}),r(a,"left",e.rightChecked)},addToRight:()=>{let a=n.modelValue.slice();const l=n.data.filter(c=>{const u=c[i.value.key];return e.leftChecked.includes(u)&&!n.modelValue.includes(u)}).map(c=>c[i.value.key]);a=n.targetOrder==="unshift"?l.concat(a):a.concat(l),n.targetOrder==="original"&&(a=n.data.filter(c=>a.includes(c[i.value.key])).map(c=>c[i.value.key])),r(a,"right",e.leftChecked)}}},Cle=pe({name:"ElTransferPanel"}),Ale=pe({...Cle,props:xle,emits:wle,setup(n,{expose:e,emit:t}){const i=n,r=Yn(),s=({option:x})=>x,{t:o}=Ut(),a=He("transfer"),l=Gt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=Wh(i),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=Sle(i,l,t),g=I(()=>!kr(l.query)&&kr(u.value)),m=I(()=>!kr(r.default()[0].children)),{checked:v,allChecked:y,query:b}=fi(l);return e({query:b}),(x,_)=>(B(),se("div",{class:U(p(a).b("panel"))},[de("p",{class:U(p(a).be("panel","header"))},[ye(p(Gr),{modelValue:p(y),"onUpdate:modelValue":_[0]||(_[0]=w=>an(y)?y.value=w:null),indeterminate:p(f),"validate-event":!1,onChange:p(h)},{default:Ee(()=>[Ht(qe(x.title)+" ",1),de("span",null,qe(p(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),de("div",{class:U([p(a).be("panel","body"),p(a).is("with-footer",p(m))])},[x.filterable?(B(),Oe(p(Ai),{key:0,modelValue:p(b),"onUpdate:modelValue":_[1]||(_[1]=w=>an(b)?b.value=w:null),class:U(p(a).be("panel","filter")),size:"default",placeholder:x.placeholder,"prefix-icon":p(SU),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):ke("v-if",!0),_t(ye(p(jP),{modelValue:p(v),"onUpdate:modelValue":_[2]||(_[2]=w=>an(v)?v.value=w:null),"validate-event":!1,class:U([p(a).is("filterable",x.filterable),p(a).be("panel","list")])},{default:Ee(()=>[(B(!0),se(rt,null,Bt(p(u),w=>(B(),Oe(p(Gr),{key:w[p(c).key],class:U(p(a).be("panel","item")),label:w[p(c).key],disabled:w[p(c).disabled],"validate-event":!1},{default:Ee(()=>{var S;return[ye(s,{option:(S=x.optionRender)==null?void 0:S.call(x,w)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Wt,!p(g)&&!p(kr)(x.data)]]),_t(de("p",{class:U(p(a).be("panel","empty"))},qe(p(g)?p(o)("el.transfer.noMatch"):p(o)("el.transfer.noData")),3),[[Wt,p(g)||p(kr)(x.data)]])],2),p(m)?(B(),se("p",{key:0,class:U(p(a).be("panel","footer"))},[Be(x.$slots,"default")],2)):ke("v-if",!0)],2))}});var _E=je(Ale,[["__file","transfer-panel.vue"]]);const Lle={key:0},Rle={key:0},Ple=pe({name:"ElTransfer"}),Ile=pe({...Ple,props:Xc,emits:_le,setup(n,{expose:e,emit:t}){const i=n,r=Yn(),{t:s}=Ut(),o=He("transfer"),{formItem:a}=qi(),l=Gt({leftChecked:[],rightChecked:[]}),c=Wh(i),{sourceData:u,targetData:d}=Tle(i),{onSourceCheckedChange:f,onTargetCheckedChange:h}=Mle(l,t),{addToLeft:g,addToRight:m}=Ele(i,l,t),v=X(),y=X(),b=M=>{switch(M){case"left":v.value.query="";break;case"right":y.value.query="";break}},x=I(()=>i.buttonTexts.length===2),_=I(()=>i.titles[0]||s("el.transfer.titles.0")),w=I(()=>i.titles[1]||s("el.transfer.titles.1")),S=I(()=>i.filterPlaceholder||s("el.transfer.filterPlaceholder"));Ve(()=>i.modelValue,()=>{var M;i.validateEvent&&((M=a==null?void 0:a.validate)==null||M.call(a,"change").catch(C=>void 0))});const T=I(()=>M=>i.renderContent?i.renderContent(ot,M):r.default?r.default({option:M}):ot("span",M[c.value.label]||M[c.value.key]));return e({clearQuery:b,leftPanel:v,rightPanel:y}),(M,C)=>(B(),se("div",{class:U(p(o).b())},[ye(_E,{ref_key:"leftPanel",ref:v,data:p(u),"option-render":p(T),placeholder:p(S),title:p(_),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,"default-checked":M.leftDefaultChecked,props:i.props,onCheckedChange:p(f)},{default:Ee(()=>[Be(M.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),de("div",{class:U(p(o).e("buttons"))},[ye(p(ti),{type:"primary",class:U([p(o).e("button"),p(o).is("with-texts",p(x))]),disabled:p(kr)(l.rightChecked),onClick:p(g)},{default:Ee(()=>[ye(p(et),null,{default:Ee(()=>[ye(p(Da))]),_:1}),p(Hn)(M.buttonTexts[0])?ke("v-if",!0):(B(),se("span",Lle,qe(M.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ye(p(ti),{type:"primary",class:U([p(o).e("button"),p(o).is("with-texts",p(x))]),disabled:p(kr)(l.leftChecked),onClick:p(m)},{default:Ee(()=>[p(Hn)(M.buttonTexts[1])?ke("v-if",!0):(B(),se("span",Rle,qe(M.buttonTexts[1]),1)),ye(p(et),null,{default:Ee(()=>[ye(p($i))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ye(_E,{ref_key:"rightPanel",ref:y,data:p(d),"option-render":p(T),placeholder:p(S),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,title:p(w),"default-checked":M.rightDefaultChecked,props:i.props,onCheckedChange:p(h)},{default:Ee(()=>[Be(M.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var kle=je(Ile,[["__file","transfer.vue"]]);const Dle=At(kle),bu="$treeNodeId",xE=function(n,e){!e||e[bu]||Object.defineProperty(e,bu,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},c1=function(n,e){return n?e[n]:e[bu]},M_=(n,e,t)=>{const i=n.value.currentNode;t();const r=n.value.currentNode;i!==r&&e("current-change",r?r.data:null,r)},T_=n=>{let e=!0,t=!0,i=!0;for(let r=0,s=n.length;r<s;r++){const o=n[r];(o.checked!==!0||o.indeterminate)&&(e=!1,o.disabled||(i=!1)),(o.checked!==!1||o.indeterminate)&&(t=!1)}return{all:e,none:t,allWithoutDisable:i,half:!e&&!t}},eg=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:t,half:i}=T_(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):i?(n.checked=!1,n.indeterminate=!0):t&&(n.checked=!1,n.indeterminate=!1);const r=n.parent;!r||r.level===0||n.store.checkStrictly||eg(r)},wp=function(n,e){const t=n.store.props,i=n.data||{},r=t[e];if(typeof r=="function")return r(i,n);if(typeof r=="string")return i[r];if(typeof r>"u"){const s=i[e];return s===void 0?"":s}};let Nle=0,E_=class tg{constructor(e){this.id=Nle++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)zt(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&typeof t.isLeaf<"u"){const s=wp(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||xE(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||xE(this,e),this.data=e,this.childNodes=[];let t;this.level===0&&Array.isArray(this.data)?t=this.data:t=wp(this,"children")||[];for(let i=0,r=t.length;i<r;i++)this.insertChild({data:t[i]})}get label(){return wp(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return wp(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(i=>i===e||t&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof tg)){if(!i){const r=this.getChildren(!0);r.includes(e.data)||(typeof t>"u"||t<0?r.push(e.data):r.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Gt(new tg(e)),e instanceof tg&&e.initialize()}e.level=this.level+1,typeof t>"u"||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let i;t&&(i=this.childNodes.indexOf(t)),this.insertChild(e,i)}insertAfter(e,t){let i;t&&(i=this.childNodes.indexOf(t),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const t=this.getChildren()||[],i=t.indexOf(e.data);i>-1&&t.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){t=this.childNodes[i];break}t&&this.removeChild(t)}expand(e,t){const i=()=>{if(t){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||eg(this),i())}):i()}doCreateChildren(e,t={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,t,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:a}=T_(this.childNodes);!this.isLeaf&&!o&&a&&(this.checked=!1,e=!1);const l=()=>{if(t){const c=this.childNodes;for(let f=0,h=c.length;f<h;f++){const g=c[f];r=r||e!==!1;const m=g.disabled?g.checked:r;g.setChecked(m,t,!0,r)}const{half:u,all:d}=T_(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),eg(this)},{checked:e!==!1});return}else l()}const s=this.parent;!s||s.level===0||i||eg(s)}getChildren(e=!1){if(this.level===0)return this.data;const t=this.data;if(!t)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),t[r]===void 0&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(s=>s.data),i={},r=[];e.forEach((s,o)=>{const a=s[bu];!!a&&t.findIndex(c=>c[bu]===a)>=0?i[a]={index:o,data:s}:r.push({index:o,data:s})}),this.store.lazy||t.forEach(s=>{i[s[bu]]||this.removeChildByData(s)}),r.forEach(({index:s,data:o})=>{this.insertChild({data:o},s)}),this.updateLeafState()}loadData(e,t={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)){this.loading=!0;const i=r=>{this.childNodes=[],this.doCreateChildren(r,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,r)};this.store.load(this,i)}else e&&e.call(this)}};class Ole{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)zt(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new E_({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,t=>{this.root.doCreateChildren(t),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,i=this.lazy,r=function(s){const o=s.root?s.root.childNodes:s.childNodes;if(o.forEach(a=>{a.visible=t.call(a,e,a.data,a),r(a)}),!s.visible&&o.length){let a=!0;a=!o.some(l=>l.visible),s.root?s.root.visible=a===!1:s.visible=a===!1}e&&s.visible&&!s.isLeaf&&(!i||s.loaded)&&s.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof E_)return e;const t=It(e)?c1(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const i=this.getNode(t);i.parent.insertBefore({data:e},i)}insertAfter(e,t){const i=this.getNode(t);i.parent.insertAfter({data:e},i)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const i=t?this.getNode(t):this.root;i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(i=>{const r=t[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;!e||!e.data||(t?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const i=[],r=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{(a.checked||t&&a.indeterminate)&&(!e||e&&a.isLeaf)&&i.push(a.data),r(a)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(t=>(t||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),t(s)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const i in t)zt(t,i)&&e.push(t[i]);return e}updateChildren(e,t){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let s=r.length-1;s>=0;s--){const o=r[s];this.remove(o.data)}for(let s=0,o=t.length;s<o;s++){const a=t[s];this.append(a,i.data)}}_setCheckedKeys(e,t=!1,i){const r=this._getAllNodes().sort((l,c)=>l.level-c.level),s=Object.create(null),o=Object.keys(i);r.forEach(l=>l.setChecked(!1,!1));const a=l=>{l.childNodes.forEach(c=>{var u;s[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&a(c)})};for(let l=0,c=r.length;l<c;l++){const u=r[l],d=u.data[e].toString();if(!o.includes(d)){u.checked&&!s[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&a(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),t){u.setChecked(!1,!1);const h=function(g){g.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),h(v)})};h(u)}}}setCheckedNodes(e,t=!1){const i=this.key,r={};e.forEach(s=>{r[(s||{})[i]]=!0}),this._setCheckedKeys(i,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(s=>{r[s]=!0}),this._setCheckedKeys(i,t,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(t=>{const i=this.getNode(t);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,t,i){const r=this.getNode(e);r&&r.setChecked(!!t,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Fle=pe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=He("tree"),t=Qe("NodeInstance"),i=Qe("RootTree");return()=>{const r=n.node,{data:s,store:o}=r;return n.renderContent?n.renderContent(ot,{_self:t,node:r,data:s,store:o}):Be(i.ctx.slots,"default",{node:r,data:s},()=>[ot("span",{class:e.be("node","label")},[r.label])])}}});var Ble=je(Fle,[["__file","tree-node-content.vue"]]);function Hk(n){const e=Qe("TreeNodeMap",null),t={treeNodeExpand:i=>{n.node!==i&&n.node.collapse()},children:[]};return e&&e.children.push(t),Dt("TreeNodeMap",t),{broadcastExpanded:i=>{if(n.accordion)for(const r of t.children)r.treeNodeExpand(i)}}}const Uk=Symbol("dragEvents");function zle({props:n,ctx:e,el$:t,dropIndicator$:i,store:r}){const s=He("tree"),o=X({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Dt(Uk,{treeNodeDragStart:({event:u,treeNode:d})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,h=o.value.dropNode;h&&h.node.id!==f.node.id&&rr(h.$el,s.is("drop-inner"));const g=o.value.draggingNode;if(!g||!f)return;let m=!0,v=!0,y=!0,b=!0;typeof n.allowDrop=="function"&&(m=n.allowDrop(g.node,f.node,"prev"),b=v=n.allowDrop(g.node,f.node,"inner"),y=n.allowDrop(g.node,f.node,"next")),u.dataTransfer.dropEffect=v||m||y?"move":"none",(m||v||y)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&e.emit("node-drag-leave",g.node,h.node,u),e.emit("node-drag-enter",g.node,f.node,u)),m||v||y?o.value.dropNode=f:o.value.dropNode=null,f.node.nextSibling===g.node&&(y=!1),f.node.previousSibling===g.node&&(m=!1),f.node.contains(g.node,!1)&&(v=!1),(g.node===f.node||g.node.contains(f.node))&&(m=!1,v=!1,y=!1);const x=f.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),_=t.value.getBoundingClientRect();let w;const S=m?v?.25:y?.45:1:-1,T=y?v?.75:m?.55:0:1;let M=-9999;const C=u.clientY-x.top;C<x.height*S?w="before":C>x.height*T?w="after":v?w="inner":w="none";const L=f.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),E=i.value;w==="before"?M=L.top-_.top:w==="after"&&(M=L.bottom-_.top),E.style.top=`${M}px`,E.style.left=`${L.right-_.left}px`,w==="inner"?As(f.$el,s.is("drop-inner")):rr(f.$el,s.is("drop-inner")),o.value.showDropIndicator=w==="before"||w==="after",o.value.allowDrop=o.value.showDropIndicator||b,o.value.dropType=w,e.emit("node-drag-over",g.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:h}=o.value;if(u.preventDefault(),u.dataTransfer.dropEffect="move",d&&h){const g={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(g,h.node):f==="after"?h.node.parent.insertAfter(g,h.node):f==="inner"&&h.node.insertChild(g),f!=="none"&&r.value.registerNode(g),rr(h.$el,s.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,u),f!=="none"&&e.emit("node-drop",d.node,h.node,f,u)}d&&!h&&e.emit("node-drag-end",d.node,null,f,u),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const $le=pe({name:"ElTreeNode",components:{ElCollapseTransition:Pv,ElCheckbox:Gr,NodeContent:Ble,ElIcon:et,Loading:Wa},props:{node:{type:E_,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const t=He("tree"),{broadcastExpanded:i}=Hk(n),r=Qe("RootTree"),s=X(!1),o=X(!1),a=X(null),l=X(null),c=X(null),u=Qe(Uk),d=Mt();Dt("NodeInstance",d),n.node.expanded&&(s.value=!0,o.value=!0);const f=r.props.props.children||"children";Ve(()=>{const C=n.node.data[f];return C&&[...C]},()=>{n.node.updateChildren()}),Ve(()=>n.node.indeterminate,C=>{m(n.node.checked,C)}),Ve(()=>n.node.checked,C=>{m(C,n.node.indeterminate)}),Ve(()=>n.node.expanded,C=>{at(()=>s.value=C),C&&(o.value=!0)});const h=C=>c1(r.props.nodeKey,C.data),g=C=>{const L=n.props.class;if(!L)return{};let E;if(dt(L)){const{data:O}=C;E=L(O,C)}else E=L;return vt(E)?{[E]:!0}:E},m=(C,L)=>{(a.value!==C||l.value!==L)&&r.ctx.emit("check-change",n.node.data,C,L),a.value=C,l.value=L},v=C=>{M_(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(n.node)),r.currentNode.value=n.node,r.props.expandOnClickNode&&b(),r.props.checkOnClickNode&&!n.node.disabled&&x(null,{target:{checked:!n.node.checked}}),r.ctx.emit("node-click",n.node.data,n.node,d,C)},y=C=>{r.instance.vnode.props.onNodeContextmenu&&(C.stopPropagation(),C.preventDefault()),r.ctx.emit("node-contextmenu",C,n.node.data,n.node,d)},b=()=>{n.node.isLeaf||(s.value?(r.ctx.emit("node-collapse",n.node.data,n.node,d),n.node.collapse()):(n.node.expand(),e.emit("node-expand",n.node.data,n.node,d)))},x=(C,L)=>{n.node.setChecked(L.target.checked,!r.props.checkStrictly),at(()=>{const E=r.store.value;r.ctx.emit("check",n.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:t,node$:c,tree:r,expanded:s,childNodeRendered:o,oldChecked:a,oldIndeterminate:l,getNodeKey:h,getNodeClass:g,handleSelectChange:m,handleClick:v,handleContextMenu:y,handleExpandIconClick:b,handleCheckChange:x,handleChildNodeExpand:(C,L,E)=>{i(L),r.ctx.emit("node-expand",C,L,E)},handleDragStart:C=>{r.props.draggable&&u.treeNodeDragStart({event:C,treeNode:n})},handleDragOver:C=>{C.preventDefault(),r.props.draggable&&u.treeNodeDragOver({event:C,treeNode:{$el:c.value,node:n.node}})},handleDrop:C=>{C.preventDefault()},handleDragEnd:C=>{r.props.draggable&&u.treeNodeDragEnd(C)},CaretRight:sR}}}),Vle=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Hle=["aria-expanded"];function Ule(n,e,t,i,r,s){const o=Ct("el-icon"),a=Ct("el-checkbox"),l=Ct("loading"),c=Ct("node-content"),u=Ct("el-tree-node"),d=Ct("el-collapse-transition");return _t((B(),se("div",{ref:"node$",class:U([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[1]||(e[1]=ft((...f)=>n.handleClick&&n.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>n.handleContextMenu&&n.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=ft((...f)=>n.handleDragStart&&n.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=ft((...f)=>n.handleDragOver&&n.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=ft((...f)=>n.handleDragEnd&&n.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=ft((...f)=>n.handleDrop&&n.handleDrop(...f),["stop"]))},[de("div",{class:U(n.ns.be("node","content")),style:tt({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(B(),Oe(o,{key:0,class:U([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:ft(n.handleExpandIconClick,["stop"])},{default:Ee(()=>[(B(),Oe(Pt(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):ke("v-if",!0),n.showCheckbox?(B(),Oe(a,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=ft(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ke("v-if",!0),n.node.loading?(B(),Oe(o,{key:2,class:U([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:Ee(()=>[ye(l)]),_:1},8,["class"])):ke("v-if",!0),ye(c,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),ye(d,null,{default:Ee(()=>[!n.renderAfterExpand||n.childNodeRendered?_t((B(),se("div",{key:0,class:U(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(B(!0),se(rt,null,Bt(n.node.childNodes,f=>(B(),Oe(u,{key:n.getNodeKey(f),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:f,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Hle)),[[Wt,n.expanded]]):ke("v-if",!0)]),_:1})],42,Vle)),[[Wt,n.node.visible]])}var Wle=je($le,[["render",Ule],["__file","tree-node.vue"]]);function Gle({el$:n},e){const t=He("tree"),i=rn([]),r=rn([]);St(()=>{o()}),Ao(()=>{i.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),Ve(r,a=>{a.forEach(l=>{l.setAttribute("tabindex","-1")})}),gn(n,"keydown",a=>{const l=a.target;if(!l.className.includes(t.b("node")))return;const c=a.code;i.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));const u=i.value.indexOf(l);let d;if([it.up,it.down].includes(c)){if(a.preventDefault(),c===it.up){d=u===-1?0:u!==0?u-1:i.value.length-1;const h=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=i.value.length-1)}}else{d=u===-1?0:u<i.value.length-1?u+1:0;const h=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=i.value.length&&(d=0)}}d!==-1&&i.value[d].focus()}[it.left,it.right].includes(c)&&(a.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[it.enter,it.space].includes(c)&&f&&(a.preventDefault(),f.click())});const o=()=>{var a;i.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),r.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const l=n.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(a=i.value[0])==null||a.setAttribute("tabindex","0")}}const jle=pe({name:"ElTree",components:{ElTreeNode:Wle},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Qt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t}=Ut(),i=He("tree"),r=X(new Ole({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));r.value.initialize();const s=X(r.value.root),o=X(null),a=X(null),l=X(null),{broadcastExpanded:c}=Hk(n),{dragState:u}=zle({props:n,ctx:e,el$:a,dropIndicator$:l,store:r});Gle({el$:a},r);const d=I(()=>{const{childNodes:A}=s.value;return!A||A.length===0||A.every(({visible:N})=>!N)});Ve(()=>n.currentNodeKey,A=>{r.value.setCurrentNodeKey(A)}),Ve(()=>n.defaultCheckedKeys,A=>{r.value.setDefaultCheckedKey(A)}),Ve(()=>n.defaultExpandedKeys,A=>{r.value.setDefaultExpandedKeys(A)}),Ve(()=>n.data,A=>{r.value.setData(A)},{deep:!0}),Ve(()=>n.checkStrictly,A=>{r.value.checkStrictly=A});const f=A=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(A)},h=A=>c1(n.nodeKey,A.data),g=A=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const N=r.value.getNode(A);if(!N)return[];const P=[N.data];let z=N.parent;for(;z&&z!==s.value;)P.push(z.data),z=z.parent;return P.reverse()},m=(A,N)=>r.value.getCheckedNodes(A,N),v=A=>r.value.getCheckedKeys(A),y=()=>{const A=r.value.getCurrentNode();return A?A.data:null},b=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=y();return A?A[n.nodeKey]:null},x=(A,N)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(A,N)},_=(A,N)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(A,N)},w=(A,N,P)=>{r.value.setChecked(A,N,P)},S=()=>r.value.getHalfCheckedNodes(),T=()=>r.value.getHalfCheckedKeys(),M=(A,N=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");M_(r,e.emit,()=>r.value.setUserCurrentNode(A,N))},C=(A,N=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");M_(r,e.emit,()=>r.value.setCurrentNodeKey(A,N))},L=A=>r.value.getNode(A),E=A=>{r.value.remove(A)},O=(A,N)=>{r.value.append(A,N)},F=(A,N)=>{r.value.insertBefore(A,N)},R=(A,N)=>{r.value.insertAfter(A,N)},$=(A,N,P)=>{c(N),e.emit("node-expand",A,N,P)},D=(A,N)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(A,N)};return Dt("RootTree",{ctx:e,props:n,store:r,root:s,currentNode:o,instance:Mt()}),Dt(zs,void 0),{ns:i,store:r,root:s,currentNode:o,dragState:u,el$:a,dropIndicator$:l,isEmpty:d,filter:f,getNodeKey:h,getNodePath:g,getCheckedNodes:m,getCheckedKeys:v,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:x,setCheckedKeys:_,setChecked:w,getHalfCheckedNodes:S,getHalfCheckedKeys:T,setCurrentNode:M,setCurrentKey:C,t,getNode:L,remove:E,append:O,insertBefore:F,insertAfter:R,handleNodeExpand:$,updateKeyChildren:D}}});function Kle(n,e,t,i,r,s){const o=Ct("el-tree-node");return B(),se("div",{ref:"el$",class:U([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(B(!0),se(rt,null,Bt(n.root.childNodes,a=>(B(),Oe(o,{key:n.getNodeKey(a),node:a,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(B(),se("div",{key:0,class:U(n.ns.e("empty-block"))},[Be(n.$slots,"empty",{},()=>{var a;return[de("span",{class:U(n.ns.e("empty-text"))},qe((a=n.emptyText)!=null?a:n.t("el.tree.emptyText")),3)]})],2)):ke("v-if",!0),_t(de("div",{ref:"dropIndicator$",class:U(n.ns.e("drop-indicator"))},null,2),[[Wt,n.dragState.showDropIndicator]])],2)}var ng=je(jle,[["render",Kle],["__file","tree.vue"]]);ng.install=n=>{n.component(ng.name,ng)};const Bg=ng,qle=Bg,Yle=(n,{attrs:e,emit:t},{tree:i,key:r})=>{const s=He("tree-select"),o={...po(fi(n),Object.keys(Ul.props)),...e,"onUpdate:modelValue":a=>t(Lt,a),valueKey:r,popperClass:I(()=>{const a=[s.e("popper")];return n.popperClass&&a.push(n.popperClass),a.join(" ")}),filterMethod:(a="")=>{n.filterMethod&&n.filterMethod(a),at(()=>{var l;(l=i.value)==null||l.filter(a)})},onVisibleChange:a=>{var l;(l=e.onVisibleChange)==null||l.call(e,a),n.filterable&&a&&o.filterMethod()}};return o},Xle=pe({extends:Rg,setup(n,e){const t=Rg.setup(n,e);delete t.selectOptionClick;const i=Mt().proxy;return at(()=>{t.select.states.cachedOptions.get(i.value)||t.select.onOptionCreate(i)}),t},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function C_(n){return n||n===0}function u1(n){return Array.isArray(n)&&n.length}function Bd(n){return Array.isArray(n)?n:C_(n)?[n]:[]}function ig(n,e,t,i,r){for(let s=0;s<n.length;s++){const o=n[s];if(e(o,s,n,r))return i?i(o,s,n,r):o;{const a=t(o);if(u1(a)){const l=ig(a,e,t,i,o);if(l)return l}}}}function Wk(n,e,t,i){for(let r=0;r<n.length;r++){const s=n[r];e(s,r,n,i);const o=t(s);u1(o)&&Wk(o,e,t,s)}}const Zle=(n,{attrs:e,slots:t,emit:i},{select:r,tree:s,key:o})=>{Ve(()=>n.modelValue,()=>{n.showCheckbox&&at(()=>{const f=s.value;f&&!bi(f.getCheckedKeys(),Bd(n.modelValue))&&f.setCheckedKeys(Bd(n.modelValue))})},{immediate:!0,deep:!0});const a=I(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),l=(f,h)=>{var g;const m=a.value[f];return dt(m)?m(h,(g=s.value)==null?void 0:g.getNode(l("value",h))):h[m]},c=Bd(n.modelValue).map(f=>ig(n.data||[],h=>l("value",h)===f,h=>l("children",h),(h,g,m,v)=>v&&l("value",v))).filter(f=>C_(f)),u=I(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const f=[];return Wk(n.data.concat(n.cacheData),h=>{const g=l("value",h);f.push({value:g,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),f}),d=I(()=>u.value.reduce((f,h)=>({...f,[h.value]:h}),{}));return{...po(fi(n),Object.keys(Bg.props)),...e,nodeKey:o,expandOnClickNode:I(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:I(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(c):c),renderContent:(f,{node:h,data:g,store:m})=>f(Xle,{value:l("value",g),label:l("label",g),disabled:l("disabled",g)},n.renderContent?()=>n.renderContent(f,{node:h,data:g,store:m}):t.default?()=>t.default({node:h,data:g,store:m}):void 0),filterNodeMethod:(f,h,g)=>n.filterNodeMethod?n.filterNodeMethod(f,h,g):f?new RegExp(Jx(f),"i").test(l("label",h)||""):!0,onNodeClick:(f,h,g)=>{var m,v,y;if((m=e.onNodeClick)==null||m.call(e,f,h,g),!(n.showCheckbox&&n.checkOnClickNode))if(!n.showCheckbox&&(n.checkStrictly||h.isLeaf)){if(!l("disabled",f)){const b=(v=r.value)==null?void 0:v.states.options.get(l("value",f));(y=r.value)==null||y.handleOptionSelect(b)}}else n.expandOnClickNode&&g.proxy.handleExpandIconClick()},onCheck:(f,h)=>{if(!n.showCheckbox)return;const g=l("value",f),m=h.checkedKeys,v=n.multiple?Bd(n.modelValue).filter(b=>b in d.value&&!s.value.getNode(b)&&!m.includes(b)):[],y=m.concat(v);if(n.checkStrictly)i(Lt,n.multiple?y:y.includes(g)?g:void 0);else if(n.multiple)i(Lt,s.value.getCheckedKeys(!0));else{const b=ig([f],w=>!u1(l("children",w))&&!l("disabled",w),w=>l("children",w)),x=b?l("value",b):void 0,_=C_(n.modelValue)&&!!ig([f],w=>l("value",w)===n.modelValue,w=>l("children",w));i(Lt,x===n.modelValue||_?void 0:x)}at(()=>{var b;const x=Bd(n.modelValue);s.value.setCheckedKeys(x),(b=e.onCheck)==null||b.call(e,f,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})})},cacheOptions:u}};var Jle=pe({props:{data:{type:Array,default:()=>[]}},setup(n){const e=Qe(Hh);return Ve(()=>n.data,()=>{var t;n.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const i=((t=e.selectRef)==null?void 0:t.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Qle=pe({name:"ElTreeSelect",inheritAttrs:!1,props:{...Ul.props,...Bg.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:t,expose:i}=e,r=X(),s=X(),o=I(()=>n.nodeKey||n.valueKey||"value"),a=Yle(n,e,{select:r,tree:s,key:o}),{cacheOptions:l,...c}=Zle(n,e,{select:r,tree:s,key:o}),u=Gt({});return i(u),St(()=>{Object.assign(u,{...po(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...po(r.value,["focus","blur"])})}),()=>ot(Ul,Gt({...a,ref:d=>r.value=d}),{...t,default:()=>[ot(Jle,{data:l.value}),ot(Bg,Gt({...c,ref:d=>s.value=d}))]})}});var rg=je(Qle,[["__file","tree-select.vue"]]);rg.install=n=>{n.component(rg.name,rg)};const ece=rg,tce=ece,d1=Symbol(),nce={key:-1,level:-1,data:{}};var rf=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n))(rf||{}),A_=(n=>(n.ADD="add",n.DELETE="delete",n))(A_||{});const Gk={type:Number,default:26},ice=Ge({data:{type:Le(Array),default:()=>yn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Le(Object),default:()=>yn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Le(Array),default:()=>yn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Le(Array),default:()=>yn([])},indent:{type:Number,default:16},itemSize:Gk,icon:{type:Qt},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Le([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Le(Function)},perfMode:{type:Boolean,default:!0}}),rce=Ge({node:{type:Le(Object),default:()=>yn(nce)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Gk}),sce=Ge({node:{type:Le(Object),required:!0}}),jk="node-click",Kk="node-expand",qk="node-collapse",Yk="current-change",Xk="check",Zk="check-change",Jk="node-contextmenu",oce={[jk]:(n,e,t)=>n&&e&&t,[Kk]:(n,e)=>n&&e,[qk]:(n,e)=>n&&e,[Yk]:(n,e)=>n&&e,[Xk]:(n,e)=>n&&e,[Zk]:(n,e)=>n&&typeof e=="boolean",[Jk]:(n,e,t)=>n&&e&&t},ace={click:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&typeof e=="boolean"};function lce(n,e){const t=X(new Set),i=X(new Set),{emit:r}=Mt();Ve([()=>e.value,()=>n.defaultCheckedKeys],()=>at(()=>{b(n.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:x,maxLevel:_}=e.value,w=t.value,S=new Set;for(let T=_-1;T>=1;--T){const M=x.get(T);M&&M.forEach(C=>{const L=C.children;if(L){let E=!0,O=!1;for(const F of L){const R=F.key;if(w.has(R))O=!0;else if(S.has(R)){E=!1,O=!0;break}else E=!1}E?w.add(C.key):O?(S.add(C.key),w.delete(C.key)):(w.delete(C.key),S.delete(C.key))}})}i.value=S},o=x=>t.value.has(x.key),a=x=>i.value.has(x.key),l=(x,_,w=!0)=>{const S=t.value,T=(M,C)=>{S[C?A_.ADD:A_.DELETE](M.key);const L=M.children;!n.checkStrictly&&L&&L.forEach(E=>{E.disabled||T(E,C)})};T(x,_),s(),w&&c(x,_)},c=(x,_)=>{const{checkedNodes:w,checkedKeys:S}=g(),{halfCheckedNodes:T,halfCheckedKeys:M}=m();r(Xk,x.data,{checkedKeys:S,checkedNodes:w,halfCheckedKeys:M,halfCheckedNodes:T}),r(Zk,x.data,_)};function u(x=!1){return g(x).checkedKeys}function d(x=!1){return g(x).checkedNodes}function f(){return m().halfCheckedKeys}function h(){return m().halfCheckedNodes}function g(x=!1){const _=[],w=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:S}=e.value;t.value.forEach(T=>{const M=S.get(T);M&&(!x||x&&M.isLeaf)&&(w.push(T),_.push(M.data))})}return{checkedKeys:w,checkedNodes:_}}function m(){const x=[],_=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:w}=e.value;i.value.forEach(S=>{const T=w.get(S);T&&(_.push(S),x.push(T.data))})}return{halfCheckedNodes:x,halfCheckedKeys:_}}function v(x){t.value.clear(),i.value.clear(),b(x)}function y(x,_){if(e!=null&&e.value&&n.showCheckbox){const w=e.value.treeNodeMap.get(x);w&&l(w,_,!1)}}function b(x){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(n.showCheckbox&&_&&x)for(const w of x){const S=_.get(w);S&&!o(S)&&l(S,!0,!1)}}}return{updateCheckedKeys:s,toggleCheckbox:l,isChecked:o,isIndeterminate:a,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:y,setCheckedKeys:v}}function cce(n,e){const t=X(new Set([])),i=X(new Set([])),r=I(()=>dt(n.filterMethod));function s(a){var l;if(!r.value)return;const c=new Set,u=i.value,d=t.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],g=n.filterMethod;d.clear();function m(v){v.forEach(y=>{f.push(y),g!=null&&g(a,y.data)?f.forEach(x=>{c.add(x.key)}):y.isLeaf&&d.add(y.key);const b=y.children;if(b&&m(b),!y.isLeaf){if(!c.has(y.key))d.add(y.key);else if(b){let x=!0;for(const _ of b)if(!d.has(_.key)){x=!1;break}x?u.add(y.key):u.delete(y.key)}}f.pop()})}return m(h),c}function o(a){return i.value.has(a.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:t,doFilter:s,isForceHiddenExpandIcon:o}}function uce(n,e){const t=X(new Set(n.defaultExpandedKeys)),i=X(),r=rn();Ve(()=>n.currentNodeKey,oe=>{i.value=oe},{immediate:!0}),Ve(()=>n.data,oe=>{G(oe)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h}=lce(n,r),{doFilter:g,hiddenNodeKeySet:m,isForceHiddenExpandIcon:v}=cce(n,r),y=I(()=>{var oe;return((oe=n.props)==null?void 0:oe.value)||rf.KEY}),b=I(()=>{var oe;return((oe=n.props)==null?void 0:oe.children)||rf.CHILDREN}),x=I(()=>{var oe;return((oe=n.props)==null?void 0:oe.disabled)||rf.DISABLED}),_=I(()=>{var oe;return((oe=n.props)==null?void 0:oe.label)||rf.LABEL}),w=I(()=>{const oe=t.value,xe=m.value,ue=[],we=r.value&&r.value.treeNodes||[];function re(){const j=[];for(let Z=we.length-1;Z>=0;--Z)j.push(we[Z]);for(;j.length;){const Z=j.pop();if(Z&&(xe.has(Z.key)||ue.push(Z),oe.has(Z.key))){const le=Z.children;if(le){const J=le.length;for(let k=J-1;k>=0;--k)j.push(le[k])}}}}return re(),ue}),S=I(()=>w.value.length>0);function T(oe){const xe=new Map,ue=new Map;let we=1;function re(Z,le=1,J=void 0){var k;const q=[];for(const ce of Z){const me=L(ce),Ce={level:le,key:me,data:ce};Ce.label=O(ce),Ce.parent=J;const Q=C(ce);Ce.disabled=E(ce),Ce.isLeaf=!Q||Q.length===0,Q&&Q.length&&(Ce.children=re(Q,le+1,Ce)),q.push(Ce),xe.set(me,Ce),ue.has(le)||ue.set(le,[]),(k=ue.get(le))==null||k.push(Ce)}return le>we&&(we=le),q}const j=re(oe);return{treeNodeMap:xe,levelTreeNodeMap:ue,maxLevel:we,treeNodes:j}}function M(oe){const xe=g(oe);xe&&(t.value=xe)}function C(oe){return oe[b.value]}function L(oe){return oe?oe[y.value]:""}function E(oe){return oe[x.value]}function O(oe){return oe[_.value]}function F(oe){t.value.has(oe.key)?P(oe):N(oe)}function R(oe){t.value=new Set(oe)}function $(oe,xe){e(jk,oe.data,oe,xe),D(oe),n.expandOnClickNode&&F(oe),n.showCheckbox&&n.checkOnClickNode&&!oe.disabled&&a(oe,!o(oe),!0)}function D(oe){H(oe)||(i.value=oe.key,e(Yk,oe.data,oe))}function A(oe,xe){a(oe,xe)}function N(oe){const xe=t.value;if(r.value&&n.accordion){const{treeNodeMap:ue}=r.value;xe.forEach(we=>{const re=ue.get(we);oe&&oe.level===(re==null?void 0:re.level)&&xe.delete(we)})}xe.add(oe.key),e(Kk,oe.data,oe)}function P(oe){t.value.delete(oe.key),e(qk,oe.data,oe)}function z(oe){return t.value.has(oe.key)}function Y(oe){return!!oe.disabled}function H(oe){const xe=i.value;return xe!==void 0&&xe===oe.key}function V(){var oe,xe;if(i.value)return(xe=(oe=r.value)==null?void 0:oe.treeNodeMap.get(i.value))==null?void 0:xe.data}function W(){return i.value}function ie(oe){i.value=oe}function G(oe){at(()=>r.value=T(oe))}function te(oe){var xe;const ue=It(oe)?L(oe):oe;return(xe=r.value)==null?void 0:xe.treeNodeMap.get(ue)}return{tree:r,flattenTree:w,isNotEmpty:S,getKey:L,getChildren:C,toggleExpand:F,toggleCheckbox:a,isExpanded:z,isChecked:o,isIndeterminate:s,isDisabled:Y,isCurrent:H,isForceHiddenExpandIcon:v,handleNodeClick:$,handleNodeCheck:A,getCurrentNode:V,getCurrentKey:W,setCurrentKey:ie,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h,filter:M,setData:G,getNode:te,expandNode:N,collapseNode:P,setExpandedKeys:R}}var dce=pe({name:"ElTreeNodeContent",props:sce,setup(n){const e=Qe(d1),t=He("tree");return()=>{const i=n.node,{data:r}=i;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:i,data:r}):ot("span",{class:t.be("node","label")},[i==null?void 0:i.label])}}});const fce=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],hce=pe({name:"ElTreeNode"}),pce=pe({...hce,props:rce,emits:ace,setup(n,{emit:e}){const t=n,i=Qe(d1),r=He("tree"),s=I(()=>{var d;return(d=i==null?void 0:i.props.indent)!=null?d:16}),o=I(()=>{var d;return(d=i==null?void 0:i.props.icon)!=null?d:sR}),a=d=>{e("click",t.node,d)},l=()=>{e("toggle",t.node)},c=d=>{e("check",t.node,d)},u=d=>{var f,h,g,m;(g=(h=(f=i==null?void 0:i.instance)==null?void 0:f.vnode)==null?void 0:h.props)!=null&&g.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),i==null||i.ctx.emit(Jk,d,(m=t.node)==null?void 0:m.data,t.node)};return(d,f)=>{var h,g,m;return B(),se("div",{ref:"node$",class:U([p(r).b("node"),p(r).is("expanded",d.expanded),p(r).is("current",d.current),p(r).is("focusable",!d.disabled),p(r).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(h=d.node)==null?void 0:h.key,onClick:ft(a,["stop"]),onContextmenu:u},[de("div",{class:U(p(r).be("node","content")),style:tt({paddingLeft:`${(d.node.level-1)*p(s)}px`,height:d.itemSize+"px"})},[p(o)?(B(),Oe(p(et),{key:0,class:U([p(r).is("leaf",!!((g=d.node)!=null&&g.isLeaf)),p(r).is("hidden",d.hiddenExpandIcon),{expanded:!((m=d.node)!=null&&m.isLeaf)&&d.expanded},p(r).be("node","expand-icon")]),onClick:ft(l,["stop"])},{default:Ee(()=>[(B(),Oe(Pt(p(o))))]),_:1},8,["class","onClick"])):ke("v-if",!0),d.showCheckbox?(B(),Oe(p(Gr),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:c,onClick:f[0]||(f[0]=ft(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):ke("v-if",!0),ye(p(dce),{node:d.node},null,8,["node"])],6)],42,fce)}}});var mce=je(pce,[["__file","tree-node.vue"]]);const gce=pe({name:"ElTreeV2"}),vce=pe({...gce,props:ice,emits:oce,setup(n,{expose:e,emit:t}){const i=n,r=Yn(),s=I(()=>i.itemSize);Dt(d1,{ctx:{emit:t,slots:r},props:i,instance:Mt()}),Dt(zs,void 0);const{t:o}=Ut(),a=He("tree"),{flattenTree:l,isNotEmpty:c,toggleExpand:u,isExpanded:d,isIndeterminate:f,isChecked:h,isDisabled:g,isCurrent:m,isForceHiddenExpandIcon:v,handleNodeClick:y,handleNodeCheck:b,toggleCheckbox:x,getCurrentNode:_,getCurrentKey:w,setCurrentKey:S,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:C,getHalfCheckedNodes:L,setChecked:E,setCheckedKeys:O,filter:F,setData:R,getNode:$,expandNode:D,collapseNode:A,setExpandedKeys:N}=uce(i,t);return e({toggleCheckbox:x,getCurrentNode:_,getCurrentKey:w,setCurrentKey:S,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:C,getHalfCheckedNodes:L,setChecked:E,setCheckedKeys:O,filter:F,setData:R,getNode:$,expandNode:D,collapseNode:A,setExpandedKeys:N}),(P,z)=>{var Y;return B(),se("div",{class:U([p(a).b(),{[p(a).m("highlight-current")]:P.highlightCurrent}]),role:"tree"},[p(c)?(B(),Oe(p(ik),{key:0,"class-name":p(a).b("virtual-list"),data:p(l),total:p(l).length,height:P.height,"item-size":p(s),"perf-mode":P.perfMode},{default:Ee(({data:H,index:V,style:W})=>[(B(),Oe(mce,{key:H[V].key,style:tt(W),node:H[V],expanded:p(d)(H[V]),"show-checkbox":P.showCheckbox,checked:p(h)(H[V]),indeterminate:p(f)(H[V]),"item-size":p(s),disabled:p(g)(H[V]),current:p(m)(H[V]),"hidden-expand-icon":p(v)(H[V]),onClick:p(y),onToggle:p(u),onCheck:p(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(B(),se("div",{key:1,class:U(p(a).e("empty-block"))},[de("span",{class:U(p(a).e("empty-text"))},qe((Y=P.emptyText)!=null?Y:p(o)("el.tree.emptyText")),3)],2))],2)}}});var yce=je(vce,[["__file","tree.vue"]]);const bce=At(yce),Qk=Symbol("uploadContextKey"),_ce="ElUpload";class xce extends Error{constructor(e,t,i,r){super(e),this.name="UploadAjaxError",this.status=t,this.method=i,this.url=r}}function wE(n,e,t){let i;return t.response?i=`${t.response.error||t.response}`:t.responseText?i=`${t.responseText}`:i=`fail to ${e.method} ${n} ${t.status}`,new xce(i,t.status,e.method,n)}function wce(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Sce=n=>{typeof XMLHttpRequest>"u"&&Wn(_ce,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,t=n.action;e.upload&&e.upload.addEventListener("progress",s=>{const o=s;o.percent=s.total>0?s.loaded/s.total*100:0,n.onProgress(o)});const i=new FormData;if(n.data)for(const[s,o]of Object.entries(n.data))Je(o)&&o.length?i.append(s,...o):i.append(s,o);i.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(wE(t,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(wE(t,n,e));n.onSuccess(wce(e))}),e.open(n.method,t,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=n.headers||{};if(r instanceof Headers)r.forEach((s,o)=>e.setRequestHeader(o,s));else for(const[s,o]of Object.entries(r))Kn(o)||e.setRequestHeader(s,String(o));return e.send(i),e},eD=["text","picture","picture-card"];let Mce=1;const L_=()=>Date.now()+Mce++,tD=Ge({action:{type:String,default:"#"},headers:{type:Le(Object)},method:{type:String,default:"post"},data:{type:Le([Object,Function,Promise]),default:()=>yn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Le(Array),default:()=>yn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:eD,default:"text"},httpRequest:{type:Le(Function),default:Sce},disabled:Boolean,limit:Number}),Tce=Ge({...tD,beforeUpload:{type:Le(Function),default:jt},beforeRemove:{type:Le(Function)},onRemove:{type:Le(Function),default:jt},onChange:{type:Le(Function),default:jt},onPreview:{type:Le(Function),default:jt},onSuccess:{type:Le(Function),default:jt},onProgress:{type:Le(Function),default:jt},onError:{type:Le(Function),default:jt},onExceed:{type:Le(Function),default:jt}}),Ece=Ge({files:{type:Le(Array),default:()=>yn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Le(Function),default:jt},listType:{type:String,values:eD,default:"text"}}),Cce={remove:n=>!!n},Ace=["onKeydown"],Lce=["src"],Rce=["onClick"],Pce=["title"],Ice=["onClick"],kce=["onClick"],Dce=pe({name:"ElUploadList"}),Nce=pe({...Dce,props:Ece,emits:Cce,setup(n,{emit:e}){const t=n,{t:i}=Ut(),r=He("upload"),s=He("icon"),o=He("list"),a=dr(),l=X(!1),c=I(()=>[r.b("list"),r.bm("list",t.listType),r.is("disabled",t.disabled)]),u=d=>{e("remove",d)};return(d,f)=>(B(),Oe(rL,{tag:"ul",class:U(p(c)),name:p(o).b()},{default:Ee(()=>[(B(!0),se(rt,null,Bt(d.files,h=>(B(),se("li",{key:h.uid||h.name,class:U([p(r).be("list","item"),p(r).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Jt(g=>!p(a)&&u(h),["delete"]),onFocus:f[0]||(f[0]=g=>l.value=!0),onBlur:f[1]||(f[1]=g=>l.value=!1),onClick:f[2]||(f[2]=g=>l.value=!1)},[Be(d.$slots,"default",{file:h},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?(B(),se("img",{key:0,class:U(p(r).be("list","item-thumbnail")),src:h.url,alt:""},null,10,Lce)):ke("v-if",!0),h.status==="uploading"||d.listType!=="picture-card"?(B(),se("div",{key:1,class:U(p(r).be("list","item-info"))},[de("a",{class:U(p(r).be("list","item-name")),onClick:ft(g=>d.handlePreview(h),["prevent"])},[ye(p(et),{class:U(p(s).m("document"))},{default:Ee(()=>[ye(p(QH))]),_:1},8,["class"]),de("span",{class:U(p(r).be("list","item-file-name")),title:h.name},qe(h.name),11,Pce)],10,Rce),h.status==="uploading"?(B(),Oe(p(qI),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:tt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ke("v-if",!0)],2)):ke("v-if",!0),de("label",{class:U(p(r).be("list","item-status-label"))},[d.listType==="text"?(B(),Oe(p(et),{key:0,class:U([p(s).m("upload-success"),p(s).m("circle-check")])},{default:Ee(()=>[ye(p(tw))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(B(),Oe(p(et),{key:1,class:U([p(s).m("upload-success"),p(s).m("check")])},{default:Ee(()=>[ye(p(Dh))]),_:1},8,["class"])):ke("v-if",!0)],2),p(a)?ke("v-if",!0):(B(),Oe(p(et),{key:2,class:U(p(s).m("close")),onClick:g=>u(h)},{default:Ee(()=>[ye(p(gs))]),_:2},1032,["class","onClick"])),ke(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ke(" This is a bug which needs to be fixed "),ke(" TODO: Fix the incorrect navigation interaction "),p(a)?ke("v-if",!0):(B(),se("i",{key:3,class:U(p(s).m("close-tip"))},qe(p(i)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(B(),se("span",{key:4,class:U(p(r).be("list","item-actions"))},[de("span",{class:U(p(r).be("list","item-preview")),onClick:g=>d.handlePreview(h)},[ye(p(et),{class:U(p(s).m("zoom-in"))},{default:Ee(()=>[ye(p(cR))]),_:1},8,["class"])],10,Ice),p(a)?ke("v-if",!0):(B(),se("span",{key:0,class:U(p(r).be("list","item-delete")),onClick:g=>u(h)},[ye(p(et),{class:U(p(s).m("delete"))},{default:Ee(()=>[ye(p(ZH))]),_:1},8,["class"])],10,kce))],2)):ke("v-if",!0)])],42,Ace))),128)),Be(d.$slots,"append")]),_:3},8,["class","name"]))}});var SE=je(Nce,[["__file","upload-list.vue"]]);const Oce=Ge({disabled:{type:Boolean,default:!1}}),Fce={file:n=>Je(n)},Bce=["onDrop","onDragover"],nD="ElUploadDrag",zce=pe({name:nD}),$ce=pe({...zce,props:Oce,emits:Fce,setup(n,{emit:e}){const t=Qe(Qk);t||Wn(nD,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=He("upload"),r=X(!1),s=dr(),o=l=>{if(s.value)return;r.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files),u=t.accept.value;if(!u){e("file",c);return}const d=c.filter(f=>{const{type:h,name:g}=f,m=g.includes(".")?`.${g.split(".").pop()}`:"",v=h.replace(/\/.*$/,"");return u.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?m===y:/\/\*$/.test(y)?v===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?h===y:!1)});e("file",d)},a=()=>{s.value||(r.value=!0)};return(l,c)=>(B(),se("div",{class:U([p(i).b("dragger"),p(i).is("dragover",r.value)]),onDrop:ft(o,["prevent"]),onDragover:ft(a,["prevent"]),onDragleave:c[0]||(c[0]=ft(u=>r.value=!1,["prevent"]))},[Be(l.$slots,"default")],42,Bce))}});var Vce=je($ce,[["__file","upload-dragger.vue"]]);const Hce=Ge({...tD,beforeUpload:{type:Le(Function),default:jt},onRemove:{type:Le(Function),default:jt},onStart:{type:Le(Function),default:jt},onSuccess:{type:Le(Function),default:jt},onProgress:{type:Le(Function),default:jt},onError:{type:Le(Function),default:jt},onExceed:{type:Le(Function),default:jt}}),Uce=["onKeydown"],Wce=["name","multiple","accept"],Gce=pe({name:"ElUploadContent",inheritAttrs:!1}),jce=pe({...Gce,props:Hce,setup(n,{expose:e}){const t=n,i=He("upload"),r=dr(),s=rn({}),o=rn(),a=m=>{if(m.length===0)return;const{autoUpload:v,limit:y,fileList:b,multiple:x,onStart:_,onExceed:w}=t;if(y&&b.length+m.length>y){w(m,b);return}x||(m=m.slice(0,1));for(const S of m){const T=S;T.uid=L_(),_(T),v&&l(T)}},l=async m=>{if(o.value.value="",!t.beforeUpload)return u(m);let v,y={};try{const x=t.data,_=t.beforeUpload(m);y=cg(t.data)?xg(t.data):t.data,v=await _,cg(t.data)&&bi(x,y)&&(y=xg(t.data))}catch{v=!1}if(v===!1){t.onRemove(m);return}let b=m;v instanceof Blob&&(v instanceof File?b=v:b=new File([v],m.name,{type:m.type})),u(Object.assign(b,{uid:m.uid}),y)},c=async(m,v)=>dt(m)?m(v):m,u=async(m,v)=>{const{headers:y,data:b,method:x,withCredentials:_,name:w,action:S,onProgress:T,onSuccess:M,onError:C,httpRequest:L}=t;try{v=await c(v??b,m)}catch{t.onRemove(m);return}const{uid:E}=m,O={headers:y||{},withCredentials:_,file:m,data:v,method:x,filename:w,action:S,onProgress:R=>{T(R,m)},onSuccess:R=>{M(R,m),delete s.value[E]},onError:R=>{C(R,m),delete s.value[E]}},F=L(O);s.value[E]=F,F instanceof Promise&&F.then(O.onSuccess,O.onError)},d=m=>{const v=m.target.files;v&&a(Array.from(v))},f=()=>{r.value||(o.value.value="",o.value.click())},h=()=>{f()};return e({abort:m=>{EH(s.value).filter(m?([y])=>String(m.uid)===y:()=>!0).forEach(([y,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete s.value[y]})},upload:l}),(m,v)=>(B(),se("div",{class:U([p(i).b(),p(i).m(m.listType),p(i).is("drag",m.drag)]),tabindex:"0",onClick:f,onKeydown:Jt(ft(h,["self"]),["enter","space"])},[m.drag?(B(),Oe(Vce,{key:0,disabled:p(r),onFile:a},{default:Ee(()=>[Be(m.$slots,"default")]),_:3},8,["disabled"])):Be(m.$slots,"default",{key:1}),de("input",{ref_key:"inputRef",ref:o,class:U(p(i).e("input")),name:m.name,multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:v[0]||(v[0]=ft(()=>{},["stop"]))},null,42,Wce)],42,Uce))}});var ME=je(jce,[["__file","upload-content.vue"]]);const TE="ElUpload",EE=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},Kce=(n,e)=>{const t=gL(n,"fileList",void 0,{passive:!0}),i=f=>t.value.find(h=>h.uid===f.uid);function r(f){var h;(h=e.value)==null||h.abort(f)}function s(f=["ready","uploading","success","fail"]){t.value=t.value.filter(h=>!f.includes(h.status))}const o=(f,h)=>{const g=i(h);g&&(console.error(f),g.status="fail",t.value.splice(t.value.indexOf(g),1),n.onError(f,g,t.value),n.onChange(g,t.value))},a=(f,h)=>{const g=i(h);g&&(n.onProgress(f,g,t.value),g.status="uploading",g.percentage=Math.round(f.percent))},l=(f,h)=>{const g=i(h);g&&(g.status="success",g.response=f,n.onSuccess(f,g,t.value),n.onChange(g,t.value))},c=f=>{Kn(f.uid)&&(f.uid=L_());const h={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(n.listType==="picture-card"||n.listType==="picture")try{h.url=URL.createObjectURL(f)}catch(g){g.message,n.onError(g,h,t.value)}t.value=[...t.value,h],n.onChange(h,t.value)},u=async f=>{const h=f instanceof File?i(f):f;h||Wn(TE,"file to be removed not found");const g=m=>{r(m);const v=t.value;v.splice(v.indexOf(m),1),n.onRemove(m,v),EE(m)};n.beforeRemove?await n.beforeRemove(h,t.value)!==!1&&g(h):g(h)};function d(){t.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var h;return f&&((h=e.value)==null?void 0:h.upload(f))})}return Ve(()=>n.listType,f=>{f!=="picture-card"&&f!=="picture"||(t.value=t.value.map(h=>{const{raw:g,url:m}=h;if(!m&&g)try{h.url=URL.createObjectURL(g)}catch(v){n.onError(v,h,t.value)}return h}))}),Ve(t,f=>{for(const h of f)h.uid||(h.uid=L_()),h.status||(h.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:r,clearFiles:s,handleError:o,handleProgress:a,handleStart:c,handleSuccess:l,handleRemove:u,submit:d,revokeFileObjectURL:EE}},qce=pe({name:"ElUpload"}),Yce=pe({...qce,props:Tce,setup(n,{expose:e}){const t=n,i=dr(),r=rn(),{abort:s,submit:o,clearFiles:a,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:h,revokeFileObjectURL:g}=Kce(t,r),m=I(()=>t.listType==="picture-card"),v=I(()=>({...t,fileList:l.value,onStart:c,onProgress:h,onSuccess:f,onError:u,onRemove:d}));return sn(()=>{l.value.forEach(g)}),Dt(Qk,{accept:tn(t,"accept")}),e({abort:s,submit:o,clearFiles:a,handleStart:c,handleRemove:d}),(y,b)=>(B(),se("div",null,[p(m)&&y.showFileList?(B(),Oe(SE,{key:0,disabled:p(i),"list-type":y.listType,files:p(l),"handle-preview":y.onPreview,onRemove:p(d)},xo({append:Ee(()=>[ye(ME,Rt({ref_key:"uploadRef",ref:r},p(v)),{default:Ee(()=>[y.$slots.trigger?Be(y.$slots,"trigger",{key:0}):ke("v-if",!0),!y.$slots.trigger&&y.$slots.default?Be(y.$slots,"default",{key:1}):ke("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:Ee(({file:x})=>[Be(y.$slots,"file",{file:x})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ke("v-if",!0),!p(m)||p(m)&&!y.showFileList?(B(),Oe(ME,Rt({key:1,ref_key:"uploadRef",ref:r},p(v)),{default:Ee(()=>[y.$slots.trigger?Be(y.$slots,"trigger",{key:0}):ke("v-if",!0),!y.$slots.trigger&&y.$slots.default?Be(y.$slots,"default",{key:1}):ke("v-if",!0)]),_:3},16)):ke("v-if",!0),y.$slots.trigger?Be(y.$slots,"default",{key:2}):ke("v-if",!0),Be(y.$slots,"tip"),!p(m)&&y.showFileList?(B(),Oe(SE,{key:3,disabled:p(i),"list-type":y.listType,files:p(l),"handle-preview":y.onPreview,onRemove:p(d)},xo({_:2},[y.$slots.file?{name:"default",fn:Ee(({file:x})=>[Be(y.$slots,"file",{file:x})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ke("v-if",!0)]))}});var Xce=je(Yce,[["__file","upload.vue"]]);const Zce=At(Xce),Jce=Ge({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Le([String,Array]),default:"Element Plus"},font:{type:Le(Object)},gap:{type:Le(Array),default:()=>[100,100]},offset:{type:Le(Array)}});function Qce(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}function eue(n){return Object.keys(n).map(e=>`${Qce(e)}: ${n[e]};`).join(" ")}function tue(){return window.devicePixelRatio||1}const nue=(n,e)=>{let t=!1;return n.removedNodes.length&&e&&(t=Array.from(n.removedNodes).includes(e)),n.type==="attributes"&&n.target===e&&(t=!0),t},iD=3;function B0(n,e,t=1){const i=document.createElement("canvas"),r=i.getContext("2d"),s=n*t,o=e*t;return i.setAttribute("width",`${s}px`),i.setAttribute("height",`${o}px`),r.save(),[r,i,s,o]}function iue(){function n(e,t,i,r,s,o,a,l){const[c,u,d,f]=B0(r,s,i);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,f);else{const{color:Y,fontSize:H,fontStyle:V,fontWeight:W,fontFamily:ie,textAlign:G,textBaseline:te}=o,oe=Number(H)*i;c.font=`${V} normal ${W} ${oe}px/${s}px ${ie}`,c.fillStyle=Y,c.textAlign=G,c.textBaseline=te;const xe=Array.isArray(e)?e:[e];xe==null||xe.forEach((ue,we)=>{c.fillText(ue??"",d/2,we*(oe+iD*i))})}const h=Math.PI/180*Number(t),g=Math.max(r,s),[m,v,y]=B0(g,g,i);m.translate(y/2,y/2),m.rotate(h),d>0&&f>0&&m.drawImage(u,-d/2,-f/2);function b(Y,H){const V=Y*Math.cos(h)-H*Math.sin(h),W=Y*Math.sin(h)+H*Math.cos(h);return[V,W]}let x=0,_=0,w=0,S=0;const T=d/2,M=f/2;[[0-T,0-M],[0+T,0-M],[0+T,0+M],[0-T,0+M]].forEach(([Y,H])=>{const[V,W]=b(Y,H);x=Math.min(x,V),_=Math.max(_,V),w=Math.min(w,W),S=Math.max(S,W)});const L=x+y/2,E=w+y/2,O=_-x,F=S-w,R=a*i,$=l*i,D=(O+R)*2,A=F+$,[N,P]=B0(D,A);function z(Y=0,H=0){N.drawImage(v,L,E,O,F,Y,H,O,F)}return z(),z(O+R,-F/2-$/2),z(O+R,+F/2+$/2),[P.toDataURL(),D/i,A/i]}return n}const rue=pe({name:"ElWatermark"}),sue=pe({...rue,props:Jce,setup(n){const e=n,t={position:"relative"},i=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.color)!=null?E:"rgba(0,0,0,.15)"}),r=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.fontSize)!=null?E:16}),s=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.fontWeight)!=null?E:"normal"}),o=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.fontStyle)!=null?E:"normal"}),a=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.fontFamily)!=null?E:"sans-serif"}),l=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.textAlign)!=null?E:"center"}),c=I(()=>{var L,E;return(E=(L=e.font)==null?void 0:L.textBaseline)!=null?E:"top"}),u=I(()=>e.gap[0]),d=I(()=>e.gap[1]),f=I(()=>u.value/2),h=I(()=>d.value/2),g=I(()=>{var L,E;return(E=(L=e.offset)==null?void 0:L[0])!=null?E:f.value}),m=I(()=>{var L,E;return(E=(L=e.offset)==null?void 0:L[1])!=null?E:h.value}),v=()=>{const L={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let E=g.value-f.value,O=m.value-h.value;return E>0&&(L.left=`${E}px`,L.width=`calc(100% - ${E}px)`,E=0),O>0&&(L.top=`${O}px`,L.height=`calc(100% - ${O}px)`,O=0),L.backgroundPosition=`${E}px ${O}px`,L},y=rn(null),b=rn(),x=X(!1),_=()=>{b.value&&(b.value.remove(),b.value=void 0)},w=(L,E)=>{var O;y.value&&b.value&&(x.value=!0,b.value.setAttribute("style",eue({...v(),backgroundImage:`url('${L}')`,backgroundSize:`${Math.floor(E)}px`})),(O=y.value)==null||O.append(b.value),setTimeout(()=>{x.value=!1}))},S=L=>{let E=120,O=64;const F=e.image,R=e.content,$=e.width,D=e.height;if(!F&&L.measureText){L.font=`${Number(r.value)}px ${a.value}`;const A=Array.isArray(R)?R:[R],N=A.map(P=>{const z=L.measureText(P);return[z.width,z.fontBoundingBoxAscent!==void 0?z.fontBoundingBoxAscent+z.fontBoundingBoxDescent:z.actualBoundingBoxAscent+z.actualBoundingBoxDescent]});E=Math.ceil(Math.max(...N.map(P=>P[0]))),O=Math.ceil(Math.max(...N.map(P=>P[1])))*A.length+(A.length-1)*iD}return[$??E,D??O]},T=iue(),M=()=>{const E=document.createElement("canvas").getContext("2d"),O=e.image,F=e.content,R=e.rotate;if(E){b.value||(b.value=document.createElement("div"));const $=tue(),[D,A]=S(E),N=P=>{const[z,Y]=T(P||"",R,$,D,A,{color:i.value,fontSize:r.value,fontStyle:o.value,fontWeight:s.value,fontFamily:a.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);w(z,Y)};if(O){const P=new Image;P.onload=()=>{N(P)},P.onerror=()=>{N(F)},P.crossOrigin="anonymous",P.referrerPolicy="no-referrer",P.src=O}else N(F)}};return St(()=>{M()}),Ve(()=>e,()=>{M()},{deep:!0,flush:"post"}),sn(()=>{_()}),mL(y,L=>{x.value||L.forEach(E=>{nue(E,b.value)&&(_(),M())})},{attributes:!0,subtree:!0,childList:!0}),(L,E)=>(B(),se("div",{ref_key:"containerRef",ref:y,style:tt([t])},[Be(L.$slots,"default")],4))}});var oue=je(sue,[["__file","watermark.vue"]]);const aue=At(oue),lue=Ge({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Le(Object)},targetAreaClickable:{type:Boolean,default:!0}}),cue=(n,e,t,i,r)=>{const s=X(null),o=()=>{let d;return vt(n.value)?d=document.querySelector(n.value):dt(n.value)?d=n.value():d=n.value,d},a=()=>{const d=o();if(!d||!e.value){s.value=null;return}!uue(d)&&e.value&&d.scrollIntoView(r.value);const{left:f,top:h,width:g,height:m}=d.getBoundingClientRect();s.value={left:f,top:h,width:g,height:m,radius:0}};St(()=>{Ve([e,n],()=>{a()},{immediate:!0}),window.addEventListener("resize",a)}),sn(()=>{window.removeEventListener("resize",a)});const l=d=>{var f;return(f=Je(t.value.offset)?t.value.offset[d]:t.value.offset)!=null?f:6},c=I(()=>{var d;if(!s.value)return s.value;const f=l(0),h=l(1),g=((d=t.value)==null?void 0:d.radius)||2;return{left:s.value.left-f,top:s.value.top-h,width:s.value.width+f*2,height:s.value.height+h*2,radius:g}}),u=I(()=>{const d=o();return!i.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,h,g,m;return window.DOMRect.fromRect({width:((f=c.value)==null?void 0:f.width)||0,height:((h=c.value)==null?void 0:h.height)||0,x:((g=c.value)==null?void 0:g.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},Fv=Symbol("ElTour");function uue(n){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,{top:i,right:r,bottom:s,left:o}=n.getBoundingClientRect();return i>=0&&o>=0&&r<=e&&s<=t}const due=(n,e)=>{if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0};function fue(n,e){if(n.length!==e.length)return!1;for(const[t]of n.entries())if(due(n[t],e[t]))return!1;return!0}const hue=(n,e)=>{var t;if(!un(n))return{};const i=n.props||{},r=((t=n.type)==null?void 0:t.props)||{},s={};return Object.keys(r).forEach(o=>{zt(r[o],"default")&&(s[o]=r[o].default)}),Object.keys(i).forEach(o=>{const a=Er(o);s[a]=i[o],e.includes(a)&&s[a]===""&&(s[a]=!0)}),s},pue=(n,e,t,i,r,s,o,a)=>{const l=X(),c=X(),u=X({}),d={x:l,y:c,placement:i,strategy:r,middlewareData:u},f=I(()=>{const y=[NR(p(s)),WW(),UW(),mue()];return p(a)&&p(t)&&y.push(GR({element:p(t)})),y}),h=async()=>{if(!Vt)return;const y=p(n),b=p(e);if(!y||!b)return;const x=await jR(y,b,{placement:p(i),strategy:p(r),middleware:p(f)});ku(d).forEach(_=>{d[_].value=x[_]})},g=I(()=>{if(!p(n))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:p(o)};const{overflow:y}=p(u);return{position:p(r),zIndex:p(o),top:p(c)!=null?`${p(c)}px`:"",left:p(l)!=null?`${p(l)}px`:"",maxWidth:y!=null&&y.maxWidth?`${y==null?void 0:y.maxWidth}px`:""}}),m=I(()=>{if(!p(a))return{};const{arrow:y}=p(u);return{left:(y==null?void 0:y.x)!=null?`${y==null?void 0:y.x}px`:"",top:(y==null?void 0:y.y)!=null?`${y==null?void 0:y.y}px`:""}});let v;return St(()=>{v=HW(p(n),p(e),h),yi(()=>{h()})}),sn(()=>{v&&v()}),{update:h,contentStyle:g,arrowStyle:m}},mue=()=>({name:"overflow",async fn(n){const e=await Sw(n);let t=0;return e.left>0&&(t=e.left),e.right>0&&(t=e.right),{data:{maxWidth:n.rects.floating.width-t}}}}),gue={style:{width:"100%",height:"100%"}},vue=["d"],yue=pe({name:"ElTourMask",inheritAttrs:!1}),bue=pe({...yue,props:lue,setup(n){const e=n,{ns:t}=Qe(Fv),i=I(()=>{var a,l;return(l=(a=e.pos)==null?void 0:a.radius)!=null?l:2}),r=I(()=>{const a=i.value,l=`a${a},${a} 0 0 1`;return{topRight:`${l} ${a},${a}`,bottomRight:`${l} ${-a},${a}`,bottomLeft:`${l} ${-a},${-a}`,topLeft:`${l} ${a},${-a}`}}),s=I(()=>{const a=window.innerWidth,l=window.innerHeight,c=r.value,u=`M${a},0 L0,0 L0,${l} L${a},${l} L${a},0 Z`,d=i.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),o=I(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return uw(tn(e,"visible"),{ns:t}),(a,l)=>a.visible?(B(),se("div",Rt({key:0,class:p(t).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:a.zIndex,pointerEvents:a.pos&&a.targetAreaClickable?"none":"auto"}},a.$attrs),[(B(),se("svg",gue,[de("path",{class:U(p(t).e("hollow")),style:tt(p(o)),d:p(s)},null,14,vue)]))],16)):ke("v-if",!0)}});var _ue=je(bue,[["__file","mask.vue"]]);const xue=["absolute","fixed"],wue=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],f1=Ge({placement:{type:Le(String),values:wue,default:"bottom"},reference:{type:Le(Object),default:null},strategy:{type:Le(String),values:xue,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),Sue={close:()=>!0},Mue=["data-side"],Tue=pe({name:"ElTourContent"}),Eue=pe({...Tue,props:f1,emits:Sue,setup(n,{emit:e}){const t=n,i=X(t.placement),r=X(t.strategy),s=X(null),o=X(null);Ve(()=>t.placement,()=>{i.value=t.placement});const{contentStyle:a,arrowStyle:l}=pue(tn(t,"reference"),s,o,i,r,tn(t,"offset"),tn(t,"zIndex"),tn(t,"showArrow")),c=I(()=>i.value.split("-")[0]),{ns:u}=Qe(Fv),d=()=>{e("close")};return(f,h)=>(B(),se("div",{ref_key:"contentRef",ref:s,style:tt(p(a)),class:U(p(u).e("content")),"data-side":p(c),tabindex:"-1"},[ye(p(Vh),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":s.value||void 0,onReleaseRequested:d},{default:Ee(()=>[Be(f.$slots,"default")]),_:3},8,["focus-trap-el"]),f.showArrow?(B(),se("span",{key:0,ref_key:"arrowRef",ref:o,style:tt(p(l)),class:U(p(u).e("arrow"))},null,6)):ke("v-if",!0)],14,Mue))}});var Cue=je(Eue,[["__file","content.vue"]]),Aue=pe({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-steps"],setup(n,{slots:e,emit:t}){let i=[];return()=>{var r,s;const o=(r=e.default)==null?void 0:r.call(e),a=[],l=[];function c(u){Je(u)&&u.forEach(d=>{var f;if(((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"){const g=["showArrow","mask","scrollIntoViewOptions"];a.push(hue(d,g)),l.push(d)}})}return o.length&&c(xa((s=o[0])==null?void 0:s.children)),fue(a,i)||(i=a,t("update-steps",a)),l.length?l[n.current]:null}}});const Lue=Ge({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Qt},placement:f1.placement,contentStyle:{type:Le([Object])},mask:{type:Le([Boolean,Object]),default:!0},gap:{type:Le(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Le([Boolean,Object]),default:()=>({block:"center"})},type:{type:Le(String)},appendTo:{type:Le([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Rue={[Lt]:n=>zn(n),"update:current":n=>ut(n),close:n=>ut(n),finish:()=>!0,change:n=>ut(n)},Pue=pe({name:"ElTour"}),Iue=pe({...Pue,props:Lue,emits:Rue,setup(n,{emit:e}){const t=n,i=He("tour"),r=X([]),s=gL(t,"current",e,{passive:!0}),o=I(()=>r.value.length),a=I(()=>r.value[s.value]||{}),l=I(()=>a.value.target),c=I(()=>[i.b(),y.value==="primary"?i.m("primary"):""]),u=I(()=>a.value.placement||t.placement),d=I(()=>{var L;return(L=a.value.contentStyle)!=null?L:t.contentStyle}),f=I(()=>{var L;return(L=a.value.mask)!=null?L:t.mask}),h=I(()=>!!f.value&&t.modelValue),g=I(()=>zn(f.value)?void 0:f.value),m=I(()=>{var L;return!!l.value&&((L=a.value.showArrow)!=null?L:t.showArrow)}),v=I(()=>{var L;return(L=a.value.scrollIntoViewOptions)!=null?L:t.scrollIntoViewOptions}),y=I(()=>{var L;return(L=a.value.type)!=null?L:t.type}),{nextZIndex:b}=dd(),x=b(),_=I(()=>{var L;return(L=t.zIndex)!=null?L:x}),{mergedPosInfo:w,triggerTarget:S}=cue(l,tn(t,"modelValue"),tn(t,"gap"),f,v);Ve(()=>t.modelValue,L=>{L||(s.value=0)});const T=L=>{r.value=L},M=()=>{t.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},C=Yn();return Dt(Fv,{current:s,total:o,showClose:tn(t,"showClose"),closeIcon:tn(t,"closeIcon"),mergedType:y,ns:i,slots:C,updateModelValue(L){e("update:modelValue",L)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(L,E)=>{var O,F;return B(),se(rt,null,[(B(),Oe(ld,{to:L.appendTo},[de("div",Rt({class:p(c)},L.$attrs),[ye(_ue,{visible:p(h),fill:(O=p(g))==null?void 0:O.color,style:tt((F=p(g))==null?void 0:F.style),pos:p(w),"z-index":p(_),"target-area-clickable":L.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),L.modelValue?(B(),Oe(Cue,{key:p(s),reference:p(S),placement:p(u),"show-arrow":p(m),"z-index":p(_),style:tt(p(d)),onClose:M},{default:Ee(()=>[ye(p(Aue),{current:p(s),onUpdateSteps:T},{default:Ee(()=>[Be(L.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):ke("v-if",!0)],16)],8,["to"])),ke(" just for IDE "),ke("v-if",!0)],64)}}});var kue=je(Iue,[["__file","tour.vue"]]);const Due=Ge({target:{type:Le([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:!0},closeIcon:{type:Qt},showArrow:{type:Boolean,default:!0},placement:f1.placement,mask:{type:Le([Boolean,Object])},contentStyle:{type:Le([Object])},prevButtonProps:{type:Le(Object)},nextButtonProps:{type:Le(Object)},scrollIntoViewOptions:{type:Le([Boolean,Object])},type:{type:Le(String)}}),Nue={close:()=>!0},Oue=pe({name:"ElTourStep"}),Fue=pe({...Oue,props:Due,emits:Nue,setup(n,{emit:e}){const t=n,{Close:i}=rw,{t:r}=Ut(),{current:s,total:o,showClose:a,closeIcon:l,mergedType:c,ns:u,slots:d,updateModelValue:f,onClose:h,onFinish:g,onChange:m}=Qe(Fv),v=I(()=>{var S;return(S=t.showClose)!=null?S:a.value}),y=I(()=>{var S,T;return(T=(S=t.closeIcon)!=null?S:l.value)!=null?T:i}),b=()=>{var S,T;s.value-=1,(S=t.prevButtonProps)!=null&&S.onClick&&((T=t.prevButtonProps)==null||T.onClick()),m()},x=()=>{var S;s.value>=o.value-1?_():s.value+=1,(S=t.nextButtonProps)!=null&&S.onClick&&t.nextButtonProps.onClick(),m()},_=()=>{w(),g()},w=()=>{f(!1),h(),e("close")};return(S,T)=>(B(),se(rt,null,[p(v)?(B(),se("button",{key:0,"aria-label":"Close",class:U(p(u).e("closebtn")),type:"button",onClick:w},[ye(p(et),{class:U(p(u).e("close"))},{default:Ee(()=>[(B(),Oe(Pt(p(y))))]),_:1},8,["class"])],2)):ke("v-if",!0),de("header",{class:U(p(u).e("header"))},[Be(S.$slots,"header",{},()=>[de("span",{role:"heading",class:U(p(u).e("title"))},qe(S.title),3)])],2),de("div",{class:U(p(u).e("body"))},[Be(S.$slots,"default",{},()=>[de("span",null,qe(S.description),1)])],2),de("footer",{class:U(p(u).e("footer"))},[de("div",{class:U(p(u).b("indicators"))},[p(d).indicators?(B(),Oe(Pt(p(d).indicators),{key:0,current:p(s),total:p(o)},null,8,["current","total"])):(B(!0),se(rt,{key:1},Bt(p(o),(M,C)=>(B(),se("span",{key:M,class:U([p(u).b("indicator"),C===p(s)?"is-active":""])},null,2))),128))],2),de("div",{class:U(p(u).b("buttons"))},[p(s)>0?(B(),Oe(p(ti),Rt({key:0,size:"small",type:p(c)},S.prevButtonProps,{onClick:b}),{default:Ee(()=>{var M,C;return[Ht(qe((C=(M=S.prevButtonProps)==null?void 0:M.children)!=null?C:p(r)("el.tour.previous")),1)]}),_:1},16,["type"])):ke("v-if",!0),p(s)<=p(o)-1?(B(),Oe(p(ti),Rt({key:1,size:"small",type:p(c)==="primary"?"default":"primary"},S.nextButtonProps,{onClick:x}),{default:Ee(()=>{var M,C;return[Ht(qe(((C=(M=S.nextButtonProps)==null?void 0:M.children)!=null?C:p(s)===p(o)-1)?p(r)("el.tour.finish"):p(r)("el.tour.next")),1)]}),_:1},16,["type"])):ke("v-if",!0)],2)],2)],64))}});var rD=je(Fue,[["__file","step.vue"]]);const Bue=At(kue,{TourStep:rD}),zue=xn(rD);var $ue=[lG,bG,G7,pae,J7,sj,dP,yj,bj,ti,yP,BK,UK,iq,rq,vY,iY,SY,Gr,Sq,jP,NY,QY,eX,GY,RX,eG,HX,UX,WX,GX,jX,fJ,SJ,MJ,$J,CI,eQ,GQ,jQ,KQ,OI,f9,h9,et,zee,FI,Ai,BI,Qee,bte,_te,xte,wte,Lte,Nne,Vne,Xne,lP,qI,QP,zq,Bq,hie,yie,RY,ko,Ul,Rg,ane,ire,dre,fre,Hre,Kre,hk,rse,hse,pse,Tse,Loe,Roe,hae,Lae,Rae,Xf,Nae,gK,Vae,jae,Kae,Ri,ble,Dle,qle,tce,bce,Zce,aue,Bue,zue];const ss="ElInfiniteScroll",Vue=50,Hue=200,Uue=0,Wue={delay:{type:Number,default:Hue},distance:{type:Number,default:Uue},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},h1=(n,e)=>Object.entries(Wue).reduce((t,[i,r])=>{var s,o;const{type:a,default:l}=r,c=n.getAttribute(`infinite-scroll-${i}`);let u=(o=(s=e[c])!=null?s:c)!=null?o:l;return u=u==="false"?!1:u,u=a(u),t[i]=Number.isNaN(u)?l:u,t},{}),sD=n=>{const{observer:e}=n[ss];e&&(e.disconnect(),delete n[ss].observer)},Gue=(n,e)=>{const{container:t,containerEl:i,instance:r,observer:s,lastScrollTop:o}=n[ss],{disabled:a,distance:l}=h1(n,r),{clientHeight:c,scrollHeight:u,scrollTop:d}=i,f=d-o;if(n[ss].lastScrollTop=d,s||a||f<0)return;let h=!1;if(t===n)h=u-(c+d)<=l;else{const{clientTop:g,scrollHeight:m}=n,v=vB(n,i);h=d+c>=v+g+m-l}h&&e.call(r)};function z0(n,e){const{containerEl:t,instance:i}=n[ss],{disabled:r}=h1(n,i);r||t.clientHeight===0||(t.scrollHeight<=t.clientHeight?e.call(i):sD(n))}const jue={async mounted(n,e){const{instance:t,value:i}=e;dt(i)||Wn(ss,"'v-infinite-scroll' binding value must be a function"),await at();const{delay:r,immediate:s}=h1(n,t),o=Qx(n,!0),a=o===window?document.documentElement:o,l=Ll(Gue.bind(null,n,i),r);if(o){if(n[ss]={instance:t,container:o,containerEl:a,delay:r,cb:i,onScroll:l,lastScrollTop:a.scrollTop},s){const c=new MutationObserver(Ll(z0.bind(null,n,i),Vue));n[ss].observer=c,c.observe(n,{childList:!0,subtree:!0}),z0(n,i)}o.addEventListener("scroll",l)}},unmounted(n){const{container:e,onScroll:t}=n[ss];e==null||e.removeEventListener("scroll",t),sD(n)},async updated(n){if(!n[ss])await at();else{const{containerEl:e,cb:t,observer:i}=n[ss];e.clientHeight&&i&&z0(n,t)}}},R_=jue;R_.install=n=>{n.directive("InfiniteScroll",R_)};const Kue=R_;function que(n){let e;const t=X(!1),i=Gt({...n,originalPosition:"",originalOverflow:"",visible:!1});function r(f){i.text=f}function s(){const f=i.parent,h=d.ns;if(!f.vLoadingAddClassList){let g=f.getAttribute("loading-number");g=Number.parseInt(g)-1,g?f.setAttribute("loading-number",g.toString()):(rr(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),rr(f,h.bm("parent","hidden"))}o(),u.unmount()}function o(){var f,h;(h=(f=d.$el)==null?void 0:f.parentNode)==null||h.removeChild(d.$el)}function a(){var f;n.beforeClose&&!n.beforeClose()||(t.value=!0,clearTimeout(e),e=window.setTimeout(l,400),i.visible=!1,(f=n.closed)==null||f.call(n))}function l(){if(!t.value)return;const f=i.parent;t.value=!1,f.vLoadingAddClassList=void 0,s()}const u=cL(pe({name:"ElLoading",setup(f,{expose:h}){const{ns:g,zIndex:m}=Cv("loading");return h({ns:g,zIndex:m}),()=>{const v=i.spinner||i.svg,y=ot("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[ot("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=i.text?ot("p",{class:g.b("text")},[i.text]):void 0;return ot(Un,{name:g.b("fade"),onAfterLeave:l},{default:Ee(()=>[_t(ye("div",{style:{backgroundColor:i.background||""},class:[g.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[ot("div",{class:g.b("spinner")},[y,b])]),[[Wt,i.visible]])])})}}})),d=u.mount(document.createElement("div"));return{...fi(i),setText:r,removeElLoadingChild:o,close:a,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let Sp;const P_=function(n={}){if(!Vt)return;const e=Yue(n);if(e.fullscreen&&Sp)return Sp;const t=que({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(Sp=void 0)}});Xue(e,e.parent,t),CE(e,e.parent,t),e.parent.vLoadingAddClassList=()=>CE(e,e.parent,t);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(t.$el),at(()=>t.visible.value=e.visible),e.fullscreen&&(Sp=t),t},Yue=n=>{var e,t,i,r;let s;return vt(n.target)?s=(e=document.querySelector(n.target))!=null?e:document.body:s=n.target||document.body,{parent:s===document.body||n.body?document.body:s,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:s===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(i=n.lock)!=null?i:!1,customClass:n.customClass||"",visible:(r=n.visible)!=null?r:!0,target:s}},Xue=async(n,e,t)=>{const{nextZIndex:i}=t.vm.zIndex||t.vm._.exposed.zIndex,r={};if(n.fullscreen)t.originalPosition.value=ha(document.body,"position"),t.originalOverflow.value=ha(document.body,"overflow"),r.zIndex=i();else if(n.parent===document.body){t.originalPosition.value=ha(document.body,"position"),await at();for(const s of["top","left"]){const o=s==="top"?"scrollTop":"scrollLeft";r[s]=`${n.target.getBoundingClientRect()[s]+document.body[o]+document.documentElement[o]-Number.parseInt(ha(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${n.target.getBoundingClientRect()[s]}px`}else t.originalPosition.value=ha(e,"position");for(const[s,o]of Object.entries(r))t.$el.style[s]=o},CE=(n,e,t)=>{const i=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?rr(e,i.bm("parent","relative")):As(e,i.bm("parent","relative")),n.fullscreen&&n.lock?As(e,i.bm("parent","hidden")):rr(e,i.bm("parent","hidden"))},sg=Symbol("ElLoading"),AE=(n,e)=>{var t,i,r,s;const o=e.instance,a=f=>It(e.value)?e.value[f]:void 0,l=f=>{const h=vt(f)&&(o==null?void 0:o[f])||f;return h&&X(h)},c=f=>l(a(f)||n.getAttribute(`element-loading-${Va(f)}`)),u=(t=a("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(i=a("target"))!=null?i:u?void 0:n,body:(r=a("body"))!=null?r:e.modifiers.body,lock:(s=a("lock"))!=null?s:e.modifiers.lock};n[sg]={options:d,instance:P_(d)}},Zue=(n,e)=>{for(const t of Object.keys(e))an(e[t])&&(e[t].value=n[t])},LE={mounted(n,e){e.value&&AE(n,e)},updated(n,e){const t=n[sg];e.oldValue!==e.value&&(e.value&&!e.oldValue?AE(n,e):e.value&&e.oldValue?It(e.value)&&Zue(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[sg])==null||e.instance.close(),n[sg]=null}},Jue={install(n){n.directive("loading",LE),n.config.globalProperties.$loading=P_},directive:LE,service:P_},oD=["success","info","warning","error"],Zi=yn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Vt?document.body:void 0}),Que=Ge({customClass:{type:String,default:Zi.customClass},center:{type:Boolean,default:Zi.center},dangerouslyUseHTMLString:{type:Boolean,default:Zi.dangerouslyUseHTMLString},duration:{type:Number,default:Zi.duration},icon:{type:Qt,default:Zi.icon},id:{type:String,default:Zi.id},message:{type:Le([String,Object,Function]),default:Zi.message},onClose:{type:Le(Function),required:!1},showClose:{type:Boolean,default:Zi.showClose},type:{type:String,values:oD,default:Zi.type},offset:{type:Number,default:Zi.offset},zIndex:{type:Number,default:Zi.zIndex},grouping:{type:Boolean,default:Zi.grouping},repeatNum:{type:Number,default:Zi.repeatNum}}),ede={destroy:()=>!0},ls=h3([]),tde=n=>{const e=ls.findIndex(r=>r.id===n),t=ls[e];let i;return e>0&&(i=ls[e-1]),{current:t,prev:i}},nde=n=>{const{prev:e}=tde(n);return e?e.vm.exposed.bottom.value:0},ide=(n,e)=>ls.findIndex(i=>i.id===n)>0?20:e,rde=["id"],sde=["innerHTML"],ode=pe({name:"ElMessage"}),ade=pe({...ode,props:Que,emits:ede,setup(n,{expose:e}){const t=n,{Close:i}=sw,{ns:r,zIndex:s}=Cv("message"),{currentZIndex:o,nextZIndex:a}=s,l=X(),c=X(!1),u=X(0);let d;const f=I(()=>t.type?t.type==="error"?"danger":t.type:"info"),h=I(()=>{const T=t.type;return{[r.bm("icon",T)]:T&&Na[T]}}),g=I(()=>t.icon||Na[t.type]||""),m=I(()=>nde(t.id)),v=I(()=>ide(t.id,t.offset)+m.value),y=I(()=>u.value+v.value),b=I(()=>({top:`${v.value}px`,zIndex:o.value}));function x(){t.duration!==0&&({stop:d}=Bl(()=>{w()},t.duration))}function _(){d==null||d()}function w(){c.value=!1}function S({code:T}){T===it.esc&&w()}return St(()=>{x(),a(),c.value=!0}),Ve(()=>t.repeatNum,()=>{_(),x()}),gn(document,"keydown",S),bn(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:y,close:w}),(T,M)=>(B(),Oe(Un,{name:p(r).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:M[0]||(M[0]=C=>T.$emit("destroy")),persisted:""},{default:Ee(()=>[_t(de("div",{id:T.id,ref_key:"messageRef",ref:l,class:U([p(r).b(),{[p(r).m(T.type)]:T.type},p(r).is("center",T.center),p(r).is("closable",T.showClose),T.customClass]),style:tt(p(b)),role:"alert",onMouseenter:_,onMouseleave:x},[T.repeatNum>1?(B(),Oe(p(dP),{key:0,value:T.repeatNum,type:p(f),class:U(p(r).e("badge"))},null,8,["value","type","class"])):ke("v-if",!0),p(g)?(B(),Oe(p(et),{key:1,class:U([p(r).e("icon"),p(h)])},{default:Ee(()=>[(B(),Oe(Pt(p(g))))]),_:1},8,["class"])):ke("v-if",!0),Be(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(B(),se(rt,{key:1},[ke(" Caution here, message could've been compromised, never use user's input as message "),de("p",{class:U(p(r).e("content")),innerHTML:T.message},null,10,sde)],2112)):(B(),se("p",{key:0,class:U(p(r).e("content"))},qe(T.message),3))]),T.showClose?(B(),Oe(p(et),{key:2,class:U(p(r).e("closeBtn")),onClick:ft(w,["stop"])},{default:Ee(()=>[ye(p(i))]),_:1},8,["class","onClick"])):ke("v-if",!0)],46,rde),[[Wt,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var lde=je(ade,[["__file","message.vue"]]);let cde=1;const aD=n=>{const e=!n||vt(n)||un(n)||dt(n)?{message:n}:n,t={...Zi,...e};if(!t.appendTo)t.appendTo=document.body;else if(vt(t.appendTo)){let i=document.querySelector(t.appendTo);Vr(i)||(i=document.body),t.appendTo=i}return t},ude=n=>{const e=ls.indexOf(n);if(e===-1)return;ls.splice(e,1);const{handler:t}=n;t.close()},dde=({appendTo:n,...e},t)=>{const i=`message_${cde++}`,r=e.onClose,s=document.createElement("div"),o={...e,id:i,onClose:()=>{r==null||r(),ude(u)},onDestroy:()=>{Ia(null,s)}},a=ye(lde,o,dt(o.message)||un(o.message)?{default:dt(o.message)?o.message:()=>o.message}:null);a.appContext=t||ju._context,Ia(a,s),n.appendChild(s.firstElementChild);const l=a.component,u={id:i,vnode:a,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:a.component.props};return u},ju=(n={},e)=>{if(!Vt)return{close:()=>{}};if(ut(Ob.max)&&ls.length>=Ob.max)return{close:()=>{}};const t=aD(n);if(t.grouping&&ls.length){const r=ls.find(({vnode:s})=>{var o;return((o=s.props)==null?void 0:o.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}const i=dde(t,e);return ls.push(i),i.handler};oD.forEach(n=>{ju[n]=(e={},t)=>{const i=aD(e);return ju({...i,type:n},t)}});function fde(n){for(const e of ls)(!n||n===e.props.type)&&e.handler.close()}ju.closeAll=fde;ju._context=null;const hde=dR(ju,"$message"),pde=pe({name:"ElMessageBox",directives:{TrapFocus:Jj},components:{ElButton:ti,ElFocusTrap:Vh,ElInput:Ai,ElOverlay:zw,ElIcon:et,...sw},inheritAttrs:!1,props:{buttonSize:{type:String,validator:fR},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:t,zIndex:i,ns:r,size:s}=Cv("message-box",I(()=>n.buttonSize)),{t:o}=t,{nextZIndex:a}=i,l=X(!1),c=Gt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),u=I(()=>{const $=c.type;return{[r.bm("icon",$)]:$&&Na[$]}}),d=Li(),f=Li(),h=I(()=>c.icon||Na[c.type]||""),g=I(()=>!!c.message),m=X(),v=X(),y=X(),b=X(),x=X(),_=I(()=>c.confirmButtonClass);Ve(()=>c.inputValue,async $=>{await at(),n.boxType==="prompt"&&$!==null&&E()},{immediate:!0}),Ve(()=>l.value,$=>{var D,A;$&&(n.boxType!=="prompt"&&(c.autofocus?y.value=(A=(D=x.value)==null?void 0:D.$el)!=null?A:m.value:y.value=m.value),c.zIndex=a()),n.boxType==="prompt"&&($?at().then(()=>{var N;b.value&&b.value.$el&&(c.autofocus?y.value=(N=O())!=null?N:m.value:y.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const w=I(()=>n.draggable);hR(m,v,w),St(async()=>{await at(),n.closeOnHashChange&&window.addEventListener("hashchange",S)}),sn(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",S)});function S(){l.value&&(l.value=!1,at(()=>{c.action&&e("action",c.action)}))}const T=()=>{n.closeOnClickModal&&L(c.distinguishCancelAndClose?"close":"cancel")},M=bw(T),C=$=>{if(c.inputType!=="textarea")return $.preventDefault(),L("confirm")},L=$=>{var D;n.boxType==="prompt"&&$==="confirm"&&!E()||(c.action=$,c.beforeClose?(D=c.beforeClose)==null||D.call(c,$,c,S):S())},E=()=>{if(n.boxType==="prompt"){const $=c.inputPattern;if($&&!$.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;const D=c.inputValidator;if(typeof D=="function"){const A=D(c.inputValue);if(A===!1)return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;if(typeof A=="string")return c.editorErrorMessage=A,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},O=()=>{const $=b.value.$refs;return $.input||$.textarea},F=()=>{L("close")},R=()=>{n.closeOnPressEscape&&F()};return n.lockScroll&&uw(l),{...fi(c),ns:r,overlayEvent:M,visible:l,hasMessage:g,typeClass:u,contentId:d,inputId:f,btnSize:s,iconComponent:h,confirmButtonClasses:_,rootRef:m,focusStartRef:y,headerRef:v,inputRef:b,confirmRef:x,doClose:S,handleClose:F,onCloseRequested:R,handleWrapperClick:T,handleInputEnter:C,handleAction:L,t:o}}}),mde=["aria-label","aria-describedby"],gde=["aria-label"],vde=["id"];function yde(n,e,t,i,r,s){const o=Ct("el-icon"),a=Ct("close"),l=Ct("el-input"),c=Ct("el-button"),u=Ct("el-focus-trap"),d=Ct("el-overlay");return B(),Oe(Un,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>n.$emit("vanish")),persisted:""},{default:Ee(()=>[_t(ye(d,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:Ee(()=>[de("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:U(`${n.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...f)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...f))},[ye(u,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:Ee(()=>[de("div",{ref:"rootRef",class:U([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:tt(n.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=ft(()=>{},["stop"]))},[n.title!==null&&n.title!==void 0?(B(),se("div",{key:0,ref:"headerRef",class:U(n.ns.e("header"))},[de("div",{class:U(n.ns.e("title"))},[n.iconComponent&&n.center?(B(),Oe(o,{key:0,class:U([n.ns.e("status"),n.typeClass])},{default:Ee(()=>[(B(),Oe(Pt(n.iconComponent)))]),_:1},8,["class"])):ke("v-if",!0),de("span",null,qe(n.title),1)],2),n.showClose?(B(),se("button",{key:0,type:"button",class:U(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:e[0]||(e[0]=f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Jt(ft(f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ye(o,{class:U(n.ns.e("close"))},{default:Ee(()=>[ye(a)]),_:1},8,["class"])],42,gde)):ke("v-if",!0)],2)):ke("v-if",!0),de("div",{id:n.contentId,class:U(n.ns.e("content"))},[de("div",{class:U(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?(B(),Oe(o,{key:0,class:U([n.ns.e("status"),n.typeClass])},{default:Ee(()=>[(B(),Oe(Pt(n.iconComponent)))]),_:1},8,["class"])):ke("v-if",!0),n.hasMessage?(B(),se("div",{key:1,class:U(n.ns.e("message"))},[Be(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(B(),Oe(Pt(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):(B(),Oe(Pt(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:Ee(()=>[Ht(qe(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):ke("v-if",!0)],2),_t(de("div",{class:U(n.ns.e("input"))},[ye(l,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>n.inputValue=f),type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:U({invalid:n.validateError}),onKeydown:Jt(n.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),de("div",{class:U(n.ns.e("errormsg")),style:tt({visibility:n.editorErrorMessage?"visible":"hidden"})},qe(n.editorErrorMessage),7)],2),[[Wt,n.showInput]])],10,vde),de("div",{class:U(n.ns.e("btns"))},[n.showCancelButton?(B(),Oe(c,{key:0,loading:n.cancelButtonLoading,class:U([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:e[3]||(e[3]=f=>n.handleAction("cancel")),onKeydown:e[4]||(e[4]=Jt(ft(f=>n.handleAction("cancel"),["prevent"]),["enter"]))},{default:Ee(()=>[Ht(qe(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ke("v-if",!0),_t(ye(c,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,class:U([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:e[5]||(e[5]=f=>n.handleAction("confirm")),onKeydown:e[6]||(e[6]=Jt(ft(f=>n.handleAction("confirm"),["prevent"]),["enter"]))},{default:Ee(()=>[Ht(qe(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Wt,n.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,mde)]),_:3},8,["z-index","overlay-class","mask"]),[[Wt,n.visible]])]),_:3})}var bde=je(pde,[["render",yde],["__file","index.vue"]]);const sh=new Map,_de=n=>{let e=document.body;return n.appendTo&&(vt(n.appendTo)&&(e=document.querySelector(n.appendTo)),Vr(n.appendTo)&&(e=n.appendTo),Vr(e)||(e=document.body)),e},xde=(n,e,t=null)=>{const i=ye(bde,n,dt(n.message)||un(n.message)?{default:dt(n.message)?n.message:()=>n.message}:null);return i.appContext=t,Ia(i,e),_de(n).appendChild(e.firstElementChild),i.component},wde=()=>document.createElement("div"),Sde=(n,e)=>{const t=wde();n.onVanish=()=>{Ia(null,t),sh.delete(r)},n.onAction=s=>{const o=sh.get(r);let a;n.showInput?a={value:r.inputValue,action:s}:a=s,n.callback?n.callback(a,i.proxy):s==="cancel"||s==="close"?n.distinguishCancelAndClose&&s!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(a)};const i=xde(n,t,e),r=i.proxy;for(const s in n)zt(n,s)&&!zt(r.$props,s)&&(r[s]=n[s]);return r.visible=!0,r};function hd(n,e=null){if(!Vt)return Promise.reject();let t;return vt(n)||un(n)?n={message:n}:t=n.callback,new Promise((i,r)=>{const s=Sde(n,e??hd._context);sh.set(s,{options:n,callback:t,resolve:i,reject:r})})}const Mde=["alert","confirm","prompt"],Tde={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Mde.forEach(n=>{hd[n]=Ede(n)});function Ede(n){return(e,t,i,r)=>{let s="";return It(t)?(i=t,s=""):Hn(t)?s="":s=t,hd(Object.assign({title:s,message:e,type:"",...Tde[n]},i,{boxType:n}),r)}}hd.close=()=>{sh.forEach((n,e)=>{e.doClose()}),sh.clear()};hd._context=null;const oa=hd;oa.install=n=>{oa._context=n._context,n.config.globalProperties.$msgbox=oa,n.config.globalProperties.$messageBox=oa,n.config.globalProperties.$alert=oa.alert,n.config.globalProperties.$confirm=oa.confirm,n.config.globalProperties.$prompt=oa.prompt};const Cde=oa,lD=["success","info","warning","error"],Ade=Ge({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Qt},id:{type:String,default:""},message:{type:Le([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Le(Function),default:()=>{}},onClose:{type:Le(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...lD,""],default:""},zIndex:Number}),Lde={destroy:()=>!0},Rde=["id"],Pde=["textContent"],Ide={key:0},kde=["innerHTML"],Dde=pe({name:"ElNotification"}),Nde=pe({...Dde,props:Ade,emits:Lde,setup(n,{expose:e}){const t=n,{ns:i,zIndex:r}=Cv("notification"),{nextZIndex:s,currentZIndex:o}=r,{Close:a}=rw,l=X(!1);let c;const u=I(()=>{const x=t.type;return x&&Na[t.type]?i.m(x):""}),d=I(()=>t.type&&Na[t.type]||t.icon),f=I(()=>t.position.endsWith("right")?"right":"left"),h=I(()=>t.position.startsWith("top")?"top":"bottom"),g=I(()=>{var x;return{[h.value]:`${t.offset}px`,zIndex:(x=t.zIndex)!=null?x:o.value}});function m(){t.duration>0&&({stop:c}=Bl(()=>{l.value&&y()},t.duration))}function v(){c==null||c()}function y(){l.value=!1}function b({code:x}){x===it.delete||x===it.backspace?v():x===it.esc?l.value&&y():m()}return St(()=>{m(),s(),l.value=!0}),gn(document,"keydown",b),e({visible:l,close:y}),(x,_)=>(B(),Oe(Un,{name:p(i).b("fade"),onBeforeLeave:x.onClose,onAfterLeave:_[1]||(_[1]=w=>x.$emit("destroy")),persisted:""},{default:Ee(()=>[_t(de("div",{id:x.id,class:U([p(i).b(),x.customClass,p(f)]),style:tt(p(g)),role:"alert",onMouseenter:v,onMouseleave:m,onClick:_[0]||(_[0]=(...w)=>x.onClick&&x.onClick(...w))},[p(d)?(B(),Oe(p(et),{key:0,class:U([p(i).e("icon"),p(u)])},{default:Ee(()=>[(B(),Oe(Pt(p(d))))]),_:1},8,["class"])):ke("v-if",!0),de("div",{class:U(p(i).e("group"))},[de("h2",{class:U(p(i).e("title")),textContent:qe(x.title)},null,10,Pde),_t(de("div",{class:U(p(i).e("content")),style:tt(x.title?void 0:{margin:0})},[Be(x.$slots,"default",{},()=>[x.dangerouslyUseHTMLString?(B(),se(rt,{key:1},[ke(" Caution here, message could've been compromised, never use user's input as message "),de("p",{innerHTML:x.message},null,8,kde)],2112)):(B(),se("p",Ide,qe(x.message),1))])],6),[[Wt,x.message]]),x.showClose?(B(),Oe(p(et),{key:0,class:U(p(i).e("closeBtn")),onClick:ft(y,["stop"])},{default:Ee(()=>[ye(p(a))]),_:1},8,["class","onClick"])):ke("v-if",!0)],2)],46,Rde),[[Wt,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Ode=je(Nde,[["__file","notification.vue"]]);const zg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},I_=16;let Fde=1;const Ku=function(n={},e=null){if(!Vt)return{close:()=>{}};(typeof n=="string"||un(n))&&(n={message:n});const t=n.position||"top-right";let i=n.offset||0;zg[t].forEach(({vm:u})=>{var d;i+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+I_}),i+=I_;const r=`notification_${Fde++}`,s=n.onClose,o={...n,offset:i,id:r,onClose:()=>{Bde(r,t,s)}};let a=document.body;Vr(n.appendTo)?a=n.appendTo:vt(n.appendTo)&&(a=document.querySelector(n.appendTo)),Vr(a)||(a=document.body);const l=document.createElement("div"),c=ye(Ode,o,un(o.message)?{default:()=>o.message}:null);return c.appContext=e??Ku._context,c.props.onDestroy=()=>{Ia(null,l)},Ia(c,l),zg[t].push({vm:c}),a.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};lD.forEach(n=>{Ku[n]=(e={})=>((typeof e=="string"||un(e))&&(e={message:e}),Ku({...e,type:n}))});function Bde(n,e,t){const i=zg[e],r=i.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===n});if(r===-1)return;const{vm:s}=i[r];if(!s)return;t==null||t(s);const o=s.el.offsetHeight,a=e.split("-")[0];i.splice(r,1);const l=i.length;if(!(l<1))for(let c=r;c<l;c++){const{el:u,component:d}=i[c].vm,f=Number.parseInt(u.style[a],10)-o-I_;d.props.offset=f}}function zde(){for(const n of Object.values(zg))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Ku.closeAll=zde;Ku._context=null;const $de=dR(Ku,"$notify");var Vde=[Kue,Jue,hde,Cde,$de,KI],Hde=nG([...$ue,...Vde]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p1="143",dc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ude=0,RE=1,Wde=2,cD=1,Gde=2,sf=3,qu=0,hs=1,cs=2,jde=1,Sa=0,_u=1,oh=2,PE=3,IE=4,Kde=5,Zc=100,qde=101,Yde=102,kE=103,DE=104,Xde=200,Zde=201,Jde=202,Qde=203,uD=204,dD=205,efe=206,tfe=207,nfe=208,ife=209,rfe=210,sfe=0,ofe=1,afe=2,k_=3,lfe=4,cfe=5,ufe=6,dfe=7,m1=0,ffe=1,hfe=2,_o=0,pfe=1,mfe=2,gfe=3,vfe=4,yfe=5,fD=300,Yu=301,Xu=302,D_=303,N_=304,Bv=306,Is=1e3,Dr=1001,$g=1002,pi=1003,O_=1004,F_=1005,Qi=1006,hD=1007,pd=1008,Gl=1009,bfe=1010,_fe=1011,pD=1012,xfe=1013,Ml=1014,ga=1015,ah=1016,wfe=1017,Sfe=1018,xu=1020,Mfe=1021,Tfe=1022,us=1023,Efe=1024,Cfe=1025,kl=1026,Zu=1027,Afe=1028,Lfe=1029,Rfe=1030,Pfe=1031,Ife=1033,$0=33776,V0=33777,H0=33778,U0=33779,NE=35840,OE=35841,FE=35842,BE=35843,kfe=36196,zE=37492,$E=37496,VE=37808,HE=37809,UE=37810,WE=37811,GE=37812,jE=37813,KE=37814,qE=37815,YE=37816,XE=37817,ZE=37818,JE=37819,QE=37820,eC=37821,tC=36492,lh=2300,Ju=2301,W0=2302,nC=2400,iC=2401,rC=2402,Dfe=2500,Nfe=1,mD=2,jl=3e3,hn=3001,Ofe=3200,Ffe=3201,zv=0,Bfe=1,lo="srgb",Tl="srgb-linear",G0=7680,zfe=519,B_=35044,sC="300 es",z_=1035;let rc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let oC=1234567;const Sf=Math.PI/180,ch=180/Math.PI;function zr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Si[n&255]+Si[n>>8&255]+Si[n>>16&255]+Si[n>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[t&63|128]+Si[t>>8&255]+"-"+Si[t>>16&255]+Si[t>>24&255]+Si[i&255]+Si[i>>8&255]+Si[i>>16&255]+Si[i>>24&255]).toLowerCase()}function ci(n,e,t){return Math.max(e,Math.min(t,n))}function g1(n,e){return(n%e+e)%e}function $fe(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Vfe(n,e,t){return n!==e?(t-n)/(e-n):0}function Mf(n,e,t){return(1-t)*n+t*e}function Hfe(n,e,t,i){return Mf(n,e,1-Math.exp(-t*i))}function Ufe(n,e=1){return e-Math.abs(g1(n,e*2)-e)}function Wfe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Gfe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function jfe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Kfe(n,e){return n+Math.random()*(e-n)}function qfe(n){return n*(.5-Math.random())}function Yfe(n){n!==void 0&&(oC=n);let e=oC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Xfe(n){return n*Sf}function Zfe(n){return n*ch}function $_(n){return(n&n-1)===0&&n!==0}function gD(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Vg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Jfe(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),f=o((e-i)/2),h=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*d,l*f,a*c);break;case"YZY":n.set(l*f,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*f,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*h,a*c);break;case"YXY":n.set(l*h,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Qfe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ehe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var the=Object.freeze({__proto__:null,DEG2RAD:Sf,RAD2DEG:ch,generateUUID:zr,clamp:ci,euclideanModulo:g1,mapLinear:$fe,inverseLerp:Vfe,lerp:Mf,damp:Hfe,pingpong:Ufe,smoothstep:Wfe,smootherstep:Gfe,randInt:jfe,randFloat:Kfe,randFloatSpread:qfe,seededRandom:Yfe,degToRad:Xfe,radToDeg:Zfe,isPowerOfTwo:$_,ceilPowerOfTwo:gD,floorPowerOfTwo:Vg,setQuaternionFromProperEuler:Jfe,normalize:ehe,denormalize:Qfe});let Ze=class vD{constructor(e=0,t=0){vD.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Ei=class yD{constructor(){yD.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],g=i[8],m=r[0],v=r[3],y=r[6],b=r[1],x=r[4],_=r[7],w=r[2],S=r[5],T=r[8];return s[0]=o*m+a*b+l*w,s[3]=o*v+a*x+l*S,s[6]=o*y+a*_+l*T,s[1]=c*m+u*b+d*w,s[4]=c*v+u*x+d*S,s[7]=c*y+u*_+d*T,s[2]=f*m+h*b+g*w,s[5]=f*v+h*x+g*S,s[8]=f*y+h*_+g*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,h=c*s-o*l,g=t*d+i*f+r*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return e[0]=d*m,e[1]=(r*c-u*i)*m,e[2]=(a*i-r*o)*m,e[3]=f*m,e[4]=(u*t-r*l)*m,e[5]=(r*s-a*t)*m,e[6]=h*m,e[7]=(i*l-c*t)*m,e[8]=(o*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*o+i*c,r[6]=t*a+i*u,r[1]=-i*s+t*l,r[4]=-i*o+t*c,r[7]=-i*a+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}};function bD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function uh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Dl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function og(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const j0={[lo]:{[Tl]:Dl},[Tl]:{[lo]:og}},Xr={legacyMode:!0,get workingColorSpace(){return Tl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(j0[e]&&j0[e][t]!==void 0){const i=j0[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},_D={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zn={r:0,g:0,b:0},Zr={h:0,s:0,l:0},Mp={h:0,s:0,l:0};function K0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Tp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let kt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=lo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Tl){return this.r=e,this.g=t,this.b=i,Xr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Tl){if(e=g1(e,1),t=ci(t,0,1),i=ci(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=K0(o,s,e+1/3),this.g=K0(o,s,e),this.b=K0(o,s,e-1/3)}return Xr.toWorkingColorSpace(this,r),this}setStyle(e,t=lo){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Xr.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Xr.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(l,c,u,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Xr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Xr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=lo){const i=_D[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Dl(e.r),this.g=Dl(e.g),this.b=Dl(e.b),this}copyLinearToSRGB(e){return this.r=og(e.r),this.g=og(e.g),this.b=og(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=lo){return Xr.fromWorkingColorSpace(Tp(this,Zn),e),ci(Zn.r*255,0,255)<<16^ci(Zn.g*255,0,255)<<8^ci(Zn.b*255,0,255)<<0}getHexString(e=lo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tl){Xr.fromWorkingColorSpace(Tp(this,Zn),t);const i=Zn.r,r=Zn.g,s=Zn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Tl){return Xr.fromWorkingColorSpace(Tp(this,Zn),t),e.r=Zn.r,e.g=Zn.g,e.b=Zn.b,e}getStyle(e=lo){return Xr.fromWorkingColorSpace(Tp(this,Zn),e),e!==lo?`color(${e} ${Zn.r} ${Zn.g} ${Zn.b})`:`rgb(${Zn.r*255|0},${Zn.g*255|0},${Zn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Zr),Zr.h+=e,Zr.s+=t,Zr.l+=i,this.setHSL(Zr.h,Zr.s,Zr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Zr),e.getHSL(Mp);const i=Mf(Zr.h,Mp.h,t),r=Mf(Zr.s,Mp.s,t),s=Mf(Zr.l,Mp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};kt.NAMES=_D;let hc,xD=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{hc===void 0&&(hc=uh("canvas")),hc.width=e.width,hc.height=e.height;const i=hc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=hc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=uh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Dl(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Dl(t[i]/255)*255):t[i]=Dl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}};class wD{constructor(e=null){this.isSource=!0,this.uuid=zr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(q0(r[o].image)):s.push(q0(r[o]))}else s=q0(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function q0(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let nhe=0,jr=class V_ extends rc{constructor(e=V_.DEFAULT_IMAGE,t=V_.DEFAULT_MAPPING,i=Dr,r=Dr,s=Qi,o=pd,a=us,l=Gl,c=1,u=jl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:nhe++}),this.uuid=zr(),this.name="",this.source=new wD(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ze(0,0),this.repeat=new Ze(1,1),this.center=new Ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==fD)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Is:e.x=e.x-Math.floor(e.x);break;case Dr:e.x=e.x<0?0:1;break;case $g:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Is:e.y=e.y-Math.floor(e.y);break;case Dr:e.y=e.y<0?0:1;break;case $g:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};jr.DEFAULT_IMAGE=null;jr.DEFAULT_MAPPING=fD;let Cn=class SD{constructor(e=0,t=0,i=0,r=1){SD.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],g=l[9],m=l[2],v=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(g+v)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(c+1)/2,_=(h+1)/2,w=(y+1)/2,S=(u+f)/4,T=(d+m)/4,M=(g+v)/4;return x>_&&x>w?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=S/i,s=T/i):_>w?_<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(_),i=S/r,s=M/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=T/s,r=M/s),this.set(i,r,s,t),this}let b=Math.sqrt((v-g)*(v-g)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(v-g)/b,this.y=(d-m)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},ps=class extends rc{constructor(e,t,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Cn(0,0,e,t),this.scissorTest=!1,this.viewport=new Cn(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new jr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Qi,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new wD(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}};class MD extends jr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=pi,this.minFilter=pi,this.wrapR=Dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ihe extends jr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=pi,this.minFilter=pi,this.wrapR=Dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let Eo=class{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],h=s[o+1],g=s[o+2],m=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=f,e[t+1]=h,e[t+2]=g,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==g){let v=1-a;const y=l*f+c*h+u*g+d*m,b=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const w=Math.sqrt(x),S=Math.atan2(w,y*b);v=Math.sin(v*S)/w,a=Math.sin(a*S)/w}const _=a*b;if(l=l*v+f*_,c=c*v+h*_,u=u*v+g*_,d=d*v+m*_,v===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],h=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*h-c*f,e[t+1]=l*g+u*f+c*d-a*h,e[t+2]=c*g+u*h+a*f-l*d,e[t+3]=u*g-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),h=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"YXZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"ZXY":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"ZYX":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"YZX":this._x=f*u*d+c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d-f*h*g;break;case"XZY":this._x=f*u*d-c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=i+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-r)*h}else if(i>a&&i>d){const h=2*Math.sqrt(1+i-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(s+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-i-d);this._w=(s-c)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-a);this._w=(o-r)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ci(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},De=class TD{constructor(e=0,t=0,i=0){TD.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(aC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Y0.copy(this).projectOnVector(e),this.sub(Y0)}reflect(e){return this.sub(Y0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ci(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const Y0=new De,aC=new Eo;let md=class{constructor(e=new De(1/0,1/0,1/0),t=new De(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<i&&(i=d),f<r&&(r=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<i&&(i=d),f<r&&(r=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=tl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)tl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(tl)}else i.boundingBox===null&&i.computeBoundingBox(),X0.copy(i.boundingBox),X0.applyMatrix4(e.matrixWorld),this.union(X0);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,tl),tl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zd),Ep.subVectors(this.max,zd),pc.subVectors(e.a,zd),mc.subVectors(e.b,zd),gc.subVectors(e.c,zd),$o.subVectors(mc,pc),Vo.subVectors(gc,mc),nl.subVectors(pc,gc);let t=[0,-$o.z,$o.y,0,-Vo.z,Vo.y,0,-nl.z,nl.y,$o.z,0,-$o.x,Vo.z,0,-Vo.x,nl.z,0,-nl.x,-$o.y,$o.x,0,-Vo.y,Vo.x,0,-nl.y,nl.x,0];return!Z0(t,pc,mc,gc,Ep)||(t=[1,0,0,0,1,0,0,0,1],!Z0(t,pc,mc,gc,Ep))?!1:(Cp.crossVectors($o,Vo),t=[Cp.x,Cp.y,Cp.z],Z0(t,pc,mc,gc,Ep))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return tl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(tl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ys[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ys[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ys[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ys[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ys[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ys[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ys[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ys[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ys),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Ys=[new De,new De,new De,new De,new De,new De,new De,new De],tl=new De,X0=new md,pc=new De,mc=new De,gc=new De,$o=new De,Vo=new De,nl=new De,zd=new De,Ep=new De,Cp=new De,il=new De;function Z0(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){il.fromArray(n,s);const a=r.x*Math.abs(il.x)+r.y*Math.abs(il.y)+r.z*Math.abs(il.z),l=e.dot(il),c=t.dot(il),u=i.dot(il);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const rhe=new md,lC=new De,Ap=new De,J0=new De;let gd=class{constructor(e=new De,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):rhe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){J0.subVectors(e,this.center);const t=J0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(J0.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?Ap.set(0,0,1).multiplyScalar(e.radius):Ap.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(lC.copy(e.center).add(Ap)),this.expandByPoint(lC.copy(e.center).sub(Ap)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Xs=new De,Q0=new De,Lp=new De,Ho=new De,ey=new De,Rp=new De,ty=new De;let v1=class{constructor(e=new De,t=new De(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Xs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xs.copy(this.direction).multiplyScalar(t).add(this.origin),Xs.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Q0.copy(e).add(t).multiplyScalar(.5),Lp.copy(t).sub(e).normalize(),Ho.copy(this.origin).sub(Q0);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Lp),a=Ho.dot(this.direction),l=-Ho.dot(Lp),c=Ho.lengthSq(),u=Math.abs(1-o*o);let d,f,h,g;if(u>0)if(d=o*l-a,f=o*a-l,g=s*u,d>=0)if(f>=-g)if(f<=g){const m=1/u;d*=m,f*=m,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(Lp).multiplyScalar(f).add(Q0),h}intersectSphere(e,t){Xs.subVectors(e.center,this.origin);const i=Xs.dot(this.direction),r=Xs.dot(Xs)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Xs)!==null}intersectTriangle(e,t,i,r,s){ey.subVectors(t,e),Rp.subVectors(i,e),ty.crossVectors(ey,Rp);let o=this.direction.dot(ty),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ho.subVectors(this.origin,e);const l=a*this.direction.dot(Rp.crossVectors(Ho,Rp));if(l<0)return null;const c=a*this.direction.dot(ey.cross(Ho));if(c<0||l+c>o)return null;const u=-a*Ho.dot(ty);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},cn=class H_{constructor(){H_.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,u,d,f,h,g,m,v){const y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=r,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=g,y[11]=m,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new H_().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/vc.setFromMatrixColumn(e,0).length(),s=1/vc.setFromMatrixColumn(e,1).length(),o=1/vc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,h=o*d,g=a*u,m=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+g*c,t[5]=f-m*c,t[9]=-a*l,t[2]=m-f*c,t[6]=g+h*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,g=c*u,m=c*d;t[0]=f+m*a,t[4]=g*a-h,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=h*a-g,t[6]=m+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,g=c*u,m=c*d;t[0]=f-m*a,t[4]=-o*d,t[8]=g+h*a,t[1]=h+g*a,t[5]=o*u,t[9]=m-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*u,h=o*d,g=a*u,m=a*d;t[0]=l*u,t[4]=g*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,g=a*l,m=a*c;t[0]=l*u,t[4]=m-f*d,t[8]=g*d+h,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=h*d+g,t[10]=f-m*d}else if(e.order==="XZY"){const f=o*l,h=o*c,g=a*l,m=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=o*u,t[9]=h*d-g,t[2]=g*d-h,t[6]=a*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(she,e,ohe)}lookAt(e,t,i){const r=this.elements;return hr.subVectors(e,t),hr.lengthSq()===0&&(hr.z=1),hr.normalize(),Uo.crossVectors(i,hr),Uo.lengthSq()===0&&(Math.abs(i.z)===1?hr.x+=1e-4:hr.z+=1e-4,hr.normalize(),Uo.crossVectors(i,hr)),Uo.normalize(),Pp.crossVectors(hr,Uo),r[0]=Uo.x,r[4]=Pp.x,r[8]=hr.x,r[1]=Uo.y,r[5]=Pp.y,r[9]=hr.y,r[2]=Uo.z,r[6]=Pp.z,r[10]=hr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],g=i[2],m=i[6],v=i[10],y=i[14],b=i[3],x=i[7],_=i[11],w=i[15],S=r[0],T=r[4],M=r[8],C=r[12],L=r[1],E=r[5],O=r[9],F=r[13],R=r[2],$=r[6],D=r[10],A=r[14],N=r[3],P=r[7],z=r[11],Y=r[15];return s[0]=o*S+a*L+l*R+c*N,s[4]=o*T+a*E+l*$+c*P,s[8]=o*M+a*O+l*D+c*z,s[12]=o*C+a*F+l*A+c*Y,s[1]=u*S+d*L+f*R+h*N,s[5]=u*T+d*E+f*$+h*P,s[9]=u*M+d*O+f*D+h*z,s[13]=u*C+d*F+f*A+h*Y,s[2]=g*S+m*L+v*R+y*N,s[6]=g*T+m*E+v*$+y*P,s[10]=g*M+m*O+v*D+y*z,s[14]=g*C+m*F+v*A+y*Y,s[3]=b*S+x*L+_*R+w*N,s[7]=b*T+x*E+_*$+w*P,s[11]=b*M+x*O+_*D+w*z,s[15]=b*C+x*F+_*A+w*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],g=e[3],m=e[7],v=e[11],y=e[15];return g*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*h-i*l*h)+m*(+t*l*h-t*c*f+s*o*f-r*o*h+r*c*u-s*l*u)+v*(+t*c*d-t*a*h-s*o*d+i*o*h+s*a*u-i*c*u)+y*(-r*a*u-t*l*d+t*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=d*v*c-m*f*c+m*l*h-a*v*h-d*l*y+a*f*y,x=g*f*c-u*v*c-g*l*h+o*v*h+u*l*y-o*f*y,_=u*m*c-g*d*c+g*a*h-o*m*h-u*a*y+o*d*y,w=g*d*l-u*m*l-g*a*f+o*m*f+u*a*v-o*d*v,S=t*b+i*x+r*_+s*w;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=b*T,e[1]=(m*f*s-d*v*s-m*r*h+i*v*h+d*r*y-i*f*y)*T,e[2]=(a*v*s-m*l*s+m*r*c-i*v*c-a*r*y+i*l*y)*T,e[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*h-i*l*h)*T,e[4]=x*T,e[5]=(u*v*s-g*f*s+g*r*h-t*v*h-u*r*y+t*f*y)*T,e[6]=(g*l*s-o*v*s-g*r*c+t*v*c+o*r*y-t*l*y)*T,e[7]=(o*f*s-u*l*s+u*r*c-t*f*c-o*r*h+t*l*h)*T,e[8]=_*T,e[9]=(g*d*s-u*m*s-g*i*h+t*m*h+u*i*y-t*d*y)*T,e[10]=(o*m*s-g*a*s+g*i*c-t*m*c-o*i*y+t*a*y)*T,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*h-t*a*h)*T,e[12]=w*T,e[13]=(u*m*r-g*d*r+g*i*f-t*m*f-u*i*v+t*d*v)*T,e[14]=(g*a*r-o*m*r-g*i*l+t*m*l+o*i*v-t*a*v)*T,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*f+t*a*f)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,g=s*d,m=o*u,v=o*d,y=a*d,b=l*c,x=l*u,_=l*d,w=i.x,S=i.y,T=i.z;return r[0]=(1-(m+y))*w,r[1]=(h+_)*w,r[2]=(g-x)*w,r[3]=0,r[4]=(h-_)*S,r[5]=(1-(f+y))*S,r[6]=(v+b)*S,r[7]=0,r[8]=(g+x)*T,r[9]=(v-b)*T,r[10]=(1-(f+m))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=vc.set(r[0],r[1],r[2]).length();const o=vc.set(r[4],r[5],r[6]).length(),a=vc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Jr.copy(this);const c=1/s,u=1/o,d=1/a;return Jr.elements[0]*=c,Jr.elements[1]*=c,Jr.elements[2]*=c,Jr.elements[4]*=u,Jr.elements[5]*=u,Jr.elements[6]*=u,Jr.elements[8]*=d,Jr.elements[9]*=d,Jr.elements[10]*=d,t.setFromRotationMatrix(Jr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r),f=-(o+s)/(o-s),h=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),d=(t+e)*l,f=(i+r)*c,h=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}};const vc=new De,Jr=new cn,she=new De(0,0,0),ohe=new De(1,1,1),Uo=new De,Pp=new De,hr=new De,cC=new cn,uC=new Eo;let y1=class ED{constructor(e=0,t=0,i=0,r=ED.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],f=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(ci(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ci(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(ci(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ci(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-ci(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return cC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return uC.setFromEuler(this),this.setFromQuaternion(uC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};y1.DefaultOrder="XYZ";y1.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let CD=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},ahe=0;const dC=new De,yc=new Eo,Zs=new cn,Ip=new De,$d=new De,lhe=new De,che=new Eo,fC=new De(1,0,0),hC=new De(0,1,0),pC=new De(0,0,1),uhe={type:"added"},mC={type:"removed"};let xi=class U_ extends rc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ahe++}),this.uuid=zr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=U_.DefaultUp.clone();const e=new De,t=new y1,i=new Eo,r=new De(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new cn},normalMatrix:{value:new Ei}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=U_.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new CD,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return yc.setFromAxisAngle(e,t),this.quaternion.multiply(yc),this}rotateOnWorldAxis(e,t){return yc.setFromAxisAngle(e,t),this.quaternion.premultiply(yc),this}rotateX(e){return this.rotateOnAxis(fC,e)}rotateY(e){return this.rotateOnAxis(hC,e)}rotateZ(e){return this.rotateOnAxis(pC,e)}translateOnAxis(e,t){return dC.copy(e).applyQuaternion(this.quaternion),this.position.add(dC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(fC,e)}translateY(e){return this.translateOnAxis(hC,e)}translateZ(e){return this.translateOnAxis(pC,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Zs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ip.copy(e):Ip.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),$d.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zs.lookAt($d,Ip,this.up):Zs.lookAt(Ip,$d,this.up),this.quaternion.setFromRotationMatrix(Zs),r&&(Zs.extractRotation(r.matrixWorld),yc.setFromRotationMatrix(Zs),this.quaternion.premultiply(yc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(uhe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(mC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(mC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($d,e,lhe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($d,che,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),h=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}};xi.DefaultUp=new De(0,1,0);xi.DefaultMatrixAutoUpdate=!0;const Qr=new De,Js=new De,ny=new De,Qs=new De,bc=new De,_c=new De,gC=new De,iy=new De,ry=new De,sy=new De;let oy=class Jc{constructor(e=new De,t=new De,i=new De){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Qr.subVectors(e,t),r.cross(Qr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Qr.subVectors(r,t),Js.subVectors(i,t),ny.subVectors(e,t);const o=Qr.dot(Qr),a=Qr.dot(Js),l=Qr.dot(ny),c=Js.dot(Js),u=Js.dot(ny),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,h=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-h-g,g,h)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Qs),Qs.x>=0&&Qs.y>=0&&Qs.x+Qs.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Qs),l.set(0,0),l.addScaledVector(s,Qs.x),l.addScaledVector(o,Qs.y),l.addScaledVector(a,Qs.z),l}static isFrontFacing(e,t,i,r){return Qr.subVectors(i,t),Js.subVectors(e,t),Qr.cross(Js).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qr.subVectors(this.c,this.b),Js.subVectors(this.a,this.b),Qr.cross(Js).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jc.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Jc.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Jc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;bc.subVectors(r,i),_c.subVectors(s,i),iy.subVectors(e,i);const l=bc.dot(iy),c=_c.dot(iy);if(l<=0&&c<=0)return t.copy(i);ry.subVectors(e,r);const u=bc.dot(ry),d=_c.dot(ry);if(u>=0&&d<=u)return t.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(bc,o);sy.subVectors(e,s);const h=bc.dot(sy),g=_c.dot(sy);if(g>=0&&h<=g)return t.copy(s);const m=h*c-l*g;if(m<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(i).addScaledVector(_c,a);const v=u*g-h*d;if(v<=0&&d-u>=0&&h-g>=0)return gC.subVectors(s,r),a=(d-u)/(d-u+(h-g)),t.copy(r).addScaledVector(gC,a);const y=1/(v+m+f);return o=m*y,a=f*y,t.copy(i).addScaledVector(bc,o).addScaledVector(_c,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},dhe=0,ms=class extends rc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dhe++}),this.uuid=zr(),this.name="",this.type="Material",this.blending=_u,this.side=qu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=uD,this.blendDst=dD,this.blendEquation=Zc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=k_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zfe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=G0,this.stencilZFail=G0,this.stencilZPass=G0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===jde;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==_u&&(i.blending=this.blending),this.side!==qu&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},mo=class extends ms{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const jn=new De,kp=new Ze;let Hi=class{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=B_,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new kt),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Ze),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new De),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Cn),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)kp.fromBufferAttribute(this,t),kp.applyMatrix3(e),this.setXY(t,kp.x,kp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix3(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)jn.fromBufferAttribute(this,t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)jn.fromBufferAttribute(this,t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==B_&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},AD=class extends Hi{constructor(e,t,i){super(new Uint16Array(e),t,i)}},LD=class extends Hi{constructor(e,t,i){super(new Uint32Array(e),t,i)}},$n=class extends Hi{constructor(e,t,i){super(new Float32Array(e),t,i)}},fhe=0;const Lr=new cn,ay=new xi,xc=new De,pr=new md,Vd=new md,oi=new De;let Yi=class RD extends rc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fhe++}),this.uuid=zr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(bD(e)?LD:AD)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ei().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lr.makeRotationFromQuaternion(e),this.applyMatrix4(Lr),this}rotateX(e){return Lr.makeRotationX(e),this.applyMatrix4(Lr),this}rotateY(e){return Lr.makeRotationY(e),this.applyMatrix4(Lr),this}rotateZ(e){return Lr.makeRotationZ(e),this.applyMatrix4(Lr),this}translate(e,t,i){return Lr.makeTranslation(e,t,i),this.applyMatrix4(Lr),this}scale(e,t,i){return Lr.makeScale(e,t,i),this.applyMatrix4(Lr),this}lookAt(e){return ay.lookAt(e),ay.updateMatrix(),this.applyMatrix4(ay.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xc).negate(),this.translate(xc.x,xc.y,xc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new $n(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new md);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new De(-1/0,-1/0,-1/0),new De(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];pr.setFromBufferAttribute(s),this.morphTargetsRelative?(oi.addVectors(this.boundingBox.min,pr.min),this.boundingBox.expandByPoint(oi),oi.addVectors(this.boundingBox.max,pr.max),this.boundingBox.expandByPoint(oi)):(this.boundingBox.expandByPoint(pr.min),this.boundingBox.expandByPoint(pr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new De,1/0);return}if(e){const i=this.boundingSphere.center;if(pr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Vd.setFromBufferAttribute(a),this.morphTargetsRelative?(oi.addVectors(pr.min,Vd.min),pr.expandByPoint(oi),oi.addVectors(pr.max,Vd.max),pr.expandByPoint(oi)):(pr.expandByPoint(Vd.min),pr.expandByPoint(Vd.max))}pr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)oi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(oi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)oi.fromBufferAttribute(a,c),l&&(xc.fromBufferAttribute(e,c),oi.add(xc)),r=Math.max(r,i.distanceToSquared(oi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hi(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new De,u[L]=new De;const d=new De,f=new De,h=new De,g=new Ze,m=new Ze,v=new Ze,y=new De,b=new De;function x(L,E,O){d.fromArray(r,L*3),f.fromArray(r,E*3),h.fromArray(r,O*3),g.fromArray(o,L*2),m.fromArray(o,E*2),v.fromArray(o,O*2),f.sub(d),h.sub(d),m.sub(g),v.sub(g);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(y.copy(f).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(F),b.copy(h).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(F),c[L].add(y),c[E].add(y),c[O].add(y),u[L].add(b),u[E].add(b),u[O].add(b))}let _=this.groups;_.length===0&&(_=[{start:0,count:i.length}]);for(let L=0,E=_.length;L<E;++L){const O=_[L],F=O.start,R=O.count;for(let $=F,D=F+R;$<D;$+=3)x(i[$+0],i[$+1],i[$+2])}const w=new De,S=new De,T=new De,M=new De;function C(L){T.fromArray(s,L*3),M.copy(T);const E=c[L];w.copy(E),w.sub(T.multiplyScalar(T.dot(E))).normalize(),S.crossVectors(M,E);const F=S.dot(u[L])<0?-1:1;l[L*4]=w.x,l[L*4+1]=w.y,l[L*4+2]=w.z,l[L*4+3]=F}for(let L=0,E=_.length;L<E;++L){const O=_[L],F=O.start,R=O.count;for(let $=F,D=F+R;$<D;$+=3)C(i[$+0]),C(i[$+1]),C(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Hi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new De,s=new De,o=new De,a=new De,l=new De,c=new De,u=new De,d=new De;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let d=0,f=c;d<u;d++,f++)o[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)oi.fromBufferAttribute(e,t),oi.normalize(),e.setXYZ(t,oi.x,oi.y,oi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let m=0,v=l.length;m<v;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let y=0;y<u;y++)f[g++]=c[h++]}return new Hi(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new RD,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,i);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};const vC=new cn,wc=new v1,ly=new gd,Wo=new De,Go=new De,jo=new De,cy=new De,uy=new De,dy=new De,Dp=new De,Np=new De,Op=new De,Fp=new Ze,Bp=new Ze,zp=new Ze,fy=new De,$p=new De;let Bi=class extends xi{constructor(e=new Yi,t=new mo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),ly.copy(i.boundingSphere),ly.applyMatrix4(s),e.ray.intersectsSphere(ly)===!1)||(vC.copy(s).invert(),wc.copy(e.ray).applyMatrix4(vC),i.boundingBox!==null&&wc.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,d=i.attributes.uv,f=i.attributes.uv2,h=i.groups,g=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],b=r[y.materialIndex],x=Math.max(y.start,g.start),_=Math.min(a.count,Math.min(y.start+y.count,g.start+g.count));for(let w=x,S=_;w<S;w+=3){const T=a.getX(w),M=a.getX(w+1),C=a.getX(w+2);o=Vp(this,b,e,wc,l,c,u,d,f,T,M,C),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let y=m,b=v;y<b;y+=3){const x=a.getX(y),_=a.getX(y+1),w=a.getX(y+2);o=Vp(this,r,e,wc,l,c,u,d,f,x,_,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],b=r[y.materialIndex],x=Math.max(y.start,g.start),_=Math.min(l.count,Math.min(y.start+y.count,g.start+g.count));for(let w=x,S=_;w<S;w+=3){const T=w,M=w+1,C=w+2;o=Vp(this,b,e,wc,l,c,u,d,f,T,M,C),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let y=m,b=v;y<b;y+=3){const x=y,_=y+1,w=y+2;o=Vp(this,r,e,wc,l,c,u,d,f,x,_,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}};function hhe(n,e,t,i,r,s,o,a){let l;if(e.side===hs?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==cs,a),l===null)return null;$p.copy(a),$p.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo($p);return c<t.near||c>t.far?null:{distance:c,point:$p.clone(),object:n}}function Vp(n,e,t,i,r,s,o,a,l,c,u,d){Wo.fromBufferAttribute(r,c),Go.fromBufferAttribute(r,u),jo.fromBufferAttribute(r,d);const f=n.morphTargetInfluences;if(s&&f){Dp.set(0,0,0),Np.set(0,0,0),Op.set(0,0,0);for(let g=0,m=s.length;g<m;g++){const v=f[g],y=s[g];v!==0&&(cy.fromBufferAttribute(y,c),uy.fromBufferAttribute(y,u),dy.fromBufferAttribute(y,d),o?(Dp.addScaledVector(cy,v),Np.addScaledVector(uy,v),Op.addScaledVector(dy,v)):(Dp.addScaledVector(cy.sub(Wo),v),Np.addScaledVector(uy.sub(Go),v),Op.addScaledVector(dy.sub(jo),v)))}Wo.add(Dp),Go.add(Np),jo.add(Op)}n.isSkinnedMesh&&(n.boneTransform(c,Wo),n.boneTransform(u,Go),n.boneTransform(d,jo));const h=hhe(n,e,t,i,Wo,Go,jo,fy);if(h){a&&(Fp.fromBufferAttribute(a,c),Bp.fromBufferAttribute(a,u),zp.fromBufferAttribute(a,d),h.uv=oy.getUV(fy,Wo,Go,jo,Fp,Bp,zp,new Ze)),l&&(Fp.fromBufferAttribute(l,c),Bp.fromBufferAttribute(l,u),zp.fromBufferAttribute(l,d),h.uv2=oy.getUV(fy,Wo,Go,jo,Fp,Bp,zp,new Ze));const g={a:c,b:u,c:d,normal:new De,materialIndex:0};oy.getNormal(Wo,Go,jo,g.normal),h.face=g}return h}let b1=class PD extends Yi{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new $n(c,3)),this.setAttribute("normal",new $n(u,3)),this.setAttribute("uv",new $n(d,2));function g(m,v,y,b,x,_,w,S,T,M,C){const L=_/T,E=w/M,O=_/2,F=w/2,R=S/2,$=T+1,D=M+1;let A=0,N=0;const P=new De;for(let z=0;z<D;z++){const Y=z*E-F;for(let H=0;H<$;H++){const V=H*L-O;P[m]=V*b,P[v]=Y*x,P[y]=R,c.push(P.x,P.y,P.z),P[m]=0,P[v]=0,P[y]=S>0?1:-1,u.push(P.x,P.y,P.z),d.push(H/T),d.push(1-z/M),A+=1}}for(let z=0;z<M;z++)for(let Y=0;Y<T;Y++){const H=f+Y+$*z,V=f+Y+$*(z+1),W=f+(Y+1)+$*(z+1),ie=f+(Y+1)+$*z;l.push(H,V,ie),l.push(V,W,ie),N+=6}a.addGroup(h,N,C),h+=N,f+=A}}static fromJSON(e){return new PD(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Qu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Mi(n){const e={};for(let t=0;t<n.length;t++){const i=Qu(n[t]);for(const r in i)e[r]=i[r]}return e}function phe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const Hg={clone:Qu,merge:Mi};var mhe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ghe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let nr=class extends ms{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mhe,this.fragmentShader=ghe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qu(e.uniforms),this.uniformsGroups=phe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}},ID=class extends xi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Fi=class extends ID{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ch*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Sf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ch*2*Math.atan(Math.tan(Sf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Sf*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Sc=90,Mc=1;let vhe=class extends xi{constructor(e,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Fi(Sc,Mc,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new De(1,0,0)),this.add(r);const s=new Fi(Sc,Mc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new De(-1,0,0)),this.add(s);const o=new Fi(Sc,Mc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new De(0,1,0)),this.add(o);const a=new Fi(Sc,Mc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new De(0,-1,0)),this.add(a);const l=new Fi(Sc,Mc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new De(0,0,1)),this.add(l);const c=new Fi(Sc,Mc,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new De(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=_o,e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}},kD=class extends jr{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Yu,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},yhe=class extends ps{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new kD(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Qi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new b1(5,5,5),s=new nr({name:"CubemapFromEquirect",uniforms:Qu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:hs,blending:Sa});s.uniforms.tEquirect.value=t;const o=new Bi(r,s),a=t.minFilter;return t.minFilter===pd&&(t.minFilter=Qi),new vhe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}};const hy=new De,bhe=new De,_he=new Ei;let al=class{constructor(e=new De(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=hy.subVectors(i,t).cross(bhe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(hy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||_he.getNormalMatrix(e),r=this.coplanarPoint(hy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Tc=new gd,Hp=new De;let _1=class{constructor(e=new al,t=new al,i=new al,r=new al,s=new al,o=new al){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],f=i[8],h=i[9],g=i[10],m=i[11],v=i[12],y=i[13],b=i[14],x=i[15];return t[0].setComponents(a-r,d-l,m-f,x-v).normalize(),t[1].setComponents(a+r,d+l,m+f,x+v).normalize(),t[2].setComponents(a+s,d+c,m+h,x+y).normalize(),t[3].setComponents(a-s,d-c,m-h,x-y).normalize(),t[4].setComponents(a-o,d-u,m-g,x-b).normalize(),t[5].setComponents(a+o,d+u,m+g,x+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Tc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Tc)}intersectsSprite(e){return Tc.center.set(0,0,0),Tc.radius=.7071067811865476,Tc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Tc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Hp.x=r.normal.x>0?e.max.x:e.min.x,Hp.y=r.normal.y>0?e.max.y:e.min.y,Hp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Hp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function DD(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function xhe(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),h.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}let ND=class OD extends Yi{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,f=t/l,h=[],g=[],m=[],v=[];for(let y=0;y<u;y++){const b=y*f-o;for(let x=0;x<c;x++){const _=x*d-s;g.push(_,-b,0),m.push(0,0,1),v.push(x/a),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<a;b++){const x=b+c*y,_=b+c*(y+1),w=b+1+c*(y+1),S=b+1+c*y;h.push(x,_,S),h.push(_,w,S)}this.setIndex(h),this.setAttribute("position",new $n(g,3)),this.setAttribute("normal",new $n(m,3)),this.setAttribute("uv",new $n(v,2))}static fromJSON(e){return new OD(e.width,e.height,e.widthSegments,e.heightSegments)}};var whe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,She=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mhe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,The=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ehe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Che=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ahe="vec3 transformed = vec3( position );",Lhe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Rhe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Phe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ihe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,khe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Dhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Nhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ohe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Fhe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Bhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,$he=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Vhe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Hhe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Uhe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Whe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ghe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,jhe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Khe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,qhe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Yhe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Xhe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zhe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Jhe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Qhe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,epe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tpe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,npe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ipe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,spe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,ope=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,ape=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lpe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,cpe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,upe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,dpe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,hpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ppe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,mpe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,gpe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vpe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ype=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,_pe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xpe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wpe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Spe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Mpe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Tpe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Epe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Cpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ape=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Lpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Rpe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ppe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Ipe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Dpe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Npe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ope=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Bpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,zpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,$pe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Vpe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Hpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Upe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Wpe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Gpe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,jpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Kpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ype=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Zpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Jpe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Qpe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,eme=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,tme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,nme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ime=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,rme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,sme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ome=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ame=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,lme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,cme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ume=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,dme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,fme=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,hme=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,pme=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,mme=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,gme=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,vme=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,yme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bme=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_me=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wme=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Sme=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Tme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Eme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Cme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ame=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Lme=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Rme=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Pme=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Ime=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kme=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dme=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ome=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Bme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,zme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$me=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Hme=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ume=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gme=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,jme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kme=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Yme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Xme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Yt={alphamap_fragment:whe,alphamap_pars_fragment:She,alphatest_fragment:Mhe,alphatest_pars_fragment:The,aomap_fragment:Ehe,aomap_pars_fragment:Che,begin_vertex:Ahe,beginnormal_vertex:Lhe,bsdfs:Rhe,iridescence_fragment:Phe,bumpmap_pars_fragment:Ihe,clipping_planes_fragment:khe,clipping_planes_pars_fragment:Dhe,clipping_planes_pars_vertex:Nhe,clipping_planes_vertex:Ohe,color_fragment:Fhe,color_pars_fragment:Bhe,color_pars_vertex:zhe,color_vertex:$he,common:Vhe,cube_uv_reflection_fragment:Hhe,defaultnormal_vertex:Uhe,displacementmap_pars_vertex:Whe,displacementmap_vertex:Ghe,emissivemap_fragment:jhe,emissivemap_pars_fragment:Khe,encodings_fragment:qhe,encodings_pars_fragment:Yhe,envmap_fragment:Xhe,envmap_common_pars_fragment:Zhe,envmap_pars_fragment:Jhe,envmap_pars_vertex:Qhe,envmap_physical_pars_fragment:upe,envmap_vertex:epe,fog_vertex:tpe,fog_pars_vertex:npe,fog_fragment:ipe,fog_pars_fragment:rpe,gradientmap_pars_fragment:spe,lightmap_fragment:ope,lightmap_pars_fragment:ape,lights_lambert_vertex:lpe,lights_pars_begin:cpe,lights_toon_fragment:dpe,lights_toon_pars_fragment:fpe,lights_phong_fragment:hpe,lights_phong_pars_fragment:ppe,lights_physical_fragment:mpe,lights_physical_pars_fragment:gpe,lights_fragment_begin:vpe,lights_fragment_maps:ype,lights_fragment_end:bpe,logdepthbuf_fragment:_pe,logdepthbuf_pars_fragment:xpe,logdepthbuf_pars_vertex:wpe,logdepthbuf_vertex:Spe,map_fragment:Mpe,map_pars_fragment:Tpe,map_particle_fragment:Epe,map_particle_pars_fragment:Cpe,metalnessmap_fragment:Ape,metalnessmap_pars_fragment:Lpe,morphcolor_vertex:Rpe,morphnormal_vertex:Ppe,morphtarget_pars_vertex:Ipe,morphtarget_vertex:kpe,normal_fragment_begin:Dpe,normal_fragment_maps:Npe,normal_pars_fragment:Ope,normal_pars_vertex:Fpe,normal_vertex:Bpe,normalmap_pars_fragment:zpe,clearcoat_normal_fragment_begin:$pe,clearcoat_normal_fragment_maps:Vpe,clearcoat_pars_fragment:Hpe,iridescence_pars_fragment:Upe,output_fragment:Wpe,packing:Gpe,premultiplied_alpha_fragment:jpe,project_vertex:Kpe,dithering_fragment:qpe,dithering_pars_fragment:Ype,roughnessmap_fragment:Xpe,roughnessmap_pars_fragment:Zpe,shadowmap_pars_fragment:Jpe,shadowmap_pars_vertex:Qpe,shadowmap_vertex:eme,shadowmask_pars_fragment:tme,skinbase_vertex:nme,skinning_pars_vertex:ime,skinning_vertex:rme,skinnormal_vertex:sme,specularmap_fragment:ome,specularmap_pars_fragment:ame,tonemapping_fragment:lme,tonemapping_pars_fragment:cme,transmission_fragment:ume,transmission_pars_fragment:dme,uv_pars_fragment:fme,uv_pars_vertex:hme,uv_vertex:pme,uv2_pars_fragment:mme,uv2_pars_vertex:gme,uv2_vertex:vme,worldpos_vertex:yme,background_vert:bme,background_frag:_me,cube_vert:xme,cube_frag:wme,depth_vert:Sme,depth_frag:Mme,distanceRGBA_vert:Tme,distanceRGBA_frag:Eme,equirect_vert:Cme,equirect_frag:Ame,linedashed_vert:Lme,linedashed_frag:Rme,meshbasic_vert:Pme,meshbasic_frag:Ime,meshlambert_vert:kme,meshlambert_frag:Dme,meshmatcap_vert:Nme,meshmatcap_frag:Ome,meshnormal_vert:Fme,meshnormal_frag:Bme,meshphong_vert:zme,meshphong_frag:$me,meshphysical_vert:Vme,meshphysical_frag:Hme,meshtoon_vert:Ume,meshtoon_frag:Wme,points_vert:Gme,points_frag:jme,shadow_vert:Kme,shadow_frag:qme,sprite_vert:Yme,sprite_frag:Xme},yt={common:{diffuse:{value:new kt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ei},uv2Transform:{value:new Ei},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}},sprite:{diffuse:{value:new kt(16777215)},opacity:{value:1},center:{value:new Ze(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}}},Ms={basic:{uniforms:Mi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:Yt.meshbasic_vert,fragmentShader:Yt.meshbasic_frag},lambert:{uniforms:Mi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.fog,yt.lights,{emissive:{value:new kt(0)}}]),vertexShader:Yt.meshlambert_vert,fragmentShader:Yt.meshlambert_frag},phong:{uniforms:Mi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new kt(0)},specular:{value:new kt(1118481)},shininess:{value:30}}]),vertexShader:Yt.meshphong_vert,fragmentShader:Yt.meshphong_frag},standard:{uniforms:Mi([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag},toon:{uniforms:Mi([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new kt(0)}}]),vertexShader:Yt.meshtoon_vert,fragmentShader:Yt.meshtoon_frag},matcap:{uniforms:Mi([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:Yt.meshmatcap_vert,fragmentShader:Yt.meshmatcap_frag},points:{uniforms:Mi([yt.points,yt.fog]),vertexShader:Yt.points_vert,fragmentShader:Yt.points_frag},dashed:{uniforms:Mi([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yt.linedashed_vert,fragmentShader:Yt.linedashed_frag},depth:{uniforms:Mi([yt.common,yt.displacementmap]),vertexShader:Yt.depth_vert,fragmentShader:Yt.depth_frag},normal:{uniforms:Mi([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:Yt.meshnormal_vert,fragmentShader:Yt.meshnormal_frag},sprite:{uniforms:Mi([yt.sprite,yt.fog]),vertexShader:Yt.sprite_vert,fragmentShader:Yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ei},t2D:{value:null}},vertexShader:Yt.background_vert,fragmentShader:Yt.background_frag},cube:{uniforms:Mi([yt.envmap,{opacity:{value:1}}]),vertexShader:Yt.cube_vert,fragmentShader:Yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yt.equirect_vert,fragmentShader:Yt.equirect_frag},distanceRGBA:{uniforms:Mi([yt.common,yt.displacementmap,{referencePosition:{value:new De},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yt.distanceRGBA_vert,fragmentShader:Yt.distanceRGBA_frag},shadow:{uniforms:Mi([yt.lights,yt.fog,{color:{value:new kt(0)},opacity:{value:1}}]),vertexShader:Yt.shadow_vert,fragmentShader:Yt.shadow_frag}};Ms.physical={uniforms:Mi([Ms.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ze(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new kt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new kt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new kt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag};function Zme(n,e,t,i,r,s){const o=new kt(0);let a=r===!0?0:1,l,c,u=null,d=0,f=null;function h(m,v){let y=!1,b=v.isScene===!0?v.background:null;b&&b.isTexture&&(b=e.get(b));const x=n.xr,_=x.getSession&&x.getSession();_&&_.environmentBlendMode==="additive"&&(b=null),b===null?g(o,a):b&&b.isColor&&(g(b,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Bv)?(c===void 0&&(c=new Bi(new b1(1,1,1),new nr({name:"BackgroundCubeMaterial",uniforms:Qu(Ms.cube.uniforms),vertexShader:Ms.cube.vertexShader,fragmentShader:Ms.cube.fragmentShader,side:hs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,S,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(u!==b||d!==b.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=b,d=b.version,f=n.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new Bi(new ND(2,2),new nr({name:"BackgroundMaterial",uniforms:Qu(Ms.background.uniforms),vertexShader:Ms.background.vertexShader,fragmentShader:Ms.background.fragmentShader,side:qu,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(u!==b||d!==b.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=b,d=b.version,f=n.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function g(m,v){t.buffers.color.setClear(m.r,m.g,m.b,v,s)}return{getClearColor:function(){return o},setClearColor:function(m,v=1){o.set(m),a=v,g(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,g(o,a)},render:h}}function Jme(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function d(R,$,D,A,N){let P=!1;if(o){const z=m(A,D,$);c!==z&&(c=z,h(c.object)),P=y(R,A,D,N),P&&b(R,A,D,N)}else{const z=$.wireframe===!0;(c.geometry!==A.id||c.program!==D.id||c.wireframe!==z)&&(c.geometry=A.id,c.program=D.id,c.wireframe=z,P=!0)}N!==null&&t.update(N,34963),(P||u)&&(u=!1,M(R,$,D,A),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function h(R){return i.isWebGL2?n.bindVertexArray(R):s.bindVertexArrayOES(R)}function g(R){return i.isWebGL2?n.deleteVertexArray(R):s.deleteVertexArrayOES(R)}function m(R,$,D){const A=D.wireframe===!0;let N=a[R.id];N===void 0&&(N={},a[R.id]=N);let P=N[$.id];P===void 0&&(P={},N[$.id]=P);let z=P[A];return z===void 0&&(z=v(f()),P[A]=z),z}function v(R){const $=[],D=[],A=[];for(let N=0;N<r;N++)$[N]=0,D[N]=0,A[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:D,attributeDivisors:A,object:R,attributes:{},index:null}}function y(R,$,D,A){const N=c.attributes,P=$.attributes;let z=0;const Y=D.getAttributes();for(const H in Y)if(Y[H].location>=0){const W=N[H];let ie=P[H];if(ie===void 0&&(H==="instanceMatrix"&&R.instanceMatrix&&(ie=R.instanceMatrix),H==="instanceColor"&&R.instanceColor&&(ie=R.instanceColor)),W===void 0||W.attribute!==ie||ie&&W.data!==ie.data)return!0;z++}return c.attributesNum!==z||c.index!==A}function b(R,$,D,A){const N={},P=$.attributes;let z=0;const Y=D.getAttributes();for(const H in Y)if(Y[H].location>=0){let W=P[H];W===void 0&&(H==="instanceMatrix"&&R.instanceMatrix&&(W=R.instanceMatrix),H==="instanceColor"&&R.instanceColor&&(W=R.instanceColor));const ie={};ie.attribute=W,W&&W.data&&(ie.data=W.data),N[H]=ie,z++}c.attributes=N,c.attributesNum=z,c.index=A}function x(){const R=c.newAttributes;for(let $=0,D=R.length;$<D;$++)R[$]=0}function _(R){w(R,0)}function w(R,$){const D=c.newAttributes,A=c.enabledAttributes,N=c.attributeDivisors;D[R]=1,A[R]===0&&(n.enableVertexAttribArray(R),A[R]=1),N[R]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](R,$),N[R]=$)}function S(){const R=c.newAttributes,$=c.enabledAttributes;for(let D=0,A=$.length;D<A;D++)$[D]!==R[D]&&(n.disableVertexAttribArray(D),$[D]=0)}function T(R,$,D,A,N,P){i.isWebGL2===!0&&(D===5124||D===5125)?n.vertexAttribIPointer(R,$,D,N,P):n.vertexAttribPointer(R,$,D,A,N,P)}function M(R,$,D,A){if(i.isWebGL2===!1&&(R.isInstancedMesh||A.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const N=A.attributes,P=D.getAttributes(),z=$.defaultAttributeValues;for(const Y in P){const H=P[Y];if(H.location>=0){let V=N[Y];if(V===void 0&&(Y==="instanceMatrix"&&R.instanceMatrix&&(V=R.instanceMatrix),Y==="instanceColor"&&R.instanceColor&&(V=R.instanceColor)),V!==void 0){const W=V.normalized,ie=V.itemSize,G=t.get(V);if(G===void 0)continue;const te=G.buffer,oe=G.type,xe=G.bytesPerElement;if(V.isInterleavedBufferAttribute){const ue=V.data,we=ue.stride,re=V.offset;if(ue.isInstancedInterleavedBuffer){for(let j=0;j<H.locationSize;j++)w(H.location+j,ue.meshPerAttribute);R.isInstancedMesh!==!0&&A._maxInstanceCount===void 0&&(A._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let j=0;j<H.locationSize;j++)_(H.location+j);n.bindBuffer(34962,te);for(let j=0;j<H.locationSize;j++)T(H.location+j,ie/H.locationSize,oe,W,we*xe,(re+ie/H.locationSize*j)*xe)}else{if(V.isInstancedBufferAttribute){for(let ue=0;ue<H.locationSize;ue++)w(H.location+ue,V.meshPerAttribute);R.isInstancedMesh!==!0&&A._maxInstanceCount===void 0&&(A._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let ue=0;ue<H.locationSize;ue++)_(H.location+ue);n.bindBuffer(34962,te);for(let ue=0;ue<H.locationSize;ue++)T(H.location+ue,ie/H.locationSize,oe,W,ie*xe,ie/H.locationSize*ue*xe)}}else if(z!==void 0){const W=z[Y];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(H.location,W);break;case 3:n.vertexAttrib3fv(H.location,W);break;case 4:n.vertexAttrib4fv(H.location,W);break;default:n.vertexAttrib1fv(H.location,W)}}}}S()}function C(){O();for(const R in a){const $=a[R];for(const D in $){const A=$[D];for(const N in A)g(A[N].object),delete A[N];delete $[D]}delete a[R]}}function L(R){if(a[R.id]===void 0)return;const $=a[R.id];for(const D in $){const A=$[D];for(const N in A)g(A[N].object),delete A[N];delete $[D]}delete a[R.id]}function E(R){for(const $ in a){const D=a[$];if(D[R.id]===void 0)continue;const A=D[R.id];for(const N in A)g(A[N].object),delete A[N];delete D[R.id]}}function O(){F(),u=!0,c!==l&&(c=l,h(c.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:O,resetDefaultState:F,dispose:C,releaseStatesOfGeometry:L,releaseStatesOfProgram:E,initAttributes:x,enableAttribute:_,disableUnusedAttributes:S}}function Qme(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function ege(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),g=n.getParameter(34076),m=n.getParameter(34921),v=n.getParameter(36347),y=n.getParameter(36348),b=n.getParameter(36349),x=f>0,_=o||e.has("OES_texture_float"),w=x&&_,S=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:x,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:S}}function tge(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new al,a=new Ei,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const g=d.length!==0||f||i!==0||r;return r=f,t=u(d,h,0),i=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,f,h){const g=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,y=n.get(d);if(!r||g===null||g.length===0||s&&!v)s?u(null):c();else{const b=s?0:i,x=b*4;let _=y.clippingState||null;l.value=_,_=u(g,f,x,h);for(let w=0;w!==x;++w)_[w]=t[w];y.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,h,g){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,g!==!0||v===null){const y=h+m*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(v===null||v.length<y)&&(v=new Float32Array(y));for(let x=0,_=h;x!==m;++x,_+=4)o.copy(d[x]).applyMatrix4(b,a),o.normal.toArray(v,_),v[_+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function nge(n){let e=new WeakMap;function t(o,a){return a===D_?o.mapping=Yu:a===N_&&(o.mapping=Xu),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===D_||a===N_)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new yhe(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}let Gh=class extends ID{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};const su=4,yC=[.125,.215,.35,.446,.526,.582],ml=20,py=new Gh,bC=new kt;let my=null;const ll=(1+Math.sqrt(5))/2,Ec=1/ll,_C=[new De(1,1,1),new De(-1,1,1),new De(1,1,-1),new De(-1,1,-1),new De(0,ll,Ec),new De(0,ll,-Ec),new De(Ec,0,ll),new De(-Ec,0,ll),new De(ll,Ec,0),new De(-ll,Ec,0)];let xC=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){my=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(my),e.scissorTest=!1,Up(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yu||e.mapping===Xu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),my=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Qi,minFilter:Qi,generateMipmaps:!1,type:ah,format:us,encoding:jl,depthBuffer:!1},r=wC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=wC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ige(s)),this._blurMaterial=rge(s,e,t)}return r}_compileMaterial(e){const t=new Bi(this._lodPlanes[0],e);this._renderer.compile(t,py)}_sceneToCubeUV(e,t,i,r){const a=new Fi(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(bC),u.toneMapping=_o,u.autoClear=!1;const h=new mo({name:"PMREM.Background",side:hs,depthWrite:!1,depthTest:!1}),g=new Bi(new b1,h);let m=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,m=!0):(h.color.copy(bC),m=!0);for(let y=0;y<6;y++){const b=y%3;b===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):b===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const x=this._cubeSize;Up(r,b*x,y>2?x:0,x,x),u.setRenderTarget(r),m&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Yu||e.mapping===Xu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=MC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Bi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Up(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,py)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=_C[(r-1)%_C.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Bi(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*ml-1),m=s/g,v=isFinite(s)?1+Math.floor(u*m):ml;v>ml&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ml}`);const y=[];let b=0;for(let T=0;T<ml;++T){const M=T/m,C=Math.exp(-M*M/2);y.push(C),T===0?b+=C:T<v&&(b+=2*C)}for(let T=0;T<y.length;T++)y[T]=y[T]/b;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:x}=this;f.dTheta.value=g,f.mipInt.value=x-i;const _=this._sizeLods[r],w=3*_*(r>x-su?r-x+su:0),S=4*(this._cubeSize-_);Up(t,w,S,3*_,2*_),l.setRenderTarget(t),l.render(d,py)}};function ige(n){const e=[],t=[],i=[];let r=n;const s=n-su+1+yC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-su?l=yC[o-n+su-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,g=6,m=3,v=2,y=1,b=new Float32Array(m*g*h),x=new Float32Array(v*g*h),_=new Float32Array(y*g*h);for(let S=0;S<h;S++){const T=S%3*2/3-1,M=S>2?0:-1,C=[T,M,0,T+2/3,M,0,T+2/3,M+1,0,T,M,0,T+2/3,M+1,0,T,M+1,0];b.set(C,m*g*S),x.set(f,v*g*S);const L=[S,S,S,S,S,S];_.set(L,y*g*S)}const w=new Yi;w.setAttribute("position",new Hi(b,m)),w.setAttribute("uv",new Hi(x,v)),w.setAttribute("faceIndex",new Hi(_,y)),e.push(w),r>su&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function wC(n,e,t){const i=new ps(n,e,t);return i.texture.mapping=Bv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Up(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function rge(n,e,t){const i=new Float32Array(ml),r=new De(0,1,0);return new nr({name:"SphericalGaussianBlur",defines:{n:ml,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Sa,depthTest:!1,depthWrite:!1})}function SC(){return new nr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Sa,depthTest:!1,depthWrite:!1})}function MC(){return new nr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Sa,depthTest:!1,depthWrite:!1})}function x1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sge(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===D_||l===N_,u=l===Yu||l===Xu;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new xC(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){t===null&&(t=new xC(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function oge(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function age(n,e,t,i){const r={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete r[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(d,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],34962);const h=d.morphAttributes;for(const g in h){const m=h[g];for(let v=0,y=m.length;v<y;v++)e.update(m[v],34962)}}function c(d){const f=[],h=d.index,g=d.attributes.position;let m=0;if(h!==null){const b=h.array;m=h.version;for(let x=0,_=b.length;x<_;x+=3){const w=b[x+0],S=b[x+1],T=b[x+2];f.push(w,S,S,T,T,w)}}else{const b=g.array;m=g.version;for(let x=0,_=b.length/3-1;x<_;x+=3){const w=x+0,S=x+1,T=x+2;f.push(w,S,S,T,T,w)}}const v=new(bD(f)?LD:AD)(f,1);v.version=m;const y=s.get(d);y&&e.remove(y),s.set(d,v)}function u(d){const f=s.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function lge(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,h){n.drawElements(s,h,a,f*l),t.update(h,s,1)}function d(f,h,g){if(g===0)return;let m,v;if(r)m=n,v="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,h,a,f*l,g),t.update(h,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function cge(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function uge(n,e){return n[0]-e[0]}function dge(n,e){return Math.abs(e[1])-Math.abs(n[1])}function gy(n,e){let t=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?t=127:i instanceof Uint8Array?t=255:i instanceof Uint16Array?t=65535:i instanceof Int16Array?t=32767:i instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(t)}function fge(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Cn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let D=function(){R.dispose(),s.delete(u),u.removeEventListener("dispose",D)};var g=D;y!==void 0&&y.texture.dispose();const _=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let L=0;_===!0&&(L=1),w===!0&&(L=2),S===!0&&(L=3);let E=u.attributes.position.count*L,O=1;E>e.maxTextureSize&&(O=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const F=new Float32Array(E*O*4*v),R=new MD(F,E,O,v);R.type=ga,R.needsUpdate=!0;const $=L*4;for(let A=0;A<v;A++){const N=T[A],P=M[A],z=C[A],Y=E*O*4*A;for(let H=0;H<N.count;H++){const V=H*$;_===!0&&(o.fromBufferAttribute(N,H),N.normalized===!0&&gy(o,N),F[Y+V+0]=o.x,F[Y+V+1]=o.y,F[Y+V+2]=o.z,F[Y+V+3]=0),w===!0&&(o.fromBufferAttribute(P,H),P.normalized===!0&&gy(o,P),F[Y+V+4]=o.x,F[Y+V+5]=o.y,F[Y+V+6]=o.z,F[Y+V+7]=0),S===!0&&(o.fromBufferAttribute(z,H),z.normalized===!0&&gy(o,z),F[Y+V+8]=o.x,F[Y+V+9]=o.y,F[Y+V+10]=o.z,F[Y+V+11]=z.itemSize===4?o.w:1)}}y={count:v,texture:R,size:new Ze(E,O)},s.set(u,y),u.addEventListener("dispose",D)}let b=0;for(let _=0;_<h.length;_++)b+=h[_];const x=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const m=h===void 0?0:h.length;let v=i[u.id];if(v===void 0||v.length!==m){v=[];for(let w=0;w<m;w++)v[w]=[w,0];i[u.id]=v}for(let w=0;w<m;w++){const S=v[w];S[0]=w,S[1]=h[w]}v.sort(dge);for(let w=0;w<8;w++)w<m&&v[w][1]?(a[w][0]=v[w][0],a[w][1]=v[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(uge);const y=u.morphAttributes.position,b=u.morphAttributes.normal;let x=0;for(let w=0;w<8;w++){const S=a[w],T=S[0],M=S[1];T!==Number.MAX_SAFE_INTEGER&&M?(y&&u.getAttribute("morphTarget"+w)!==y[T]&&u.setAttribute("morphTarget"+w,y[T]),b&&u.getAttribute("morphNormal"+w)!==b[T]&&u.setAttribute("morphNormal"+w,b[T]),r[w]=M,x+=M):(y&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),b&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const _=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function hge(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const FD=new jr,BD=new MD,zD=new ihe,$D=new kD,TC=[],EC=[],CC=new Float32Array(16),AC=new Float32Array(9),LC=new Float32Array(4);function vd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=TC[r];if(s===void 0&&(s=new Float32Array(r),TC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Gi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ji(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function $v(n,e){let t=EC[e];t===void 0&&(t=new Int32Array(e),EC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function pge(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function mge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Gi(t,e))return;n.uniform2fv(this.addr,e),ji(t,e)}}function gge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Gi(t,e))return;n.uniform3fv(this.addr,e),ji(t,e)}}function vge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Gi(t,e))return;n.uniform4fv(this.addr,e),ji(t,e)}}function yge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Gi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ji(t,e)}else{if(Gi(t,i))return;LC.set(i),n.uniformMatrix2fv(this.addr,!1,LC),ji(t,i)}}function bge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Gi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ji(t,e)}else{if(Gi(t,i))return;AC.set(i),n.uniformMatrix3fv(this.addr,!1,AC),ji(t,i)}}function _ge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Gi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ji(t,e)}else{if(Gi(t,i))return;CC.set(i),n.uniformMatrix4fv(this.addr,!1,CC),ji(t,i)}}function xge(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function wge(n,e){const t=this.cache;Gi(t,e)||(n.uniform2iv(this.addr,e),ji(t,e))}function Sge(n,e){const t=this.cache;Gi(t,e)||(n.uniform3iv(this.addr,e),ji(t,e))}function Mge(n,e){const t=this.cache;Gi(t,e)||(n.uniform4iv(this.addr,e),ji(t,e))}function Tge(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ege(n,e){const t=this.cache;Gi(t,e)||(n.uniform2uiv(this.addr,e),ji(t,e))}function Cge(n,e){const t=this.cache;Gi(t,e)||(n.uniform3uiv(this.addr,e),ji(t,e))}function Age(n,e){const t=this.cache;Gi(t,e)||(n.uniform4uiv(this.addr,e),ji(t,e))}function Lge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||FD,r)}function Rge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||zD,r)}function Pge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||$D,r)}function Ige(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||BD,r)}function kge(n){switch(n){case 5126:return pge;case 35664:return mge;case 35665:return gge;case 35666:return vge;case 35674:return yge;case 35675:return bge;case 35676:return _ge;case 5124:case 35670:return xge;case 35667:case 35671:return wge;case 35668:case 35672:return Sge;case 35669:case 35673:return Mge;case 5125:return Tge;case 36294:return Ege;case 36295:return Cge;case 36296:return Age;case 35678:case 36198:case 36298:case 36306:case 35682:return Lge;case 35679:case 36299:case 36307:return Rge;case 35680:case 36300:case 36308:case 36293:return Pge;case 36289:case 36303:case 36311:case 36292:return Ige}}function Dge(n,e){n.uniform1fv(this.addr,e)}function Nge(n,e){const t=vd(e,this.size,2);n.uniform2fv(this.addr,t)}function Oge(n,e){const t=vd(e,this.size,3);n.uniform3fv(this.addr,t)}function Fge(n,e){const t=vd(e,this.size,4);n.uniform4fv(this.addr,t)}function Bge(n,e){const t=vd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function zge(n,e){const t=vd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function $ge(n,e){const t=vd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Vge(n,e){n.uniform1iv(this.addr,e)}function Hge(n,e){n.uniform2iv(this.addr,e)}function Uge(n,e){n.uniform3iv(this.addr,e)}function Wge(n,e){n.uniform4iv(this.addr,e)}function Gge(n,e){n.uniform1uiv(this.addr,e)}function jge(n,e){n.uniform2uiv(this.addr,e)}function Kge(n,e){n.uniform3uiv(this.addr,e)}function qge(n,e){n.uniform4uiv(this.addr,e)}function Yge(n,e,t){const i=e.length,r=$v(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.setTexture2D(e[s]||FD,r[s])}function Xge(n,e,t){const i=e.length,r=$v(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.setTexture3D(e[s]||zD,r[s])}function Zge(n,e,t){const i=e.length,r=$v(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.setTextureCube(e[s]||$D,r[s])}function Jge(n,e,t){const i=e.length,r=$v(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||BD,r[s])}function Qge(n){switch(n){case 5126:return Dge;case 35664:return Nge;case 35665:return Oge;case 35666:return Fge;case 35674:return Bge;case 35675:return zge;case 35676:return $ge;case 5124:case 35670:return Vge;case 35667:case 35671:return Hge;case 35668:case 35672:return Uge;case 35669:case 35673:return Wge;case 5125:return Gge;case 36294:return jge;case 36295:return Kge;case 36296:return qge;case 35678:case 36198:case 36298:case 36306:case 35682:return Yge;case 35679:case 36299:case 36307:return Xge;case 35680:case 36300:case 36308:case 36293:return Zge;case 36289:case 36303:case 36311:case 36292:return Jge}}let eve=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=kge(t.type)}},tve=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Qge(t.type)}},nve=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}};const vy=/(\w+)(\])?(\[|\.)?/g;function RC(n,e){n.seq.push(e),n.map[e.id]=e}function ive(n,e,t){const i=n.name,r=i.length;for(vy.lastIndex=0;;){const s=vy.exec(i),o=vy.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){RC(t,c===void 0?new eve(a,n,e):new tve(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new nve(a),RC(t,d)),t=d}}}let ag=class{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);ive(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}};function PC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let rve=0;function sve(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function ove(n){switch(n){case jl:return["Linear","( value )"];case hn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function IC(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+sve(n.getShaderSource(e),o)}else return r}function ave(n,e){const t=ove(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function lve(n,e){let t;switch(e){case pfe:t="Linear";break;case mfe:t="Reinhard";break;case gfe:t="OptimizedCineon";break;case vfe:t="ACESFilmic";break;case yfe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function cve(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(of).join(`
`)}function uve(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function dve(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function of(n){return n!==""}function kC(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fve=/^[ \t]*#include +<([\w\d./]+)>/gm;function W_(n){return n.replace(fve,hve)}function hve(n,e){const t=Yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return W_(t)}const pve=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,mve=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NC(n){return n.replace(mve,VD).replace(pve,gve)}function gve(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),VD(n,e,t,i)}function VD(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function OC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vve(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===cD?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Gde?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===sf&&(e="SHADOWMAP_TYPE_VSM"),e}function yve(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yu:case Xu:e="ENVMAP_TYPE_CUBE";break;case Bv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function bve(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xu:e="ENVMAP_MODE_REFRACTION";break}return e}function _ve(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case m1:e="ENVMAP_BLENDING_MULTIPLY";break;case ffe:e="ENVMAP_BLENDING_MIX";break;case hfe:e="ENVMAP_BLENDING_ADD";break}return e}function xve(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function wve(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=vve(t),c=yve(t),u=bve(t),d=_ve(t),f=xve(t),h=t.isWebGL2?"":cve(t),g=uve(s),m=r.createProgram();let v,y,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[g].filter(of).join(`
`),v.length>0&&(v+=`
`),y=[h,g].filter(of).join(`
`),y.length>0&&(y+=`
`)):(v=[OC(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(of).join(`
`),y=[h,OC(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==_o?"#define TONE_MAPPING":"",t.toneMapping!==_o?Yt.tonemapping_pars_fragment:"",t.toneMapping!==_o?lve("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Yt.encodings_pars_fragment,ave("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(of).join(`
`)),o=W_(o),o=kC(o,t),o=DC(o,t),a=W_(a),a=kC(a,t),a=DC(a,t),o=NC(o),a=NC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,y=["#define varying in",t.glslVersion===sC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===sC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const x=b+v+o,_=b+y+a,w=PC(r,35633,x),S=PC(r,35632,_);if(r.attachShader(m,w),r.attachShader(m,S),t.index0AttributeName!==void 0?r.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const C=r.getProgramInfoLog(m).trim(),L=r.getShaderInfoLog(w).trim(),E=r.getShaderInfoLog(S).trim();let O=!0,F=!0;if(r.getProgramParameter(m,35714)===!1){O=!1;const R=IC(r,w,"vertex"),$=IC(r,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+`

Program Info Log: `+C+`
`+R+`
`+$)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(L===""||E==="")&&(F=!1);F&&(this.diagnostics={runnable:O,programLog:C,vertexShader:{log:L,prefix:v},fragmentShader:{log:E,prefix:y}})}r.deleteShader(w),r.deleteShader(S);let T;this.getUniforms=function(){return T===void 0&&(T=new ag(r,m)),T};let M;return this.getAttributes=function(){return M===void 0&&(M=dve(r,m)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=rve++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=S,this}let Sve=0;class Mve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const i=new Tve(e);t.set(e,i)}return t.get(e)}}class Tve{constructor(e){this.id=Sve++,this.code=e,this.usedTimes=0}}function Eve(n,e,t,i,r,s,o){const a=new CD,l=new Mve,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(M,C,L,E,O){const F=E.fog,R=O.geometry,$=M.isMeshStandardMaterial?E.environment:null,D=(M.isMeshStandardMaterial?t:e).get(M.envMap||$),A=D&&D.mapping===Bv?D.image.height:null,N=g[M.type];M.precision!==null&&(h=r.getMaxPrecision(M.precision),h!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",h,"instead."));const P=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,z=P!==void 0?P.length:0;let Y=0;R.morphAttributes.position!==void 0&&(Y=1),R.morphAttributes.normal!==void 0&&(Y=2),R.morphAttributes.color!==void 0&&(Y=3);let H,V,W,ie;if(N){const we=Ms[N];H=we.vertexShader,V=we.fragmentShader}else H=M.vertexShader,V=M.fragmentShader,l.update(M),W=l.getVertexShaderID(M),ie=l.getFragmentShaderID(M);const G=n.getRenderTarget(),te=M.alphaTest>0,oe=M.clearcoat>0,xe=M.iridescence>0;return{isWebGL2:u,shaderID:N,shaderName:M.type,vertexShader:H,fragmentShader:V,defines:M.defines,customVertexShaderID:W,customFragmentShaderID:ie,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:h,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:f,outputEncoding:G===null?n.outputEncoding:G.isXRRenderTarget===!0?G.texture.encoding:jl,map:!!M.map,matcap:!!M.matcap,envMap:!!D,envMapMode:D&&D.mapping,envMapCubeUVHeight:A,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===Bfe,tangentSpaceNormalMap:M.normalMapType===zv,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===hn,clearcoat:oe,clearcoatMap:oe&&!!M.clearcoatMap,clearcoatRoughnessMap:oe&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:oe&&!!M.clearcoatNormalMap,iridescence:xe,iridescenceMap:xe&&!!M.iridescenceMap,iridescenceThicknessMap:xe&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===_u,alphaMap:!!M.alphaMap,alphaTest:te,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!R.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!R.attributes.color&&R.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!F,useFog:M.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:O.isSkinnedMesh===!0,morphTargets:R.morphAttributes.position!==void 0,morphNormals:R.morphAttributes.normal!==void 0,morphColors:R.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:Y,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:_o,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===cs,flipSided:M.side===hs,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function v(M){const C=[];if(M.shaderID?C.push(M.shaderID):(C.push(M.customVertexShaderID),C.push(M.customFragmentShaderID)),M.defines!==void 0)for(const L in M.defines)C.push(L),C.push(M.defines[L]);return M.isRawShaderMaterial===!1&&(y(C,M),b(C,M),C.push(n.outputEncoding)),C.push(M.customProgramCacheKey),C.join()}function y(M,C){M.push(C.precision),M.push(C.outputEncoding),M.push(C.envMapMode),M.push(C.envMapCubeUVHeight),M.push(C.combine),M.push(C.vertexUvs),M.push(C.fogExp2),M.push(C.sizeAttenuation),M.push(C.morphTargetsCount),M.push(C.morphAttributeCount),M.push(C.numDirLights),M.push(C.numPointLights),M.push(C.numSpotLights),M.push(C.numHemiLights),M.push(C.numRectAreaLights),M.push(C.numDirLightShadows),M.push(C.numPointLightShadows),M.push(C.numSpotLightShadows),M.push(C.shadowMapType),M.push(C.toneMapping),M.push(C.numClippingPlanes),M.push(C.numClipIntersection),M.push(C.depthPacking)}function b(M,C){a.disableAll(),C.isWebGL2&&a.enable(0),C.supportsVertexTextures&&a.enable(1),C.instancing&&a.enable(2),C.instancingColor&&a.enable(3),C.map&&a.enable(4),C.matcap&&a.enable(5),C.envMap&&a.enable(6),C.lightMap&&a.enable(7),C.aoMap&&a.enable(8),C.emissiveMap&&a.enable(9),C.bumpMap&&a.enable(10),C.normalMap&&a.enable(11),C.objectSpaceNormalMap&&a.enable(12),C.tangentSpaceNormalMap&&a.enable(13),C.clearcoat&&a.enable(14),C.clearcoatMap&&a.enable(15),C.clearcoatRoughnessMap&&a.enable(16),C.clearcoatNormalMap&&a.enable(17),C.iridescence&&a.enable(18),C.iridescenceMap&&a.enable(19),C.iridescenceThicknessMap&&a.enable(20),C.displacementMap&&a.enable(21),C.specularMap&&a.enable(22),C.roughnessMap&&a.enable(23),C.metalnessMap&&a.enable(24),C.gradientMap&&a.enable(25),C.alphaMap&&a.enable(26),C.alphaTest&&a.enable(27),C.vertexColors&&a.enable(28),C.vertexAlphas&&a.enable(29),C.vertexUvs&&a.enable(30),C.vertexTangents&&a.enable(31),C.uvsVertexOnly&&a.enable(32),C.fog&&a.enable(33),M.push(a.mask),a.disableAll(),C.useFog&&a.enable(0),C.flatShading&&a.enable(1),C.logarithmicDepthBuffer&&a.enable(2),C.skinning&&a.enable(3),C.morphTargets&&a.enable(4),C.morphNormals&&a.enable(5),C.morphColors&&a.enable(6),C.premultipliedAlpha&&a.enable(7),C.shadowMapEnabled&&a.enable(8),C.physicallyCorrectLights&&a.enable(9),C.doubleSided&&a.enable(10),C.flipSided&&a.enable(11),C.useDepthPacking&&a.enable(12),C.dithering&&a.enable(13),C.specularIntensityMap&&a.enable(14),C.specularColorMap&&a.enable(15),C.transmission&&a.enable(16),C.transmissionMap&&a.enable(17),C.thicknessMap&&a.enable(18),C.sheen&&a.enable(19),C.sheenColorMap&&a.enable(20),C.sheenRoughnessMap&&a.enable(21),C.decodeVideoTexture&&a.enable(22),C.opaque&&a.enable(23),M.push(a.mask)}function x(M){const C=g[M.type];let L;if(C){const E=Ms[C];L=Hg.clone(E.uniforms)}else L=M.uniforms;return L}function _(M,C){let L;for(let E=0,O=c.length;E<O;E++){const F=c[E];if(F.cacheKey===C){L=F,++L.usedTimes;break}}return L===void 0&&(L=new wve(n,C,M,s),c.push(L)),L}function w(M){if(--M.usedTimes===0){const C=c.indexOf(M);c[C]=c[c.length-1],c.pop(),M.destroy()}}function S(M){l.remove(M)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:x,acquireProgram:_,releaseProgram:w,releaseShaderCache:S,programs:c,dispose:T}}function Cve(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function Ave(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function FC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BC(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,f,h,g,m,v){let y=n[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:g,renderOrder:d.renderOrder,z:m,group:v},n[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=g,y.renderOrder=d.renderOrder,y.z=m,y.group=v),e++,y}function a(d,f,h,g,m,v){const y=o(d,f,h,g,m,v);h.transmission>0?i.push(y):h.transparent===!0?r.push(y):t.push(y)}function l(d,f,h,g,m,v){const y=o(d,f,h,g,m,v);h.transmission>0?i.unshift(y):h.transparent===!0?r.unshift(y):t.unshift(y)}function c(d,f){t.length>1&&t.sort(d||Ave),i.length>1&&i.sort(f||FC),r.length>1&&r.sort(f||FC)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function Lve(){let n=new WeakMap;function e(i,r){let s;return n.has(i)===!1?(s=new BC,n.set(i,[s])):r>=n.get(i).length?(s=new BC,n.get(i).push(s)):s=n.get(i)[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Rve(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new De,color:new kt};break;case"SpotLight":t={position:new De,direction:new De,color:new kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new De,color:new kt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new De,skyColor:new kt,groundColor:new kt};break;case"RectAreaLight":t={color:new kt,position:new De,halfWidth:new De,halfHeight:new De};break}return n[e.id]=t,t}}}function Pve(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Ive=0;function kve(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function Dve(n,e){const t=new Rve,i=Pve(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new De);const s=new De,o=new cn,a=new cn;function l(u,d){let f=0,h=0,g=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let m=0,v=0,y=0,b=0,x=0,_=0,w=0,S=0;u.sort(kve);const T=d!==!0?Math.PI:1;for(let C=0,L=u.length;C<L;C++){const E=u[C],O=E.color,F=E.intensity,R=E.distance,$=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)f+=O.r*F*T,h+=O.g*F*T,g+=O.b*F*T;else if(E.isLightProbe)for(let D=0;D<9;D++)r.probe[D].addScaledVector(E.sh.coefficients[D],F);else if(E.isDirectionalLight){const D=t.get(E);if(D.color.copy(E.color).multiplyScalar(E.intensity*T),E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,r.directionalShadow[m]=N,r.directionalShadowMap[m]=$,r.directionalShadowMatrix[m]=E.shadow.matrix,_++}r.directional[m]=D,m++}else if(E.isSpotLight){const D=t.get(E);if(D.position.setFromMatrixPosition(E.matrixWorld),D.color.copy(O).multiplyScalar(F*T),D.distance=R,D.coneCos=Math.cos(E.angle),D.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),D.decay=E.decay,E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,r.spotShadow[y]=N,r.spotShadowMap[y]=$,r.spotShadowMatrix[y]=E.shadow.matrix,S++}r.spot[y]=D,y++}else if(E.isRectAreaLight){const D=t.get(E);D.color.copy(O).multiplyScalar(F),D.halfWidth.set(E.width*.5,0,0),D.halfHeight.set(0,E.height*.5,0),r.rectArea[b]=D,b++}else if(E.isPointLight){const D=t.get(E);if(D.color.copy(E.color).multiplyScalar(E.intensity*T),D.distance=E.distance,D.decay=E.decay,E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,N.shadowCameraNear=A.camera.near,N.shadowCameraFar=A.camera.far,r.pointShadow[v]=N,r.pointShadowMap[v]=$,r.pointShadowMatrix[v]=E.shadow.matrix,w++}r.point[v]=D,v++}else if(E.isHemisphereLight){const D=t.get(E);D.skyColor.copy(E.color).multiplyScalar(F*T),D.groundColor.copy(E.groundColor).multiplyScalar(F*T),r.hemi[x]=D,x++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=yt.LTC_FLOAT_1,r.rectAreaLTC2=yt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=yt.LTC_HALF_1,r.rectAreaLTC2=yt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=g;const M=r.hash;(M.directionalLength!==m||M.pointLength!==v||M.spotLength!==y||M.rectAreaLength!==b||M.hemiLength!==x||M.numDirectionalShadows!==_||M.numPointShadows!==w||M.numSpotShadows!==S)&&(r.directional.length=m,r.spot.length=y,r.rectArea.length=b,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=w,r.spotShadowMatrix.length=S,M.directionalLength=m,M.pointLength=v,M.spotLength=y,M.rectAreaLength=b,M.hemiLength=x,M.numDirectionalShadows=_,M.numPointShadows=w,M.numSpotShadows=S,r.version=Ive++)}function c(u,d){let f=0,h=0,g=0,m=0,v=0;const y=d.matrixWorldInverse;for(let b=0,x=u.length;b<x;b++){const _=u[b];if(_.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),f++}else if(_.isSpotLight){const w=r.spot[g];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),g++}else if(_.isRectAreaLight){const w=r.rectArea[m];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),a.identity(),o.copy(_.matrixWorld),o.premultiply(y),a.extractRotation(o),w.halfWidth.set(_.width*.5,0,0),w.halfHeight.set(0,_.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(_.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),h++}else if(_.isHemisphereLight){const w=r.hemi[v];w.direction.setFromMatrixPosition(_.matrixWorld),w.direction.transformDirection(y),v++}}}return{setup:l,setupView:c,state:r}}function zC(n,e){const t=new Dve(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Nve(n,e){let t=new WeakMap;function i(s,o=0){let a;return t.has(s)===!1?(a=new zC(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new zC(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function r(){t=new WeakMap}return{get:i,dispose:r}}let Ove=class extends ms{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ofe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},Fve=class extends ms{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new De,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};const Bve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function $ve(n,e,t){let i=new _1;const r=new Ze,s=new Ze,o=new Cn,a=new Ove({depthPacking:Ffe}),l=new Fve,c={},u=t.maxTextureSize,d={0:hs,1:qu,2:cs},f=new nr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ze},radius:{value:4}},vertexShader:Bve,fragmentShader:zve}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new Yi;g.setAttribute("position",new Hi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Bi(g,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=cD,this.render=function(_,w,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const T=n.getRenderTarget(),M=n.getActiveCubeFace(),C=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Sa),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let E=0,O=_.length;E<O;E++){const F=_[E],R=F.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;r.copy(R.mapSize);const $=R.getFrameExtents();if(r.multiply($),s.copy(R.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/$.x),r.x=s.x*$.x,R.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/$.y),r.y=s.y*$.y,R.mapSize.y=s.y)),R.map===null){const A=this.type!==sf?{minFilter:pi,magFilter:pi}:{};R.map=new ps(r.x,r.y,A),R.map.texture.name=F.name+".shadowMap",R.camera.updateProjectionMatrix()}n.setRenderTarget(R.map),n.clear();const D=R.getViewportCount();for(let A=0;A<D;A++){const N=R.getViewport(A);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),L.viewport(o),R.updateMatrices(F,A),i=R.getFrustum(),x(w,S,R.camera,F,this.type)}R.isPointLightShadow!==!0&&this.type===sf&&y(R,S),R.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(T,M,C)};function y(_,w){const S=e.update(m);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new ps(r.x,r.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(w,null,S,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(w,null,S,h,m,null)}function b(_,w,S,T,M,C){let L=null;const E=S.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(E!==void 0?L=E:L=S.isPointLight===!0?l:a,n.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){const O=L.uuid,F=w.uuid;let R=c[O];R===void 0&&(R={},c[O]=R);let $=R[F];$===void 0&&($=L.clone(),R[F]=$),L=$}return L.visible=w.visible,L.wireframe=w.wireframe,C===sf?L.side=w.shadowSide!==null?w.shadowSide:w.side:L.side=w.shadowSide!==null?w.shadowSide:d[w.side],L.alphaMap=w.alphaMap,L.alphaTest=w.alphaTest,L.clipShadows=w.clipShadows,L.clippingPlanes=w.clippingPlanes,L.clipIntersection=w.clipIntersection,L.displacementMap=w.displacementMap,L.displacementScale=w.displacementScale,L.displacementBias=w.displacementBias,L.wireframeLinewidth=w.wireframeLinewidth,L.linewidth=w.linewidth,S.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(S.matrixWorld),L.nearDistance=T,L.farDistance=M),L}function x(_,w,S,T,M){if(_.visible===!1)return;if(_.layers.test(w.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&M===sf)&&(!_.frustumCulled||i.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,_.matrixWorld);const E=e.update(_),O=_.material;if(Array.isArray(O)){const F=E.groups;for(let R=0,$=F.length;R<$;R++){const D=F[R],A=O[D.materialIndex];if(A&&A.visible){const N=b(_,A,T,S.near,S.far,M);n.renderBufferDirect(S,null,E,N,_,D)}}}else if(O.visible){const F=b(_,O,T,S.near,S.far,M);n.renderBufferDirect(S,null,E,F,_,null)}}const L=_.children;for(let E=0,O=L.length;E<O;E++)x(L[E],w,S,T,M)}}function Vve(n,e,t){const i=t.isWebGL2;function r(){let Ae=!1;const Ye=new Cn;let Ke=null;const lt=new Cn(0,0,0,0);return{setMask:function(ht){Ke!==ht&&!Ae&&(n.colorMask(ht,ht,ht,ht),Ke=ht)},setLocked:function(ht){Ae=ht},setClear:function(ht,Ot,Tt,Ft,Ln){Ln===!0&&(ht*=Ft,Ot*=Ft,Tt*=Ft),Ye.set(ht,Ot,Tt,Ft),lt.equals(Ye)===!1&&(n.clearColor(ht,Ot,Tt,Ft),lt.copy(Ye))},reset:function(){Ae=!1,Ke=null,lt.set(-1,0,0,0)}}}function s(){let Ae=!1,Ye=null,Ke=null,lt=null;return{setTest:function(ht){ht?te(2929):oe(2929)},setMask:function(ht){Ye!==ht&&!Ae&&(n.depthMask(ht),Ye=ht)},setFunc:function(ht){if(Ke!==ht){if(ht)switch(ht){case sfe:n.depthFunc(512);break;case ofe:n.depthFunc(519);break;case afe:n.depthFunc(513);break;case k_:n.depthFunc(515);break;case lfe:n.depthFunc(514);break;case cfe:n.depthFunc(518);break;case ufe:n.depthFunc(516);break;case dfe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ke=ht}},setLocked:function(ht){Ae=ht},setClear:function(ht){lt!==ht&&(n.clearDepth(ht),lt=ht)},reset:function(){Ae=!1,Ye=null,Ke=null,lt=null}}}function o(){let Ae=!1,Ye=null,Ke=null,lt=null,ht=null,Ot=null,Tt=null,Ft=null,Ln=null;return{setTest:function(nn){Ae||(nn?te(2960):oe(2960))},setMask:function(nn){Ye!==nn&&!Ae&&(n.stencilMask(nn),Ye=nn)},setFunc:function(nn,Xn,ri){(Ke!==nn||lt!==Xn||ht!==ri)&&(n.stencilFunc(nn,Xn,ri),Ke=nn,lt=Xn,ht=ri)},setOp:function(nn,Xn,ri){(Ot!==nn||Tt!==Xn||Ft!==ri)&&(n.stencilOp(nn,Xn,ri),Ot=nn,Tt=Xn,Ft=ri)},setLocked:function(nn){Ae=nn},setClear:function(nn){Ln!==nn&&(n.clearStencil(nn),Ln=nn)},reset:function(){Ae=!1,Ye=null,Ke=null,lt=null,ht=null,Ot=null,Tt=null,Ft=null,Ln=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let f={},h={},g=new WeakMap,m=[],v=null,y=!1,b=null,x=null,_=null,w=null,S=null,T=null,M=null,C=!1,L=null,E=null,O=null,F=null,R=null;const $=n.getParameter(35661);let D=!1,A=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(A=parseFloat(/^WebGL (\d)/.exec(N)[1]),D=A>=1):N.indexOf("OpenGL ES")!==-1&&(A=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),D=A>=2);let P=null,z={};const Y=n.getParameter(3088),H=n.getParameter(2978),V=new Cn().fromArray(Y),W=new Cn().fromArray(H);function ie(Ae,Ye,Ke){const lt=new Uint8Array(4),ht=n.createTexture();n.bindTexture(Ae,ht),n.texParameteri(Ae,10241,9728),n.texParameteri(Ae,10240,9728);for(let Ot=0;Ot<Ke;Ot++)n.texImage2D(Ye+Ot,0,6408,1,1,0,6408,5121,lt);return ht}const G={};G[3553]=ie(3553,3553,1),G[34067]=ie(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),te(2929),l.setFunc(k_),J(!1),k(RE),te(2884),Z(Sa);function te(Ae){f[Ae]!==!0&&(n.enable(Ae),f[Ae]=!0)}function oe(Ae){f[Ae]!==!1&&(n.disable(Ae),f[Ae]=!1)}function xe(Ae,Ye){return h[Ae]!==Ye?(n.bindFramebuffer(Ae,Ye),h[Ae]=Ye,i&&(Ae===36009&&(h[36160]=Ye),Ae===36160&&(h[36009]=Ye)),!0):!1}function ue(Ae,Ye){let Ke=m,lt=!1;if(Ae)if(Ke=g.get(Ye),Ke===void 0&&(Ke=[],g.set(Ye,Ke)),Ae.isWebGLMultipleRenderTargets){const ht=Ae.texture;if(Ke.length!==ht.length||Ke[0]!==36064){for(let Ot=0,Tt=ht.length;Ot<Tt;Ot++)Ke[Ot]=36064+Ot;Ke.length=ht.length,lt=!0}}else Ke[0]!==36064&&(Ke[0]=36064,lt=!0);else Ke[0]!==1029&&(Ke[0]=1029,lt=!0);lt&&(t.isWebGL2?n.drawBuffers(Ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ke))}function we(Ae){return v!==Ae?(n.useProgram(Ae),v=Ae,!0):!1}const re={[Zc]:32774,[qde]:32778,[Yde]:32779};if(i)re[kE]=32775,re[DE]=32776;else{const Ae=e.get("EXT_blend_minmax");Ae!==null&&(re[kE]=Ae.MIN_EXT,re[DE]=Ae.MAX_EXT)}const j={[Xde]:0,[Zde]:1,[Jde]:768,[uD]:770,[rfe]:776,[nfe]:774,[efe]:772,[Qde]:769,[dD]:771,[ife]:775,[tfe]:773};function Z(Ae,Ye,Ke,lt,ht,Ot,Tt,Ft){if(Ae===Sa){y===!0&&(oe(3042),y=!1);return}if(y===!1&&(te(3042),y=!0),Ae!==Kde){if(Ae!==b||Ft!==C){if((x!==Zc||S!==Zc)&&(n.blendEquation(32774),x=Zc,S=Zc),Ft)switch(Ae){case _u:n.blendFuncSeparate(1,771,1,771);break;case oh:n.blendFunc(1,1);break;case PE:n.blendFuncSeparate(0,769,0,1);break;case IE:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case _u:n.blendFuncSeparate(770,771,1,771);break;case oh:n.blendFunc(770,1);break;case PE:n.blendFuncSeparate(0,769,0,1);break;case IE:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}_=null,w=null,T=null,M=null,b=Ae,C=Ft}return}ht=ht||Ye,Ot=Ot||Ke,Tt=Tt||lt,(Ye!==x||ht!==S)&&(n.blendEquationSeparate(re[Ye],re[ht]),x=Ye,S=ht),(Ke!==_||lt!==w||Ot!==T||Tt!==M)&&(n.blendFuncSeparate(j[Ke],j[lt],j[Ot],j[Tt]),_=Ke,w=lt,T=Ot,M=Tt),b=Ae,C=null}function le(Ae,Ye){Ae.side===cs?oe(2884):te(2884);let Ke=Ae.side===hs;Ye&&(Ke=!Ke),J(Ke),Ae.blending===_u&&Ae.transparent===!1?Z(Sa):Z(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.premultipliedAlpha),l.setFunc(Ae.depthFunc),l.setTest(Ae.depthTest),l.setMask(Ae.depthWrite),a.setMask(Ae.colorWrite);const lt=Ae.stencilWrite;c.setTest(lt),lt&&(c.setMask(Ae.stencilWriteMask),c.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),c.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),ce(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?te(32926):oe(32926)}function J(Ae){L!==Ae&&(Ae?n.frontFace(2304):n.frontFace(2305),L=Ae)}function k(Ae){Ae!==Ude?(te(2884),Ae!==E&&(Ae===RE?n.cullFace(1029):Ae===Wde?n.cullFace(1028):n.cullFace(1032))):oe(2884),E=Ae}function q(Ae){Ae!==O&&(D&&n.lineWidth(Ae),O=Ae)}function ce(Ae,Ye,Ke){Ae?(te(32823),(F!==Ye||R!==Ke)&&(n.polygonOffset(Ye,Ke),F=Ye,R=Ke)):oe(32823)}function me(Ae){Ae?te(3089):oe(3089)}function Ce(Ae){Ae===void 0&&(Ae=33984+$-1),P!==Ae&&(n.activeTexture(Ae),P=Ae)}function Q(Ae,Ye){P===null&&Ce();let Ke=z[P];Ke===void 0&&(Ke={type:void 0,texture:void 0},z[P]=Ke),(Ke.type!==Ae||Ke.texture!==Ye)&&(n.bindTexture(Ae,Ye||G[Ae]),Ke.type=Ae,Ke.texture=Ye)}function ee(){const Ae=z[P];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Se(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function he(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function $e(){try{n.texStorage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ne(){try{n.texStorage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Re(){try{n.texImage2D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ge(Ae){V.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),V.copy(Ae))}function _e(Ae){W.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),W.copy(Ae))}function Ne(Ae,Ye){let Ke=d.get(Ye);Ke===void 0&&(Ke=new WeakMap,d.set(Ye,Ke));let lt=Ke.get(Ae);lt===void 0&&(lt=n.getUniformBlockIndex(Ye,Ae.name),Ke.set(Ae,lt))}function ve(Ae,Ye){const lt=d.get(Ye).get(Ae);u.get(Ae)!==lt&&(n.uniformBlockBinding(Ye,lt,Ae.__bindingPointIndex),u.set(Ae,lt))}function Ue(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},P=null,z={},h={},g=new WeakMap,m=[],v=null,y=!1,b=null,x=null,_=null,w=null,S=null,T=null,M=null,C=!1,L=null,E=null,O=null,F=null,R=null,V.set(0,0,n.canvas.width,n.canvas.height),W.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:te,disable:oe,bindFramebuffer:xe,drawBuffers:ue,useProgram:we,setBlending:Z,setMaterial:le,setFlipSided:J,setCullFace:k,setLineWidth:q,setPolygonOffset:ce,setScissorTest:me,activeTexture:Ce,bindTexture:Q,unbindTexture:ee,compressedTexImage2D:Se,texImage2D:Re,texImage3D:fe,updateUBOMapping:Ne,uniformBlockBinding:ve,texStorage2D:$e,texStorage3D:ne,texSubImage2D:be,texSubImage3D:Pe,compressedTexSubImage2D:he,scissor:ge,viewport:_e,reset:Ue}}function Hve(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let m;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(Q,ee){return y?new OffscreenCanvas(Q,ee):uh("canvas")}function x(Q,ee,Se,be){let Pe=1;if((Q.width>be||Q.height>be)&&(Pe=be/Math.max(Q.width,Q.height)),Pe<1||ee===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const he=ee?Vg:Math.floor,$e=he(Pe*Q.width),ne=he(Pe*Q.height);m===void 0&&(m=b($e,ne));const Re=Se?b($e,ne):m;return Re.width=$e,Re.height=ne,Re.getContext("2d").drawImage(Q,0,0,$e,ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+$e+"x"+ne+")."),Re}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function _(Q){return $_(Q.width)&&$_(Q.height)}function w(Q){return a?!1:Q.wrapS!==Dr||Q.wrapT!==Dr||Q.minFilter!==pi&&Q.minFilter!==Qi}function S(Q,ee){return Q.generateMipmaps&&ee&&Q.minFilter!==pi&&Q.minFilter!==Qi}function T(Q){n.generateMipmap(Q)}function M(Q,ee,Se,be,Pe=!1){if(a===!1)return ee;if(Q!==null){if(n[Q]!==void 0)return n[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let he=ee;return ee===6403&&(Se===5126&&(he=33326),Se===5131&&(he=33325),Se===5121&&(he=33321)),ee===33319&&(Se===5126&&(he=33328),Se===5131&&(he=33327),Se===5121&&(he=33323)),ee===6408&&(Se===5126&&(he=34836),Se===5131&&(he=34842),Se===5121&&(he=be===hn&&Pe===!1?35907:32856),Se===32819&&(he=32854),Se===32820&&(he=32855)),(he===33325||he===33326||he===33327||he===33328||he===34842||he===34836)&&e.get("EXT_color_buffer_float"),he}function C(Q,ee,Se){return S(Q,Se)===!0||Q.isFramebufferTexture&&Q.minFilter!==pi&&Q.minFilter!==Qi?Math.log2(Math.max(ee.width,ee.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?ee.mipmaps.length:1}function L(Q){return Q===pi||Q===O_||Q===F_?9728:9729}function E(Q){const ee=Q.target;ee.removeEventListener("dispose",E),F(ee),ee.isVideoTexture&&g.delete(ee)}function O(Q){const ee=Q.target;ee.removeEventListener("dispose",O),$(ee)}function F(Q){const ee=i.get(Q);if(ee.__webglInit===void 0)return;const Se=Q.source,be=v.get(Se);if(be){const Pe=be[ee.__cacheKey];Pe.usedTimes--,Pe.usedTimes===0&&R(Q),Object.keys(be).length===0&&v.delete(Se)}i.remove(Q)}function R(Q){const ee=i.get(Q);n.deleteTexture(ee.__webglTexture);const Se=Q.source,be=v.get(Se);delete be[ee.__cacheKey],o.memory.textures--}function $(Q){const ee=Q.texture,Se=i.get(Q),be=i.get(ee);if(be.__webglTexture!==void 0&&(n.deleteTexture(be.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++)n.deleteFramebuffer(Se.__webglFramebuffer[Pe]),Se.__webglDepthbuffer&&n.deleteRenderbuffer(Se.__webglDepthbuffer[Pe]);else{if(n.deleteFramebuffer(Se.__webglFramebuffer),Se.__webglDepthbuffer&&n.deleteRenderbuffer(Se.__webglDepthbuffer),Se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Se.__webglMultisampledFramebuffer),Se.__webglColorRenderbuffer)for(let Pe=0;Pe<Se.__webglColorRenderbuffer.length;Pe++)Se.__webglColorRenderbuffer[Pe]&&n.deleteRenderbuffer(Se.__webglColorRenderbuffer[Pe]);Se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Se.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Pe=0,he=ee.length;Pe<he;Pe++){const $e=i.get(ee[Pe]);$e.__webglTexture&&(n.deleteTexture($e.__webglTexture),o.memory.textures--),i.remove(ee[Pe])}i.remove(ee),i.remove(Q)}let D=0;function A(){D=0}function N(){const Q=D;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),D+=1,Q}function P(Q){const ee=[];return ee.push(Q.wrapS),ee.push(Q.wrapT),ee.push(Q.magFilter),ee.push(Q.minFilter),ee.push(Q.anisotropy),ee.push(Q.internalFormat),ee.push(Q.format),ee.push(Q.type),ee.push(Q.generateMipmaps),ee.push(Q.premultiplyAlpha),ee.push(Q.flipY),ee.push(Q.unpackAlignment),ee.push(Q.encoding),ee.join()}function z(Q,ee){const Se=i.get(Q);if(Q.isVideoTexture&&me(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&Se.__version!==Q.version){const be=Q.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(Se,Q,ee);return}}t.activeTexture(33984+ee),t.bindTexture(3553,Se.__webglTexture)}function Y(Q,ee){const Se=i.get(Q);if(Q.version>0&&Se.__version!==Q.version){oe(Se,Q,ee);return}t.activeTexture(33984+ee),t.bindTexture(35866,Se.__webglTexture)}function H(Q,ee){const Se=i.get(Q);if(Q.version>0&&Se.__version!==Q.version){oe(Se,Q,ee);return}t.activeTexture(33984+ee),t.bindTexture(32879,Se.__webglTexture)}function V(Q,ee){const Se=i.get(Q);if(Q.version>0&&Se.__version!==Q.version){xe(Se,Q,ee);return}t.activeTexture(33984+ee),t.bindTexture(34067,Se.__webglTexture)}const W={[Is]:10497,[Dr]:33071,[$g]:33648},ie={[pi]:9728,[O_]:9984,[F_]:9986,[Qi]:9729,[hD]:9985,[pd]:9987};function G(Q,ee,Se){if(Se?(n.texParameteri(Q,10242,W[ee.wrapS]),n.texParameteri(Q,10243,W[ee.wrapT]),(Q===32879||Q===35866)&&n.texParameteri(Q,32882,W[ee.wrapR]),n.texParameteri(Q,10240,ie[ee.magFilter]),n.texParameteri(Q,10241,ie[ee.minFilter])):(n.texParameteri(Q,10242,33071),n.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&n.texParameteri(Q,32882,33071),(ee.wrapS!==Dr||ee.wrapT!==Dr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Q,10240,L(ee.magFilter)),n.texParameteri(Q,10241,L(ee.minFilter)),ee.minFilter!==pi&&ee.minFilter!==Qi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(ee.type===ga&&e.has("OES_texture_float_linear")===!1||a===!1&&ee.type===ah&&e.has("OES_texture_half_float_linear")===!1)return;(ee.anisotropy>1||i.get(ee).__currentAnisotropy)&&(n.texParameterf(Q,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,r.getMaxAnisotropy())),i.get(ee).__currentAnisotropy=ee.anisotropy)}}function te(Q,ee){let Se=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,ee.addEventListener("dispose",E));const be=ee.source;let Pe=v.get(be);Pe===void 0&&(Pe={},v.set(be,Pe));const he=P(ee);if(he!==Q.__cacheKey){Pe[he]===void 0&&(Pe[he]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),Pe[he].usedTimes++;const $e=Pe[Q.__cacheKey];$e!==void 0&&(Pe[Q.__cacheKey].usedTimes--,$e.usedTimes===0&&R(ee)),Q.__cacheKey=he,Q.__webglTexture=Pe[he].texture}return Se}function oe(Q,ee,Se){let be=3553;ee.isDataArrayTexture&&(be=35866),ee.isData3DTexture&&(be=32879);const Pe=te(Q,ee),he=ee.source;if(t.activeTexture(33984+Se),t.bindTexture(be,Q.__webglTexture),he.version!==he.__currentVersion||Pe===!0){n.pixelStorei(37440,ee.flipY),n.pixelStorei(37441,ee.premultiplyAlpha),n.pixelStorei(3317,ee.unpackAlignment),n.pixelStorei(37443,0);const $e=w(ee)&&_(ee.image)===!1;let ne=x(ee.image,$e,!1,u);ne=Ce(ee,ne);const Re=_(ne)||a,fe=s.convert(ee.format,ee.encoding);let ge=s.convert(ee.type),_e=M(ee.internalFormat,fe,ge,ee.encoding,ee.isVideoTexture);G(be,ee,Re);let Ne;const ve=ee.mipmaps,Ue=a&&ee.isVideoTexture!==!0,Ae=he.__currentVersion===void 0||Pe===!0,Ye=C(ee,ne,Re);if(ee.isDepthTexture)_e=6402,a?ee.type===ga?_e=36012:ee.type===Ml?_e=33190:ee.type===xu?_e=35056:_e=33189:ee.type===ga&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ee.format===kl&&_e===6402&&ee.type!==pD&&ee.type!==Ml&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ee.type=Ml,ge=s.convert(ee.type)),ee.format===Zu&&_e===6402&&(_e=34041,ee.type!==xu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ee.type=xu,ge=s.convert(ee.type))),Ae&&(Ue?t.texStorage2D(3553,1,_e,ne.width,ne.height):t.texImage2D(3553,0,_e,ne.width,ne.height,0,fe,ge,null));else if(ee.isDataTexture)if(ve.length>0&&Re){Ue&&Ae&&t.texStorage2D(3553,Ye,_e,ve[0].width,ve[0].height);for(let Ke=0,lt=ve.length;Ke<lt;Ke++)Ne=ve[Ke],Ue?t.texSubImage2D(3553,Ke,0,0,Ne.width,Ne.height,fe,ge,Ne.data):t.texImage2D(3553,Ke,_e,Ne.width,Ne.height,0,fe,ge,Ne.data);ee.generateMipmaps=!1}else Ue?(Ae&&t.texStorage2D(3553,Ye,_e,ne.width,ne.height),t.texSubImage2D(3553,0,0,0,ne.width,ne.height,fe,ge,ne.data)):t.texImage2D(3553,0,_e,ne.width,ne.height,0,fe,ge,ne.data);else if(ee.isCompressedTexture){Ue&&Ae&&t.texStorage2D(3553,Ye,_e,ve[0].width,ve[0].height);for(let Ke=0,lt=ve.length;Ke<lt;Ke++)Ne=ve[Ke],ee.format!==us?fe!==null?Ue?t.compressedTexSubImage2D(3553,Ke,0,0,Ne.width,Ne.height,fe,Ne.data):t.compressedTexImage2D(3553,Ke,_e,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?t.texSubImage2D(3553,Ke,0,0,Ne.width,Ne.height,fe,ge,Ne.data):t.texImage2D(3553,Ke,_e,Ne.width,Ne.height,0,fe,ge,Ne.data)}else if(ee.isDataArrayTexture)Ue?(Ae&&t.texStorage3D(35866,Ye,_e,ne.width,ne.height,ne.depth),t.texSubImage3D(35866,0,0,0,0,ne.width,ne.height,ne.depth,fe,ge,ne.data)):t.texImage3D(35866,0,_e,ne.width,ne.height,ne.depth,0,fe,ge,ne.data);else if(ee.isData3DTexture)Ue?(Ae&&t.texStorage3D(32879,Ye,_e,ne.width,ne.height,ne.depth),t.texSubImage3D(32879,0,0,0,0,ne.width,ne.height,ne.depth,fe,ge,ne.data)):t.texImage3D(32879,0,_e,ne.width,ne.height,ne.depth,0,fe,ge,ne.data);else if(ee.isFramebufferTexture){if(Ae)if(Ue)t.texStorage2D(3553,Ye,_e,ne.width,ne.height);else{let Ke=ne.width,lt=ne.height;for(let ht=0;ht<Ye;ht++)t.texImage2D(3553,ht,_e,Ke,lt,0,fe,ge,null),Ke>>=1,lt>>=1}}else if(ve.length>0&&Re){Ue&&Ae&&t.texStorage2D(3553,Ye,_e,ve[0].width,ve[0].height);for(let Ke=0,lt=ve.length;Ke<lt;Ke++)Ne=ve[Ke],Ue?t.texSubImage2D(3553,Ke,0,0,fe,ge,Ne):t.texImage2D(3553,Ke,_e,fe,ge,Ne);ee.generateMipmaps=!1}else Ue?(Ae&&t.texStorage2D(3553,Ye,_e,ne.width,ne.height),t.texSubImage2D(3553,0,0,0,fe,ge,ne)):t.texImage2D(3553,0,_e,fe,ge,ne);S(ee,Re)&&T(be),he.__currentVersion=he.version,ee.onUpdate&&ee.onUpdate(ee)}Q.__version=ee.version}function xe(Q,ee,Se){if(ee.image.length!==6)return;const be=te(Q,ee),Pe=ee.source;if(t.activeTexture(33984+Se),t.bindTexture(34067,Q.__webglTexture),Pe.version!==Pe.__currentVersion||be===!0){n.pixelStorei(37440,ee.flipY),n.pixelStorei(37441,ee.premultiplyAlpha),n.pixelStorei(3317,ee.unpackAlignment),n.pixelStorei(37443,0);const he=ee.isCompressedTexture||ee.image[0].isCompressedTexture,$e=ee.image[0]&&ee.image[0].isDataTexture,ne=[];for(let Ke=0;Ke<6;Ke++)!he&&!$e?ne[Ke]=x(ee.image[Ke],!1,!0,c):ne[Ke]=$e?ee.image[Ke].image:ee.image[Ke],ne[Ke]=Ce(ee,ne[Ke]);const Re=ne[0],fe=_(Re)||a,ge=s.convert(ee.format,ee.encoding),_e=s.convert(ee.type),Ne=M(ee.internalFormat,ge,_e,ee.encoding),ve=a&&ee.isVideoTexture!==!0,Ue=Pe.__currentVersion===void 0||be===!0;let Ae=C(ee,Re,fe);G(34067,ee,fe);let Ye;if(he){ve&&Ue&&t.texStorage2D(34067,Ae,Ne,Re.width,Re.height);for(let Ke=0;Ke<6;Ke++){Ye=ne[Ke].mipmaps;for(let lt=0;lt<Ye.length;lt++){const ht=Ye[lt];ee.format!==us?ge!==null?ve?t.compressedTexSubImage2D(34069+Ke,lt,0,0,ht.width,ht.height,ge,ht.data):t.compressedTexImage2D(34069+Ke,lt,Ne,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?t.texSubImage2D(34069+Ke,lt,0,0,ht.width,ht.height,ge,_e,ht.data):t.texImage2D(34069+Ke,lt,Ne,ht.width,ht.height,0,ge,_e,ht.data)}}}else{Ye=ee.mipmaps,ve&&Ue&&(Ye.length>0&&Ae++,t.texStorage2D(34067,Ae,Ne,ne[0].width,ne[0].height));for(let Ke=0;Ke<6;Ke++)if($e){ve?t.texSubImage2D(34069+Ke,0,0,0,ne[Ke].width,ne[Ke].height,ge,_e,ne[Ke].data):t.texImage2D(34069+Ke,0,Ne,ne[Ke].width,ne[Ke].height,0,ge,_e,ne[Ke].data);for(let lt=0;lt<Ye.length;lt++){const Ot=Ye[lt].image[Ke].image;ve?t.texSubImage2D(34069+Ke,lt+1,0,0,Ot.width,Ot.height,ge,_e,Ot.data):t.texImage2D(34069+Ke,lt+1,Ne,Ot.width,Ot.height,0,ge,_e,Ot.data)}}else{ve?t.texSubImage2D(34069+Ke,0,0,0,ge,_e,ne[Ke]):t.texImage2D(34069+Ke,0,Ne,ge,_e,ne[Ke]);for(let lt=0;lt<Ye.length;lt++){const ht=Ye[lt];ve?t.texSubImage2D(34069+Ke,lt+1,0,0,ge,_e,ht.image[Ke]):t.texImage2D(34069+Ke,lt+1,Ne,ge,_e,ht.image[Ke])}}}S(ee,fe)&&T(34067),Pe.__currentVersion=Pe.version,ee.onUpdate&&ee.onUpdate(ee)}Q.__version=ee.version}function ue(Q,ee,Se,be,Pe){const he=s.convert(Se.format,Se.encoding),$e=s.convert(Se.type),ne=M(Se.internalFormat,he,$e,Se.encoding);i.get(ee).__hasExternalTextures||(Pe===32879||Pe===35866?t.texImage3D(Pe,0,ne,ee.width,ee.height,ee.depth,0,he,$e,null):t.texImage2D(Pe,0,ne,ee.width,ee.height,0,he,$e,null)),t.bindFramebuffer(36160,Q),ce(ee)?f.framebufferTexture2DMultisampleEXT(36160,be,Pe,i.get(Se).__webglTexture,0,q(ee)):n.framebufferTexture2D(36160,be,Pe,i.get(Se).__webglTexture,0),t.bindFramebuffer(36160,null)}function we(Q,ee,Se){if(n.bindRenderbuffer(36161,Q),ee.depthBuffer&&!ee.stencilBuffer){let be=33189;if(Se||ce(ee)){const Pe=ee.depthTexture;Pe&&Pe.isDepthTexture&&(Pe.type===ga?be=36012:Pe.type===Ml&&(be=33190));const he=q(ee);ce(ee)?f.renderbufferStorageMultisampleEXT(36161,he,be,ee.width,ee.height):n.renderbufferStorageMultisample(36161,he,be,ee.width,ee.height)}else n.renderbufferStorage(36161,be,ee.width,ee.height);n.framebufferRenderbuffer(36160,36096,36161,Q)}else if(ee.depthBuffer&&ee.stencilBuffer){const be=q(ee);Se&&ce(ee)===!1?n.renderbufferStorageMultisample(36161,be,35056,ee.width,ee.height):ce(ee)?f.renderbufferStorageMultisampleEXT(36161,be,35056,ee.width,ee.height):n.renderbufferStorage(36161,34041,ee.width,ee.height),n.framebufferRenderbuffer(36160,33306,36161,Q)}else{const be=ee.isWebGLMultipleRenderTargets===!0?ee.texture:[ee.texture];for(let Pe=0;Pe<be.length;Pe++){const he=be[Pe],$e=s.convert(he.format,he.encoding),ne=s.convert(he.type),Re=M(he.internalFormat,$e,ne,he.encoding),fe=q(ee);Se&&ce(ee)===!1?n.renderbufferStorageMultisample(36161,fe,Re,ee.width,ee.height):ce(ee)?f.renderbufferStorageMultisampleEXT(36161,fe,Re,ee.width,ee.height):n.renderbufferStorage(36161,Re,ee.width,ee.height)}}n.bindRenderbuffer(36161,null)}function re(Q,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Q),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(ee.depthTexture).__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),z(ee.depthTexture,0);const be=i.get(ee.depthTexture).__webglTexture,Pe=q(ee);if(ee.depthTexture.format===kl)ce(ee)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,be,0,Pe):n.framebufferTexture2D(36160,36096,3553,be,0);else if(ee.depthTexture.format===Zu)ce(ee)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,be,0,Pe):n.framebufferTexture2D(36160,33306,3553,be,0);else throw new Error("Unknown depthTexture format")}function j(Q){const ee=i.get(Q),Se=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!ee.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");re(ee.__webglFramebuffer,Q)}else if(Se){ee.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(36160,ee.__webglFramebuffer[be]),ee.__webglDepthbuffer[be]=n.createRenderbuffer(),we(ee.__webglDepthbuffer[be],Q,!1)}else t.bindFramebuffer(36160,ee.__webglFramebuffer),ee.__webglDepthbuffer=n.createRenderbuffer(),we(ee.__webglDepthbuffer,Q,!1);t.bindFramebuffer(36160,null)}function Z(Q,ee,Se){const be=i.get(Q);ee!==void 0&&ue(be.__webglFramebuffer,Q,Q.texture,36064,3553),Se!==void 0&&j(Q)}function le(Q){const ee=Q.texture,Se=i.get(Q),be=i.get(ee);Q.addEventListener("dispose",O),Q.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=ee.version,o.memory.textures++);const Pe=Q.isWebGLCubeRenderTarget===!0,he=Q.isWebGLMultipleRenderTargets===!0,$e=_(Q)||a;if(Pe){Se.__webglFramebuffer=[];for(let ne=0;ne<6;ne++)Se.__webglFramebuffer[ne]=n.createFramebuffer()}else{if(Se.__webglFramebuffer=n.createFramebuffer(),he)if(r.drawBuffers){const ne=Q.texture;for(let Re=0,fe=ne.length;Re<fe;Re++){const ge=i.get(ne[Re]);ge.__webglTexture===void 0&&(ge.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&ce(Q)===!1){const ne=he?ee:[ee];Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Se.__webglMultisampledFramebuffer);for(let Re=0;Re<ne.length;Re++){const fe=ne[Re];Se.__webglColorRenderbuffer[Re]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Se.__webglColorRenderbuffer[Re]);const ge=s.convert(fe.format,fe.encoding),_e=s.convert(fe.type),Ne=M(fe.internalFormat,ge,_e,fe.encoding),ve=q(Q);n.renderbufferStorageMultisample(36161,ve,Ne,Q.width,Q.height),n.framebufferRenderbuffer(36160,36064+Re,36161,Se.__webglColorRenderbuffer[Re])}n.bindRenderbuffer(36161,null),Q.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),we(Se.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(36160,null)}}if(Pe){t.bindTexture(34067,be.__webglTexture),G(34067,ee,$e);for(let ne=0;ne<6;ne++)ue(Se.__webglFramebuffer[ne],Q,ee,36064,34069+ne);S(ee,$e)&&T(34067),t.unbindTexture()}else if(he){const ne=Q.texture;for(let Re=0,fe=ne.length;Re<fe;Re++){const ge=ne[Re],_e=i.get(ge);t.bindTexture(3553,_e.__webglTexture),G(3553,ge,$e),ue(Se.__webglFramebuffer,Q,ge,36064+Re,3553),S(ge,$e)&&T(3553)}t.unbindTexture()}else{let ne=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?ne=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ne,be.__webglTexture),G(ne,ee,$e),ue(Se.__webglFramebuffer,Q,ee,36064,ne),S(ee,$e)&&T(ne),t.unbindTexture()}Q.depthBuffer&&j(Q)}function J(Q){const ee=_(Q)||a,Se=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let be=0,Pe=Se.length;be<Pe;be++){const he=Se[be];if(S(he,ee)){const $e=Q.isWebGLCubeRenderTarget?34067:3553,ne=i.get(he).__webglTexture;t.bindTexture($e,ne),T($e),t.unbindTexture()}}}function k(Q){if(a&&Q.samples>0&&ce(Q)===!1){const ee=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],Se=Q.width,be=Q.height;let Pe=16384;const he=[],$e=Q.stencilBuffer?33306:36096,ne=i.get(Q),Re=Q.isWebGLMultipleRenderTargets===!0;if(Re)for(let fe=0;fe<ee.length;fe++)t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+fe,36161,null),t.bindFramebuffer(36160,ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+fe,3553,null,0);t.bindFramebuffer(36008,ne.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ne.__webglFramebuffer);for(let fe=0;fe<ee.length;fe++){he.push(36064+fe),Q.depthBuffer&&he.push($e);const ge=ne.__ignoreDepthValues!==void 0?ne.__ignoreDepthValues:!1;if(ge===!1&&(Q.depthBuffer&&(Pe|=256),Q.stencilBuffer&&(Pe|=1024)),Re&&n.framebufferRenderbuffer(36008,36064,36161,ne.__webglColorRenderbuffer[fe]),ge===!0&&(n.invalidateFramebuffer(36008,[$e]),n.invalidateFramebuffer(36009,[$e])),Re){const _e=i.get(ee[fe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,_e,0)}n.blitFramebuffer(0,0,Se,be,0,0,Se,be,Pe,9728),h&&n.invalidateFramebuffer(36008,he)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Re)for(let fe=0;fe<ee.length;fe++){t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+fe,36161,ne.__webglColorRenderbuffer[fe]);const ge=i.get(ee[fe]).__webglTexture;t.bindFramebuffer(36160,ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+fe,3553,ge,0)}t.bindFramebuffer(36009,ne.__webglMultisampledFramebuffer)}}function q(Q){return Math.min(d,Q.samples)}function ce(Q){const ee=i.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function me(Q){const ee=o.render.frame;g.get(Q)!==ee&&(g.set(Q,ee),Q.update())}function Ce(Q,ee){const Se=Q.encoding,be=Q.format,Pe=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===z_||Se!==jl&&(Se===hn?a===!1?e.has("EXT_sRGB")===!0&&be===us?(Q.format=z_,Q.minFilter=Qi,Q.generateMipmaps=!1):ee=xD.sRGBToLinear(ee):(be!==us||Pe!==Gl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Se)),ee}this.allocateTextureUnit=N,this.resetTextureUnits=A,this.setTexture2D=z,this.setTexture2DArray=Y,this.setTexture3D=H,this.setTextureCube=V,this.rebindTextures=Z,this.setupRenderTarget=le,this.updateRenderTargetMipmap=J,this.updateMultisampleRenderTarget=k,this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=ue,this.useMultisampledRTT=ce}function Uve(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Gl)return 5121;if(s===wfe)return 32819;if(s===Sfe)return 32820;if(s===bfe)return 5120;if(s===_fe)return 5122;if(s===pD)return 5123;if(s===xfe)return 5124;if(s===Ml)return 5125;if(s===ga)return 5126;if(s===ah)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Mfe)return 6406;if(s===us)return 6408;if(s===Efe)return 6409;if(s===Cfe)return 6410;if(s===kl)return 6402;if(s===Zu)return 34041;if(s===Afe)return 6403;if(s===Tfe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===z_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Lfe)return 36244;if(s===Rfe)return 33319;if(s===Pfe)return 33320;if(s===Ife)return 36249;if(s===$0||s===V0||s===H0||s===U0)if(o===hn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===$0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===V0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===H0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===U0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===$0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===V0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===H0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===U0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===NE||s===OE||s===FE||s===BE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===NE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===OE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===FE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===BE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===kfe)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===zE||s===$E)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===zE)return o===hn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===$E)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===VE||s===HE||s===UE||s===WE||s===GE||s===jE||s===KE||s===qE||s===YE||s===XE||s===ZE||s===JE||s===QE||s===eC)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===VE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===HE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===UE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===WE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===GE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===jE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===KE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===qE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===YE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===XE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ZE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===JE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===QE)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===eC)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tC)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===tC)return o===hn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===xu?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}let Wve=class extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},va=class extends xi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Gve={type:"move"};let yy=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new va,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new va,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new De,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new De),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new va,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new De,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new De),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,i);if(c.joints[m.jointName]===void 0){const b=new va;b.matrixAutoUpdate=!1,b.visible=!1,c.joints[m.jointName]=b,c.add(b)}const y=c.joints[m.jointName];v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=v.radius),y.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Gve)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}},jve=class extends jr{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:kl,u!==kl&&u!==Zu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===kl&&(i=Ml),i===void 0&&u===Zu&&(i=xu),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:pi,this.minFilter=l!==void 0?l:pi,this.flipY=!1,this.generateMipmaps=!1}},Kve=class extends rc{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const g=t.getContextAttributes();let m=null,v=null;const y=[],b=[],x=new Fi;x.layers.enable(1),x.viewport=new Cn;const _=new Fi;_.layers.enable(2),_.viewport=new Cn;const w=[x,_],S=new Wve;S.layers.enable(1),S.layers.enable(2);let T=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(P){let z=y[P];return z===void 0&&(z=new yy,y[P]=z),z.getTargetRaySpace()},this.getControllerGrip=function(P){let z=y[P];return z===void 0&&(z=new yy,y[P]=z),z.getGripSpace()},this.getHand=function(P){let z=y[P];return z===void 0&&(z=new yy,y[P]=z),z.getHandSpace()};function C(P){const z=b.indexOf(P.inputSource);if(z===-1)return;const Y=y[z];Y!==void 0&&Y.dispatchEvent({type:P.type,data:P.inputSource})}function L(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",L),r.removeEventListener("inputsourceschange",E);for(let P=0;P<y.length;P++){const z=b[P];z!==null&&(b[P]=null,y[P].disconnect(z))}T=null,M=null,e.setRenderTarget(m),f=null,d=null,u=null,r=null,v=null,N.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(P){s=P,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(P){a=P,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(P){l=P},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return r},this.setSession=async function(P){if(r=P,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",L),r.addEventListener("inputsourceschange",E),g.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const z={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,z),r.updateRenderState({baseLayer:f}),v=new ps(f.framebufferWidth,f.framebufferHeight,{format:us,type:Gl,encoding:e.outputEncoding})}else{let z=null,Y=null,H=null;g.depth&&(H=g.stencil?35056:33190,z=g.stencil?Zu:kl,Y=g.stencil?xu:Ml);const V={colorFormat:32856,depthFormat:H,scaleFactor:s};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(V),r.updateRenderState({layers:[d]}),v=new ps(d.textureWidth,d.textureHeight,{format:us,type:Gl,depthTexture:new jve(d.textureWidth,d.textureHeight,Y,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const W=e.properties.get(v);W.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await r.requestReferenceSpace(a),N.setContext(r),N.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function E(P){for(let z=0;z<P.removed.length;z++){const Y=P.removed[z],H=b.indexOf(Y);H>=0&&(b[H]=null,y[H].dispatchEvent({type:"disconnected",data:Y}))}for(let z=0;z<P.added.length;z++){const Y=P.added[z];let H=b.indexOf(Y);if(H===-1){for(let W=0;W<y.length;W++)if(W>=b.length){b.push(Y),H=W;break}else if(b[W]===null){b[W]=Y,H=W;break}if(H===-1)break}const V=y[H];V&&V.dispatchEvent({type:"connected",data:Y})}}const O=new De,F=new De;function R(P,z,Y){O.setFromMatrixPosition(z.matrixWorld),F.setFromMatrixPosition(Y.matrixWorld);const H=O.distanceTo(F),V=z.projectionMatrix.elements,W=Y.projectionMatrix.elements,ie=V[14]/(V[10]-1),G=V[14]/(V[10]+1),te=(V[9]+1)/V[5],oe=(V[9]-1)/V[5],xe=(V[8]-1)/V[0],ue=(W[8]+1)/W[0],we=ie*xe,re=ie*ue,j=H/(-xe+ue),Z=j*-xe;z.matrixWorld.decompose(P.position,P.quaternion,P.scale),P.translateX(Z),P.translateZ(j),P.matrixWorld.compose(P.position,P.quaternion,P.scale),P.matrixWorldInverse.copy(P.matrixWorld).invert();const le=ie+j,J=G+j,k=we-Z,q=re+(H-Z),ce=te*G/J*le,me=oe*G/J*le;P.projectionMatrix.makePerspective(k,q,ce,me,le,J)}function $(P,z){z===null?P.matrixWorld.copy(P.matrix):P.matrixWorld.multiplyMatrices(z.matrixWorld,P.matrix),P.matrixWorldInverse.copy(P.matrixWorld).invert()}this.updateCamera=function(P){if(r===null)return;S.near=_.near=x.near=P.near,S.far=_.far=x.far=P.far,(T!==S.near||M!==S.far)&&(r.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,M=S.far);const z=P.parent,Y=S.cameras;$(S,z);for(let V=0;V<Y.length;V++)$(Y[V],z);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),P.position.copy(S.position),P.quaternion.copy(S.quaternion),P.scale.copy(S.scale),P.matrix.copy(S.matrix),P.matrixWorld.copy(S.matrixWorld);const H=P.children;for(let V=0,W=H.length;V<W;V++)H[V].updateMatrixWorld(!0);Y.length===2?R(S,x,_):S.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(P){d!==null&&(d.fixedFoveation=P),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=P)};let D=null;function A(P,z){if(c=z.getViewerPose(l||o),h=z,c!==null){const Y=c.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let H=!1;Y.length!==S.cameras.length&&(S.cameras.length=0,H=!0);for(let V=0;V<Y.length;V++){const W=Y[V];let ie=null;if(f!==null)ie=f.getViewport(W);else{const te=u.getViewSubImage(d,W);ie=te.viewport,V===0&&(e.setRenderTargetTextures(v,te.colorTexture,d.ignoreDepthValues?void 0:te.depthStencilTexture),e.setRenderTarget(v))}let G=w[V];G===void 0&&(G=new Fi,G.layers.enable(V),G.viewport=new Cn,w[V]=G),G.matrix.fromArray(W.transform.matrix),G.projectionMatrix.fromArray(W.projectionMatrix),G.viewport.set(ie.x,ie.y,ie.width,ie.height),V===0&&S.matrix.copy(G.matrix),H===!0&&S.cameras.push(G)}}for(let Y=0;Y<y.length;Y++){const H=b[Y],V=y[Y];H!==null&&V!==void 0&&V.update(H,z,l||o)}D&&D(P,z),h=null}const N=new DD;N.setAnimationLoop(A),this.setAnimationLoop=function(P){D=P},this.dispose=function(){}}};function qve(n,e){function t(m,v){m.fogColor.value.copy(v.color),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function i(m,v,y,b,x){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(m,v):v.isMeshToonMaterial?(r(m,v),u(m,v)):v.isMeshPhongMaterial?(r(m,v),c(m,v)):v.isMeshStandardMaterial?(r(m,v),d(m,v),v.isMeshPhysicalMaterial&&f(m,v,x)):v.isMeshMatcapMaterial?(r(m,v),h(m,v)):v.isMeshDepthMaterial?r(m,v):v.isMeshDistanceMaterial?(r(m,v),g(m,v)):v.isMeshNormalMaterial?r(m,v):v.isLineBasicMaterial?(s(m,v),v.isLineDashedMaterial&&o(m,v)):v.isPointsMaterial?a(m,v,y,b):v.isSpriteMaterial?l(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===hs&&(m.bumpScale.value*=-1)),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===hs&&m.normalScale.value.negate()),v.specularMap&&(m.specularMap.value=v.specularMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const y=e.get(v).envMap;if(y&&(m.envMap.value=y,m.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*_}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity);let b;v.map?b=v.map:v.specularMap?b=v.specularMap:v.displacementMap?b=v.displacementMap:v.normalMap?b=v.normalMap:v.bumpMap?b=v.bumpMap:v.roughnessMap?b=v.roughnessMap:v.metalnessMap?b=v.metalnessMap:v.alphaMap?b=v.alphaMap:v.emissiveMap?b=v.emissiveMap:v.clearcoatMap?b=v.clearcoatMap:v.clearcoatNormalMap?b=v.clearcoatNormalMap:v.clearcoatRoughnessMap?b=v.clearcoatRoughnessMap:v.iridescenceMap?b=v.iridescenceMap:v.iridescenceThicknessMap?b=v.iridescenceThicknessMap:v.specularIntensityMap?b=v.specularIntensityMap:v.specularColorMap?b=v.specularColorMap:v.transmissionMap?b=v.transmissionMap:v.thicknessMap?b=v.thicknessMap:v.sheenColorMap?b=v.sheenColorMap:v.sheenRoughnessMap&&(b=v.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix));let x;v.aoMap?x=v.aoMap:v.lightMap&&(x=v.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uv2Transform.value.copy(x.matrix))}function s(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity}function o(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function a(m,v,y,b){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*y,m.scale.value=b*.5,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix))}function l(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let y;v.map?y=v.map:v.alphaMap&&(y=v.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix))}function c(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function u(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function d(m,v){m.roughness.value=v.roughness,m.metalness.value=v.metalness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function f(m,v,y){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),m.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===hs&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap)}function h(m,v){v.matcap&&(m.matcap.value=v.matcap)}function g(m,v){m.referencePosition.value.copy(v.referencePosition),m.nearDistance.value=v.nearDistance,m.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function Yve(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(b,x){const _=x.program;i.uniformBlockBinding(b,_)}function c(b,x){let _=r[b.id];_===void 0&&(g(b),_=u(b),r[b.id]=_,b.addEventListener("dispose",v));const w=x.program;i.updateUBOMapping(b,w);const S=e.render.frame;s[b.id]!==S&&(f(b),s[b.id]=S)}function u(b){const x=d();b.__bindingPointIndex=x;const _=n.createBuffer(),w=b.__size,S=b.usage;return n.bindBuffer(35345,_),n.bufferData(35345,w,S),n.bindBuffer(35345,null),n.bindBufferBase(35345,x,_),_}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const x=r[b.id],_=b.uniforms,w=b.__cache;n.bindBuffer(35345,x);for(let S=0,T=_.length;S<T;S++){const M=_[S];if(h(M,S,w)===!0){const C=M.value,L=M.__offset;typeof C=="number"?(M.__data[0]=C,n.bufferSubData(35345,L,M.__data)):(M.value.isMatrix3?(M.__data[0]=M.value.elements[0],M.__data[1]=M.value.elements[1],M.__data[2]=M.value.elements[2],M.__data[3]=M.value.elements[0],M.__data[4]=M.value.elements[3],M.__data[5]=M.value.elements[4],M.__data[6]=M.value.elements[5],M.__data[7]=M.value.elements[0],M.__data[8]=M.value.elements[6],M.__data[9]=M.value.elements[7],M.__data[10]=M.value.elements[8],M.__data[11]=M.value.elements[0]):C.toArray(M.__data),n.bufferSubData(35345,L,M.__data))}}n.bindBuffer(35345,null)}function h(b,x,_){const w=b.value;if(_[x]===void 0)return typeof w=="number"?_[x]=w:_[x]=w.clone(),!0;if(typeof w=="number"){if(_[x]!==w)return _[x]=w,!0}else{const S=_[x];if(S.equals(w)===!1)return S.copy(w),!0}return!1}function g(b){const x=b.uniforms;let _=0;const w=16;let S=0;for(let T=0,M=x.length;T<M;T++){const C=x[T],L=m(C);if(C.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=_,T>0){S=_%w;const E=w-S;S!==0&&E-L.boundary<0&&(_+=w-S,C.__offset=_)}_+=L.storage}return S=_%w,S>0&&(_+=w-S),b.__size=_,b.__cache={},this}function m(b){const x=b.value,_={boundary:0,storage:0};return typeof x=="number"?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function v(b){const x=b.target;x.removeEventListener("dispose",v);const _=o.indexOf(x.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}function y(){for(const b in r)n.deleteBuffer(r[b]);o=[],r={},s={}}return{bind:l,update:c,dispose:y}}function Xve(){const n=uh("canvas");return n.style.display="block",n}function HD(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Xve(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,f=null;const h=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=jl,this.physicallyCorrectLights=!1,this.toneMapping=_o,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let v=!1,y=0,b=0,x=null,_=-1,w=null;const S=new Cn,T=new Cn;let M=null,C=e.width,L=e.height,E=1,O=null,F=null;const R=new Cn(0,0,C,L),$=new Cn(0,0,C,L);let D=!1;const A=new _1;let N=!1,P=!1,z=null;const Y=new cn,H=new Ze,V=new De,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return x===null?E:1}let G=t;function te(K,ae){for(let Me=0;Me<K.length;Me++){const Ie=K[Me],We=e.getContext(Ie,ae);if(We!==null)return We}return null}try{const K={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${p1}`),e.addEventListener("webglcontextlost",Ne,!1),e.addEventListener("webglcontextrestored",ve,!1),e.addEventListener("webglcontextcreationerror",Ue,!1),G===null){const ae=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&ae.shift(),G=te(ae,K),G===null)throw te(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let oe,xe,ue,we,re,j,Z,le,J,k,q,ce,me,Ce,Q,ee,Se,be,Pe,he,$e,ne,Re,fe;function ge(){oe=new oge(G),xe=new ege(G,oe,n),oe.init(xe),ne=new Uve(G,oe,xe),ue=new Vve(G,oe,xe),we=new cge,re=new Cve,j=new Hve(G,oe,ue,re,xe,ne,we),Z=new nge(m),le=new sge(m),J=new xhe(G,xe),Re=new Jme(G,oe,J,xe),k=new age(G,J,we,Re),q=new hge(G,k,J,we),Pe=new fge(G,xe,j),ee=new tge(re),ce=new Eve(m,Z,le,oe,xe,Re,ee),me=new qve(m,re),Ce=new Lve,Q=new Nve(oe,xe),be=new Zme(m,Z,ue,q,u,o),Se=new $ve(m,q,xe),fe=new Yve(G,we,xe,ue),he=new Qme(G,oe,we,xe),$e=new lge(G,oe,we,xe),we.programs=ce.programs,m.capabilities=xe,m.extensions=oe,m.properties=re,m.renderLists=Ce,m.shadowMap=Se,m.state=ue,m.info=we}ge();const _e=new Kve(m,G);this.xr=_e,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const K=oe.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=oe.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(K){K!==void 0&&(E=K,this.setSize(C,L,!1))},this.getSize=function(K){return K.set(C,L)},this.setSize=function(K,ae,Me){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=K,L=ae,e.width=Math.floor(K*E),e.height=Math.floor(ae*E),Me!==!1&&(e.style.width=K+"px",e.style.height=ae+"px"),this.setViewport(0,0,K,ae)},this.getDrawingBufferSize=function(K){return K.set(C*E,L*E).floor()},this.setDrawingBufferSize=function(K,ae,Me){C=K,L=ae,E=Me,e.width=Math.floor(K*Me),e.height=Math.floor(ae*Me),this.setViewport(0,0,K,ae)},this.getCurrentViewport=function(K){return K.copy(S)},this.getViewport=function(K){return K.copy(R)},this.setViewport=function(K,ae,Me,Ie){K.isVector4?R.set(K.x,K.y,K.z,K.w):R.set(K,ae,Me,Ie),ue.viewport(S.copy(R).multiplyScalar(E).floor())},this.getScissor=function(K){return K.copy($)},this.setScissor=function(K,ae,Me,Ie){K.isVector4?$.set(K.x,K.y,K.z,K.w):$.set(K,ae,Me,Ie),ue.scissor(T.copy($).multiplyScalar(E).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(K){ue.setScissorTest(D=K)},this.setOpaqueSort=function(K){O=K},this.setTransparentSort=function(K){F=K},this.getClearColor=function(K){return K.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(K=!0,ae=!0,Me=!0){let Ie=0;K&&(Ie|=16384),ae&&(Ie|=256),Me&&(Ie|=1024),G.clear(Ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ne,!1),e.removeEventListener("webglcontextrestored",ve,!1),e.removeEventListener("webglcontextcreationerror",Ue,!1),Ce.dispose(),Q.dispose(),re.dispose(),Z.dispose(),le.dispose(),q.dispose(),Re.dispose(),fe.dispose(),ce.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Ot),_e.removeEventListener("sessionend",Tt),z&&(z.dispose(),z=null),Ft.stop()};function Ne(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const K=we.autoReset,ae=Se.enabled,Me=Se.autoUpdate,Ie=Se.needsUpdate,We=Se.type;ge(),we.autoReset=K,Se.enabled=ae,Se.autoUpdate=Me,Se.needsUpdate=Ie,Se.type=We}function Ue(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function Ae(K){const ae=K.target;ae.removeEventListener("dispose",Ae),Ye(ae)}function Ye(K){Ke(K),re.remove(K)}function Ke(K){const ae=re.get(K).programs;ae!==void 0&&(ae.forEach(function(Me){ce.releaseProgram(Me)}),K.isShaderMaterial&&ce.releaseShaderCache(K))}this.renderBufferDirect=function(K,ae,Me,Ie,We,nt){ae===null&&(ae=W);const st=We.isMesh&&We.matrixWorld.determinant()<0,ct=qa(K,ae,Me,Ie,We);ue.setMaterial(Ie,st);let mt=Me.index;const xt=Me.attributes.position;if(mt===null){if(xt===void 0||xt.count===0)return}else if(mt.count===0)return;let ze=1;Ie.wireframe===!0&&(mt=k.getWireframeAttribute(Me),ze=2),Re.setup(We,Ie,ct,Me,mt);let Xe,pt=he;mt!==null&&(Xe=J.get(mt),pt=$e,pt.setIndex(Xe));const wt=mt!==null?mt.count:xt.count,Sn=Me.drawRange.start*ze,vn=Me.drawRange.count*ze,si=nt!==null?nt.start*ze:0,Kt=nt!==null?nt.count*ze:1/0,Rn=Math.max(Sn,si),on=Math.min(wt,Sn+vn,si+Kt)-1,ln=Math.max(0,on-Rn+1);if(ln!==0){if(We.isMesh)Ie.wireframe===!0?(ue.setLineWidth(Ie.wireframeLinewidth*ie()),pt.setMode(1)):pt.setMode(4);else if(We.isLine){let Oo=Ie.linewidth;Oo===void 0&&(Oo=1),ue.setLineWidth(Oo*ie()),We.isLineSegments?pt.setMode(1):We.isLineLoop?pt.setMode(2):pt.setMode(3)}else We.isPoints?pt.setMode(0):We.isSprite&&pt.setMode(4);if(We.isInstancedMesh)pt.renderInstances(Rn,ln,We.count);else if(Me.isInstancedBufferGeometry){const Oo=Math.min(Me.instanceCount,Me._maxInstanceCount);pt.renderInstances(Rn,ln,Oo)}else pt.render(Rn,ln)}},this.compile=function(K,ae){f=Q.get(K),f.init(),g.push(f),K.traverseVisible(function(Me){Me.isLight&&Me.layers.test(ae.layers)&&(f.pushLight(Me),Me.castShadow&&f.pushShadow(Me))}),f.setupLights(m.physicallyCorrectLights),K.traverse(function(Me){const Ie=Me.material;if(Ie)if(Array.isArray(Ie))for(let We=0;We<Ie.length;We++){const nt=Ie[We];qr(nt,K,Me)}else qr(Ie,K,Me)}),g.pop(),f=null};let lt=null;function ht(K){lt&&lt(K)}function Ot(){Ft.stop()}function Tt(){Ft.start()}const Ft=new DD;Ft.setAnimationLoop(ht),typeof self<"u"&&Ft.setContext(self),this.setAnimationLoop=function(K){lt=K,_e.setAnimationLoop(K),K===null?Ft.stop():Ft.start()},_e.addEventListener("sessionstart",Ot),_e.addEventListener("sessionend",Tt),this.render=function(K,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;K.autoUpdate===!0&&K.updateMatrixWorld(),ae.parent===null&&ae.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(ae),ae=_e.getCamera()),K.isScene===!0&&K.onBeforeRender(m,K,ae,x),f=Q.get(K,g.length),f.init(),g.push(f),Y.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),A.setFromProjectionMatrix(Y),P=this.localClippingEnabled,N=ee.init(this.clippingPlanes,P,ae),d=Ce.get(K,h.length),d.init(),h.push(d),Ln(K,ae,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(O,F),N===!0&&ee.beginShadows();const Me=f.state.shadowsArray;if(Se.render(Me,K,ae),N===!0&&ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(d,K),f.setupLights(m.physicallyCorrectLights),ae.isArrayCamera){const Ie=ae.cameras;for(let We=0,nt=Ie.length;We<nt;We++){const st=Ie[We];nn(d,K,st,st.viewport)}}else nn(d,K,ae);x!==null&&(j.updateMultisampleRenderTarget(x),j.updateRenderTargetMipmap(x)),K.isScene===!0&&K.onAfterRender(m,K,ae),Re.resetDefaultState(),_=-1,w=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function Ln(K,ae,Me,Ie){if(K.visible===!1)return;if(K.layers.test(ae.layers)){if(K.isGroup)Me=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ae);else if(K.isLight)f.pushLight(K),K.castShadow&&f.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||A.intersectsSprite(K)){Ie&&V.setFromMatrixPosition(K.matrixWorld).applyMatrix4(Y);const st=q.update(K),ct=K.material;ct.visible&&d.push(K,st,ct,Me,V.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.frame!==we.render.frame&&(K.skeleton.update(),K.skeleton.frame=we.render.frame),!K.frustumCulled||A.intersectsObject(K))){Ie&&V.setFromMatrixPosition(K.matrixWorld).applyMatrix4(Y);const st=q.update(K),ct=K.material;if(Array.isArray(ct)){const mt=st.groups;for(let xt=0,ze=mt.length;xt<ze;xt++){const Xe=mt[xt],pt=ct[Xe.materialIndex];pt&&pt.visible&&d.push(K,st,pt,Me,V.z,Xe)}}else ct.visible&&d.push(K,st,ct,Me,V.z,null)}}const nt=K.children;for(let st=0,ct=nt.length;st<ct;st++)Ln(nt[st],ae,Me,Ie)}function nn(K,ae,Me,Ie){const We=K.opaque,nt=K.transmissive,st=K.transparent;f.setupLightsView(Me),nt.length>0&&Xn(We,ae,Me),Ie&&ue.viewport(S.copy(Ie)),We.length>0&&ri(We,ae,Me),nt.length>0&&ri(nt,ae,Me),st.length>0&&ri(st,ae,Me),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function Xn(K,ae,Me){const Ie=xe.isWebGL2;z===null&&(z=new ps(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")?ah:Gl,minFilter:pd,samples:Ie&&s===!0?4:0})),m.getDrawingBufferSize(H),Ie?z.setSize(H.x,H.y):z.setSize(Vg(H.x),Vg(H.y));const We=m.getRenderTarget();m.setRenderTarget(z),m.clear();const nt=m.toneMapping;m.toneMapping=_o,ri(K,ae,Me),m.toneMapping=nt,j.updateMultisampleRenderTarget(z),j.updateRenderTargetMipmap(z),m.setRenderTarget(We)}function ri(K,ae,Me){const Ie=ae.isScene===!0?ae.overrideMaterial:null;for(let We=0,nt=K.length;We<nt;We++){const st=K[We],ct=st.object,mt=st.geometry,xt=Ie===null?st.material:Ie,ze=st.group;ct.layers.test(Me.layers)&&Cr(ct,ae,Me,mt,xt,ze)}}function Cr(K,ae,Me,Ie,We,nt){K.onBeforeRender(m,ae,Me,Ie,We,nt),K.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),We.onBeforeRender(m,ae,Me,Ie,K,nt),We.transparent===!0&&We.side===cs?(We.side=hs,We.needsUpdate=!0,m.renderBufferDirect(Me,ae,Ie,We,K,nt),We.side=qu,We.needsUpdate=!0,m.renderBufferDirect(Me,ae,Ie,We,K,nt),We.side=cs):m.renderBufferDirect(Me,ae,Ie,We,K,nt),K.onAfterRender(m,ae,Me,Ie,We,nt)}function qr(K,ae,Me){ae.isScene!==!0&&(ae=W);const Ie=re.get(K),We=f.state.lights,nt=f.state.shadowsArray,st=We.state.version,ct=ce.getParameters(K,We.state,nt,ae,Me),mt=ce.getProgramCacheKey(ct);let xt=Ie.programs;Ie.environment=K.isMeshStandardMaterial?ae.environment:null,Ie.fog=ae.fog,Ie.envMap=(K.isMeshStandardMaterial?le:Z).get(K.envMap||Ie.environment),xt===void 0&&(K.addEventListener("dispose",Ae),xt=new Map,Ie.programs=xt);let ze=xt.get(mt);if(ze!==void 0){if(Ie.currentProgram===ze&&Ie.lightsStateVersion===st)return Ks(K,ct),ze}else ct.uniforms=ce.getUniforms(K),K.onBuild(Me,ct,m),K.onBeforeCompile(ct,m),ze=ce.acquireProgram(ct,mt),xt.set(mt,ze),Ie.uniforms=ct.uniforms;const Xe=Ie.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Xe.clippingPlanes=ee.uniform),Ks(K,ct),Ie.needsLights=Te(K),Ie.lightsStateVersion=st,Ie.needsLights&&(Xe.ambientLightColor.value=We.state.ambient,Xe.lightProbe.value=We.state.probe,Xe.directionalLights.value=We.state.directional,Xe.directionalLightShadows.value=We.state.directionalShadow,Xe.spotLights.value=We.state.spot,Xe.spotLightShadows.value=We.state.spotShadow,Xe.rectAreaLights.value=We.state.rectArea,Xe.ltc_1.value=We.state.rectAreaLTC1,Xe.ltc_2.value=We.state.rectAreaLTC2,Xe.pointLights.value=We.state.point,Xe.pointLightShadows.value=We.state.pointShadow,Xe.hemisphereLights.value=We.state.hemi,Xe.directionalShadowMap.value=We.state.directionalShadowMap,Xe.directionalShadowMatrix.value=We.state.directionalShadowMatrix,Xe.spotShadowMap.value=We.state.spotShadowMap,Xe.spotShadowMatrix.value=We.state.spotShadowMatrix,Xe.pointShadowMap.value=We.state.pointShadowMap,Xe.pointShadowMatrix.value=We.state.pointShadowMatrix);const pt=ze.getUniforms(),wt=ag.seqWithValue(pt.seq,Xe);return Ie.currentProgram=ze,Ie.uniformsList=wt,ze}function Ks(K,ae){const Me=re.get(K);Me.outputEncoding=ae.outputEncoding,Me.instancing=ae.instancing,Me.skinning=ae.skinning,Me.morphTargets=ae.morphTargets,Me.morphNormals=ae.morphNormals,Me.morphColors=ae.morphColors,Me.morphTargetsCount=ae.morphTargetsCount,Me.numClippingPlanes=ae.numClippingPlanes,Me.numIntersection=ae.numClipIntersection,Me.vertexAlphas=ae.vertexAlphas,Me.vertexTangents=ae.vertexTangents,Me.toneMapping=ae.toneMapping}function qa(K,ae,Me,Ie,We){ae.isScene!==!0&&(ae=W),j.resetTextureUnits();const nt=ae.fog,st=Ie.isMeshStandardMaterial?ae.environment:null,ct=x===null?m.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:jl,mt=(Ie.isMeshStandardMaterial?le:Z).get(Ie.envMap||st),xt=Ie.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,ze=!!Ie.normalMap&&!!Me.attributes.tangent,Xe=!!Me.morphAttributes.position,pt=!!Me.morphAttributes.normal,wt=!!Me.morphAttributes.color,Sn=Ie.toneMapped?m.toneMapping:_o,vn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,si=vn!==void 0?vn.length:0,Kt=re.get(Ie),Rn=f.state.lights;if(N===!0&&(P===!0||K!==w)){const fr=K===w&&Ie.id===_;ee.setState(Ie,K,fr)}let on=!1;Ie.version===Kt.__version?(Kt.needsLights&&Kt.lightsStateVersion!==Rn.state.version||Kt.outputEncoding!==ct||We.isInstancedMesh&&Kt.instancing===!1||!We.isInstancedMesh&&Kt.instancing===!0||We.isSkinnedMesh&&Kt.skinning===!1||!We.isSkinnedMesh&&Kt.skinning===!0||Kt.envMap!==mt||Ie.fog===!0&&Kt.fog!==nt||Kt.numClippingPlanes!==void 0&&(Kt.numClippingPlanes!==ee.numPlanes||Kt.numIntersection!==ee.numIntersection)||Kt.vertexAlphas!==xt||Kt.vertexTangents!==ze||Kt.morphTargets!==Xe||Kt.morphNormals!==pt||Kt.morphColors!==wt||Kt.toneMapping!==Sn||xe.isWebGL2===!0&&Kt.morphTargetsCount!==si)&&(on=!0):(on=!0,Kt.__version=Ie.version);let ln=Kt.currentProgram;on===!0&&(ln=qr(Ie,ae,We));let Oo=!1,Ld=!1,t0=!1;const ki=ln.getUniforms(),Rd=Kt.uniforms;if(ue.useProgram(ln.program)&&(Oo=!0,Ld=!0,t0=!0),Ie.id!==_&&(_=Ie.id,Ld=!0),Oo||w!==K){if(ki.setValue(G,"projectionMatrix",K.projectionMatrix),xe.logarithmicDepthBuffer&&ki.setValue(G,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),w!==K&&(w=K,Ld=!0,t0=!0),Ie.isShaderMaterial||Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshStandardMaterial||Ie.envMap){const fr=ki.map.cameraPosition;fr!==void 0&&fr.setValue(G,V.setFromMatrixPosition(K.matrixWorld))}(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial)&&ki.setValue(G,"isOrthographic",K.isOrthographicCamera===!0),(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial||Ie.isShadowMaterial||We.isSkinnedMesh)&&ki.setValue(G,"viewMatrix",K.matrixWorldInverse)}if(We.isSkinnedMesh){ki.setOptional(G,We,"bindMatrix"),ki.setOptional(G,We,"bindMatrixInverse");const fr=We.skeleton;fr&&(xe.floatVertexTextures?(fr.boneTexture===null&&fr.computeBoneTexture(),ki.setValue(G,"boneTexture",fr.boneTexture,j),ki.setValue(G,"boneTextureSize",fr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const n0=Me.morphAttributes;if((n0.position!==void 0||n0.normal!==void 0||n0.color!==void 0&&xe.isWebGL2===!0)&&Pe.update(We,Me,Ie,ln),(Ld||Kt.receiveShadow!==We.receiveShadow)&&(Kt.receiveShadow=We.receiveShadow,ki.setValue(G,"receiveShadow",We.receiveShadow)),Ld&&(ki.setValue(G,"toneMappingExposure",m.toneMappingExposure),Kt.needsLights&&Ya(Rd,t0),nt&&Ie.fog===!0&&me.refreshFogUniforms(Rd,nt),me.refreshMaterialUniforms(Rd,Ie,E,L,z),ag.upload(G,Kt.uniformsList,Rd,j)),Ie.isShaderMaterial&&Ie.uniformsNeedUpdate===!0&&(ag.upload(G,Kt.uniformsList,Rd,j),Ie.uniformsNeedUpdate=!1),Ie.isSpriteMaterial&&ki.setValue(G,"center",We.center),ki.setValue(G,"modelViewMatrix",We.modelViewMatrix),ki.setValue(G,"normalMatrix",We.normalMatrix),ki.setValue(G,"modelMatrix",We.matrixWorld),Ie.isShaderMaterial||Ie.isRawShaderMaterial){const fr=Ie.uniformsGroups;for(let i0=0,fO=fr.length;i0<fO;i0++)if(xe.isWebGL2){const iS=fr[i0];fe.update(iS,ln),fe.bind(iS,ln)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ln}function Ya(K,ae){K.ambientLightColor.needsUpdate=ae,K.lightProbe.needsUpdate=ae,K.directionalLights.needsUpdate=ae,K.directionalLightShadows.needsUpdate=ae,K.pointLights.needsUpdate=ae,K.pointLightShadows.needsUpdate=ae,K.spotLights.needsUpdate=ae,K.spotLightShadows.needsUpdate=ae,K.rectAreaLights.needsUpdate=ae,K.hemisphereLights.needsUpdate=ae}function Te(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(K,ae,Me){re.get(K.texture).__webglTexture=ae,re.get(K.depthTexture).__webglTexture=Me;const Ie=re.get(K);Ie.__hasExternalTextures=!0,Ie.__hasExternalTextures&&(Ie.__autoAllocateDepthBuffer=Me===void 0,Ie.__autoAllocateDepthBuffer||oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,ae){const Me=re.get(K);Me.__webglFramebuffer=ae,Me.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(K,ae=0,Me=0){x=K,y=ae,b=Me;let Ie=!0;if(K){const mt=re.get(K);mt.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(36160,null),Ie=!1):mt.__webglFramebuffer===void 0?j.setupRenderTarget(K):mt.__hasExternalTextures&&j.rebindTextures(K,re.get(K.texture).__webglTexture,re.get(K.depthTexture).__webglTexture)}let We=null,nt=!1,st=!1;if(K){const mt=K.texture;(mt.isData3DTexture||mt.isDataArrayTexture)&&(st=!0);const xt=re.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(We=xt[ae],nt=!0):xe.isWebGL2&&K.samples>0&&j.useMultisampledRTT(K)===!1?We=re.get(K).__webglMultisampledFramebuffer:We=xt,S.copy(K.viewport),T.copy(K.scissor),M=K.scissorTest}else S.copy(R).multiplyScalar(E).floor(),T.copy($).multiplyScalar(E).floor(),M=D;if(ue.bindFramebuffer(36160,We)&&xe.drawBuffers&&Ie&&ue.drawBuffers(K,We),ue.viewport(S),ue.scissor(T),ue.setScissorTest(M),nt){const mt=re.get(K.texture);G.framebufferTexture2D(36160,36064,34069+ae,mt.__webglTexture,Me)}else if(st){const mt=re.get(K.texture),xt=ae||0;G.framebufferTextureLayer(36160,36064,mt.__webglTexture,Me||0,xt)}_=-1},this.readRenderTargetPixels=function(K,ae,Me,Ie,We,nt,st){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=re.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&st!==void 0&&(ct=ct[st]),ct){ue.bindFramebuffer(36160,ct);try{const mt=K.texture,xt=mt.format,ze=mt.type;if(xt!==us&&ne.convert(xt)!==G.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xe=ze===ah&&(oe.has("EXT_color_buffer_half_float")||xe.isWebGL2&&oe.has("EXT_color_buffer_float"));if(ze!==Gl&&ne.convert(ze)!==G.getParameter(35738)&&!(ze===ga&&(xe.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!Xe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=K.width-Ie&&Me>=0&&Me<=K.height-We&&G.readPixels(ae,Me,Ie,We,ne.convert(xt),ne.convert(ze),nt)}finally{const mt=x!==null?re.get(x).__webglFramebuffer:null;ue.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(K,ae,Me=0){const Ie=Math.pow(2,-Me),We=Math.floor(ae.image.width*Ie),nt=Math.floor(ae.image.height*Ie);j.setTexture2D(ae,0),G.copyTexSubImage2D(3553,Me,0,0,K.x,K.y,We,nt),ue.unbindTexture()},this.copyTextureToTexture=function(K,ae,Me,Ie=0){const We=ae.image.width,nt=ae.image.height,st=ne.convert(Me.format),ct=ne.convert(Me.type);j.setTexture2D(Me,0),G.pixelStorei(37440,Me.flipY),G.pixelStorei(37441,Me.premultiplyAlpha),G.pixelStorei(3317,Me.unpackAlignment),ae.isDataTexture?G.texSubImage2D(3553,Ie,K.x,K.y,We,nt,st,ct,ae.image.data):ae.isCompressedTexture?G.compressedTexSubImage2D(3553,Ie,K.x,K.y,ae.mipmaps[0].width,ae.mipmaps[0].height,st,ae.mipmaps[0].data):G.texSubImage2D(3553,Ie,K.x,K.y,st,ct,ae.image),Ie===0&&Me.generateMipmaps&&G.generateMipmap(3553),ue.unbindTexture()},this.copyTextureToTexture3D=function(K,ae,Me,Ie,We=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=K.max.x-K.min.x+1,st=K.max.y-K.min.y+1,ct=K.max.z-K.min.z+1,mt=ne.convert(Ie.format),xt=ne.convert(Ie.type);let ze;if(Ie.isData3DTexture)j.setTexture3D(Ie,0),ze=32879;else if(Ie.isDataArrayTexture)j.setTexture2DArray(Ie,0),ze=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(37440,Ie.flipY),G.pixelStorei(37441,Ie.premultiplyAlpha),G.pixelStorei(3317,Ie.unpackAlignment);const Xe=G.getParameter(3314),pt=G.getParameter(32878),wt=G.getParameter(3316),Sn=G.getParameter(3315),vn=G.getParameter(32877),si=Me.isCompressedTexture?Me.mipmaps[0]:Me.image;G.pixelStorei(3314,si.width),G.pixelStorei(32878,si.height),G.pixelStorei(3316,K.min.x),G.pixelStorei(3315,K.min.y),G.pixelStorei(32877,K.min.z),Me.isDataTexture||Me.isData3DTexture?G.texSubImage3D(ze,We,ae.x,ae.y,ae.z,nt,st,ct,mt,xt,si.data):Me.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(ze,We,ae.x,ae.y,ae.z,nt,st,ct,mt,si.data)):G.texSubImage3D(ze,We,ae.x,ae.y,ae.z,nt,st,ct,mt,xt,si),G.pixelStorei(3314,Xe),G.pixelStorei(32878,pt),G.pixelStorei(3316,wt),G.pixelStorei(3315,Sn),G.pixelStorei(32877,vn),We===0&&Ie.generateMipmaps&&G.generateMipmap(ze),ue.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?j.setTextureCube(K,0):K.isData3DTexture?j.setTexture3D(K,0):K.isDataArrayTexture?j.setTexture2DArray(K,0):j.setTexture2D(K,0),ue.unbindTexture()},this.resetState=function(){y=0,b=0,x=null,ue.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}let Zve=class extends HD{};Zve.prototype.isWebGL1Renderer=!0;let Jve=class extends xi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}},Qve=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=B_,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const Ni=new De;let e0e=class UD{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ni.fromBufferAttribute(this,t),Ni.applyMatrix4(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ni.fromBufferAttribute(this,t),Ni.applyNormalMatrix(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ni.fromBufferAttribute(this,t),Ni.transformDirection(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Hi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new UD(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};const $C=new De,VC=new Cn,HC=new Cn,t0e=new De,UC=new cn;let n0e=class extends Bi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new cn,this.bindMatrixInverse=new cn}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Cn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;VC.fromBufferAttribute(r.attributes.skinIndex,e),HC.fromBufferAttribute(r.attributes.skinWeight,e),$C.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=HC.getComponent(s);if(o!==0){const a=VC.getComponent(s);UC.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(t0e.copy($C).applyMatrix4(UC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}},WD=class extends xi{constructor(){super(),this.isBone=!0,this.type="Bone"}},i0e=class extends jr{constructor(e=null,t=1,i=1,r,s,o,a,l,c=pi,u=pi,d,f){super(null,o,a,l,c,u,r,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const WC=new cn,r0e=new cn;class w1{constructor(e=[],t=[]){this.uuid=zr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new cn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:r0e;WC.multiplyMatrices(a,t[s]),WC.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new w1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=gD(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new i0e(t,e,e,us,ga);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new WD),this.bones.push(o),this.boneInverses.push(new cn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}let S1=class extends ms{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new kt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};const GC=new De,jC=new De,KC=new cn,by=new v1,Wp=new gd;let M1=class extends xi{constructor(e=new Yi,t=new S1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)GC.fromBufferAttribute(t,r-1),jC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=GC.distanceTo(jC);e.setAttribute("lineDistance",new $n(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Wp.copy(i.boundingSphere),Wp.applyMatrix4(r),Wp.radius+=s,e.ray.intersectsSphere(Wp)===!1)return;KC.copy(r).invert(),by.copy(e.ray).applyMatrix4(KC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new De,u=new De,d=new De,f=new De,h=this.isLineSegments?2:1,g=i.index,v=i.attributes.position;if(g!==null){const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let x=y,_=b-1;x<_;x+=h){const w=g.getX(x),S=g.getX(x+1);if(c.fromBufferAttribute(v,w),u.fromBufferAttribute(v,S),by.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let x=y,_=b-1;x<_;x+=h){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),by.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const qC=new De,YC=new De;let GD=class extends M1{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)qC.fromBufferAttribute(t,r),YC.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+qC.distanceTo(YC);e.setAttribute("lineDistance",new $n(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},s0e=class extends M1{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}},jD=class extends ms{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};const XC=new cn,G_=new v1,Gp=new gd,jp=new De;let o0e=class extends xi{constructor(e=new Yi,t=new jD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Gp.copy(i.boundingSphere),Gp.applyMatrix4(r),Gp.radius+=s,e.ray.intersectsSphere(Gp)===!1)return;XC.copy(r).invert(),G_.copy(e.ray).applyMatrix4(XC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let g=f,m=h;g<m;g++){const v=c.getX(g);jp.fromBufferAttribute(d,v),ZC(jp,v,l,r,e,t,this)}}else{const f=Math.max(0,o.start),h=Math.min(d.count,o.start+o.count);for(let g=f,m=h;g<m;g++)jp.fromBufferAttribute(d,g),ZC(jp,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function ZC(n,e,t,i,r,s,o){const a=G_.distanceSqToPoint(n);if(a<t){const l=new De;G_.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}let Ws=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,h=(o-u)/f;return(r+h)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Ze:new De);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new De,r=[],s=[],o=[],a=new De,l=new cn;for(let h=0;h<=e;h++){const g=h/e;r[h]=this.getTangentAt(g,new De)}s[0]=new De,o[0]=new De;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(ci(r[h-1].dot(r[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(a,g))}o[h].crossVectors(r[h],s[h])}if(t===!0){let h=Math.acos(ci(s[0].dot(s[e]),-1,1));h/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(h=-h);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],h*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},T1=class extends Ws{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Ze,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},a0e=class extends T1{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}};function E1(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,h=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,h*=u,r(o,a,f,h)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Kp=new De,_y=new E1,xy=new E1,wy=new E1;let l0e=class extends Ws{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new De){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Kp.subVectors(r[0],r[1]).add(r[0]),c=Kp);const d=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Kp.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Kp),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);m<1e-4&&(m=1),g<1e-4&&(g=m),v<1e-4&&(v=m),_y.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,m,v),xy.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,m,v),wy.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,m,v)}else this.curveType==="catmullrom"&&(_y.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),xy.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),wy.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(_y.calc(l),xy.calc(l),wy.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new De().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function JC(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function c0e(n,e){const t=1-n;return t*t*e}function u0e(n,e){return 2*(1-n)*n*e}function d0e(n,e){return n*n*e}function Tf(n,e,t,i){return c0e(n,e)+u0e(n,t)+d0e(n,i)}function f0e(n,e){const t=1-n;return t*t*t*e}function h0e(n,e){const t=1-n;return 3*t*t*n*e}function p0e(n,e){return 3*(1-n)*n*n*e}function m0e(n,e){return n*n*n*e}function Ef(n,e,t,i,r){return f0e(n,e)+h0e(n,t)+p0e(n,i)+m0e(n,r)}let KD=class extends Ws{constructor(e=new Ze,t=new Ze,i=new Ze,r=new Ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ze){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Ef(e,r.x,s.x,o.x,a.x),Ef(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},g0e=class extends Ws{constructor(e=new De,t=new De,i=new De,r=new De){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new De){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Ef(e,r.x,s.x,o.x,a.x),Ef(e,r.y,s.y,o.y,a.y),Ef(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},C1=class extends Ws{constructor(e=new Ze,t=new Ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ze){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new Ze;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},v0e=class extends Ws{constructor(e=new De,t=new De){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new De){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},qD=class extends Ws{constructor(e=new Ze,t=new Ze,i=new Ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ze){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Tf(e,r.x,s.x,o.x),Tf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},y0e=class extends Ws{constructor(e=new De,t=new De,i=new De){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new De){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Tf(e,r.x,s.x,o.x),Tf(e,r.y,s.y,o.y),Tf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},YD=class extends Ws{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ze){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(JC(a,l.x,c.x,u.x,d.x),JC(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ze().fromArray(r))}return this}};var XD=Object.freeze({__proto__:null,ArcCurve:a0e,CatmullRomCurve3:l0e,CubicBezierCurve:KD,CubicBezierCurve3:g0e,EllipseCurve:T1,LineCurve:C1,LineCurve3:v0e,QuadraticBezierCurve:qD,QuadraticBezierCurve3:y0e,SplineCurve:YD});let b0e=class extends Ws{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new C1(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new XD[r.type]().fromJSON(r))}return this}},wu=class extends b0e{constructor(e){super(),this.type="Path",this.currentPoint=new Ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new C1(this.currentPoint.clone(),new Ze(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new qD(this.currentPoint.clone(),new Ze(e,t),new Ze(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new KD(this.currentPoint.clone(),new Ze(e,t),new Ze(i,r),new Ze(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new YD(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new T1(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Su=class extends wu{constructor(e){super(e),this.uuid=zr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new wu().fromJSON(r))}return this}};const _0e={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=ZD(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,h;if(i&&(s=T0e(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<r;g+=t)d=n[g],f=n[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-a,u-l),h=h!==0?1/h:0}return dh(s,o,t,a,l,h),o}};function ZD(n,e,t,i,r){let s,o;if(r===O0e(n,e,t,i)>0)for(s=e;s<t;s+=i)o=QC(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=QC(s,n[s],n[s+1],o);return o&&Vv(o,o.next)&&(hh(o),o=o.next),o}function Ba(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Vv(t,t.next)||Fn(t.prev,t,t.next)===0)){if(hh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function dh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&R0e(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?w0e(n,i,r,s):x0e(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),hh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=S0e(Ba(n),e,t),dh(n,e,t,i,r,s,2)):o===2&&M0e(n,e,t,i,r,s):dh(Ba(n),e,t,i,r,s,1);break}}}function x0e(n){const e=n.prev,t=n,i=n.next;if(Fn(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(ou(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Fn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function w0e(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Fn(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,d=j_(a,l,e,t,i),f=j_(c,u,e,t,i);let h=n.prevZ,g=n.nextZ;for(;h&&h.z>=d&&g&&g.z<=f;){if(h!==n.prev&&h!==n.next&&ou(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Fn(h.prev,h,h.next)>=0||(h=h.prevZ,g!==n.prev&&g!==n.next&&ou(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Fn(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;h&&h.z>=d;){if(h!==n.prev&&h!==n.next&&ou(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Fn(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=f;){if(g!==n.prev&&g!==n.next&&ou(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Fn(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function S0e(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Vv(r,s)&&JD(r,i,i.next,s)&&fh(r,s)&&fh(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),hh(i),hh(i.next),i=n=s),i=i.next}while(i!==n);return Ba(i)}function M0e(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&k0e(o,a)){let l=QD(o,a);o=Ba(o,o.next),l=Ba(l,l.next),dh(o,e,t,i,r,s),dh(l,e,t,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function T0e(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=ZD(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(I0e(c));for(r.sort(E0e),s=0;s<r.length;s++)C0e(r[s],t),t=Ba(t,t.next);return t}function E0e(n,e){return n.x-e.x}function C0e(n,e){if(e=A0e(n,e),e){const t=QD(e,n);Ba(e,e.next),Ba(t,t.next)}}function A0e(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>s){if(s=f,f===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,d;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&ou(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(d=Math.abs(r-t.y)/(i-t.x),fh(t,n)&&(d<u||d===u&&(t.x>o.x||t.x===o.x&&L0e(o,t)))&&(o=t,u=d)),t=t.next;while(t!==a);return o}function L0e(n,e){return Fn(n.prev,n,e.prev)<0&&Fn(e.next,n,n.next)<0}function R0e(n,e,t,i){let r=n;do r.z===null&&(r.z=j_(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,P0e(r)}function P0e(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function j_(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function I0e(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ou(n,e,t,i,r,s,o,a){return(r-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(i-a)>=0}function k0e(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!D0e(n,e)&&(fh(n,e)&&fh(e,n)&&N0e(n,e)&&(Fn(n.prev,n,e.prev)||Fn(n,e.prev,e))||Vv(n,e)&&Fn(n.prev,n,n.next)>0&&Fn(e.prev,e,e.next)>0)}function Fn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Vv(n,e){return n.x===e.x&&n.y===e.y}function JD(n,e,t,i){const r=Yp(Fn(n,e,t)),s=Yp(Fn(n,e,i)),o=Yp(Fn(t,i,n)),a=Yp(Fn(t,i,e));return!!(r!==s&&o!==a||r===0&&qp(n,t,e)||s===0&&qp(n,i,e)||o===0&&qp(t,n,i)||a===0&&qp(t,e,i))}function qp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Yp(n){return n>0?1:n<0?-1:0}function D0e(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&JD(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function fh(n,e){return Fn(n.prev,n,n.next)<0?Fn(n,e,n.next)>=0&&Fn(n,n.prev,e)>=0:Fn(n,e,n.prev)<0||Fn(n,n.next,e)<0}function N0e(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function QD(n,e){const t=new K_(n.i,n.x,n.y),i=new K_(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function QC(n,e,t,i){const r=new K_(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function hh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function K_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O0e(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}let Ma=class eN{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return eN.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];e2(e),t2(i,e);let o=e.length;t.forEach(e2);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,t2(i,t[l]);const a=_0e.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}};function e2(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function t2(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}let F0e=class tN extends Yi{constructor(e=new Su([new Ze(.5,.5),new Ze(-.5,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new $n(r,3)),this.setAttribute("uv",new $n(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:h-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:B0e;let x,_=!1,w,S,T,M;y&&(x=y.getSpacedPoints(u),_=!0,f=!1,w=y.computeFrenetFrames(u,!1),S=new De,T=new De,M=new De),f||(v=0,h=0,g=0,m=0);const C=a.extractPoints(c);let L=C.shape;const E=C.holes;if(!Ma.isClockWise(L)){L=L.reverse();for(let re=0,j=E.length;re<j;re++){const Z=E[re];Ma.isClockWise(Z)&&(E[re]=Z.reverse())}}const F=Ma.triangulateShape(L,E),R=L;for(let re=0,j=E.length;re<j;re++){const Z=E[re];L=L.concat(Z)}function $(re,j,Z){return j||console.error("THREE.ExtrudeGeometry: vec does not exist"),j.clone().multiplyScalar(Z).add(re)}const D=L.length,A=F.length;function N(re,j,Z){let le,J,k;const q=re.x-j.x,ce=re.y-j.y,me=Z.x-re.x,Ce=Z.y-re.y,Q=q*q+ce*ce,ee=q*Ce-ce*me;if(Math.abs(ee)>Number.EPSILON){const Se=Math.sqrt(Q),be=Math.sqrt(me*me+Ce*Ce),Pe=j.x-ce/Se,he=j.y+q/Se,$e=Z.x-Ce/be,ne=Z.y+me/be,Re=(($e-Pe)*Ce-(ne-he)*me)/(q*Ce-ce*me);le=Pe+q*Re-re.x,J=he+ce*Re-re.y;const fe=le*le+J*J;if(fe<=2)return new Ze(le,J);k=Math.sqrt(fe/2)}else{let Se=!1;q>Number.EPSILON?me>Number.EPSILON&&(Se=!0):q<-Number.EPSILON?me<-Number.EPSILON&&(Se=!0):Math.sign(ce)===Math.sign(Ce)&&(Se=!0),Se?(le=-ce,J=q,k=Math.sqrt(Q)):(le=q,J=ce,k=Math.sqrt(Q/2))}return new Ze(le/k,J/k)}const P=[];for(let re=0,j=R.length,Z=j-1,le=re+1;re<j;re++,Z++,le++)Z===j&&(Z=0),le===j&&(le=0),P[re]=N(R[re],R[Z],R[le]);const z=[];let Y,H=P.concat();for(let re=0,j=E.length;re<j;re++){const Z=E[re];Y=[];for(let le=0,J=Z.length,k=J-1,q=le+1;le<J;le++,k++,q++)k===J&&(k=0),q===J&&(q=0),Y[le]=N(Z[le],Z[k],Z[q]);z.push(Y),H=H.concat(Y)}for(let re=0;re<v;re++){const j=re/v,Z=h*Math.cos(j*Math.PI/2),le=g*Math.sin(j*Math.PI/2)+m;for(let J=0,k=R.length;J<k;J++){const q=$(R[J],P[J],le);te(q.x,q.y,-Z)}for(let J=0,k=E.length;J<k;J++){const q=E[J];Y=z[J];for(let ce=0,me=q.length;ce<me;ce++){const Ce=$(q[ce],Y[ce],le);te(Ce.x,Ce.y,-Z)}}}const V=g+m;for(let re=0;re<D;re++){const j=f?$(L[re],H[re],V):L[re];_?(T.copy(w.normals[0]).multiplyScalar(j.x),S.copy(w.binormals[0]).multiplyScalar(j.y),M.copy(x[0]).add(T).add(S),te(M.x,M.y,M.z)):te(j.x,j.y,0)}for(let re=1;re<=u;re++)for(let j=0;j<D;j++){const Z=f?$(L[j],H[j],V):L[j];_?(T.copy(w.normals[re]).multiplyScalar(Z.x),S.copy(w.binormals[re]).multiplyScalar(Z.y),M.copy(x[re]).add(T).add(S),te(M.x,M.y,M.z)):te(Z.x,Z.y,d/u*re)}for(let re=v-1;re>=0;re--){const j=re/v,Z=h*Math.cos(j*Math.PI/2),le=g*Math.sin(j*Math.PI/2)+m;for(let J=0,k=R.length;J<k;J++){const q=$(R[J],P[J],le);te(q.x,q.y,d+Z)}for(let J=0,k=E.length;J<k;J++){const q=E[J];Y=z[J];for(let ce=0,me=q.length;ce<me;ce++){const Ce=$(q[ce],Y[ce],le);_?te(Ce.x,Ce.y+x[u-1].y,x[u-1].x+Z):te(Ce.x,Ce.y,d+Z)}}}W(),ie();function W(){const re=r.length/3;if(f){let j=0,Z=D*j;for(let le=0;le<A;le++){const J=F[le];oe(J[2]+Z,J[1]+Z,J[0]+Z)}j=u+v*2,Z=D*j;for(let le=0;le<A;le++){const J=F[le];oe(J[0]+Z,J[1]+Z,J[2]+Z)}}else{for(let j=0;j<A;j++){const Z=F[j];oe(Z[2],Z[1],Z[0])}for(let j=0;j<A;j++){const Z=F[j];oe(Z[0]+D*u,Z[1]+D*u,Z[2]+D*u)}}i.addGroup(re,r.length/3-re,0)}function ie(){const re=r.length/3;let j=0;G(R,j),j+=R.length;for(let Z=0,le=E.length;Z<le;Z++){const J=E[Z];G(J,j),j+=J.length}i.addGroup(re,r.length/3-re,1)}function G(re,j){let Z=re.length;for(;--Z>=0;){const le=Z;let J=Z-1;J<0&&(J=re.length-1);for(let k=0,q=u+v*2;k<q;k++){const ce=D*k,me=D*(k+1),Ce=j+le+ce,Q=j+J+ce,ee=j+J+me,Se=j+le+me;xe(Ce,Q,ee,Se)}}}function te(re,j,Z){l.push(re),l.push(j),l.push(Z)}function oe(re,j,Z){ue(re),ue(j),ue(Z);const le=r.length/3,J=b.generateTopUV(i,r,le-3,le-2,le-1);we(J[0]),we(J[1]),we(J[2])}function xe(re,j,Z,le){ue(re),ue(j),ue(le),ue(j),ue(Z),ue(le);const J=r.length/3,k=b.generateSideWallUV(i,r,J-6,J-3,J-2,J-1);we(k[0]),we(k[1]),we(k[3]),we(k[1]),we(k[2]),we(k[3])}function ue(re){r.push(l[re*3+0]),r.push(l[re*3+1]),r.push(l[re*3+2])}function we(re){s.push(re.x),s.push(re.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return z0e(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new XD[r.type]().fromJSON(r)),new tN(i,e.options)}};const B0e={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Ze(s,o),new Ze(a,l),new Ze(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[r*3],h=e[r*3+1],g=e[r*3+2],m=e[s*3],v=e[s*3+1],y=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ze(o,1-l),new Ze(c,1-d),new Ze(f,1-g),new Ze(m,1-y)]:[new Ze(a,1-l),new Ze(u,1-d),new Ze(h,1-g),new Ze(v,1-y)]}};function z0e(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}let $0e=class nN extends Yi{constructor(e=new Su([new Ze(0,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new $n(r,3)),this.setAttribute("normal",new $n(s,3)),this.setAttribute("uv",new $n(o,2));function c(u){const d=r.length/3,f=u.extractPoints(t);let h=f.shape;const g=f.holes;Ma.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,y=g.length;v<y;v++){const b=g[v];Ma.isClockWise(b)===!0&&(g[v]=b.reverse())}const m=Ma.triangulateShape(h,g);for(let v=0,y=g.length;v<y;v++){const b=g[v];h=h.concat(b)}for(let v=0,y=h.length;v<y;v++){const b=h[v];r.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let v=0,y=m.length;v<y;v++){const b=m[v],x=b[0]+d,_=b[1]+d,w=b[2]+d;i.push(x,_,w),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return V0e(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new nN(i,e.curveSegments)}};function V0e(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}let ho=class extends ms{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zv,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},sc=class extends ho{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ci(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new kt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},n2=class extends ms{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new kt(16777215),this.specular=new kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zv,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};function Ko(n,e,t){return iN(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Xp(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function iN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function H0e(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function i2(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function rN(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}let jh=class{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},U0e=class extends jh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nC,endingEnd:nC}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case iC:s=e,a=2*t-i;break;case rC:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case iC:o=e,l=2*i-t;break;case rC:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,g=(i-t)/(r-t),m=g*g,v=m*g,y=-f*v+2*f*m-f*g,b=(1+f)*v+(-1.5-2*f)*m+(-.5+f)*g+1,x=(-1-h)*v+(1.5+h)*m+.5*g,_=h*v-h*m;for(let w=0;w!==a;++w)s[w]=y*o[u+w]+b*o[c+w]+x*o[l+w]+_*o[d+w];return s}},W0e=class extends jh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}},G0e=class extends jh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}},Gs=class{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xp(t,this.TimeBufferType),this.values=Xp(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Xp(e.times,Array),values:Xp(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new G0e(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new W0e(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new U0e(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case lh:t=this.InterpolantFactoryMethodDiscrete;break;case Ju:t=this.InterpolantFactoryMethodLinear;break;case W0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lh;case this.InterpolantFactoryMethodLinear:return Ju;case this.InterpolantFactoryMethodSmooth:return W0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ko(i,s,o),this.values=Ko(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&iN(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ko(this.times),t=Ko(this.values),i=this.getValueSize(),r=this.getInterpolation()===W0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,h=d+i;for(let g=0;g!==i;++g){const m=t[d+g];if(m!==t[f+g]||m!==t[h+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let h=0;h!==i;++h)t[f+h]=t[d+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ko(e,0,o),this.values=Ko(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Ko(this.times,0),t=Ko(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};Gs.prototype.TimeBufferType=Float32Array;Gs.prototype.ValueBufferType=Float32Array;Gs.prototype.DefaultInterpolation=Ju;let yd=class extends Gs{};yd.prototype.ValueTypeName="bool";yd.prototype.ValueBufferType=Array;yd.prototype.DefaultInterpolation=lh;yd.prototype.InterpolantFactoryMethodLinear=void 0;yd.prototype.InterpolantFactoryMethodSmooth=void 0;let sN=class extends Gs{};sN.prototype.ValueTypeName="color";let ph=class extends Gs{};ph.prototype.ValueTypeName="number";let j0e=class extends jh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Eo.slerpFlat(s,0,o,c-a,o,c,l);return s}},Kl=class extends Gs{InterpolantFactoryMethodLinear(e){return new j0e(this.times,this.values,this.getValueSize(),e)}};Kl.prototype.ValueTypeName="quaternion";Kl.prototype.DefaultInterpolation=Ju;Kl.prototype.InterpolantFactoryMethodSmooth=void 0;let bd=class extends Gs{};bd.prototype.ValueTypeName="string";bd.prototype.ValueBufferType=Array;bd.prototype.DefaultInterpolation=lh;bd.prototype.InterpolantFactoryMethodLinear=void 0;bd.prototype.InterpolantFactoryMethodSmooth=void 0;let mh=class extends Gs{};mh.prototype.ValueTypeName="vector";let K0e=class{constructor(e,t=-1,i,r=Dfe){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=zr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Y0e(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Gs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=H0e(l);l=i2(l,1,u),c=i2(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ph(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,g,m){if(h.length!==0){const v=[],y=[];rN(h,v,y,g),v.length!==0&&m.push(new d(f,v,y))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let m=0;m<f[g].morphTargets.length;m++)h[f[g].morphTargets[m]]=-1;for(const m in h){const v=[],y=[];for(let b=0;b!==f[g].morphTargets.length;++b){const x=f[g];v.push(x.time),y.push(x.morphTarget===m?1:0)}r.push(new ph(".morphTargetInfluence["+m+"]",v,y))}l=h.length*o}else{const h=".bones["+t[d].name+"]";i(mh,h+".position",f,"pos",r),i(Kl,h+".quaternion",f,"rot",r),i(mh,h+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function q0e(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ph;case"vector":case"vector2":case"vector3":case"vector4":return mh;case"color":return sN;case"quaternion":return Kl;case"bool":case"boolean":return yd;case"string":return bd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Y0e(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=q0e(n.type);if(n.times===void 0){const t=[],i=[];rN(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ed={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};let X0e=class{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],g=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}};const Z0e=new X0e;let ja=class{constructor(e){this.manager=e!==void 0?e:Z0e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const eo={};class J0e extends Error{constructor(e,t){super(e),this.response=t}}let td=class extends ja{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ed.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(eo[e]!==void 0){eo[e].push({onLoad:t,onProgress:i,onError:r});return}eo[e]=[],eo[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=eo[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,g=h!==0;let m=0;const v=new ReadableStream({start(y){b();function b(){d.read().then(({done:x,value:_})=>{if(x)y.close();else{m+=_.byteLength;const w=new ProgressEvent("progress",{lengthComputable:g,loaded:m,total:h});for(let S=0,T=u.length;S<T;S++){const M=u[S];M.onProgress&&M.onProgress(w)}y.enqueue(_),b()}})}}});return new Response(v)}else throw new J0e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(g=>h.decode(g))}}}).then(c=>{ed.add(e,c);const u=eo[e];delete eo[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=eo[e];if(u===void 0)throw this.manager.itemError(e),c;delete eo[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},Q0e=class extends ja{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ed.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=uh("img");function l(){u(),ed.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}},au=class extends ja{constructor(e){super(e)}load(e,t,i,r){const s=new jr,o=new Q0e(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}},Hv=class extends xi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new kt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};const r2=new cn,s2=new De,o2=new De;let A1=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ze(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _1,this._frameExtents=new Ze(1,1),this._viewportCount=1,this._viewports=[new Cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;s2.setFromMatrixPosition(e.matrixWorld),t.position.copy(s2),o2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(o2),t.updateMatrixWorld(),r2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},eye=class extends A1{constructor(){super(new Fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=ch*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},tye=class extends Hv{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xi.DefaultUp),this.updateMatrix(),this.target=new xi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new eye}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};const a2=new cn,Hd=new De,Sy=new De;let nye=class extends A1{constructor(){super(new Fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ze(4,2),this._viewportCount=6,this._viewports=[new Cn(2,1,1,1),new Cn(0,1,1,1),new Cn(3,1,1,1),new Cn(1,1,1,1),new Cn(3,0,1,1),new Cn(1,0,1,1)],this._cubeDirections=[new De(1,0,0),new De(-1,0,0),new De(0,0,1),new De(0,0,-1),new De(0,1,0),new De(0,-1,0)],this._cubeUps=[new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,0,1),new De(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Hd.setFromMatrixPosition(e.matrixWorld),i.position.copy(Hd),Sy.copy(i.position),Sy.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Sy),i.updateMatrixWorld(),r.makeTranslation(-Hd.x,-Hd.y,-Hd.z),a2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a2)}},iye=class extends Hv{constructor(e,t,i=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new nye}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},rye=class extends A1{constructor(){super(new Gh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},q_=class extends Hv{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xi.DefaultUp),this.updateMatrix(),this.target=new xi,this.shadow=new rye}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},sye=class extends Hv{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}},Nl=class{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},oye=class extends ja{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ed.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ed.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}};class oN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=l2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=l2();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function l2(){return(typeof performance>"u"?Date:performance).now()}const L1="\\[\\]\\.:\\/",aye=new RegExp("["+L1+"]","g"),R1="[^"+L1+"]",lye="[^"+L1.replace("\\.","")+"]",cye=/((?:WC+[\/:])*)/.source.replace("WC",R1),uye=/(WCOD+)?/.source.replace("WCOD",lye),dye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",R1),fye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",R1),hye=new RegExp("^"+cye+uye+dye+fye+"$"),pye=["material","materials","bones"];let mye=class{constructor(e,t,i){const r=i||On.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},On=class Qc{constructor(e,t,i){this.path=t,this.parsedPath=i||Qc.parseTrackName(t),this.node=Qc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Qc.Composite(e,t,i):new Qc(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aye,"")}static parseTrackName(e){const t=hye.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);pye.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Qc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};On.Composite=mye;On.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};On.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};On.prototype.GetterByBindingType=[On.prototype._getValue_direct,On.prototype._getValue_array,On.prototype._getValue_arrayElement,On.prototype._getValue_toArray];On.prototype.SetterByBindingTypeAndVersioning=[[On.prototype._setValue_direct,On.prototype._setValue_direct_setNeedsUpdate,On.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[On.prototype._setValue_array,On.prototype._setValue_array_setNeedsUpdate,On.prototype._setValue_array_setMatrixWorldNeedsUpdate],[On.prototype._setValue_arrayElement,On.prototype._setValue_arrayElement_setNeedsUpdate,On.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[On.prototype._setValue_fromArray,On.prototype._setValue_fromArray_setNeedsUpdate,On.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class c2{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ci(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const u2=new Ze;class gye{constructor(e=new Ze(1/0,1/0),t=new Ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=u2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return u2.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}class vye extends GD{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Yi;r.setAttribute("position",new $n(t,3)),r.setAttribute("color",new $n(i,3));const s=new S1({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new kt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aa{constructor(){this.type="ShapePath",this.color=new kt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new wu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function i(b){const x=[];for(let _=0,w=b.length;_<w;_++){const S=b[_],T=new Su;T.curves=S.curves,x.push(T)}return x}function r(b,x){const _=x.length;let w=!1;for(let S=_-1,T=0;T<_;S=T++){let M=x[S],C=x[T],L=C.x-M.x,E=C.y-M.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(M=x[T],L=-L,C=x[S],E=-E),b.y<M.y||b.y>C.y)continue;if(b.y===M.y){if(b.x===M.x)return!0}else{const O=E*(b.x-M.x)-L*(b.y-M.y);if(O===0)return!0;if(O<0)continue;w=!w}}else{if(b.y!==M.y)continue;if(C.x<=b.x&&b.x<=M.x||M.x<=b.x&&b.x<=C.x)return!0}}return w}const s=Ma.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return i(o);let a,l,c;const u=[];if(o.length===1)return l=o[0],c=new Su,c.curves=l.curves,u.push(c),u;let d=!s(o[0].getPoints());d=e?!d:d;const f=[],h=[];let g=[],m=0,v;h[m]=void 0,g[m]=[];for(let b=0,x=o.length;b<x;b++)l=o[b],v=l.getPoints(),a=s(v),a=e?!a:a,a?(!d&&h[m]&&m++,h[m]={s:new Su,p:v},h[m].s.curves=l.curves,d&&m++,g[m]=[]):g[m].push({h:l,p:v[0]});if(!h[0])return i(o);if(h.length>1){let b=!1,x=0;for(let _=0,w=h.length;_<w;_++)f[_]=[];for(let _=0,w=h.length;_<w;_++){const S=g[_];for(let T=0;T<S.length;T++){const M=S[T];let C=!0;for(let L=0;L<h.length;L++)r(M.p,h[L].p)&&(_!==L&&x++,C?(C=!1,f[L].push(M)):b=!0);C&&f[_].push(M)}}x>0&&b===!1&&(g=f)}let y;for(let b=0,x=h.length;b<x;b++){c=h[b].s,u.push(c),y=g[b];for(let _=0,w=y.length;_<w;_++)c.holes.push(y[_].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p1);const d2={type:"change"},My={type:"start"},f2={type:"end"};class yye extends rc{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new De,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:dc.ROTATE,MIDDLE:dc.DOLLY,RIGHT:dc.PAN},this.touches={ONE:fc.ROTATE,TWO:fc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ne){ne.addEventListener("keydown",Ce),this._domElementKeyEvents=ne},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(d2),i.update(),s=r.NONE},this.update=function(){const ne=new De,Re=new Eo().setFromUnitVectors(e.up,new De(0,1,0)),fe=Re.clone().invert(),ge=new De,_e=new Eo,Ne=2*Math.PI;return function(){const Ue=i.object.position;ne.copy(Ue).sub(i.target),ne.applyQuaternion(Re),a.setFromVector3(ne),i.autoRotate&&s===r.NONE&&C(T()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Ae=i.minAzimuthAngle,Ye=i.maxAzimuthAngle;return isFinite(Ae)&&isFinite(Ye)&&(Ae<-Math.PI?Ae+=Ne:Ae>Math.PI&&(Ae-=Ne),Ye<-Math.PI?Ye+=Ne:Ye>Math.PI&&(Ye-=Ne),Ae<=Ye?a.theta=Math.max(Ae,Math.min(Ye,a.theta)):a.theta=a.theta>(Ae+Ye)/2?Math.max(Ae,a.theta):Math.min(Ye,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),i.enableDamping===!0?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),ne.setFromSpherical(a),ne.applyQuaternion(fe),Ue.copy(i.target).add(ne),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,d||ge.distanceToSquared(i.object.position)>o||8*(1-_e.dot(i.object.quaternion))>o?(i.dispatchEvent(d2),ge.copy(i.object.position),_e.copy(i.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Se),i.domElement.removeEventListener("pointerdown",Z),i.domElement.removeEventListener("pointercancel",k),i.domElement.removeEventListener("wheel",me),i.domElement.removeEventListener("pointermove",le),i.domElement.removeEventListener("pointerup",J),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ce)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new c2,l=new c2;let c=1;const u=new De;let d=!1;const f=new Ze,h=new Ze,g=new Ze,m=new Ze,v=new Ze,y=new Ze,b=new Ze,x=new Ze,_=new Ze,w=[],S={};function T(){return 2*Math.PI/60/60*i.autoRotateSpeed}function M(){return Math.pow(.95,i.zoomSpeed)}function C(ne){l.theta-=ne}function L(ne){l.phi-=ne}const E=function(){const ne=new De;return function(fe,ge){ne.setFromMatrixColumn(ge,0),ne.multiplyScalar(-fe),u.add(ne)}}(),O=function(){const ne=new De;return function(fe,ge){i.screenSpacePanning===!0?ne.setFromMatrixColumn(ge,1):(ne.setFromMatrixColumn(ge,0),ne.crossVectors(i.object.up,ne)),ne.multiplyScalar(fe),u.add(ne)}}(),F=function(){const ne=new De;return function(fe,ge){const _e=i.domElement;if(i.object.isPerspectiveCamera){const Ne=i.object.position;ne.copy(Ne).sub(i.target);let ve=ne.length();ve*=Math.tan(i.object.fov/2*Math.PI/180),E(2*fe*ve/_e.clientHeight,i.object.matrix),O(2*ge*ve/_e.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(E(fe*(i.object.right-i.object.left)/i.object.zoom/_e.clientWidth,i.object.matrix),O(ge*(i.object.top-i.object.bottom)/i.object.zoom/_e.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function R(ne){i.object.isPerspectiveCamera?c/=ne:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*ne)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function $(ne){i.object.isPerspectiveCamera?c*=ne:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/ne)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(ne){f.set(ne.clientX,ne.clientY)}function A(ne){b.set(ne.clientX,ne.clientY)}function N(ne){m.set(ne.clientX,ne.clientY)}function P(ne){h.set(ne.clientX,ne.clientY),g.subVectors(h,f).multiplyScalar(i.rotateSpeed);const Re=i.domElement;C(2*Math.PI*g.x/Re.clientHeight),L(2*Math.PI*g.y/Re.clientHeight),f.copy(h),i.update()}function z(ne){x.set(ne.clientX,ne.clientY),_.subVectors(x,b),_.y>0?R(M()):_.y<0&&$(M()),b.copy(x),i.update()}function Y(ne){v.set(ne.clientX,ne.clientY),y.subVectors(v,m).multiplyScalar(i.panSpeed),F(y.x,y.y),m.copy(v),i.update()}function H(ne){ne.deltaY<0?$(M()):ne.deltaY>0&&R(M()),i.update()}function V(ne){let Re=!1;switch(ne.code){case i.keys.UP:F(0,i.keyPanSpeed),Re=!0;break;case i.keys.BOTTOM:F(0,-i.keyPanSpeed),Re=!0;break;case i.keys.LEFT:F(i.keyPanSpeed,0),Re=!0;break;case i.keys.RIGHT:F(-i.keyPanSpeed,0),Re=!0;break}Re&&(ne.preventDefault(),i.update())}function W(){if(w.length===1)f.set(w[0].pageX,w[0].pageY);else{const ne=.5*(w[0].pageX+w[1].pageX),Re=.5*(w[0].pageY+w[1].pageY);f.set(ne,Re)}}function ie(){if(w.length===1)m.set(w[0].pageX,w[0].pageY);else{const ne=.5*(w[0].pageX+w[1].pageX),Re=.5*(w[0].pageY+w[1].pageY);m.set(ne,Re)}}function G(){const ne=w[0].pageX-w[1].pageX,Re=w[0].pageY-w[1].pageY,fe=Math.sqrt(ne*ne+Re*Re);b.set(0,fe)}function te(){i.enableZoom&&G(),i.enablePan&&ie()}function oe(){i.enableZoom&&G(),i.enableRotate&&W()}function xe(ne){if(w.length==1)h.set(ne.pageX,ne.pageY);else{const fe=$e(ne),ge=.5*(ne.pageX+fe.x),_e=.5*(ne.pageY+fe.y);h.set(ge,_e)}g.subVectors(h,f).multiplyScalar(i.rotateSpeed);const Re=i.domElement;C(2*Math.PI*g.x/Re.clientHeight),L(2*Math.PI*g.y/Re.clientHeight),f.copy(h)}function ue(ne){if(w.length===1)v.set(ne.pageX,ne.pageY);else{const Re=$e(ne),fe=.5*(ne.pageX+Re.x),ge=.5*(ne.pageY+Re.y);v.set(fe,ge)}y.subVectors(v,m).multiplyScalar(i.panSpeed),F(y.x,y.y),m.copy(v)}function we(ne){const Re=$e(ne),fe=ne.pageX-Re.x,ge=ne.pageY-Re.y,_e=Math.sqrt(fe*fe+ge*ge);x.set(0,_e),_.set(0,Math.pow(x.y/b.y,i.zoomSpeed)),R(_.y),b.copy(x)}function re(ne){i.enableZoom&&we(ne),i.enablePan&&ue(ne)}function j(ne){i.enableZoom&&we(ne),i.enableRotate&&xe(ne)}function Z(ne){i.enabled!==!1&&(w.length===0&&(i.domElement.setPointerCapture(ne.pointerId),i.domElement.addEventListener("pointermove",le),i.domElement.addEventListener("pointerup",J)),be(ne),ne.pointerType==="touch"?Q(ne):q(ne))}function le(ne){i.enabled!==!1&&(ne.pointerType==="touch"?ee(ne):ce(ne))}function J(ne){Pe(ne),w.length===0&&(i.domElement.releasePointerCapture(ne.pointerId),i.domElement.removeEventListener("pointermove",le),i.domElement.removeEventListener("pointerup",J)),i.dispatchEvent(f2),s=r.NONE}function k(ne){Pe(ne)}function q(ne){let Re;switch(ne.button){case 0:Re=i.mouseButtons.LEFT;break;case 1:Re=i.mouseButtons.MIDDLE;break;case 2:Re=i.mouseButtons.RIGHT;break;default:Re=-1}switch(Re){case dc.DOLLY:if(i.enableZoom===!1)return;A(ne),s=r.DOLLY;break;case dc.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(i.enablePan===!1)return;N(ne),s=r.PAN}else{if(i.enableRotate===!1)return;D(ne),s=r.ROTATE}break;case dc.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(i.enableRotate===!1)return;D(ne),s=r.ROTATE}else{if(i.enablePan===!1)return;N(ne),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(My)}function ce(ne){switch(s){case r.ROTATE:if(i.enableRotate===!1)return;P(ne);break;case r.DOLLY:if(i.enableZoom===!1)return;z(ne);break;case r.PAN:if(i.enablePan===!1)return;Y(ne);break}}function me(ne){i.enabled===!1||i.enableZoom===!1||s!==r.NONE||(ne.preventDefault(),i.dispatchEvent(My),H(ne),i.dispatchEvent(f2))}function Ce(ne){i.enabled===!1||i.enablePan===!1||V(ne)}function Q(ne){switch(he(ne),w.length){case 1:switch(i.touches.ONE){case fc.ROTATE:if(i.enableRotate===!1)return;W(),s=r.TOUCH_ROTATE;break;case fc.PAN:if(i.enablePan===!1)return;ie(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case fc.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;te(),s=r.TOUCH_DOLLY_PAN;break;case fc.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;oe(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(My)}function ee(ne){switch(he(ne),s){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;xe(ne),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;ue(ne),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;re(ne),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;j(ne),i.update();break;default:s=r.NONE}}function Se(ne){i.enabled!==!1&&ne.preventDefault()}function be(ne){w.push(ne)}function Pe(ne){delete S[ne.pointerId];for(let Re=0;Re<w.length;Re++)if(w[Re].pointerId==ne.pointerId){w.splice(Re,1);return}}function he(ne){let Re=S[ne.pointerId];Re===void 0&&(Re=new Ze,S[ne.pointerId]=Re),Re.set(ne.pageX,ne.pageY)}function $e(ne){const Re=ne.pointerId===w[0].pointerId?w[1]:w[0];return S[Re.pointerId]}i.domElement.addEventListener("contextmenu",Se),i.domElement.addEventListener("pointerdown",Z),i.domElement.addEventListener("pointercancel",k),i.domElement.addEventListener("wheel",me,{passive:!1}),this.update()}}var Cf=function(){var n=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),i(++n%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function i(u){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===u?"block":"none";n=u}var r=(performance||Date).now(),s=r,o=0,a=t(new Cf.Panel("FPS","#0ff","#002")),l=t(new Cf.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new Cf.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:e,addPanel:t,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){o++;var u=(performance||Date).now();if(l.update(u-r,200),u>=s+1e3&&(a.update(o*1e3/(u-s),100),s=u,o=0,c)){var d=performance.memory;c.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return u},update:function(){r=this.end()},domElement:e,setMode:i}};Cf.Panel=function(n,e,t){var i=1/0,r=0,s=Math.round,o=s(window.devicePixelRatio||1),a=80*o,l=48*o,c=3*o,u=2*o,d=3*o,f=15*o,h=74*o,g=30*o,m=document.createElement("canvas");m.width=a,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=t,v.fillRect(0,0,a,l),v.fillStyle=e,v.fillText(n,c,u),v.fillRect(d,f,h,g),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d,f,h,g),{dom:m,update:function(y,b){i=Math.min(i,y),r=Math.max(r,y),v.fillStyle=t,v.globalAlpha=1,v.fillRect(0,0,a,f),v.fillStyle=e,v.fillText(s(y)+" "+n+" ("+s(i)+"-"+s(r)+")",c,u),v.drawImage(m,d+o,f,h-o,g,d,f,h-o,g),v.fillRect(d+h-o,f,o,g),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d+h-o,f,o,s((1-y/b)*g))}}};const bye=Cf;class _ye extends ja{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new td(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){let l;try{l=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(a.substring(65,a.length-2))}const c=s.parse(l);t&&t(c)},i,r)}parse(e){return new xye(e)}}class xye{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=wye(e,t,this.data);for(let s=0,o=r.length;s<o;s++)i.push(...r[s].toShapes());return i}}function wye(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)a=0,l-=s;else{const d=Sye(u,r,a,l,t);a+=d.offsetX,o.push(d.path)}}return o}function Sye(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new aa;let a,l,c,u,d,f,h,g;if(s.o){const m=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,y=m.length;v<y;)switch(m[v++]){case"m":a=m[v++]*e+t,l=m[v++]*e+i,o.moveTo(a,l);break;case"l":a=m[v++]*e+t,l=m[v++]*e+i,o.lineTo(a,l);break;case"q":c=m[v++]*e+t,u=m[v++]*e+i,d=m[v++]*e+t,f=m[v++]*e+i,o.quadraticCurveTo(d,f,c,u);break;case"b":c=m[v++]*e+t,u=m[v++]*e+i,d=m[v++]*e+t,f=m[v++]*e+i,h=m[v++]*e+t,g=m[v++]*e+i,o.bezierCurveTo(d,f,h,g,c,u);break}}return{offsetX:s.ha*e,path:o}}const Ug={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};class Kh{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const Mye=new Gh(-1,1,1,-1,0,1),P1=new Yi;P1.setAttribute("position",new $n([-1,3,0,-1,-1,0,3,-1,0],3));P1.setAttribute("uv",new $n([0,2,0,0,2,0],2));class aN{constructor(e){this._mesh=new Bi(P1,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Mye)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class h2 extends Kh{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof nr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Hg.clone(e.uniforms),this.material=new nr({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new aN(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class p2 extends Kh{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,i){const r=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(r.EQUAL,1,4294967295),s.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.buffers.stencil.setLocked(!0)}}class Tye extends Kh{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Eye{constructor(e,t){if(this.renderer=e,t===void 0){const i=e.getSize(new Ze);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,t=new ps(this._width*this._pixelRatio,this._height*this._pixelRatio),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Ug===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),h2===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new h2(Ug),this.clock=new oN}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;for(let r=0,s=this.passes.length;r<s;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}p2!==void 0&&(o instanceof p2?i=!0:o instanceof Tye&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Ze);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(i,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new Gh(-1,1,1,-1,0,1);const lN=new Yi;lN.setAttribute("position",new $n([-1,3,0,-1,-1,0,3,-1,0],3));lN.setAttribute("uv",new $n([0,2,0,0,2,0],2));class Cye extends Kh{constructor(e,t,i,r,s){super(),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=s!==void 0?s:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new kt}render(e,t,i){const r=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,s),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),e.autoClear=r}}const m2={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new kt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class nd extends Kh{constructor(e,t,i,r){super(),this.strength=t!==void 0?t:1,this.radius=i,this.threshold=r,this.resolution=e!==void 0?new Ze(e.x,e.y):new Ze(256,256),this.clearColor=new kt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new ps(s,o),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let d=0;d<this.nMips;d++){const f=new ps(s,o);f.texture.name="UnrealBloomPass.h"+d,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);const h=new ps(s,o);h.texture.name="UnrealBloomPass.v"+d,h.texture.generateMipmaps=!1,this.renderTargetsVertical.push(h),s=Math.round(s/2),o=Math.round(o/2)}m2===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const a=m2;this.highPassUniforms=Hg.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new nr({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const l=[3,5,7,9,11];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let d=0;d<this.nMips;d++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(l[d])),this.separableBlurMaterials[d].uniforms.texSize.value=new Ze(s,o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new De(1,1,1),new De(1,1,1),new De(1,1,1),new De(1,1,1),new De(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,Ug===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");const u=Ug;this.copyUniforms=Hg.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new nr({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:oh,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new kt,this.oldClearAlpha=1,this.basic=new mo,this.fsQuad=new aN(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let i=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(i,r);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(i,r),this.renderTargetsVertical[s].setSize(i,r),this.separableBlurMaterials[s].uniforms.texSize.value=new Ze(i,r),i=Math.round(i/2),r=Math.round(r/2)}render(e,t,i,r,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=nd.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=nd.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeperableBlurMaterial(e){return new nr({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Ze(.5,.5)},direction:{value:new Ze(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new nr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}nd.BlurDirectionX=new Ze(1,0);nd.BlurDirectionY=new Ze(0,1);class Aye{constructor(e){Object.assign(this,e),this.el=e.el,this.scene=null,this.camera=null,this.renderer=null,this.controls=null,this.stats=null,this.initStage()}initStage(){let e=this.el.clientWidth,t=this.el.clientHeight;this.scene=new Jve,this.camera=new Fi(45,e/t,5,2e4),this.camera.position.set(-295,135,0),this.renderer=new HD({alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setSize(e,t),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(133908,1),this.el.appendChild(this.renderer.domElement);let i=new sye("#ffffff",.8);this.scene.add(i);let r=new q_(16777215,.5);r.position.set(200,5,200),this.scene.add(r);let s=new q_(16777215,.7);s.position.set(-200,5,-200),this.scene.add(s),this.controls=new yye(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=Math.PI*.495,this.stats=new bye,this.el.appendChild(this.stats.dom),this.addComposer(),window.addEventListener("resize",this.onWindowResize.bind(this),!1),new vye(100)}onWindowResize(){let e=this.el.clientWidth,t=this.el.clientHeight;this.renderer.setSize(e,t),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}addComposer(){let e=this.el.clientWidth,t=this.el.clientHeight;this.composer=new Eye(this.renderer);const i=new Cye(this.scene,this.camera);this.bloomPass=new nd(new Ze(e,t),1.5,.4,.85),this.bloomPass.threshold=.2,this.bloomPass.strength=.8,this.bloomPass.radius=.1,this.composer.addPass(i),this.composer.addPass(this.bloomPass)}initFont(){return this.fontLoader||(this.fontLoader=new _ye),new Promise(e=>{this.fontLoader.load("/fonts/YaHei_Regular.js",t=>{e(t)})})}animate(e){e&&e(),this.frameId=requestAnimationFrame(()=>{this.render(),this.stats.update(),this.animate(e)})}render(){this.controls.update(),this.composer?this.composer.render():this.renderer.render(this.scene,this.camera)}}class Lye extends ja{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Dye(t)}),this.register(function(t){return new Vye(t)}),this.register(function(t){return new Hye(t)}),this.register(function(t){return new Oye(t)}),this.register(function(t){return new Fye(t)}),this.register(function(t){return new Bye(t)}),this.register(function(t){return new zye(t)}),this.register(function(t){return new kye(t)}),this.register(function(t){return new $ye(t)}),this.register(function(t){return new Nye(t)}),this.register(function(t){return new Pye(t)}),this.register(function(t){return new Uye(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Nl.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new td(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(Nl.decodeText(new Uint8Array(e,0,4))===cN){try{o[Zt.KHR_BINARY_GLTF]=new Wye(e)}catch(d){r&&r(d);return}s=o[Zt.KHR_BINARY_GLTF].content}else s=Nl.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new ibe(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case Zt.KHR_MATERIALS_UNLIT:o[d]=new Iye;break;case Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new Kye;break;case Zt.KHR_DRACO_MESH_COMPRESSION:o[d]=new Gye(l,this.dracoLoader);break;case Zt.KHR_TEXTURE_TRANSFORM:o[d]=new jye;break;case Zt.KHR_MESH_QUANTIZATION:o[d]=new qye;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Rye(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Zt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Pye{constructor(e){this.parser=e,this.name=Zt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new kt(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new q_(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new iye(u),c.distance=d;break;case"spot":c=new tye(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Iye{constructor(){this.name=Zt.KHR_MATERIALS_UNLIT}getMaterialType(){return mo}extendParams(e,t,i){const r=[];e.color=new kt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,hn))}return Promise.all(r)}}class kye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Dye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ze(a,a)}return Promise.all(s)}}class Nye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Oye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new kt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,hn)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Fye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Bye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new kt(a[0],a[1],a[2]),Promise.all(s)}}class zye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class $ye{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:sc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new kt(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,hn)),Promise.all(s)}}class Vye{constructor(e){this.parser=e,this.name=Zt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Hye{constructor(e){this.parser=e,this.name=Zt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Uye{constructor(e){this.name=Zt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,r.mode,r.filter),f})}else return null}}const cN="glTF",Ud=12,g2={JSON:1313821514,BIN:5130562};class Wye{constructor(e){this.name=Zt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ud);if(this.header={magic:Nl.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==cN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ud,r=new DataView(e,Ud);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===g2.JSON){const l=new Uint8Array(e,Ud+s,o);this.content=Nl.decodeText(l)}else if(a===g2.BIN){const l=Ud+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Gye{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Zt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=X_[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=X_[u]||u.toLowerCase();if(o[u]!==void 0){const f=i.accessors[e.attributes[u]],h=gh[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(f){for(const h in f.attributes){const g=f.attributes[h],m=l[h];m!==void 0&&(g.normalized=m)}d(f)},a,c)})})}}class jye{constructor(){this.name=Zt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Y_ extends ho{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new kt().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Kye{constructor(){this.name=Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return Y_}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new kt(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,hn)),e.emissive=new kt(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new kt(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,hn))}return Promise.all(s)}createMaterial(e){const t=new Y_(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=zv,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class qye{constructor(){this.name=Zt.KHR_MESH_QUANTIZATION}}class uN extends jh{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,d=(i-t)/u,f=d*d,h=f*d,g=e*c,m=g-c,v=-2*h+3*f,y=h-f,b=1-v,x=y-f+d;for(let _=0;_!==a;_++){const w=o[m+_+a],S=o[m+_+l]*u,T=o[g+_+a],M=o[g+_]*u;s[_]=b*w+x*S+v*T+y*M}return s}}const Yye=new Eo;class Xye extends uN{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Yye.fromArray(s).normalize().toArray(s),s}}const to={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},gh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},v2={9728:pi,9729:Qi,9984:O_,9985:hD,9986:F_,9987:pd},y2={33071:Dr,33648:$g,10497:Is},b2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},X_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},qo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Zye={CUBICSPLINE:void 0,LINEAR:Ju,STEP:lh},Ty={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Jye(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ho({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qu})),n.DefaultMaterial}function Wd(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function cl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Qye(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(f)}if(r){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function ebe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function tbe(n){const e=n.extensions&&n.extensions[Zt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+_2(e.attributes):t=n.indices+":"+_2(n.attributes)+":"+n.mode,t}function _2(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function Z_(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function nbe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class ibe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Rye,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new au(this.options.manager):this.textureLoader=new oye(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new td(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Wd(s,a,r),cl(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Zt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Nl.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=b2[r.type],c=gh[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=r.byteOffset||0,h=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let m,v;if(h&&h!==d){const y=Math.floor(f/h),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+y+":"+r.count;let x=t.cache.get(b);x||(m=new c(a,y*h,r.count*h/u),x=new Qve(m,h/u),t.cache.add(b,x)),v=new e0e(x,l,f%h/u,g)}else a===null?m=new c(r.count*l):m=new c(a,f,r.count*l),v=new Hi(m,l,g);if(r.sparse!==void 0){const y=b2.SCALAR,b=gh[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,_=r.sparse.values.byteOffset||0,w=new b(o[1],x,r.sparse.count*y),S=new c(o[2],_,r.sparse.count*l);a!==null&&(v=new Hi(v.array.slice(),v.itemSize,v.normalized));for(let T=0,M=w.length;T<M;T++){const C=w[T];if(v.setX(C,S[T*l]),l>=2&&v.setY(C,S[T*l+1]),l>=3&&v.setZ(C,S[T*l+2]),l>=4&&v.setW(C,S[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=v2[f.magFilter]||Qi,u.minFilter=v2[f.minFilter]||pd,u.wrapS=y2[f.wrapS]||Is,u.wrapT=y2[f.wrapT]||Is,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let g=f;t.isImageBitmapLoader===!0&&(g=function(m){const v=new jr(m);v.needsUpdate=!0,f(v)}),t.load(Nl.resolveURL(d,s.path),g,void 0,h)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||nbe(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[Zt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Zt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Zt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new jD,ms.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new S1,ms.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return ho}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=r[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else if(l[Zt.KHR_MATERIALS_UNLIT]){const d=r[Zt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new kt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,hn)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=cs);const u=s.alphaMode||Ty.OPAQUE;if(u===Ty.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Ty.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==mo&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ze(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==mo&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==mo&&(a.emissive=new kt().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==mo&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,hn)),Promise.all(c).then(function(){let d;return o===Y_?d=r[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),cl(d,s),t.associations.set(d,{materials:e}),s.extensions&&Wd(r,d,s),d})}createUniqueName(e){const t=On.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Zt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return x2(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=tbe(c),d=r[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[Zt.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=x2(new Yi,c,t),r[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Jye(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,g=u.length;h<g;h++){const m=u[h],v=o[h];let y;const b=c[h];if(v.mode===to.TRIANGLES||v.mode===to.TRIANGLE_STRIP||v.mode===to.TRIANGLE_FAN||v.mode===void 0)y=s.isSkinnedMesh===!0?new n0e(m,b):new Bi(m,b),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),v.mode===to.TRIANGLE_STRIP?y.geometry=w2(y.geometry,Nfe):v.mode===to.TRIANGLE_FAN&&(y.geometry=w2(y.geometry,mD));else if(v.mode===to.LINES)y=new GD(m,b);else if(v.mode===to.LINE_STRIP)y=new M1(m,b);else if(v.mode===to.LINE_LOOP)y=new s0e(m,b);else if(v.mode===to.POINTS)y=new o0e(m,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(y.geometry.morphAttributes).length>0&&ebe(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),cl(y,s),v.extensions&&Wd(r,y,v),t.assignFinalMaterial(y),d.push(y)}for(let h=0,g=d.length;h<g;h++)t.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new va;t.associations.set(f,{meshes:e});for(let h=0,g=d.length;h<g;h++)f.add(d[h]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Fi(the.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Gh(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),cl(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,u=i.channels.length;c<u;c++){const d=i.channels[c],f=i.samplers[d.sampler],h=d.target,g=h.node!==void 0?h.node:h.id,m=i.parameters!==void 0?i.parameters[f.input]:f.input,v=i.parameters!==void 0?i.parameters[f.output]:f.output;r.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",v)),a.push(f),l.push(h)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],g=c[4],m=[];for(let y=0,b=u.length;y<b;y++){const x=u[y],_=d[y],w=f[y],S=h[y],T=g[y];if(x===void 0)continue;x.updateMatrix();let M;switch(qo[T.path]){case qo.weights:M=ph;break;case qo.rotation:M=Kl;break;case qo.position:case qo.scale:default:M=mh;break}const C=x.name?x.name:x.uuid,L=S.interpolation!==void 0?Zye[S.interpolation]:Ju,E=[];qo[T.path]===qo.weights?x.traverse(function(F){F.morphTargetInfluences&&E.push(F.name?F.name:F.uuid)}):E.push(C);let O=w.array;if(w.normalized){const F=Z_(O.constructor),R=new Float32Array(O.length);for(let $=0,D=O.length;$<D;$++)R[$]=O[$]*F;O=R}for(let F=0,R=E.length;F<R;F++){const $=new M(E[F]+"."+qo[T.path],_.array,O,L);S.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(A){const N=this instanceof Kl?Xye:uN;return new N(this.times,this.values,this.getValueSize()/3,A)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push($)}}const v=i.name?i.name:"animation_"+e;return new K0e(v,void 0,m)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new WD:a.length>1?l=new va:a.length===1?l=a[0]:l=new xi,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),cl(l,s),s.extensions&&Wd(i,l,s),s.matrix!==void 0){const c=new cn;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new va;r.name&&(o.name=s.createUniqueName(r.name)),cl(o,r),r.extensions&&Wd(i,o,r);const a=r.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(dN(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of s.associations)(f instanceof ms||f instanceof jr)&&d.set(f,h);return u.traverse(f=>{const h=s.associations.get(f);h!=null&&d.set(f,h)}),d};return s.associations=c(o),o})}}function dN(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=a.length;d<f;d++){const h=a[d];if(h){c.push(h);const g=new cn;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,d*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new w1(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(dN(u,s,t,i))}}return Promise.all(o)})}function rbe(n,e,t){const i=e.attributes,r=new md;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new De(l[0],l[1],l[2]),new De(c[0],c[1],c[2])),a.normalized){const u=Z_(gh[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new De,l=new De;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],h=f.min,g=f.max;if(h!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(g[2]))),f.normalized){const m=Z_(gh[f.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new gd;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function x2(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=X_[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return cl(n,e),rbe(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Qye(n,e.targets,t):n})}function w2(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===mD)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}const Ey=new WeakMap;class sbe extends ja{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new td(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Ey.has(e)){const l=Ey.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Ey.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Yi;e.index&&t.setIndex(new Hi(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Hi(o,a))}return t}_loadLibrary(e,t){const i=new td(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=obe.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function obe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,h=new d.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const g=t(d,f,h,c),m=g.attributes.map(v=>v.array.buffer);g.index&&m.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},m)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(h),d.destroy(f)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,h;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)f=new o.Mesh,h=a.DecodeBufferToMesh(l,f);else if(g===o.POINT_CLOUD)f=new o.PointCloud,h=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const m={index:null,attributes:[]};for(const v in u){const y=self[d[v]];let b,x;if(c.useUniqueIDs)x=u[v],b=a.GetAttributeByUniqueId(f,x);else{if(x=a.GetAttributeId(f,o[u[v]]),x===-1)continue;b=a.GetAttribute(f,x)}m.attributes.push(r(o,a,f,v,y,b))}return g===o.TRIANGULAR_MESH&&(m.index=i(o,a,f)),o.destroy(f),m}function i(o,a,l){const u=l.num_faces()*3,d=u*4,f=o._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const h=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:h,itemSize:1}}function r(o,a,l,c,u,d){const f=d.num_components(),g=l.num_points()*f,m=g*u.BYTES_PER_ELEMENT,v=s(o,u),y=o._malloc(m);a.GetAttributeDataArrayForAllPoints(l,d,v,m,y);const b=new u(o.HEAPF32.buffer,y,g).slice();return o._free(y),{name:c,array:b,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class I1 extends ja{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,i,r){const s=this,o=new td(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this;function i(H,V){if(H.nodeType!==1)return;const W=_(H);let ie=!1,G=null;switch(H.nodeName){case"svg":V=g(H,V);break;case"style":s(H);break;case"g":V=g(H,V);break;case"path":V=g(H,V),H.hasAttribute("d")&&(G=r(H));break;case"rect":V=g(H,V),G=l(H);break;case"polygon":V=g(H,V),G=c(H);break;case"polyline":V=g(H,V),G=u(H);break;case"circle":V=g(H,V),G=d(H);break;case"ellipse":V=g(H,V),G=f(H);break;case"line":V=g(H,V),G=h(H);break;case"defs":ie=!0;break;case"use":V=g(H,V);const xe=(H.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),ue=H.viewportElement.getElementById(xe);ue?i(ue,V):console.warn("SVGLoader: 'use node' references non-existent node id: "+xe);break}G&&(V.fill!==void 0&&V.fill!=="none"&&G.color.setStyle(V.fill),S(G,P),L.push(G),G.userData={node:H,style:V});const te=H.childNodes;for(let oe=0;oe<te.length;oe++){const xe=te[oe];ie&&xe.nodeName!=="style"&&xe.nodeName!=="defs"||i(xe,V)}W&&(O.pop(),O.length>0?P.copy(O[O.length-1]):P.identity())}function r(H){const V=new aa,W=new Ze,ie=new Ze,G=new Ze;let te=!0,oe=!1;const ue=H.getAttribute("d").match(/[a-df-z][^a-df-z]*/ig);for(let we=0,re=ue.length;we<re;we++){const j=ue[we],Z=j.charAt(0),le=j.slice(1).trim();te===!0&&(oe=!0,te=!1);let J;switch(Z){case"M":J=v(le);for(let k=0,q=J.length;k<q;k+=2)W.x=J[k+0],W.y=J[k+1],ie.x=W.x,ie.y=W.y,k===0?V.moveTo(W.x,W.y):V.lineTo(W.x,W.y),k===0&&G.copy(W);break;case"H":J=v(le);for(let k=0,q=J.length;k<q;k++)W.x=J[k],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"V":J=v(le);for(let k=0,q=J.length;k<q;k++)W.y=J[k],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"L":J=v(le);for(let k=0,q=J.length;k<q;k+=2)W.x=J[k+0],W.y=J[k+1],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"C":J=v(le);for(let k=0,q=J.length;k<q;k+=6)V.bezierCurveTo(J[k+0],J[k+1],J[k+2],J[k+3],J[k+4],J[k+5]),ie.x=J[k+2],ie.y=J[k+3],W.x=J[k+4],W.y=J[k+5],k===0&&oe===!0&&G.copy(W);break;case"S":J=v(le);for(let k=0,q=J.length;k<q;k+=4)V.bezierCurveTo(m(W.x,ie.x),m(W.y,ie.y),J[k+0],J[k+1],J[k+2],J[k+3]),ie.x=J[k+0],ie.y=J[k+1],W.x=J[k+2],W.y=J[k+3],k===0&&oe===!0&&G.copy(W);break;case"Q":J=v(le);for(let k=0,q=J.length;k<q;k+=4)V.quadraticCurveTo(J[k+0],J[k+1],J[k+2],J[k+3]),ie.x=J[k+0],ie.y=J[k+1],W.x=J[k+2],W.y=J[k+3],k===0&&oe===!0&&G.copy(W);break;case"T":J=v(le);for(let k=0,q=J.length;k<q;k+=2){const ce=m(W.x,ie.x),me=m(W.y,ie.y);V.quadraticCurveTo(ce,me,J[k+0],J[k+1]),ie.x=ce,ie.y=me,W.x=J[k+0],W.y=J[k+1],k===0&&oe===!0&&G.copy(W)}break;case"A":J=v(le,[3,4],7);for(let k=0,q=J.length;k<q;k+=7){if(J[k+5]==W.x&&J[k+6]==W.y)continue;const ce=W.clone();W.x=J[k+5],W.y=J[k+6],ie.x=W.x,ie.y=W.y,o(V,J[k],J[k+1],J[k+2],J[k+3],J[k+4],ce,W),k===0&&oe===!0&&G.copy(W)}break;case"m":J=v(le);for(let k=0,q=J.length;k<q;k+=2)W.x+=J[k+0],W.y+=J[k+1],ie.x=W.x,ie.y=W.y,k===0?V.moveTo(W.x,W.y):V.lineTo(W.x,W.y),k===0&&G.copy(W);break;case"h":J=v(le);for(let k=0,q=J.length;k<q;k++)W.x+=J[k],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"v":J=v(le);for(let k=0,q=J.length;k<q;k++)W.y+=J[k],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"l":J=v(le);for(let k=0,q=J.length;k<q;k+=2)W.x+=J[k+0],W.y+=J[k+1],ie.x=W.x,ie.y=W.y,V.lineTo(W.x,W.y),k===0&&oe===!0&&G.copy(W);break;case"c":J=v(le);for(let k=0,q=J.length;k<q;k+=6)V.bezierCurveTo(W.x+J[k+0],W.y+J[k+1],W.x+J[k+2],W.y+J[k+3],W.x+J[k+4],W.y+J[k+5]),ie.x=W.x+J[k+2],ie.y=W.y+J[k+3],W.x+=J[k+4],W.y+=J[k+5],k===0&&oe===!0&&G.copy(W);break;case"s":J=v(le);for(let k=0,q=J.length;k<q;k+=4)V.bezierCurveTo(m(W.x,ie.x),m(W.y,ie.y),W.x+J[k+0],W.y+J[k+1],W.x+J[k+2],W.y+J[k+3]),ie.x=W.x+J[k+0],ie.y=W.y+J[k+1],W.x+=J[k+2],W.y+=J[k+3],k===0&&oe===!0&&G.copy(W);break;case"q":J=v(le);for(let k=0,q=J.length;k<q;k+=4)V.quadraticCurveTo(W.x+J[k+0],W.y+J[k+1],W.x+J[k+2],W.y+J[k+3]),ie.x=W.x+J[k+0],ie.y=W.y+J[k+1],W.x+=J[k+2],W.y+=J[k+3],k===0&&oe===!0&&G.copy(W);break;case"t":J=v(le);for(let k=0,q=J.length;k<q;k+=2){const ce=m(W.x,ie.x),me=m(W.y,ie.y);V.quadraticCurveTo(ce,me,W.x+J[k+0],W.y+J[k+1]),ie.x=ce,ie.y=me,W.x=W.x+J[k+0],W.y=W.y+J[k+1],k===0&&oe===!0&&G.copy(W)}break;case"a":J=v(le,[3,4],7);for(let k=0,q=J.length;k<q;k+=7){if(J[k+5]==0&&J[k+6]==0)continue;const ce=W.clone();W.x+=J[k+5],W.y+=J[k+6],ie.x=W.x,ie.y=W.y,o(V,J[k],J[k+1],J[k+2],J[k+3],J[k+4],ce,W),k===0&&oe===!0&&G.copy(W)}break;case"Z":case"z":V.currentPath.autoClose=!0,V.currentPath.curves.length>0&&(W.copy(G),V.currentPath.currentPoint.copy(W),te=!0);break;default:console.warn(j)}oe=!1}return V}function s(H){if(!(!H.sheet||!H.sheet.cssRules||!H.sheet.cssRules.length))for(let V=0;V<H.sheet.cssRules.length;V++){const W=H.sheet.cssRules[V];if(W.type!==1)continue;const ie=W.selectorText.split(/,/gm).filter(Boolean).map(G=>G.trim());for(let G=0;G<ie.length;G++){const te=Object.fromEntries(Object.entries(W.style).filter(([,oe])=>oe!==""));E[ie[G]]=Object.assign(E[ie[G]]||{},te)}}}function o(H,V,W,ie,G,te,oe,xe){if(V==0||W==0){H.lineTo(xe.x,xe.y);return}ie=ie*Math.PI/180,V=Math.abs(V),W=Math.abs(W);const ue=(oe.x-xe.x)/2,we=(oe.y-xe.y)/2,re=Math.cos(ie)*ue+Math.sin(ie)*we,j=-Math.sin(ie)*ue+Math.cos(ie)*we;let Z=V*V,le=W*W;const J=re*re,k=j*j,q=J/Z+k/le;if(q>1){const $e=Math.sqrt(q);V=$e*V,W=$e*W,Z=V*V,le=W*W}const ce=Z*k+le*J,me=(Z*le-ce)/ce;let Ce=Math.sqrt(Math.max(0,me));G===te&&(Ce=-Ce);const Q=Ce*V*j/W,ee=-Ce*W*re/V,Se=Math.cos(ie)*Q-Math.sin(ie)*ee+(oe.x+xe.x)/2,be=Math.sin(ie)*Q+Math.cos(ie)*ee+(oe.y+xe.y)/2,Pe=a(1,0,(re-Q)/V,(j-ee)/W),he=a((re-Q)/V,(j-ee)/W,(-re-Q)/V,(-j-ee)/W)%(Math.PI*2);H.currentPath.absellipse(Se,be,V,W,Pe,Pe+he,te===0,ie)}function a(H,V,W,ie){const G=H*W+V*ie,te=Math.sqrt(H*H+V*V)*Math.sqrt(W*W+ie*ie);let oe=Math.acos(Math.max(-1,Math.min(1,G/te)));return H*ie-V*W<0&&(oe=-oe),oe}function l(H){const V=x(H.getAttribute("x")||0),W=x(H.getAttribute("y")||0),ie=x(H.getAttribute("rx")||H.getAttribute("ry")||0),G=x(H.getAttribute("ry")||H.getAttribute("rx")||0),te=x(H.getAttribute("width")),oe=x(H.getAttribute("height")),xe=1-.551915024494,ue=new aa;return ue.moveTo(V+ie,W),ue.lineTo(V+te-ie,W),(ie!==0||G!==0)&&ue.bezierCurveTo(V+te-ie*xe,W,V+te,W+G*xe,V+te,W+G),ue.lineTo(V+te,W+oe-G),(ie!==0||G!==0)&&ue.bezierCurveTo(V+te,W+oe-G*xe,V+te-ie*xe,W+oe,V+te-ie,W+oe),ue.lineTo(V+ie,W+oe),(ie!==0||G!==0)&&ue.bezierCurveTo(V+ie*xe,W+oe,V,W+oe-G*xe,V,W+oe-G),ue.lineTo(V,W+G),(ie!==0||G!==0)&&ue.bezierCurveTo(V,W+G*xe,V+ie*xe,W,V+ie,W),ue}function c(H){function V(te,oe,xe){const ue=x(oe),we=x(xe);G===0?ie.moveTo(ue,we):ie.lineTo(ue,we),G++}const W=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,ie=new aa;let G=0;return H.getAttribute("points").replace(W,V),ie.currentPath.autoClose=!0,ie}function u(H){function V(te,oe,xe){const ue=x(oe),we=x(xe);G===0?ie.moveTo(ue,we):ie.lineTo(ue,we),G++}const W=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,ie=new aa;let G=0;return H.getAttribute("points").replace(W,V),ie.currentPath.autoClose=!1,ie}function d(H){const V=x(H.getAttribute("cx")||0),W=x(H.getAttribute("cy")||0),ie=x(H.getAttribute("r")||0),G=new wu;G.absarc(V,W,ie,0,Math.PI*2);const te=new aa;return te.subPaths.push(G),te}function f(H){const V=x(H.getAttribute("cx")||0),W=x(H.getAttribute("cy")||0),ie=x(H.getAttribute("rx")||0),G=x(H.getAttribute("ry")||0),te=new wu;te.absellipse(V,W,ie,G,0,Math.PI*2);const oe=new aa;return oe.subPaths.push(te),oe}function h(H){const V=x(H.getAttribute("x1")||0),W=x(H.getAttribute("y1")||0),ie=x(H.getAttribute("x2")||0),G=x(H.getAttribute("y2")||0),te=new aa;return te.moveTo(V,W),te.lineTo(ie,G),te.currentPath.autoClose=!1,te}function g(H,V){V=Object.assign({},V);let W={};if(H.hasAttribute("class")){const oe=H.getAttribute("class").split(/\s/).filter(Boolean).map(xe=>xe.trim());for(let xe=0;xe<oe.length;xe++)W=Object.assign(W,E["."+oe[xe]])}H.hasAttribute("id")&&(W=Object.assign(W,E["#"+H.getAttribute("id")]));function ie(oe,xe,ue){ue===void 0&&(ue=function(re){return re.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),re}),H.hasAttribute(oe)&&(V[xe]=ue(H.getAttribute(oe))),W[oe]&&(V[xe]=ue(W[oe])),H.style&&H.style[oe]!==""&&(V[xe]=ue(H.style[oe]))}function G(oe){return Math.max(0,Math.min(1,x(oe)))}function te(oe){return Math.max(0,x(oe))}return ie("fill","fill"),ie("fill-opacity","fillOpacity",G),ie("fill-rule","fillRule"),ie("opacity","opacity",G),ie("stroke","stroke"),ie("stroke-opacity","strokeOpacity",G),ie("stroke-width","strokeWidth",te),ie("stroke-linejoin","strokeLineJoin"),ie("stroke-linecap","strokeLineCap"),ie("stroke-miterlimit","strokeMiterLimit",te),ie("visibility","visibility"),V}function m(H,V){return H-(V-H)}function v(H,V,W){if(typeof H!="string")throw new TypeError("Invalid input: "+typeof H);const ie={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},G=0,te=1,oe=2,xe=3;let ue=G,we=!0,re="",j="";const Z=[];function le(ce,me,Ce){const Q=new SyntaxError('Unexpected character "'+ce+'" at index '+me+".");throw Q.partial=Ce,Q}function J(){re!==""&&(j===""?Z.push(Number(re)):Z.push(Number(re)*Math.pow(10,Number(j)))),re="",j=""}let k;const q=H.length;for(let ce=0;ce<q;ce++){if(k=H[ce],Array.isArray(V)&&V.includes(Z.length%W)&&ie.FLAGS.test(k)){ue=te,re=k,J();continue}if(ue===G){if(ie.WHITESPACE.test(k))continue;if(ie.DIGIT.test(k)||ie.SIGN.test(k)){ue=te,re=k;continue}if(ie.POINT.test(k)){ue=oe,re=k;continue}ie.COMMA.test(k)&&(we&&le(k,ce,Z),we=!0)}if(ue===te){if(ie.DIGIT.test(k)){re+=k;continue}if(ie.POINT.test(k)){re+=k,ue=oe;continue}if(ie.EXP.test(k)){ue=xe;continue}ie.SIGN.test(k)&&re.length===1&&ie.SIGN.test(re[0])&&le(k,ce,Z)}if(ue===oe){if(ie.DIGIT.test(k)){re+=k;continue}if(ie.EXP.test(k)){ue=xe;continue}ie.POINT.test(k)&&re[re.length-1]==="."&&le(k,ce,Z)}if(ue===xe){if(ie.DIGIT.test(k)){j+=k;continue}if(ie.SIGN.test(k)){if(j===""){j+=k;continue}j.length===1&&ie.SIGN.test(j)&&le(k,ce,Z)}}ie.WHITESPACE.test(k)?(J(),ue=G,we=!1):ie.COMMA.test(k)?(J(),ue=G,we=!0):ie.SIGN.test(k)?(J(),ue=te,re=k):ie.POINT.test(k)?(J(),ue=oe,re=k):le(k,ce,Z)}return J(),Z}const y=["mm","cm","in","pt","pc","px"],b={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function x(H){let V="px";if(typeof H=="string"||H instanceof String)for(let ie=0,G=y.length;ie<G;ie++){const te=y[ie];if(H.endsWith(te)){V=te,H=H.substring(0,H.length-te.length);break}}let W;return V==="px"&&t.defaultUnit!=="px"?W=b.in[t.defaultUnit]/t.defaultDPI:(W=b[V][t.defaultUnit],W<0&&(W=b[V].in*t.defaultDPI)),W*parseFloat(H)}function _(H){if(!(H.hasAttribute("transform")||H.nodeName==="use"&&(H.hasAttribute("x")||H.hasAttribute("y"))))return null;const V=w(H);return O.length>0&&V.premultiply(O[O.length-1]),P.copy(V),O.push(V),V}function w(H){const V=new Ei,W=F;if(H.nodeName==="use"&&(H.hasAttribute("x")||H.hasAttribute("y"))){const ie=x(H.getAttribute("x")),G=x(H.getAttribute("y"));V.translate(ie,G)}if(H.hasAttribute("transform")){const ie=H.getAttribute("transform").split(")");for(let G=ie.length-1;G>=0;G--){const te=ie[G].trim();if(te==="")continue;const oe=te.indexOf("("),xe=te.length;if(oe>0&&oe<xe){const ue=te.slice(0,oe),we=v(te.slice(oe+1));switch(W.identity(),ue){case"translate":if(we.length>=1){const re=we[0];let j=re;we.length>=2&&(j=we[1]),W.translate(re,j)}break;case"rotate":if(we.length>=1){let re=0,j=0,Z=0;re=-we[0]*Math.PI/180,we.length>=3&&(j=we[1],Z=we[2]),R.identity().translate(-j,-Z),$.identity().rotate(re),D.multiplyMatrices($,R),R.identity().translate(j,Z),W.multiplyMatrices(R,D)}break;case"scale":if(we.length>=1){const re=we[0];let j=re;we.length>=2&&(j=we[1]),W.scale(re,j)}break;case"skewX":we.length===1&&W.set(1,Math.tan(we[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":we.length===1&&W.set(1,0,0,Math.tan(we[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":we.length===6&&W.set(we[0],we[2],we[4],we[1],we[3],we[5],0,0,1);break}}V.premultiply(W)}}return V}function S(H,V){function W(te){N.set(te.x,te.y,1).applyMatrix3(V),te.set(N.x,N.y)}const ie=T(V),G=H.subPaths;for(let te=0,oe=G.length;te<oe;te++){const ue=G[te].curves;for(let we=0;we<ue.length;we++){const re=ue[we];re.isLineCurve?(W(re.v1),W(re.v2)):re.isCubicBezierCurve?(W(re.v0),W(re.v1),W(re.v2),W(re.v3)):re.isQuadraticBezierCurve?(W(re.v0),W(re.v1),W(re.v2)):re.isEllipseCurve&&(ie&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),A.set(re.aX,re.aY),W(A),re.aX=A.x,re.aY=A.y,re.xRadius*=M(V),re.yRadius*=C(V))}}}function T(H){return H.elements[1]!==0||H.elements[3]!==0}function M(H){const V=H.elements;return Math.sqrt(V[0]*V[0]+V[1]*V[1])}function C(H){const V=H.elements;return Math.sqrt(V[3]*V[3]+V[4]*V[4])}const L=[],E={},O=[],F=new Ei,R=new Ei,$=new Ei,D=new Ei,A=new Ze,N=new De,P=new Ei,z=new DOMParser().parseFromString(e,"image/svg+xml");return i(z.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:L,xml:z.documentElement}}static createShapes(e){const i={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:i.ORIGIN,t:0};function s(v,y,b,x){const _=v.x,w=y.x,S=b.x,T=x.x,M=v.y,C=y.y,L=b.y,E=x.y,O=(T-S)*(M-L)-(E-L)*(_-S),F=(w-_)*(M-L)-(C-M)*(_-S),R=(E-L)*(w-_)-(T-S)*(C-M),$=O/R,D=F/R;if(R===0&&O!==0||$<=0||$>=1||D<0||D>1)return null;if(O===0&&R===0){for(let A=0;A<2;A++)if(o(A===0?b:x,v,y),r.loc==i.ORIGIN){const N=A===0?b:x;return{x:N.x,y:N.y,t:r.t}}else if(r.loc==i.BETWEEN){const N=+(_+r.t*(w-_)).toPrecision(10),P=+(M+r.t*(C-M)).toPrecision(10);return{x:N,y:P,t:r.t}}return null}else{for(let P=0;P<2;P++)if(o(P===0?b:x,v,y),r.loc==i.ORIGIN){const z=P===0?b:x;return{x:z.x,y:z.y,t:r.t}}const A=+(_+$*(w-_)).toPrecision(10),N=+(M+$*(C-M)).toPrecision(10);return{x:A,y:N,t:$}}}function o(v,y,b){const x=b.x-y.x,_=b.y-y.y,w=v.x-y.x,S=v.y-y.y,T=x*S-w*_;if(v.x===y.x&&v.y===y.y){r.loc=i.ORIGIN,r.t=0;return}if(v.x===b.x&&v.y===b.y){r.loc=i.DESTINATION,r.t=1;return}if(T<-Number.EPSILON){r.loc=i.LEFT;return}if(T>Number.EPSILON){r.loc=i.RIGHT;return}if(x*w<0||_*S<0){r.loc=i.BEHIND;return}if(Math.sqrt(x*x+_*_)<Math.sqrt(w*w+S*S)){r.loc=i.BEYOND;return}let M;x!==0?M=w/x:M=S/_,r.loc=i.BETWEEN,r.t=M}function a(v,y){const b=[],x=[];for(let _=1;_<v.length;_++){const w=v[_-1],S=v[_];for(let T=1;T<y.length;T++){const M=y[T-1],C=y[T],L=s(w,S,M,C);L!==null&&b.find(E=>E.t<=L.t+Number.EPSILON&&E.t>=L.t-Number.EPSILON)===void 0&&(b.push(L),x.push(new Ze(L.x,L.y)))}}return x}function l(v,y,b){const x=new Ze;y.getCenter(x);const _=[];return b.forEach(w=>{w.boundingBox.containsPoint(x)&&a(v,w.points).forEach(T=>{_.push({identifier:w.identifier,isCW:w.isCW,point:T})})}),_.sort((w,S)=>w.point.x-S.point.x),_}function c(v,y,b,x,_){(_==null||_==="")&&(_="nonzero");const w=new Ze;v.boundingBox.getCenter(w);const S=[new Ze(b,w.y),new Ze(x,w.y)],T=l(S,v.boundingBox,y);T.sort((F,R)=>F.point.x-R.point.x);const M=[],C=[];T.forEach(F=>{F.identifier===v.identifier?M.push(F):C.push(F)});const L=M[0].point.x,E=[];let O=0;for(;O<C.length&&C[O].point.x<L;)E.length>0&&E[E.length-1]===C[O].identifier?E.pop():E.push(C[O].identifier),O++;if(E.push(v.identifier),_==="evenodd"){const F=E.length%2===0,R=E[E.length-2];return{identifier:v.identifier,isHole:F,for:R}}else if(_==="nonzero"){let F=!0,R=null,$=null;for(let D=0;D<E.length;D++){const A=E[D];F?($=y[A].isCW,F=!1,R=A):$!==y[A].isCW&&($=y[A].isCW,F=!0)}return{identifier:v.identifier,isHole:F,for:R}}else console.warn('fill-rule: "'+_+'" is currently not implemented.')}let u=0,d=999999999,f=-999999999,h=e.subPaths.map(v=>{const y=v.getPoints();let b=-999999999,x=999999999,_=-999999999,w=999999999;for(let S=0;S<y.length;S++){const T=y[S];T.y>b&&(b=T.y),T.y<x&&(x=T.y),T.x>_&&(_=T.x),T.x<w&&(w=T.x)}return f<=_&&(f=_+1),d>=w&&(d=w-1),{curves:v.curves,points:y,isCW:Ma.isClockWise(y),identifier:u++,boundingBox:new gye(new Ze(w,x),new Ze(_,b))}});h=h.filter(v=>v.points.length>1);const g=h.map(v=>{var y;return c(v,h,d,f,(y=e.userData)==null?void 0:y.style.fillRule)}),m=[];return h.forEach(v=>{if(!g[v.identifier].isHole){const b=new Su;b.curves=v.curves,g.filter(_=>_.isHole&&_.for===v.identifier).forEach(_=>{const w=h[_.identifier],S=new wu;S.curves=w.curves,b.holes.push(S)}),m.push(b)}}),m}static getStrokeStyle(e,t,i,r,s){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",i=i!==void 0?i:"miter",r=r!==void 0?r:"butt",s=s!==void 0?s:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:i,strokeLineCap:r,strokeMiterLimit:s}}static pointsToStroke(e,t,i,r){const s=[],o=[],a=[];if(I1.pointsToStrokeWithBuffers(e,t,i,r,s,o,a)===0)return null;const l=new Yi;return l.setAttribute("position",new $n(s,3)),l.setAttribute("normal",new $n(o,3)),l.setAttribute("uv",new $n(a,2)),l}static pointsToStrokeWithBuffers(e,t,i,r,s,o,a,l){const c=new Ze,u=new Ze,d=new Ze,f=new Ze,h=new Ze,g=new Ze,m=new Ze,v=new Ze,y=new Ze,b=new Ze,x=new Ze,_=new Ze,w=new Ze,S=new Ze,T=new Ze,M=new Ze,C=new Ze;i=i!==void 0?i:12,r=r!==void 0?r:.001,l=l!==void 0?l:0,e=j(e);const L=e.length;if(L<2)return 0;const E=e[0].equals(e[L-1]);let O,F=e[0],R;const $=t.strokeWidth/2,D=1/(L-1);let A=0,N,P,z,Y,H=!1,V=0,W=l*3,ie=l*2;G(e[0],e[1],c).multiplyScalar($),v.copy(e[0]).sub(c),y.copy(e[0]).add(c),b.copy(v),x.copy(y);for(let Z=1;Z<L;Z++){O=e[Z],Z===L-1?E?R=e[1]:R=void 0:R=e[Z+1];const le=c;if(G(F,O,le),d.copy(le).multiplyScalar($),_.copy(O).sub(d),w.copy(O).add(d),N=A+D,P=!1,R!==void 0){G(O,R,u),d.copy(u).multiplyScalar($),S.copy(O).sub(d),T.copy(O).add(d),z=!0,d.subVectors(R,F),le.dot(d)<0&&(z=!1),Z===1&&(H=z),d.subVectors(R,O),d.normalize();const J=Math.abs(le.dot(d));if(J>Number.EPSILON){const k=$/J;d.multiplyScalar(-k),f.subVectors(O,F),h.copy(f).setLength(k).add(d),M.copy(h).negate();const q=h.length(),ce=f.length();f.divideScalar(ce),g.subVectors(R,O);const me=g.length();switch(g.divideScalar(me),f.dot(M)<ce&&g.dot(M)<me&&(P=!0),C.copy(h).add(O),M.add(O),Y=!1,P?z?(T.copy(M),w.copy(M)):(S.copy(M),_.copy(M)):xe(),t.strokeLineJoin){case"bevel":ue(z,P,N);break;case"round":we(z,P),z?oe(O,_,S,N,0):oe(O,T,w,N,1);break;case"miter":case"miter-clip":default:const Ce=$*t.strokeMiterLimit/q;if(Ce<1)if(t.strokeLineJoin!=="miter-clip"){ue(z,P,N);break}else we(z,P),z?(g.subVectors(C,_).multiplyScalar(Ce).add(_),m.subVectors(C,S).multiplyScalar(Ce).add(S),te(_,N,0),te(g,N,0),te(O,N,.5),te(O,N,.5),te(g,N,0),te(m,N,0),te(O,N,.5),te(m,N,0),te(S,N,0)):(g.subVectors(C,w).multiplyScalar(Ce).add(w),m.subVectors(C,T).multiplyScalar(Ce).add(T),te(w,N,1),te(g,N,1),te(O,N,.5),te(O,N,.5),te(g,N,1),te(m,N,1),te(O,N,.5),te(m,N,1),te(T,N,1));else P?(z?(te(y,A,1),te(v,A,0),te(C,N,0),te(y,A,1),te(C,N,0),te(M,N,1)):(te(y,A,1),te(v,A,0),te(C,N,1),te(v,A,0),te(M,N,0),te(C,N,1)),z?S.copy(C):T.copy(C)):z?(te(_,N,0),te(C,N,0),te(O,N,.5),te(O,N,.5),te(C,N,0),te(S,N,0)):(te(w,N,1),te(C,N,1),te(O,N,.5),te(O,N,.5),te(C,N,1),te(T,N,1)),Y=!0;break}}else xe()}else xe();!E&&Z===L-1&&re(e[0],b,x,z,!0,A),A=N,F=O,v.copy(S),y.copy(T)}if(!E)re(O,_,w,z,!1,N);else if(P&&s){let Z=C,le=M;H!==z&&(Z=M,le=C),z?(Y||H)&&(le.toArray(s,0*3),le.toArray(s,3*3),Y&&Z.toArray(s,1*3)):(Y||!H)&&(le.toArray(s,1*3),le.toArray(s,3*3),Y&&Z.toArray(s,0*3))}return V;function G(Z,le,J){return J.subVectors(le,Z),J.set(-J.y,J.x).normalize()}function te(Z,le,J){s&&(s[W]=Z.x,s[W+1]=Z.y,s[W+2]=0,o&&(o[W]=0,o[W+1]=0,o[W+2]=1),W+=3,a&&(a[ie]=le,a[ie+1]=J,ie+=2)),V+=3}function oe(Z,le,J,k,q){c.copy(le).sub(Z).normalize(),u.copy(J).sub(Z).normalize();let ce=Math.PI;const me=c.dot(u);Math.abs(me)<1&&(ce=Math.abs(Math.acos(me))),ce/=i,d.copy(le);for(let Ce=0,Q=i-1;Ce<Q;Ce++)f.copy(d).rotateAround(Z,ce),te(d,k,q),te(f,k,q),te(Z,k,.5),d.copy(f);te(f,k,q),te(J,k,q),te(Z,k,.5)}function xe(){te(y,A,1),te(v,A,0),te(_,N,0),te(y,A,1),te(_,N,1),te(w,N,0)}function ue(Z,le,J){le?Z?(te(y,A,1),te(v,A,0),te(_,N,0),te(y,A,1),te(_,N,0),te(M,N,1),te(_,J,0),te(S,J,0),te(M,J,.5)):(te(y,A,1),te(v,A,0),te(w,N,1),te(v,A,0),te(M,N,0),te(w,N,1),te(w,J,1),te(T,J,0),te(M,J,.5)):Z?(te(_,J,0),te(S,J,0),te(O,J,.5)):(te(w,J,1),te(T,J,0),te(O,J,.5))}function we(Z,le){le&&(Z?(te(y,A,1),te(v,A,0),te(_,N,0),te(y,A,1),te(_,N,0),te(M,N,1),te(_,A,0),te(O,N,.5),te(M,N,1),te(O,N,.5),te(S,A,0),te(M,N,1)):(te(y,A,1),te(v,A,0),te(w,N,1),te(v,A,0),te(M,N,0),te(w,N,1),te(w,A,1),te(M,N,0),te(O,N,.5),te(O,N,.5),te(M,N,0),te(T,A,1)))}function re(Z,le,J,k,q,ce){switch(t.strokeLineCap){case"round":q?oe(Z,J,le,ce,.5):oe(Z,le,J,ce,.5);break;case"square":if(q)c.subVectors(le,Z),u.set(c.y,-c.x),d.addVectors(c,u).add(Z),f.subVectors(u,c).add(Z),k?(d.toArray(s,1*3),f.toArray(s,0*3),f.toArray(s,3*3)):(d.toArray(s,1*3),d.toArray(s,3*3),f.toArray(s,0*3));else{c.subVectors(J,Z),u.set(c.y,-c.x),d.addVectors(c,u).add(Z),f.subVectors(u,c).add(Z);const me=s.length;k?(d.toArray(s,me-1*3),f.toArray(s,me-2*3),f.toArray(s,me-4*3)):(d.toArray(s,me-2*3),f.toArray(s,me-1*3),f.toArray(s,me-4*3))}break}}function j(Z){let le=!1;for(let k=1,q=Z.length-1;k<q;k++)if(Z[k].distanceTo(Z[k+1])<r){le=!0;break}if(!le)return Z;const J=[];J.push(Z[0]);for(let k=1,q=Z.length-1;k<q;k++)Z[k].distanceTo(Z[k+1])>=r&&J.push(Z[k]);return J.push(Z[Z.length-1]),J}}}class abe extends F0e{constructor(e,t={}){const i=t.font;if(i===void 0)super();else{const r=i.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const fN="132",lbe=0,S2=1,cbe=2,hN=1,ube=2,af=3,vh=0,Jn=1,id=2,pN=1,Ta=0,Af=1,M2=2,T2=3,E2=4,dbe=5,eu=100,fbe=101,hbe=102,C2=103,A2=104,pbe=200,mbe=201,gbe=202,vbe=203,mN=204,gN=205,ybe=206,bbe=207,_be=208,xbe=209,wbe=210,Sbe=0,Mbe=1,Tbe=2,J_=3,Ebe=4,Cbe=5,Abe=6,Lbe=7,Uv=0,Rbe=1,Pbe=2,Ol=0,Ibe=1,kbe=2,Dbe=3,Nbe=4,Obe=5,vN=300,Wv=301,Gv=302,Q_=303,ex=304,jv=306,k1=307,tx=1e3,_r=1001,nx=1002,ui=1003,L2=1004,R2=1005,Or=1006,Fbe=1007,Kv=1008,rd=1009,Bbe=1010,zbe=1011,Wg=1012,$be=1013,lg=1014,gl=1015,Mu=1016,Vbe=1017,Hbe=1018,Ube=1019,Lf=1020,Wbe=1021,Ea=1022,Tr=1023,Gbe=1024,jbe=1025,Kbe=Tr,Tu=1026,yh=1027,qbe=1028,Ybe=1029,Xbe=1030,Zbe=1031,Jbe=1032,Qbe=1033,P2=33776,I2=33777,k2=33778,D2=33779,N2=35840,O2=35841,F2=35842,B2=35843,e_e=36196,z2=37492,$2=37496,t_e=37808,n_e=37809,i_e=37810,r_e=37811,s_e=37812,o_e=37813,a_e=37814,l_e=37815,c_e=37816,u_e=37817,d_e=37818,f_e=37819,h_e=37820,p_e=37821,m_e=36492,g_e=37840,v_e=37841,y_e=37842,b_e=37843,__e=37844,x_e=37845,w_e=37846,S_e=37847,M_e=37848,T_e=37849,E_e=37850,C_e=37851,A_e=37852,L_e=37853,R_e=2200,P_e=2201,I_e=2202,Gg=2300,jg=2301,Cy=2302,lu=2400,cu=2401,Kg=2402,D1=2500,yN=2501,k_e=0,ur=3e3,qv=3001,N1=3007,O1=3002,D_e=3003,bN=3004,_N=3005,xN=3006,N_e=3200,O_e=3201,_d=0,F_e=1,Ay=7680,B_e=519,go=35044,ya=35048,V2="300 es";class oc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const hi=[];for(let n=0;n<256;n++)hi[n]=(n<16?"0":"")+n.toString(16);const Ly=Math.PI/180,ix=180/Math.PI;function ks(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(hi[n&255]+hi[n>>8&255]+hi[n>>16&255]+hi[n>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[t&63|128]+hi[t>>8&255]+"-"+hi[t>>16&255]+hi[t>>24&255]+hi[i&255]+hi[i>>8&255]+hi[i>>16&255]+hi[i>>24&255]).toUpperCase()}function br(n,e,t){return Math.max(e,Math.min(t,n))}function z_e(n,e){return(n%e+e)%e}function Ry(n,e,t){return(1-t)*n+t*e}function H2(n){return(n&n-1)===0&&n!==0}function $_e(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class gt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}gt.prototype.isVector2=!0;class vi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],g=i[8],m=r[0],v=r[3],y=r[6],b=r[1],x=r[4],_=r[7],w=r[2],S=r[5],T=r[8];return s[0]=o*m+a*b+l*w,s[3]=o*v+a*x+l*S,s[6]=o*y+a*_+l*T,s[1]=c*m+u*b+d*w,s[4]=c*v+u*x+d*S,s[7]=c*y+u*_+d*T,s[2]=f*m+h*b+g*w,s[5]=f*v+h*x+g*S,s[8]=f*y+h*_+g*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,h=c*s-o*l,g=t*d+i*f+r*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return e[0]=d*m,e[1]=(r*c-u*i)*m,e[2]=(a*i-r*o)*m,e[3]=f*m,e[4]=(u*t-r*l)*m,e[5]=(r*s-a*t)*m,e[6]=h*m,e[7]=(i*l-c*t)*m,e[8]=(o*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*o+i*c,r[6]=t*a+i*u,r[1]=-i*s+t*l,r[4]=-i*o+t*c,r[7]=-i*a+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}vi.prototype.isMatrix3=!0;let Cc;class xd{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Cc===void 0&&(Cc=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Cc.width=e.width,Cc.height=e.height;const i=Cc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Cc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let V_e=0;class wi extends oc{constructor(e=wi.DEFAULT_IMAGE,t=wi.DEFAULT_MAPPING,i=_r,r=_r,s=Or,o=Kv,a=Tr,l=rd,c=1,u=ur){super(),Object.defineProperty(this,"id",{value:V_e++}),this.uuid=ks(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new gt(0,0),this.repeat=new gt(1,1),this.center=new gt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=ks()),!t&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Py(r[o].image)):s.push(Py(r[o]))}else s=Py(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vN)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tx:e.x=e.x-Math.floor(e.x);break;case _r:e.x=e.x<0?0:1;break;case nx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tx:e.y=e.y-Math.floor(e.y);break;case _r:e.y=e.y<0?0:1;break;case nx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}wi.DEFAULT_IMAGE=void 0;wi.DEFAULT_MAPPING=vN;wi.prototype.isTexture=!0;function Py(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xd.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class _n{constructor(e=0,t=0,i=0,r=1){this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],g=l[9],m=l[2],v=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(g+v)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(c+1)/2,_=(h+1)/2,w=(y+1)/2,S=(u+f)/4,T=(d+m)/4,M=(g+v)/4;return x>_&&x>w?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=S/i,s=T/i):_>w?_<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(_),i=S/r,s=M/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=T/s,r=M/s),this.set(i,r,s,t),this}let b=Math.sqrt((v-g)*(v-g)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(v-g)/b,this.y=(d-m)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}_n.prototype.isVector4=!0;class Ds extends oc{constructor(e,t,i={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new _n(0,0,e,t),this.scissorTest=!1,this.viewport=new _n(0,0,e,t),this.texture=new wi(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Or,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ds.prototype.isWebGLRenderTarget=!0;class H_e extends Ds{constructor(e,t,i){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}H_e.prototype.isWebGLMultipleRenderTargets=!0;class wN extends Ds{constructor(e,t,i){super(e,t,i),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}wN.prototype.isWebGLMultisampleRenderTarget=!0;class ar{constructor(e=0,t=0,i=0,r=1){this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],h=s[o+1],g=s[o+2],m=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=f,e[t+1]=h,e[t+2]=g,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==g){let v=1-a;const y=l*f+c*h+u*g+d*m,b=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const w=Math.sqrt(x),S=Math.atan2(w,y*b);v=Math.sin(v*S)/w,a=Math.sin(a*S)/w}const _=a*b;if(l=l*v+f*_,c=c*v+h*_,u=u*v+g*_,d=d*v+m*_,v===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],h=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*h-c*f,e[t+1]=l*g+u*f+c*d-a*h,e[t+2]=c*g+u*h+a*f-l*d,e[t+3]=u*g-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),h=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"YXZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"ZXY":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"ZYX":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"YZX":this._x=f*u*d+c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d-f*h*g;break;case"XZY":this._x=f*u*d-c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=i+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-r)*h}else if(i>a&&i>d){const h=2*Math.sqrt(1+i-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(s+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-i-d);this._w=(s-c)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-a);this._w=(o-r)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(br(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){this.copy(e).slerp(t,i)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ar.prototype.isQuaternion=!0;class Fe{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(U2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(U2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Iy.copy(this).projectOnVector(e),this.sub(Iy)}reflect(e){return this.sub(Iy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(br(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Fe.prototype.isVector3=!0;const Iy=new Fe,U2=new ar;class _s{constructor(e=new Fe(1/0,1/0,1/0),t=new Fe(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<i&&(i=d),f<r&&(r=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<i&&(i=d),f<r&&(r=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Gd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),ky.copy(t.boundingBox),ky.applyMatrix4(e.matrixWorld),this.union(ky));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Gd),Gd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jd),Zp.subVectors(this.max,jd),Ac.subVectors(e.a,jd),Lc.subVectors(e.b,jd),Rc.subVectors(e.c,jd),Yo.subVectors(Lc,Ac),Xo.subVectors(Rc,Lc),rl.subVectors(Ac,Rc);let t=[0,-Yo.z,Yo.y,0,-Xo.z,Xo.y,0,-rl.z,rl.y,Yo.z,0,-Yo.x,Xo.z,0,-Xo.x,rl.z,0,-rl.x,-Yo.y,Yo.x,0,-Xo.y,Xo.x,0,-rl.y,rl.x,0];return!Dy(t,Ac,Lc,Rc,Zp)||(t=[1,0,0,0,1,0,0,0,1],!Dy(t,Ac,Lc,Rc,Zp))?!1:(Jp.crossVectors(Yo,Xo),t=[Jp.x,Jp.y,Jp.z],Dy(t,Ac,Lc,Rc,Zp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Gd.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Gd).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(no[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),no[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),no[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),no[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),no[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),no[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),no[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),no[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(no),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}_s.prototype.isBox3=!0;const no=[new Fe,new Fe,new Fe,new Fe,new Fe,new Fe,new Fe,new Fe],Gd=new Fe,ky=new _s,Ac=new Fe,Lc=new Fe,Rc=new Fe,Yo=new Fe,Xo=new Fe,rl=new Fe,jd=new Fe,Zp=new Fe,Jp=new Fe,sl=new Fe;function Dy(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){sl.fromArray(n,s);const a=r.x*Math.abs(sl.x)+r.y*Math.abs(sl.y)+r.z*Math.abs(sl.z),l=e.dot(sl),c=t.dot(sl),u=i.dot(sl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const U_e=new _s,W2=new Fe,Ny=new Fe,Oy=new Fe;class wd{constructor(e=new Fe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):U_e.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Oy.subVectors(e,this.center);const t=Oy.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(Oy.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return Ny.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(W2.copy(e.center).add(Ny)),this.expandByPoint(W2.copy(e.center).sub(Ny)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const io=new Fe,Fy=new Fe,Qp=new Fe,Zo=new Fe,By=new Fe,em=new Fe,zy=new Fe;class Sd{constructor(e=new Fe,t=new Fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,io)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=io.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(io.copy(this.direction).multiplyScalar(t).add(this.origin),io.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Fy.copy(e).add(t).multiplyScalar(.5),Qp.copy(t).sub(e).normalize(),Zo.copy(this.origin).sub(Fy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Qp),a=Zo.dot(this.direction),l=-Zo.dot(Qp),c=Zo.lengthSq(),u=Math.abs(1-o*o);let d,f,h,g;if(u>0)if(d=o*l-a,f=o*a-l,g=s*u,d>=0)if(f>=-g)if(f<=g){const m=1/u;d*=m,f*=m,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(Qp).multiplyScalar(f).add(Fy),h}intersectSphere(e,t){io.subVectors(e.center,this.origin);const i=io.dot(this.direction),r=io.dot(io)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,io)!==null}intersectTriangle(e,t,i,r,s){By.subVectors(t,e),em.subVectors(i,e),zy.crossVectors(By,em);let o=this.direction.dot(zy),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Zo.subVectors(this.origin,e);const l=a*this.direction.dot(em.crossVectors(Zo,em));if(l<0)return null;const c=a*this.direction.dot(By.cross(Zo));if(c<0||l+c>o)return null;const u=-a*Zo.dot(zy);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $t{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c,u,d,f,h,g,m,v){const y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=r,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=g,y[11]=m,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $t().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Pc.setFromMatrixColumn(e,0).length(),s=1/Pc.setFromMatrixColumn(e,1).length(),o=1/Pc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,h=o*d,g=a*u,m=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+g*c,t[5]=f-m*c,t[9]=-a*l,t[2]=m-f*c,t[6]=g+h*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,g=c*u,m=c*d;t[0]=f+m*a,t[4]=g*a-h,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=h*a-g,t[6]=m+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,g=c*u,m=c*d;t[0]=f-m*a,t[4]=-o*d,t[8]=g+h*a,t[1]=h+g*a,t[5]=o*u,t[9]=m-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*u,h=o*d,g=a*u,m=a*d;t[0]=l*u,t[4]=g*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,g=a*l,m=a*c;t[0]=l*u,t[4]=m-f*d,t[8]=g*d+h,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=h*d+g,t[10]=f-m*d}else if(e.order==="XZY"){const f=o*l,h=o*c,g=a*l,m=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=o*u,t[9]=h*d-g,t[2]=g*d-h,t[6]=a*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(W_e,e,G_e)}lookAt(e,t,i){const r=this.elements;return mr.subVectors(e,t),mr.lengthSq()===0&&(mr.z=1),mr.normalize(),Jo.crossVectors(i,mr),Jo.lengthSq()===0&&(Math.abs(i.z)===1?mr.x+=1e-4:mr.z+=1e-4,mr.normalize(),Jo.crossVectors(i,mr)),Jo.normalize(),tm.crossVectors(mr,Jo),r[0]=Jo.x,r[4]=tm.x,r[8]=mr.x,r[1]=Jo.y,r[5]=tm.y,r[9]=mr.y,r[2]=Jo.z,r[6]=tm.z,r[10]=mr.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],g=i[2],m=i[6],v=i[10],y=i[14],b=i[3],x=i[7],_=i[11],w=i[15],S=r[0],T=r[4],M=r[8],C=r[12],L=r[1],E=r[5],O=r[9],F=r[13],R=r[2],$=r[6],D=r[10],A=r[14],N=r[3],P=r[7],z=r[11],Y=r[15];return s[0]=o*S+a*L+l*R+c*N,s[4]=o*T+a*E+l*$+c*P,s[8]=o*M+a*O+l*D+c*z,s[12]=o*C+a*F+l*A+c*Y,s[1]=u*S+d*L+f*R+h*N,s[5]=u*T+d*E+f*$+h*P,s[9]=u*M+d*O+f*D+h*z,s[13]=u*C+d*F+f*A+h*Y,s[2]=g*S+m*L+v*R+y*N,s[6]=g*T+m*E+v*$+y*P,s[10]=g*M+m*O+v*D+y*z,s[14]=g*C+m*F+v*A+y*Y,s[3]=b*S+x*L+_*R+w*N,s[7]=b*T+x*E+_*$+w*P,s[11]=b*M+x*O+_*D+w*z,s[15]=b*C+x*F+_*A+w*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],g=e[3],m=e[7],v=e[11],y=e[15];return g*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*h-i*l*h)+m*(+t*l*h-t*c*f+s*o*f-r*o*h+r*c*u-s*l*u)+v*(+t*c*d-t*a*h-s*o*d+i*o*h+s*a*u-i*c*u)+y*(-r*a*u-t*l*d+t*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=d*v*c-m*f*c+m*l*h-a*v*h-d*l*y+a*f*y,x=g*f*c-u*v*c-g*l*h+o*v*h+u*l*y-o*f*y,_=u*m*c-g*d*c+g*a*h-o*m*h-u*a*y+o*d*y,w=g*d*l-u*m*l-g*a*f+o*m*f+u*a*v-o*d*v,S=t*b+i*x+r*_+s*w;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=b*T,e[1]=(m*f*s-d*v*s-m*r*h+i*v*h+d*r*y-i*f*y)*T,e[2]=(a*v*s-m*l*s+m*r*c-i*v*c-a*r*y+i*l*y)*T,e[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*h-i*l*h)*T,e[4]=x*T,e[5]=(u*v*s-g*f*s+g*r*h-t*v*h-u*r*y+t*f*y)*T,e[6]=(g*l*s-o*v*s-g*r*c+t*v*c+o*r*y-t*l*y)*T,e[7]=(o*f*s-u*l*s+u*r*c-t*f*c-o*r*h+t*l*h)*T,e[8]=_*T,e[9]=(g*d*s-u*m*s-g*i*h+t*m*h+u*i*y-t*d*y)*T,e[10]=(o*m*s-g*a*s+g*i*c-t*m*c-o*i*y+t*a*y)*T,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*h-t*a*h)*T,e[12]=w*T,e[13]=(u*m*r-g*d*r+g*i*f-t*m*f-u*i*v+t*d*v)*T,e[14]=(g*a*r-o*m*r-g*i*l+t*m*l+o*i*v-t*a*v)*T,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*f+t*a*f)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,g=s*d,m=o*u,v=o*d,y=a*d,b=l*c,x=l*u,_=l*d,w=i.x,S=i.y,T=i.z;return r[0]=(1-(m+y))*w,r[1]=(h+_)*w,r[2]=(g-x)*w,r[3]=0,r[4]=(h-_)*S,r[5]=(1-(f+y))*S,r[6]=(v+b)*S,r[7]=0,r[8]=(g+x)*T,r[9]=(v-b)*T,r[10]=(1-(f+m))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Pc.set(r[0],r[1],r[2]).length();const o=Pc.set(r[4],r[5],r[6]).length(),a=Pc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],es.copy(this);const c=1/s,u=1/o,d=1/a;return es.elements[0]*=c,es.elements[1]*=c,es.elements[2]*=c,es.elements[4]*=u,es.elements[5]*=u,es.elements[6]*=u,es.elements[8]*=d,es.elements[9]*=d,es.elements[10]*=d,t.setFromRotationMatrix(es),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r),f=-(o+s)/(o-s),h=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),d=(t+e)*l,f=(i+r)*c,h=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}$t.prototype.isMatrix4=!0;const Pc=new Fe,es=new $t,W_e=new Fe(0,0,0),G_e=new Fe(1,1,1),Jo=new Fe,tm=new Fe,mr=new Fe,G2=new $t,j2=new ar;class Md{constructor(e=0,t=0,i=0,r=Md.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],f=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(br(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-br(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(br(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-br(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return G2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(G2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return j2.setFromEuler(this),this.setFromQuaternion(j2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Fe(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Md.prototype.isEuler=!0;Md.DefaultOrder="XYZ";Md.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class j_e{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let K_e=0;const K2=new Fe,Ic=new ar,ro=new $t,nm=new Fe,Kd=new Fe,q_e=new Fe,Y_e=new ar,q2=new Fe(1,0,0),Y2=new Fe(0,1,0),X2=new Fe(0,0,1),X_e={type:"added"},Z2={type:"removed"};class fn extends oc{constructor(){super(),Object.defineProperty(this,"id",{value:K_e++}),this.uuid=ks(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fn.DefaultUp.clone();const e=new Fe,t=new Md,i=new ar,r=new Fe(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $t},normalMatrix:{value:new vi}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=fn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new j_e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ic.setFromAxisAngle(e,t),this.quaternion.multiply(Ic),this}rotateOnWorldAxis(e,t){return Ic.setFromAxisAngle(e,t),this.quaternion.premultiply(Ic),this}rotateX(e){return this.rotateOnAxis(q2,e)}rotateY(e){return this.rotateOnAxis(Y2,e)}rotateZ(e){return this.rotateOnAxis(X2,e)}translateOnAxis(e,t){return K2.copy(e).applyQuaternion(this.quaternion),this.position.add(K2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(q2,e)}translateY(e){return this.translateOnAxis(Y2,e)}translateZ(e){return this.translateOnAxis(X2,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ro.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?nm.copy(e):nm.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Kd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ro.lookAt(Kd,nm,this.up):ro.lookAt(nm,Kd,this.up),this.quaternion.setFromRotationMatrix(ro),r&&(ro.extractRotation(r.matrixWorld),Ic.setFromRotationMatrix(ro),this.quaternion.premultiply(Ic.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(X_e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Z2)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Z2)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ro.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ro.multiply(e.parent.matrixWorld)),e.applyMatrix4(ro),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kd,e,q_e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kd,Y_e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),h=o(e.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}fn.DefaultUp=new Fe(0,1,0);fn.DefaultMatrixAutoUpdate=!0;fn.prototype.isObject3D=!0;const ts=new Fe,so=new Fe,$y=new Fe,oo=new Fe,kc=new Fe,Dc=new Fe,J2=new Fe,Vy=new Fe,Hy=new Fe,Uy=new Fe;class Qn{constructor(e=new Fe,t=new Fe,i=new Fe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ts.subVectors(e,t),r.cross(ts);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){ts.subVectors(r,t),so.subVectors(i,t),$y.subVectors(e,t);const o=ts.dot(ts),a=ts.dot(so),l=ts.dot($y),c=so.dot(so),u=so.dot($y),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,h=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-h-g,g,h)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,oo),oo.x>=0&&oo.y>=0&&oo.x+oo.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,oo),l.set(0,0),l.addScaledVector(s,oo.x),l.addScaledVector(o,oo.y),l.addScaledVector(a,oo.z),l}static isFrontFacing(e,t,i,r){return ts.subVectors(i,t),so.subVectors(e,t),ts.cross(so).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ts.subVectors(this.c,this.b),so.subVectors(this.a,this.b),ts.cross(so).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Qn.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Qn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;kc.subVectors(r,i),Dc.subVectors(s,i),Vy.subVectors(e,i);const l=kc.dot(Vy),c=Dc.dot(Vy);if(l<=0&&c<=0)return t.copy(i);Hy.subVectors(e,r);const u=kc.dot(Hy),d=Dc.dot(Hy);if(u>=0&&d<=u)return t.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(kc,o);Uy.subVectors(e,s);const h=kc.dot(Uy),g=Dc.dot(Uy);if(g>=0&&h<=g)return t.copy(s);const m=h*c-l*g;if(m<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(i).addScaledVector(Dc,a);const v=u*g-h*d;if(v<=0&&d-u>=0&&h-g>=0)return J2.subVectors(s,r),a=(d-u)/(d-u+(h-g)),t.copy(r).addScaledVector(J2,a);const y=1/(v+m+f);return o=m*y,a=f*y,t.copy(i).addScaledVector(kc,o).addScaledVector(Dc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Z_e=0;class Ii extends oc{constructor(){super(),Object.defineProperty(this,"id",{value:Z_e++}),this.uuid=ks(),this.name="",this.type="Material",this.fog=!0,this.blending=Af,this.side=vh,this.vertexColors=!1,this.opacity=1,this.format=Tr,this.transparent=!1,this.blendSrc=mN,this.blendDst=gN,this.blendEquation=eu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=J_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=B_e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ay,this.stencilZFail=Ay,this.stencilZPass=Ay,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===pN;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(i.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(i.specularTint=this.specularTint.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(i.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationTint!==void 0&&(i.attenuationTint=this.attenuationTint.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Af&&(i.blending=this.blending),this.side!==vh&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==Tr&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Ii.prototype.isMaterial=!0;const SN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ns={h:0,s:0,l:0},im={h:0,s:0,l:0};function Wy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Gy(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function jy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class Nt{constructor(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=z_e(e,1),t=br(t,0,1),i=br(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,s=2*i-r;this.r=Wy(s,r,e+1/3),this.g=Wy(s,r,e),this.b=Wy(s,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=SN[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Gy(e.r),this.g=Gy(e.g),this.b=Gy(e.b),this}copyLinearToSRGB(e){return this.r=jy(e.r),this.g=jy(e.g),this.b=jy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,i=this.g,r=this.b,s=Math.max(t,i,r),o=Math.min(t,i,r);let a,l;const c=(o+s)/2;if(o===s)a=0,l=0;else{const u=s-o;switch(l=c<=.5?u/(s+o):u/(2-s-o),s){case t:a=(i-r)/u+(i<r?6:0);break;case i:a=(r-t)/u+2;break;case r:a=(t-i)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,i){return this.getHSL(ns),ns.h+=e,ns.s+=t,ns.l+=i,this.setHSL(ns.h,ns.s,ns.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ns),e.getHSL(im);const i=Ry(ns.h,im.h,t),r=Ry(ns.s,im.s,t),s=Ry(ns.l,im.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Nt.NAMES=SN;Nt.prototype.isColor=!0;Nt.prototype.r=1;Nt.prototype.g=1;Nt.prototype.b=1;class F1 extends Ii{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}F1.prototype.isMeshBasicMaterial=!0;const Mn=new Fe,rm=new gt;class mn{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=go,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Nt),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new gt),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Fe),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new _n),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)rm.fromBufferAttribute(this,t),rm.applyMatrix3(e),this.setXY(t,rm.x,rm.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Mn.fromBufferAttribute(this,t),Mn.applyMatrix3(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Mn.x=this.getX(t),Mn.y=this.getY(t),Mn.z=this.getZ(t),Mn.applyMatrix4(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Mn.x=this.getX(t),Mn.y=this.getY(t),Mn.z=this.getZ(t),Mn.applyNormalMatrix(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Mn.x=this.getX(t),Mn.y=this.getY(t),Mn.z=this.getZ(t),Mn.transformDirection(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==go&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}mn.prototype.isBufferAttribute=!0;class qg extends mn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Yg extends mn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class J_e extends mn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}J_e.prototype.isFloat16BufferAttribute=!0;class di extends mn{constructor(e,t,i){super(new Float32Array(e),t,i)}}function MN(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,i=n.length;t<i;++t)n[t]>e&&(e=n[t]);return e}let Q_e=0;const Rr=new $t,Ky=new fn,Nc=new Fe,gr=new _s,qd=new _s,ai=new Fe;class An extends oc{constructor(){super(),Object.defineProperty(this,"id",{value:Q_e++}),this.uuid=ks(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(MN(e)>65535?Yg:qg)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new vi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rr.makeRotationFromQuaternion(e),this.applyMatrix4(Rr),this}rotateX(e){return Rr.makeRotationX(e),this.applyMatrix4(Rr),this}rotateY(e){return Rr.makeRotationY(e),this.applyMatrix4(Rr),this}rotateZ(e){return Rr.makeRotationZ(e),this.applyMatrix4(Rr),this}translate(e,t,i){return Rr.makeTranslation(e,t,i),this.applyMatrix4(Rr),this}scale(e,t,i){return Rr.makeScale(e,t,i),this.applyMatrix4(Rr),this}lookAt(e){return Ky.lookAt(e),Ky.updateMatrix(),this.applyMatrix4(Ky.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nc).negate(),this.translate(Nc.x,Nc.y,Nc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new di(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _s);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Fe(-1/0,-1/0,-1/0),new Fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];gr.setFromBufferAttribute(s),this.morphTargetsRelative?(ai.addVectors(this.boundingBox.min,gr.min),this.boundingBox.expandByPoint(ai),ai.addVectors(this.boundingBox.max,gr.max),this.boundingBox.expandByPoint(ai)):(this.boundingBox.expandByPoint(gr.min),this.boundingBox.expandByPoint(gr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Fe,1/0);return}if(e){const i=this.boundingSphere.center;if(gr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];qd.setFromBufferAttribute(a),this.morphTargetsRelative?(ai.addVectors(gr.min,qd.min),gr.expandByPoint(ai),ai.addVectors(gr.max,qd.max),gr.expandByPoint(ai)):(gr.expandByPoint(qd.min),gr.expandByPoint(qd.max))}gr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ai.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ai));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ai.fromBufferAttribute(a,c),l&&(Nc.fromBufferAttribute(e,c),ai.add(Nc)),r=Math.max(r,i.distanceToSquared(ai))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new mn(new Float32Array(4*a),4));const l=t.tangent.array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new Fe,u[L]=new Fe;const d=new Fe,f=new Fe,h=new Fe,g=new gt,m=new gt,v=new gt,y=new Fe,b=new Fe;function x(L,E,O){d.fromArray(r,L*3),f.fromArray(r,E*3),h.fromArray(r,O*3),g.fromArray(o,L*2),m.fromArray(o,E*2),v.fromArray(o,O*2),f.sub(d),h.sub(d),m.sub(g),v.sub(g);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(y.copy(f).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(F),b.copy(h).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(F),c[L].add(y),c[E].add(y),c[O].add(y),u[L].add(b),u[E].add(b),u[O].add(b))}let _=this.groups;_.length===0&&(_=[{start:0,count:i.length}]);for(let L=0,E=_.length;L<E;++L){const O=_[L],F=O.start,R=O.count;for(let $=F,D=F+R;$<D;$+=3)x(i[$+0],i[$+1],i[$+2])}const w=new Fe,S=new Fe,T=new Fe,M=new Fe;function C(L){T.fromArray(s,L*3),M.copy(T);const E=c[L];w.copy(E),w.sub(T.multiplyScalar(T.dot(E))).normalize(),S.crossVectors(M,E);const F=S.dot(u[L])<0?-1:1;l[L*4]=w.x,l[L*4+1]=w.y,l[L*4+2]=w.z,l[L*4+3]=F}for(let L=0,E=_.length;L<E;++L){const O=_[L],F=O.start,R=O.count;for(let $=F,D=F+R;$<D;$+=3)C(i[$+0]),C(i[$+1]),C(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new mn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new Fe,s=new Fe,o=new Fe,a=new Fe,l=new Fe,c=new Fe,u=new Fe,d=new Fe;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let d=0,f=c;d<u;d++,f++)o[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ai.fromBufferAttribute(e,t),ai.normalize(),e.setXYZ(t,ai.x,ai.y,ai.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let m=0,v=l.length;m<v;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let y=0;y<u;y++)f[g++]=c[h++]}return new mn(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new An,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,i);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new An().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}An.prototype.isBufferGeometry=!0;const Q2=new $t,Oc=new Sd,qy=new wd,Qo=new Fe,ea=new Fe,ta=new Fe,Yy=new Fe,Xy=new Fe,Zy=new Fe,sm=new Fe,om=new Fe,am=new Fe,lm=new gt,cm=new gt,um=new gt,Jy=new Fe,dm=new Fe;class ir extends fn{constructor(e=new An,t=new F1){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),qy.copy(i.boundingSphere),qy.applyMatrix4(s),e.ray.intersectsSphere(qy)===!1)||(Q2.copy(s).invert(),Oc.copy(e.ray).applyMatrix4(Q2),i.boundingBox!==null&&Oc.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,d=i.attributes.uv,f=i.attributes.uv2,h=i.groups,g=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],b=r[y.materialIndex],x=Math.max(y.start,g.start),_=Math.min(y.start+y.count,g.start+g.count);for(let w=x,S=_;w<S;w+=3){const T=a.getX(w),M=a.getX(w+1),C=a.getX(w+2);o=fm(this,b,e,Oc,l,c,u,d,f,T,M,C),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let y=m,b=v;y<b;y+=3){const x=a.getX(y),_=a.getX(y+1),w=a.getX(y+2);o=fm(this,r,e,Oc,l,c,u,d,f,x,_,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],b=r[y.materialIndex],x=Math.max(y.start,g.start),_=Math.min(y.start+y.count,g.start+g.count);for(let w=x,S=_;w<S;w+=3){const T=w,M=w+1,C=w+2;o=fm(this,b,e,Oc,l,c,u,d,f,T,M,C),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let y=m,b=v;y<b;y+=3){const x=y,_=y+1,w=y+2;o=fm(this,r,e,Oc,l,c,u,d,f,x,_,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ir.prototype.isMesh=!0;function exe(n,e,t,i,r,s,o,a){let l;if(e.side===Jn?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==id,a),l===null)return null;dm.copy(a),dm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(dm);return c<t.near||c>t.far?null:{distance:c,point:dm.clone(),object:n}}function fm(n,e,t,i,r,s,o,a,l,c,u,d){Qo.fromBufferAttribute(r,c),ea.fromBufferAttribute(r,u),ta.fromBufferAttribute(r,d);const f=n.morphTargetInfluences;if(s&&f){sm.set(0,0,0),om.set(0,0,0),am.set(0,0,0);for(let g=0,m=s.length;g<m;g++){const v=f[g],y=s[g];v!==0&&(Yy.fromBufferAttribute(y,c),Xy.fromBufferAttribute(y,u),Zy.fromBufferAttribute(y,d),o?(sm.addScaledVector(Yy,v),om.addScaledVector(Xy,v),am.addScaledVector(Zy,v)):(sm.addScaledVector(Yy.sub(Qo),v),om.addScaledVector(Xy.sub(ea),v),am.addScaledVector(Zy.sub(ta),v)))}Qo.add(sm),ea.add(om),ta.add(am)}n.isSkinnedMesh&&(n.boneTransform(c,Qo),n.boneTransform(u,ea),n.boneTransform(d,ta));const h=exe(n,e,t,i,Qo,ea,ta,Jy);if(h){a&&(lm.fromBufferAttribute(a,c),cm.fromBufferAttribute(a,u),um.fromBufferAttribute(a,d),h.uv=Qn.getUV(Jy,Qo,ea,ta,lm,cm,um,new gt)),l&&(lm.fromBufferAttribute(l,c),cm.fromBufferAttribute(l,u),um.fromBufferAttribute(l,d),h.uv2=Qn.getUV(Jy,Qo,ea,ta,lm,cm,um,new gt));const g={a:c,b:u,c:d,normal:new Fe,materialIndex:0};Qn.getNormal(Qo,ea,ta,g.normal),h.face=g}return h}class qh extends An{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new di(c,3)),this.setAttribute("normal",new di(u,3)),this.setAttribute("uv",new di(d,2));function g(m,v,y,b,x,_,w,S,T,M,C){const L=_/T,E=w/M,O=_/2,F=w/2,R=S/2,$=T+1,D=M+1;let A=0,N=0;const P=new Fe;for(let z=0;z<D;z++){const Y=z*E-F;for(let H=0;H<$;H++){const V=H*L-O;P[m]=V*b,P[v]=Y*x,P[y]=R,c.push(P.x,P.y,P.z),P[m]=0,P[v]=0,P[y]=S>0?1:-1,u.push(P.x,P.y,P.z),d.push(H/T),d.push(1-z/M),A+=1}}for(let z=0;z<M;z++)for(let Y=0;Y<T;Y++){const H=f+Y+$*z,V=f+Y+$*(z+1),W=f+(Y+1)+$*(z+1),ie=f+(Y+1)+$*z;l.push(H,V,ie),l.push(V,W,ie),N+=6}a.addGroup(h,N,C),h+=N,f+=A}}static fromJSON(e){return new qh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sd(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ti(n){const e={};for(let t=0;t<n.length;t++){const i=sd(n[t]);for(const r in i)e[r]=i[r]}return e}const txe={clone:sd,merge:Ti};var nxe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ixe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ql extends Ii{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=nxe,this.fragmentShader=ixe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sd(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}ql.prototype.isShaderMaterial=!0;class B1 extends fn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}B1.prototype.isCamera=!0;class er extends B1{constructor(e=50,t=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ix*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ly*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ix*2*Math.atan(Math.tan(Ly*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ly*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}er.prototype.isPerspectiveCamera=!0;const Fc=90,Bc=1;class z1 extends fn{constructor(e,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new er(Fc,Bc,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Fe(1,0,0)),this.add(r);const s=new er(Fc,Bc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Fe(-1,0,0)),this.add(s);const o=new er(Fc,Bc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Fe(0,1,0)),this.add(o);const a=new er(Fc,Bc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Fe(0,-1,0)),this.add(a);const l=new er(Fc,Bc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Fe(0,0,1)),this.add(l);const c=new er(Fc,Bc,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Fe(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=u}}class Yv extends wi{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Wv,a=a!==void 0?a:Ea,super(e,t,i,r,s,o,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Yv.prototype.isCubeTexture=!0;class TN extends Ds{constructor(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),super(e,e,t),t=t||{},this.texture=new Yv(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Or,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Tr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new qh(5,5,5),s=new ql({name:"CubemapFromEquirect",uniforms:sd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Jn,blending:Ta});s.uniforms.tEquirect.value=t;const o=new ir(r,s),a=t.minFilter;return t.minFilter===Kv&&(t.minFilter=Or),new z1(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}TN.prototype.isWebGLCubeRenderTarget=!0;const Qy=new Fe,rxe=new Fe,sxe=new vi;class uo{constructor(e=new Fe(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Qy.subVectors(i,t).cross(rxe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Qy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||sxe.getNormalMatrix(e),r=this.coplanarPoint(Qy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}uo.prototype.isPlane=!0;const zc=new wd,hm=new Fe;class Xv{constructor(e=new uo,t=new uo,i=new uo,r=new uo,s=new uo,o=new uo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],f=i[8],h=i[9],g=i[10],m=i[11],v=i[12],y=i[13],b=i[14],x=i[15];return t[0].setComponents(a-r,d-l,m-f,x-v).normalize(),t[1].setComponents(a+r,d+l,m+f,x+v).normalize(),t[2].setComponents(a+s,d+c,m+h,x+y).normalize(),t[3].setComponents(a-s,d-c,m-h,x-y).normalize(),t[4].setComponents(a-o,d-u,m-g,x-b).normalize(),t[5].setComponents(a+o,d+u,m+g,x+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),zc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(zc)}intersectsSprite(e){return zc.center.set(0,0,0),zc.radius=.7071067811865476,zc.applyMatrix4(e.matrixWorld),this.intersectsSphere(zc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(hm.x=r.normal.x>0?e.max.x:e.min.x,hm.y=r.normal.y>0?e.max.y:e.min.y,hm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(hm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function EN(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function oxe(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback();let g=5126;return d instanceof Float32Array?g=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?t?g=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):g=5123:d instanceof Int16Array?g=5122:d instanceof Uint32Array?g=5125:d instanceof Int32Array?g=5124:d instanceof Int8Array?g=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(g=5121),{buffer:h,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),h.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class $1 extends An{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,f=t/l,h=[],g=[],m=[],v=[];for(let y=0;y<u;y++){const b=y*f-o;for(let x=0;x<c;x++){const _=x*d-s;g.push(_,-b,0),m.push(0,0,1),v.push(x/a),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<a;b++){const x=b+c*y,_=b+c*(y+1),w=b+1+c*(y+1),S=b+1+c*y;h.push(x,_,S),h.push(_,w,S)}this.setIndex(h),this.setAttribute("position",new di(g,3)),this.setAttribute("normal",new di(m,3)),this.setAttribute("uv",new di(v,2))}static fromJSON(e){return new $1(e.width,e.height,e.widthSegments,e.heightSegments)}}var axe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,lxe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cxe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,uxe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dxe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fxe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,hxe="vec3 transformed = vec3( position );",pxe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mxe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotVH = saturate( dot( geometry.viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float NoH ) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float NoV, float NoL ) {
	return saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );
}
vec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,gxe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vxe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,yxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_xe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xxe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wxe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Sxe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Mxe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Txe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Exe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cxe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Axe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lxe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Rxe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Pxe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ixe="gl_FragColor = linearToOutputTexel( gl_FragColor );",kxe=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Dxe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Nxe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Oxe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fxe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Bxe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zxe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$xe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vxe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Hxe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Uxe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Wxe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Gxe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jxe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Kxe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qxe=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in GeometricContext geometry ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Yxe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Xxe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Zxe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Jxe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Qxe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularTintFactor = specularTint;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARTINTMAP
			specularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularTintFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenTint = sheenTint;
#endif`,ewe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenTint;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,twe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,iwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,rwe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,swe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,owe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,awe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,lwe=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,cwe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fwe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hwe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pwe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,mwe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,gwe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,vwe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,ywe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,bwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_we=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xwe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wwe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Swe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Mwe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Twe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Ewe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Cwe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Awe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lwe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rwe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pwe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Iwe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kwe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dwe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Nwe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Owe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Fwe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Bwe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zwe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,$we=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Vwe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Hwe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Uwe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wwe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Gwe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jwe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationTint, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = transmission.a;
#endif`,Kwe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationTint;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,qwe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Ywe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Xwe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Zwe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Jwe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Qwe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,e1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,t1e=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,n1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,i1e=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,r1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,s1e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,o1e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,a1e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,l1e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,c1e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,u1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,d1e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,f1e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,h1e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p1e=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,m1e=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g1e=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,v1e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y1e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,b1e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,_1e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,x1e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,w1e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S1e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularTint;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARTINTMAP
		uniform sampler2D specularTintMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenTint;
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,M1e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,T1e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E1e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,C1e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,A1e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,L1e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,R1e=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,P1e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,I1e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Xt={alphamap_fragment:axe,alphamap_pars_fragment:lxe,alphatest_fragment:cxe,alphatest_pars_fragment:uxe,aomap_fragment:dxe,aomap_pars_fragment:fxe,begin_vertex:hxe,beginnormal_vertex:pxe,bsdfs:mxe,bumpmap_pars_fragment:gxe,clipping_planes_fragment:vxe,clipping_planes_pars_fragment:yxe,clipping_planes_pars_vertex:bxe,clipping_planes_vertex:_xe,color_fragment:xxe,color_pars_fragment:wxe,color_pars_vertex:Sxe,color_vertex:Mxe,common:Txe,cube_uv_reflection_fragment:Exe,defaultnormal_vertex:Cxe,displacementmap_pars_vertex:Axe,displacementmap_vertex:Lxe,emissivemap_fragment:Rxe,emissivemap_pars_fragment:Pxe,encodings_fragment:Ixe,encodings_pars_fragment:kxe,envmap_fragment:Dxe,envmap_common_pars_fragment:Nxe,envmap_pars_fragment:Oxe,envmap_pars_vertex:Fxe,envmap_physical_pars_fragment:qxe,envmap_vertex:Bxe,fog_vertex:zxe,fog_pars_vertex:$xe,fog_fragment:Vxe,fog_pars_fragment:Hxe,gradientmap_pars_fragment:Uxe,lightmap_fragment:Wxe,lightmap_pars_fragment:Gxe,lights_lambert_vertex:jxe,lights_pars_begin:Kxe,lights_toon_fragment:Yxe,lights_toon_pars_fragment:Xxe,lights_phong_fragment:Zxe,lights_phong_pars_fragment:Jxe,lights_physical_fragment:Qxe,lights_physical_pars_fragment:ewe,lights_fragment_begin:twe,lights_fragment_maps:nwe,lights_fragment_end:iwe,logdepthbuf_fragment:rwe,logdepthbuf_pars_fragment:swe,logdepthbuf_pars_vertex:owe,logdepthbuf_vertex:awe,map_fragment:lwe,map_pars_fragment:cwe,map_particle_fragment:uwe,map_particle_pars_fragment:dwe,metalnessmap_fragment:fwe,metalnessmap_pars_fragment:hwe,morphnormal_vertex:pwe,morphtarget_pars_vertex:mwe,morphtarget_vertex:gwe,normal_fragment_begin:vwe,normal_fragment_maps:ywe,normal_pars_fragment:bwe,normal_pars_vertex:_we,normal_vertex:xwe,normalmap_pars_fragment:wwe,clearcoat_normal_fragment_begin:Swe,clearcoat_normal_fragment_maps:Mwe,clearcoat_pars_fragment:Twe,output_fragment:Ewe,packing:Cwe,premultiplied_alpha_fragment:Awe,project_vertex:Lwe,dithering_fragment:Rwe,dithering_pars_fragment:Pwe,roughnessmap_fragment:Iwe,roughnessmap_pars_fragment:kwe,shadowmap_pars_fragment:Dwe,shadowmap_pars_vertex:Nwe,shadowmap_vertex:Owe,shadowmask_pars_fragment:Fwe,skinbase_vertex:Bwe,skinning_pars_vertex:zwe,skinning_vertex:$we,skinnormal_vertex:Vwe,specularmap_fragment:Hwe,specularmap_pars_fragment:Uwe,tonemapping_fragment:Wwe,tonemapping_pars_fragment:Gwe,transmission_fragment:jwe,transmission_pars_fragment:Kwe,uv_pars_fragment:qwe,uv_pars_vertex:Ywe,uv_vertex:Xwe,uv2_pars_fragment:Zwe,uv2_pars_vertex:Jwe,uv2_vertex:Qwe,worldpos_vertex:e1e,background_frag:t1e,background_vert:n1e,cube_frag:i1e,cube_vert:r1e,depth_frag:s1e,depth_vert:o1e,distanceRGBA_frag:a1e,distanceRGBA_vert:l1e,equirect_frag:c1e,equirect_vert:u1e,linedashed_frag:d1e,linedashed_vert:f1e,meshbasic_frag:h1e,meshbasic_vert:p1e,meshlambert_frag:m1e,meshlambert_vert:g1e,meshmatcap_frag:v1e,meshmatcap_vert:y1e,meshnormal_frag:b1e,meshnormal_vert:_1e,meshphong_frag:x1e,meshphong_vert:w1e,meshphysical_frag:S1e,meshphysical_vert:M1e,meshtoon_frag:T1e,meshtoon_vert:E1e,points_frag:C1e,points_vert:A1e,shadow_frag:L1e,shadow_vert:R1e,sprite_frag:P1e,sprite_vert:I1e},bt={common:{diffuse:{value:new Nt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi},uv2Transform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new gt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new Nt(16777215)},opacity:{value:1},center:{value:new gt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}}},Ts={basic:{uniforms:Ti([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:Ti([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.fog,bt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:Ti([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:Ti([bt.common,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.roughnessmap,bt.metalnessmap,bt.fog,bt.lights,{emissive:{value:new Nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:Ti([bt.common,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.gradientmap,bt.fog,bt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:Ti([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:Ti([bt.points,bt.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:Ti([bt.common,bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:Ti([bt.common,bt.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:Ti([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:Ti([bt.sprite,bt.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},cube:{uniforms:Ti([bt.envmap,{opacity:{value:1}}]),vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:Ti([bt.common,bt.displacementmap,{referencePosition:{value:new Fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:Ti([bt.lights,bt.fog,{color:{value:new Nt(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};Ts.physical={uniforms:Ti([Ts.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new gt(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new Nt(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new gt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new Nt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new Nt(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};function k1e(n,e,t,i,r){const s=new Nt(0);let o=0,a,l,c=null,u=0,d=null;function f(g,m){let v=!1,y=m.isScene===!0?m.background:null;y&&y.isTexture&&(y=e.get(y));const b=n.xr,x=b.getSession&&b.getSession();x&&x.environmentBlendMode==="additive"&&(y=null),y===null?h(s,o):y&&y.isColor&&(h(y,1),v=!0),(n.autoClear||v)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===jv)?(l===void 0&&(l=new ir(new qh(1,1,1),new ql({name:"BackgroundCubeMaterial",uniforms:sd(Ts.cube.uniforms),vertexShader:Ts.cube.vertexShader,fragmentShader:Ts.cube.fragmentShader,side:Jn,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(_,w,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=y,l.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(c!==y||u!==y.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,c=y,u=y.version,d=n.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null)):y&&y.isTexture&&(a===void 0&&(a=new ir(new $1(2,2),new ql({name:"BackgroundMaterial",uniforms:sd(Ts.background.uniforms),vertexShader:Ts.background.vertexShader,fragmentShader:Ts.background.fragmentShader,side:vh,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),a.material.uniforms.uvTransform.value.copy(y.matrix),(c!==y||u!==y.version||d!==n.toneMapping)&&(a.material.needsUpdate=!0,c=y,u=y.version,d=n.toneMapping),g.unshift(a,a.geometry,a.material,0,0,null))}function h(g,m){t.buffers.color.setClear(g.r,g.g,g.b,m,r)}return{getClearColor:function(){return s},setClearColor:function(g,m=1){s.set(g),o=m,h(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(g){o=g,h(s,o)},render:f}}function D1e(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=m(null);let c=l;function u(F,R,$,D,A){let N=!1;if(o){const P=g(D,$,R);c!==P&&(c=P,f(c.object)),N=v(D,A),N&&y(D,A)}else{const P=R.wireframe===!0;(c.geometry!==D.id||c.program!==$.id||c.wireframe!==P)&&(c.geometry=D.id,c.program=$.id,c.wireframe=P,N=!0)}F.isInstancedMesh===!0&&(N=!0),A!==null&&t.update(A,34963),N&&(T(F,R,$,D),A!==null&&n.bindBuffer(34963,t.get(A).buffer))}function d(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function f(F){return i.isWebGL2?n.bindVertexArray(F):s.bindVertexArrayOES(F)}function h(F){return i.isWebGL2?n.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function g(F,R,$){const D=$.wireframe===!0;let A=a[F.id];A===void 0&&(A={},a[F.id]=A);let N=A[R.id];N===void 0&&(N={},A[R.id]=N);let P=N[D];return P===void 0&&(P=m(d()),N[D]=P),P}function m(F){const R=[],$=[],D=[];for(let A=0;A<r;A++)R[A]=0,$[A]=0,D[A]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:$,attributeDivisors:D,object:F,attributes:{},index:null}}function v(F,R){const $=c.attributes,D=F.attributes;let A=0;for(const N in D){const P=$[N],z=D[N];if(P===void 0||P.attribute!==z||P.data!==z.data)return!0;A++}return c.attributesNum!==A||c.index!==R}function y(F,R){const $={},D=F.attributes;let A=0;for(const N in D){const P=D[N],z={};z.attribute=P,P.data&&(z.data=P.data),$[N]=z,A++}c.attributes=$,c.attributesNum=A,c.index=R}function b(){const F=c.newAttributes;for(let R=0,$=F.length;R<$;R++)F[R]=0}function x(F){_(F,0)}function _(F,R){const $=c.newAttributes,D=c.enabledAttributes,A=c.attributeDivisors;$[F]=1,D[F]===0&&(n.enableVertexAttribArray(F),D[F]=1),A[F]!==R&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,R),A[F]=R)}function w(){const F=c.newAttributes,R=c.enabledAttributes;for(let $=0,D=R.length;$<D;$++)R[$]!==F[$]&&(n.disableVertexAttribArray($),R[$]=0)}function S(F,R,$,D,A,N){i.isWebGL2===!0&&($===5124||$===5125)?n.vertexAttribIPointer(F,R,$,A,N):n.vertexAttribPointer(F,R,$,D,A,N)}function T(F,R,$,D){if(i.isWebGL2===!1&&(F.isInstancedMesh||D.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const A=D.attributes,N=$.getAttributes(),P=R.defaultAttributeValues;for(const z in N){const Y=N[z];if(Y.location>=0){let H=A[z];if(H===void 0&&(z==="instanceMatrix"&&F.instanceMatrix&&(H=F.instanceMatrix),z==="instanceColor"&&F.instanceColor&&(H=F.instanceColor)),H!==void 0){const V=H.normalized,W=H.itemSize,ie=t.get(H);if(ie===void 0)continue;const G=ie.buffer,te=ie.type,oe=ie.bytesPerElement;if(H.isInterleavedBufferAttribute){const xe=H.data,ue=xe.stride,we=H.offset;if(xe&&xe.isInstancedInterleavedBuffer){for(let re=0;re<Y.locationSize;re++)_(Y.location+re,xe.meshPerAttribute);F.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let re=0;re<Y.locationSize;re++)x(Y.location+re);n.bindBuffer(34962,G);for(let re=0;re<Y.locationSize;re++)S(Y.location+re,W/Y.locationSize,te,V,ue*oe,(we+W/Y.locationSize*re)*oe)}else{if(H.isInstancedBufferAttribute){for(let xe=0;xe<Y.locationSize;xe++)_(Y.location+xe,H.meshPerAttribute);F.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let xe=0;xe<Y.locationSize;xe++)x(Y.location+xe);n.bindBuffer(34962,G);for(let xe=0;xe<Y.locationSize;xe++)S(Y.location+xe,W/Y.locationSize,te,V,W*oe,W/Y.locationSize*xe*oe)}}else if(P!==void 0){const V=P[z];if(V!==void 0)switch(V.length){case 2:n.vertexAttrib2fv(Y.location,V);break;case 3:n.vertexAttrib3fv(Y.location,V);break;case 4:n.vertexAttrib4fv(Y.location,V);break;default:n.vertexAttrib1fv(Y.location,V)}}}}w()}function M(){E();for(const F in a){const R=a[F];for(const $ in R){const D=R[$];for(const A in D)h(D[A].object),delete D[A];delete R[$]}delete a[F]}}function C(F){if(a[F.id]===void 0)return;const R=a[F.id];for(const $ in R){const D=R[$];for(const A in D)h(D[A].object),delete D[A];delete R[$]}delete a[F.id]}function L(F){for(const R in a){const $=a[R];if($[F.id]===void 0)continue;const D=$[F.id];for(const A in D)h(D[A].object),delete D[A];delete $[F.id]}}function E(){O(),c!==l&&(c=l,f(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:E,resetDefaultState:O,dispose:M,releaseStatesOfGeometry:C,releaseStatesOfProgram:L,initAttributes:b,enableAttribute:x,disableUnusedAttributes:w}}function N1e(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function O1e(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),g=n.getParameter(34076),m=n.getParameter(34921),v=n.getParameter(36347),y=n.getParameter(36348),b=n.getParameter(36349),x=f>0,_=o||e.has("OES_texture_float"),w=x&&_,S=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:x,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:S}}function F1e(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new uo,a=new vi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const g=d.length!==0||f||i!==0||r;return r=f,t=u(d,h,0),i=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,f,h){const g=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,y=n.get(d);if(!r||g===null||g.length===0||s&&!v)s?u(null):c();else{const b=s?0:i,x=b*4;let _=y.clippingState||null;l.value=_,_=u(g,f,x,h);for(let w=0;w!==x;++w)_[w]=t[w];y.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,h,g){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,g!==!0||v===null){const y=h+m*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(v===null||v.length<y)&&(v=new Float32Array(y));for(let x=0,_=h;x!==m;++x,_+=4)o.copy(d[x]).applyMatrix4(b,a),o.normal.toArray(v,_),v[_+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function B1e(n){let e=new WeakMap;function t(o,a){return a===Q_?o.mapping=Wv:a===ex&&(o.mapping=Gv),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Q_||a===ex)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=n.getRenderTarget(),u=new TN(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),n.setRenderTarget(c),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class V1 extends B1{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}V1.prototype.isOrthographicCamera=!0;class Zv extends ql{constructor(e){super(e),this.type="RawShaderMaterial"}}Zv.prototype.isRawShaderMaterial=!0;const Eu=4,Ca=8,ws=Math.pow(2,Ca),CN=[.125,.215,.35,.446,.526,.582],AN=Ca-Eu+1+CN.length,$c=20,Rs={[ur]:0,[qv]:1,[O1]:2,[bN]:3,[_N]:4,[xN]:5,[N1]:6},eb=new V1,{_lodPlanes:Yd,_sizeLods:eA,_sigmas:pm}=V1e(),tA=new Nt;let tb=null;const ul=(1+Math.sqrt(5))/2,Vc=1/ul,nA=[new Fe(1,1,1),new Fe(-1,1,1),new Fe(1,1,-1),new Fe(-1,1,-1),new Fe(0,ul,Vc),new Fe(0,ul,-Vc),new Fe(Vc,0,ul),new Fe(-Vc,0,ul),new Fe(ul,Vc,0),new Fe(-ul,Vc,0)];class z1e{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=H1e($c),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){tb=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=sA(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=rA(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Yd.length;e++)Yd[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(tb),e.scissorTest=!1,mm(e,0,0,e.width,e.height)}_fromTexture(e){tb=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:ui,minFilter:ui,generateMipmaps:!1,type:rd,format:Kbe,encoding:$1e(e)?e.encoding:O1,depthBuffer:!1},i=iA(t);return i.depthBuffer=!e,this._pingPongRenderTarget=iA(t),i}_compileMaterial(e){const t=new ir(Yd[0],e);this._renderer.compile(t,eb)}_sceneToCubeUV(e,t,i,r){const a=new er(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.outputEncoding,h=u.toneMapping;u.getClearColor(tA),u.toneMapping=Ol,u.outputEncoding=ur,u.autoClear=!1;const g=new F1({name:"PMREM.Background",side:Jn,depthWrite:!1,depthTest:!1}),m=new ir(new qh,g);let v=!1;const y=e.background;y?y.isColor&&(g.color.copy(y),e.background=null,v=!0):(g.color.copy(tA),v=!0);for(let b=0;b<6;b++){const x=b%3;x==0?(a.up.set(0,l[b],0),a.lookAt(c[b],0,0)):x==1?(a.up.set(0,0,l[b]),a.lookAt(0,c[b],0)):(a.up.set(0,l[b],0),a.lookAt(0,0,c[b])),mm(r,x*ws,b>2?ws:0,ws,ws),u.setRenderTarget(r),v&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.outputEncoding=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,t){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=sA()):this._equirectShader==null&&(this._equirectShader=rA());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,s=new ir(Yd[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=Rs[e.encoding],o.outputEncoding.value=Rs[t.texture.encoding],mm(t,0,0,3*ws,2*ws),i.setRenderTarget(t),i.render(s,eb)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<AN;r++){const s=Math.sqrt(pm[r]*pm[r]-pm[r-1]*pm[r-1]),o=nA[(r-1)%nA.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new ir(Yd[r],c),f=c.uniforms,h=eA[i]-1,g=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*$c-1),m=s/g,v=isFinite(s)?1+Math.floor(u*m):$c;v>$c&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${$c}`);const y=[];let b=0;for(let S=0;S<$c;++S){const T=S/m,M=Math.exp(-T*T/2);y.push(M),S==0?b+=M:S<v&&(b+=2*M)}for(let S=0;S<y.length;S++)y[S]=y[S]/b;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a),f.dTheta.value=g,f.mipInt.value=Ca-i,f.inputEncoding.value=Rs[e.texture.encoding],f.outputEncoding.value=Rs[e.texture.encoding];const x=eA[r],_=3*Math.max(0,ws-2*x),w=(r===0?0:2*ws)+2*x*(r>Ca-Eu?r-Ca+Eu:0);mm(t,_,w,3*x,2*x),l.setRenderTarget(t),l.render(d,eb)}}function $1e(n){return n===void 0||n.type!==rd?!1:n.encoding===ur||n.encoding===qv||n.encoding===N1}function V1e(){const n=[],e=[],t=[];let i=Ca;for(let r=0;r<AN;r++){const s=Math.pow(2,i);e.push(s);let o=1/s;r>Ca-Eu?o=CN[r-Ca+Eu-1]:r==0&&(o=0),t.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,f=6,h=3,g=2,m=1,v=new Float32Array(h*f*d),y=new Float32Array(g*f*d),b=new Float32Array(m*f*d);for(let _=0;_<d;_++){const w=_%3*2/3-1,S=_>2?0:-1,T=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];v.set(T,h*f*_),y.set(u,g*f*_);const M=[_,_,_,_,_,_];b.set(M,m*f*_)}const x=new An;x.setAttribute("position",new mn(v,h)),x.setAttribute("uv",new mn(y,g)),x.setAttribute("faceIndex",new mn(b,m)),n.push(x),i>Eu&&i--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function iA(n){const e=new Ds(3*ws,3*ws,n);return e.texture.mapping=jv,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function mm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function H1e(n){const e=new Float32Array(n),t=new Fe(0,1,0);return new Zv({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Rs[ur]},outputEncoding:{value:Rs[ur]}},vertexShader:H1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${U1()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function rA(){const n=new gt(1,1);return new Zv({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Rs[ur]},outputEncoding:{value:Rs[ur]}},vertexShader:H1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${U1()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function sA(){return new Zv({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Rs[ur]},outputEncoding:{value:Rs[ur]}},vertexShader:H1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${U1()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function H1(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function U1(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function U1e(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,c=l===Q_||l===ex,u=l===Wv||l===Gv;if(c||u){if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){const f=n.getRenderTarget();t===null&&(t=new z1e(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),n.setRenderTarget(f),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function W1e(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function G1e(n,e,t,i){const r={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete r[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(d,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],34962);const h=d.morphAttributes;for(const g in h){const m=h[g];for(let v=0,y=m.length;v<y;v++)e.update(m[v],34962)}}function c(d){const f=[],h=d.index,g=d.attributes.position;let m=0;if(h!==null){const b=h.array;m=h.version;for(let x=0,_=b.length;x<_;x+=3){const w=b[x+0],S=b[x+1],T=b[x+2];f.push(w,S,S,T,T,w)}}else{const b=g.array;m=g.version;for(let x=0,_=b.length/3-1;x<_;x+=3){const w=x+0,S=x+1,T=x+2;f.push(w,S,S,T,T,w)}}const v=new(MN(f)>65535?Yg:qg)(f,1);v.version=m;const y=s.get(d);y&&e.remove(y),s.set(d,v)}function u(d){const f=s.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function j1e(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,h){n.drawElements(s,h,a,f*l),t.update(h,s,1)}function d(f,h,g){if(g===0)return;let m,v;if(r)m=n,v="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,h,a,f*l,g),t.update(h,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function K1e(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function q1e(n,e){return n[0]-e[0]}function Y1e(n,e){return Math.abs(e[1])-Math.abs(n[1])}function X1e(n){const e={},t=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,a,l){const c=s.morphTargetInfluences,u=c===void 0?0:c.length;let d=e[o.id];if(d===void 0||d.length!==u){d=[];for(let v=0;v<u;v++)d[v]=[v,0];e[o.id]=d}for(let v=0;v<u;v++){const y=d[v];y[0]=v,y[1]=c[v]}d.sort(Y1e);for(let v=0;v<8;v++)v<u&&d[v][1]?(i[v][0]=d[v][0],i[v][1]=d[v][1]):(i[v][0]=Number.MAX_SAFE_INTEGER,i[v][1]=0);i.sort(q1e);const f=o.morphAttributes.position,h=o.morphAttributes.normal;let g=0;for(let v=0;v<8;v++){const y=i[v],b=y[0],x=y[1];b!==Number.MAX_SAFE_INTEGER&&x?(f&&o.getAttribute("morphTarget"+v)!==f[b]&&o.setAttribute("morphTarget"+v,f[b]),h&&o.getAttribute("morphNormal"+v)!==h[b]&&o.setAttribute("morphNormal"+v,h[b]),t[v]=x,g+=x):(f&&o.hasAttribute("morphTarget"+v)===!0&&o.deleteAttribute("morphTarget"+v),h&&o.hasAttribute("morphNormal"+v)===!0&&o.deleteAttribute("morphNormal"+v),t[v]=0)}const m=o.morphTargetsRelative?1:1-g;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",t)}return{update:r}}function Z1e(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class LN extends wi{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=ui,this.minFilter=ui,this.wrapR=_r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}LN.prototype.isDataTexture2DArray=!0;class RN extends wi{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=ui,this.minFilter=ui,this.wrapR=_r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}RN.prototype.isDataTexture3D=!0;const PN=new wi,J1e=new LN,Q1e=new RN,IN=new Yv,oA=[],aA=[],lA=new Float32Array(16),cA=new Float32Array(9),uA=new Float32Array(4);function Td(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=oA[r];if(s===void 0&&(s=new Float32Array(r),oA[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ki(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Pi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function kN(n,e){let t=aA[e];t===void 0&&(t=new Int32Array(e),aA[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function eSe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function tSe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ki(t,e))return;n.uniform2fv(this.addr,e),Pi(t,e)}}function nSe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ki(t,e))return;n.uniform3fv(this.addr,e),Pi(t,e)}}function iSe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ki(t,e))return;n.uniform4fv(this.addr,e),Pi(t,e)}}function rSe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ki(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pi(t,e)}else{if(Ki(t,i))return;uA.set(i),n.uniformMatrix2fv(this.addr,!1,uA),Pi(t,i)}}function sSe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ki(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pi(t,e)}else{if(Ki(t,i))return;cA.set(i),n.uniformMatrix3fv(this.addr,!1,cA),Pi(t,i)}}function oSe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ki(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pi(t,e)}else{if(Ki(t,i))return;lA.set(i),n.uniformMatrix4fv(this.addr,!1,lA),Pi(t,i)}}function aSe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function lSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform2iv(this.addr,e),Pi(t,e))}function cSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform3iv(this.addr,e),Pi(t,e))}function uSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform4iv(this.addr,e),Pi(t,e))}function dSe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function fSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform2uiv(this.addr,e),Pi(t,e))}function hSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform3uiv(this.addr,e),Pi(t,e))}function pSe(n,e){const t=this.cache;Ki(t,e)||(n.uniform4uiv(this.addr,e),Pi(t,e))}function mSe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(e||PN,r)}function gSe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Q1e,r)}function vSe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(e||IN,r)}function ySe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||J1e,r)}function bSe(n){switch(n){case 5126:return eSe;case 35664:return tSe;case 35665:return nSe;case 35666:return iSe;case 35674:return rSe;case 35675:return sSe;case 35676:return oSe;case 5124:case 35670:return aSe;case 35667:case 35671:return lSe;case 35668:case 35672:return cSe;case 35669:case 35673:return uSe;case 5125:return dSe;case 36294:return fSe;case 36295:return hSe;case 36296:return pSe;case 35678:case 36198:case 36298:case 36306:case 35682:return mSe;case 35679:case 36299:case 36307:return gSe;case 35680:case 36300:case 36308:case 36293:return vSe;case 36289:case 36303:case 36311:case 36292:return ySe}}function _Se(n,e){n.uniform1fv(this.addr,e)}function xSe(n,e){const t=Td(e,this.size,2);n.uniform2fv(this.addr,t)}function wSe(n,e){const t=Td(e,this.size,3);n.uniform3fv(this.addr,t)}function SSe(n,e){const t=Td(e,this.size,4);n.uniform4fv(this.addr,t)}function MSe(n,e){const t=Td(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function TSe(n,e){const t=Td(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ESe(n,e){const t=Td(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function CSe(n,e){n.uniform1iv(this.addr,e)}function ASe(n,e){n.uniform2iv(this.addr,e)}function LSe(n,e){n.uniform3iv(this.addr,e)}function RSe(n,e){n.uniform4iv(this.addr,e)}function PSe(n,e){n.uniform1uiv(this.addr,e)}function ISe(n,e){n.uniform2uiv(this.addr,e)}function kSe(n,e){n.uniform3uiv(this.addr,e)}function DSe(n,e){n.uniform4uiv(this.addr,e)}function NSe(n,e,t){const i=e.length,r=kN(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTexture2D(e[s]||PN,r[s])}function OSe(n,e,t){const i=e.length,r=kN(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTextureCube(e[s]||IN,r[s])}function FSe(n){switch(n){case 5126:return _Se;case 35664:return xSe;case 35665:return wSe;case 35666:return SSe;case 35674:return MSe;case 35675:return TSe;case 35676:return ESe;case 5124:case 35670:return CSe;case 35667:case 35671:return ASe;case 35668:case 35672:return LSe;case 35669:case 35673:return RSe;case 5125:return PSe;case 36294:return ISe;case 36295:return kSe;case 36296:return DSe;case 35678:case 36198:case 36298:case 36306:case 35682:return NSe;case 35680:case 36300:case 36308:case 36293:return OSe}}function BSe(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=bSe(e.type)}function DN(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=FSe(e.type)}DN.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Pi(e,n)};function NN(n){this.id=n,this.seq=[],this.map={}}NN.prototype.setValue=function(n,e,t){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,e[o.id],t)}};const nb=/(\w+)(\])?(\[|\.)?/g;function dA(n,e){n.seq.push(e),n.map[e.id]=e}function zSe(n,e,t){const i=n.name,r=i.length;for(nb.lastIndex=0;;){const s=nb.exec(i),o=nb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){dA(t,c===void 0?new BSe(a,n,e):new DN(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new NN(a),dA(t,d)),t=d}}}function Aa(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let i=0;i<t;++i){const r=n.getActiveUniform(e,i),s=n.getUniformLocation(e,r.name);zSe(r,s,this)}}Aa.prototype.setValue=function(n,e,t,i){const r=this.map[e];r!==void 0&&r.setValue(n,t,i)};Aa.prototype.setOptional=function(n,e,t){const i=e[t];i!==void 0&&this.setValue(n,t,i)};Aa.upload=function(n,e,t,i){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,i)}};Aa.seqWithValue=function(n,e){const t=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in e&&t.push(s)}return t};function fA(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let $Se=0;function VSe(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function ON(n){switch(n){case ur:return["Linear","( value )"];case qv:return["sRGB","( value )"];case O1:return["RGBE","( value )"];case bN:return["RGBM","( value, 7.0 )"];case _N:return["RGBM","( value, 16.0 )"];case xN:return["RGBD","( value, 256.0 )"];case N1:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case D_e:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function hA(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();return i&&r===""?"":t.toUpperCase()+`

`+r+`

`+VSe(n.getShaderSource(e))}function Hc(n,e){const t=ON(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function HSe(n,e){const t=ON(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function USe(n,e){let t;switch(e){case Ibe:t="Linear";break;case kbe:t="Reinhard";break;case Dbe:t="OptimizedCineon";break;case Nbe:t="ACESFilmic";break;case Obe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function WSe(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lf).join(`
`)}function GSe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function jSe(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function lf(n){return n!==""}function pA(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const KSe=/^[ \t]*#include +<([\w\d./]+)>/gm;function rx(n){return n.replace(KSe,qSe)}function qSe(n,e){const t=Xt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return rx(t)}const YSe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,XSe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gA(n){return n.replace(XSe,FN).replace(YSe,ZSe)}function ZSe(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),FN(n,e,t,i)}function FN(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function vA(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JSe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===hN?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ube?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===af&&(e="SHADOWMAP_TYPE_VSM"),e}function QSe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wv:case Gv:e="ENVMAP_TYPE_CUBE";break;case jv:case k1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eMe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Gv:case k1:e="ENVMAP_MODE_REFRACTION";break}return e}function tMe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Uv:e="ENVMAP_BLENDING_MULTIPLY";break;case Rbe:e="ENVMAP_BLENDING_MIX";break;case Pbe:e="ENVMAP_BLENDING_ADD";break}return e}function nMe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=JSe(t),c=QSe(t),u=eMe(t),d=tMe(t),f=n.gammaFactor>0?n.gammaFactor:1,h=t.isWebGL2?"":WSe(t),g=GSe(s),m=r.createProgram();let v,y,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[g].filter(lf).join(`
`),v.length>0&&(v+=`
`),y=[h,g].filter(lf).join(`
`),y.length>0&&(y+=`
`)):(v=[vA(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lf).join(`
`),y=[h,vA(t),"#define SHADER_NAME "+t.shaderName,g,"#define GAMMA_FACTOR "+f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheenTint?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ol?"#define TONE_MAPPING":"",t.toneMapping!==Ol?Xt.tonemapping_pars_fragment:"",t.toneMapping!==Ol?USe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Ea?"#define OPAQUE":"",Xt.encodings_pars_fragment,t.map?Hc("mapTexelToLinear",t.mapEncoding):"",t.matcap?Hc("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Hc("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Hc("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularTintMap?Hc("specularTintMapTexelToLinear",t.specularTintMapEncoding):"",t.lightMap?Hc("lightMapTexelToLinear",t.lightMapEncoding):"",HSe("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(lf).join(`
`)),o=rx(o),o=pA(o,t),o=mA(o,t),a=rx(a),a=pA(a,t),a=mA(a,t),o=gA(o),a=gA(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,v=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,y=["#define varying in",t.glslVersion===V2?"":"out highp vec4 pc_fragColor;",t.glslVersion===V2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const x=b+v+o,_=b+y+a,w=fA(r,35633,x),S=fA(r,35632,_);if(r.attachShader(m,w),r.attachShader(m,S),t.index0AttributeName!==void 0?r.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const C=r.getProgramInfoLog(m).trim(),L=r.getShaderInfoLog(w).trim(),E=r.getShaderInfoLog(S).trim();let O=!0,F=!0;if(r.getProgramParameter(m,35714)===!1){O=!1;const R=hA(r,w,"vertex"),$=hA(r,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+`

Program Info Log: `+C+`
`+R+`
`+$)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(L===""||E==="")&&(F=!1);F&&(this.diagnostics={runnable:O,programLog:C,vertexShader:{log:L,prefix:v},fragmentShader:{log:E,prefix:y}})}r.deleteShader(w),r.deleteShader(S);let T;this.getUniforms=function(){return T===void 0&&(T=new Aa(r,m)),T};let M;return this.getAttributes=function(){return M===void 0&&(M=jSe(r,m)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=$Se++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=S,this}function iMe(n,e,t,i,r,s,o){const a=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,u=r.floatVertexTextures,d=r.maxVertexUniforms,f=r.vertexTextures;let h=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheenTint","transmission","transmissionMap","thicknessMap"];function v(T){const C=T.skeleton.bones;if(u)return 1024;{const E=Math.floor((d-20)/4),O=Math.min(E,C.length);return O<C.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+C.length+" bones. This GPU supports "+O+"."),0):O}}function y(T){let M;return T&&T.isTexture?M=T.encoding:T&&T.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),M=T.texture.encoding):M=ur,M}function b(T,M,C,L,E){const O=L.fog,F=T.isMeshStandardMaterial?L.environment:null,R=(T.isMeshStandardMaterial?t:e).get(T.envMap||F),$=g[T.type],D=E.isSkinnedMesh?v(E):0;T.precision!==null&&(h=r.getMaxPrecision(T.precision),h!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",h,"instead."));let A,N;if($){const V=Ts[$];A=V.vertexShader,N=V.fragmentShader}else A=T.vertexShader,N=T.fragmentShader;const P=n.getRenderTarget(),z=T.alphaTest>0,Y=T.clearcoat>0;return{isWebGL2:l,shaderID:$,shaderName:T.type,vertexShader:A,fragmentShader:N,defines:T.defines,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:h,instancing:E.isInstancedMesh===!0,instancingColor:E.isInstancedMesh===!0&&E.instanceColor!==null,supportsVertexTextures:f,outputEncoding:P!==null?y(P.texture):n.outputEncoding,map:!!T.map,mapEncoding:y(T.map),matcap:!!T.matcap,matcapEncoding:y(T.matcap),envMap:!!R,envMapMode:R&&R.mapping,envMapEncoding:y(R),envMapCubeUV:!!R&&(R.mapping===jv||R.mapping===k1),lightMap:!!T.lightMap,lightMapEncoding:y(T.lightMap),aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,emissiveMapEncoding:y(T.emissiveMap),bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===F_e,tangentSpaceNormalMap:T.normalMapType===_d,clearcoat:Y,clearcoatMap:Y&&!!T.clearcoatMap,clearcoatRoughnessMap:Y&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:Y&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularTintMap:!!T.specularTintMap,specularTintMapEncoding:y(T.specularTintMap),alphaMap:!!T.alphaMap,alphaTest:z,gradientMap:!!T.gradientMap,sheenTint:!!T.sheenTint&&(T.sheenTint.r>0||T.sheenTint.g>0||T.sheenTint.b>0),transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!E.geometry&&!!E.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!E.geometry&&!!E.geometry.attributes.color&&E.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularTintMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularTintMap)&&!!T.displacementMap,fog:!!O,useFog:T.fog,fogExp2:O&&O.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:c,skinning:E.isSkinnedMesh===!0&&D>0,maxBones:D,useVertexTexture:u,morphTargets:!!E.geometry&&!!E.geometry.morphAttributes.position,morphNormals:!!E.geometry&&!!E.geometry.morphAttributes.normal,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:T.format,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&C.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Ol,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===id,flipSided:T.side===Jn,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function x(T){const M=[];if(T.shaderID?M.push(T.shaderID):(M.push(T.fragmentShader),M.push(T.vertexShader)),T.defines!==void 0)for(const C in T.defines)M.push(C),M.push(T.defines[C]);if(T.isRawShaderMaterial===!1){for(let C=0;C<m.length;C++)M.push(T[m[C]]);M.push(n.outputEncoding),M.push(n.gammaFactor)}return M.push(T.customProgramCacheKey),M.join()}function _(T){const M=g[T.type];let C;if(M){const L=Ts[M];C=txe.clone(L.uniforms)}else C=T.uniforms;return C}function w(T,M){let C;for(let L=0,E=a.length;L<E;L++){const O=a[L];if(O.cacheKey===M){C=O,++C.usedTimes;break}}return C===void 0&&(C=new nMe(n,M,T,s),a.push(C)),C}function S(T){if(--T.usedTimes===0){const M=a.indexOf(T);a[M]=a[a.length-1],a.pop(),T.destroy()}}return{getParameters:b,getProgramCacheKey:x,getUniforms:_,acquireProgram:w,releaseProgram:S,programs:a}}function rMe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function sMe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bA(n){const e=[];let t=0;const i=[],r=[],s=[],o={id:-1};function a(){t=0,i.length=0,r.length=0,s.length=0}function l(h,g,m,v,y,b){let x=e[t];const _=n.get(m);return x===void 0?(x={id:h.id,object:h,geometry:g,material:m,program:_.program||o,groupOrder:v,renderOrder:h.renderOrder,z:y,group:b},e[t]=x):(x.id=h.id,x.object=h,x.geometry=g,x.material=m,x.program=_.program||o,x.groupOrder=v,x.renderOrder=h.renderOrder,x.z=y,x.group=b),t++,x}function c(h,g,m,v,y,b){const x=l(h,g,m,v,y,b);m.transmission>0?r.push(x):m.transparent===!0?s.push(x):i.push(x)}function u(h,g,m,v,y,b){const x=l(h,g,m,v,y,b);m.transmission>0?r.unshift(x):m.transparent===!0?s.unshift(x):i.unshift(x)}function d(h,g){i.length>1&&i.sort(h||sMe),r.length>1&&r.sort(g||yA),s.length>1&&s.sort(g||yA)}function f(){for(let h=t,g=e.length;h<g;h++){const m=e[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.program=null,m.group=null}}return{opaque:i,transmissive:r,transparent:s,init:a,push:c,unshift:u,finish:f,sort:d}}function oMe(n){let e=new WeakMap;function t(r,s){let o;return e.has(r)===!1?(o=new bA(n),e.set(r,[o])):s>=e.get(r).length?(o=new bA(n),e.get(r).push(o)):o=e.get(r)[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}function aMe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Fe,color:new Nt};break;case"SpotLight":t={position:new Fe,direction:new Fe,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Fe,color:new Nt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Fe,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":t={color:new Nt,position:new Fe,halfWidth:new Fe,halfHeight:new Fe};break}return n[e.id]=t,t}}}function lMe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let cMe=0;function uMe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function dMe(n,e){const t=new aMe,i=lMe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new Fe);const s=new Fe,o=new $t,a=new $t;function l(u,d){let f=0,h=0,g=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let m=0,v=0,y=0,b=0,x=0,_=0,w=0,S=0;u.sort(uMe);const T=d!==!0?Math.PI:1;for(let C=0,L=u.length;C<L;C++){const E=u[C],O=E.color,F=E.intensity,R=E.distance,$=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)f+=O.r*F*T,h+=O.g*F*T,g+=O.b*F*T;else if(E.isLightProbe)for(let D=0;D<9;D++)r.probe[D].addScaledVector(E.sh.coefficients[D],F);else if(E.isDirectionalLight){const D=t.get(E);if(D.color.copy(E.color).multiplyScalar(E.intensity*T),E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,r.directionalShadow[m]=N,r.directionalShadowMap[m]=$,r.directionalShadowMatrix[m]=E.shadow.matrix,_++}r.directional[m]=D,m++}else if(E.isSpotLight){const D=t.get(E);if(D.position.setFromMatrixPosition(E.matrixWorld),D.color.copy(O).multiplyScalar(F*T),D.distance=R,D.coneCos=Math.cos(E.angle),D.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),D.decay=E.decay,E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,r.spotShadow[y]=N,r.spotShadowMap[y]=$,r.spotShadowMatrix[y]=E.shadow.matrix,S++}r.spot[y]=D,y++}else if(E.isRectAreaLight){const D=t.get(E);D.color.copy(O).multiplyScalar(F),D.halfWidth.set(E.width*.5,0,0),D.halfHeight.set(0,E.height*.5,0),r.rectArea[b]=D,b++}else if(E.isPointLight){const D=t.get(E);if(D.color.copy(E.color).multiplyScalar(E.intensity*T),D.distance=E.distance,D.decay=E.decay,E.castShadow){const A=E.shadow,N=i.get(E);N.shadowBias=A.bias,N.shadowNormalBias=A.normalBias,N.shadowRadius=A.radius,N.shadowMapSize=A.mapSize,N.shadowCameraNear=A.camera.near,N.shadowCameraFar=A.camera.far,r.pointShadow[v]=N,r.pointShadowMap[v]=$,r.pointShadowMatrix[v]=E.shadow.matrix,w++}r.point[v]=D,v++}else if(E.isHemisphereLight){const D=t.get(E);D.skyColor.copy(E.color).multiplyScalar(F*T),D.groundColor.copy(E.groundColor).multiplyScalar(F*T),r.hemi[x]=D,x++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=bt.LTC_FLOAT_1,r.rectAreaLTC2=bt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=bt.LTC_HALF_1,r.rectAreaLTC2=bt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=g;const M=r.hash;(M.directionalLength!==m||M.pointLength!==v||M.spotLength!==y||M.rectAreaLength!==b||M.hemiLength!==x||M.numDirectionalShadows!==_||M.numPointShadows!==w||M.numSpotShadows!==S)&&(r.directional.length=m,r.spot.length=y,r.rectArea.length=b,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=w,r.spotShadowMatrix.length=S,M.directionalLength=m,M.pointLength=v,M.spotLength=y,M.rectAreaLength=b,M.hemiLength=x,M.numDirectionalShadows=_,M.numPointShadows=w,M.numSpotShadows=S,r.version=cMe++)}function c(u,d){let f=0,h=0,g=0,m=0,v=0;const y=d.matrixWorldInverse;for(let b=0,x=u.length;b<x;b++){const _=u[b];if(_.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),f++}else if(_.isSpotLight){const w=r.spot[g];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),g++}else if(_.isRectAreaLight){const w=r.rectArea[m];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),a.identity(),o.copy(_.matrixWorld),o.premultiply(y),a.extractRotation(o),w.halfWidth.set(_.width*.5,0,0),w.halfHeight.set(0,_.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(_.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),h++}else if(_.isHemisphereLight){const w=r.hemi[v];w.direction.setFromMatrixPosition(_.matrixWorld),w.direction.transformDirection(y),w.direction.normalize(),v++}}}return{setup:l,setupView:c,state:r}}function _A(n,e){const t=new dMe(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function fMe(n,e){let t=new WeakMap;function i(s,o=0){let a;return t.has(s)===!1?(a=new _A(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new _A(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function r(){t=new WeakMap}return{get:i,dispose:r}}class BN extends Ii{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=N_e,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}BN.prototype.isMeshDepthMaterial=!0;class zN extends Ii{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Fe,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}zN.prototype.isMeshDistanceMaterial=!0;var hMe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
uniform float samples;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,pMe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function $N(n,e,t){let i=new Xv;const r=new gt,s=new gt,o=new _n,a=new BN({depthPacking:O_e}),l=new zN,c={},u=t.maxTextureSize,d={0:Jn,1:vh,2:id},f=new ql({uniforms:{shadow_pass:{value:null},resolution:{value:new gt},radius:{value:4},samples:{value:8}},vertexShader:pMe,fragmentShader:hMe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new An;g.setAttribute("position",new mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ir(g,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hN,this.render=function(_,w,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const T=n.getRenderTarget(),M=n.getActiveCubeFace(),C=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Ta),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let E=0,O=_.length;E<O;E++){const F=_[E],R=F.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;r.copy(R.mapSize);const $=R.getFrameExtents();if(r.multiply($),s.copy(R.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/$.x),r.x=s.x*$.x,R.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/$.y),r.y=s.y*$.y,R.mapSize.y=s.y)),R.map===null&&!R.isPointLightShadow&&this.type===af){const A={minFilter:Or,magFilter:Or,format:Tr};R.map=new Ds(r.x,r.y,A),R.map.texture.name=F.name+".shadowMap",R.mapPass=new Ds(r.x,r.y,A),R.camera.updateProjectionMatrix()}if(R.map===null){const A={minFilter:ui,magFilter:ui,format:Tr};R.map=new Ds(r.x,r.y,A),R.map.texture.name=F.name+".shadowMap",R.camera.updateProjectionMatrix()}n.setRenderTarget(R.map),n.clear();const D=R.getViewportCount();for(let A=0;A<D;A++){const N=R.getViewport(A);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),L.viewport(o),R.updateMatrices(F,A),i=R.getFrustum(),x(w,S,R.camera,F,this.type)}!R.isPointLightShadow&&this.type===af&&y(R,S),R.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(T,M,C)};function y(_,w){const S=e.update(m);f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,f.uniforms.samples.value=_.blurSamples,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(w,null,S,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,h.uniforms.samples.value=_.blurSamples,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(w,null,S,h,m,null)}function b(_,w,S,T,M,C,L){let E=null;const O=T.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(O!==void 0?E=O:E=T.isPointLight===!0?l:a,n.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){const F=E.uuid,R=S.uuid;let $=c[F];$===void 0&&($={},c[F]=$);let D=$[R];D===void 0&&(D=E.clone(),$[R]=D),E=D}return E.visible=S.visible,E.wireframe=S.wireframe,L===af?E.side=S.shadowSide!==null?S.shadowSide:S.side:E.side=S.shadowSide!==null?S.shadowSide:d[S.side],E.alphaMap=S.alphaMap,E.alphaTest=S.alphaTest,E.clipShadows=S.clipShadows,E.clippingPlanes=S.clippingPlanes,E.clipIntersection=S.clipIntersection,E.displacementMap=S.displacementMap,E.displacementScale=S.displacementScale,E.displacementBias=S.displacementBias,E.wireframeLinewidth=S.wireframeLinewidth,E.linewidth=S.linewidth,T.isPointLight===!0&&E.isMeshDistanceMaterial===!0&&(E.referencePosition.setFromMatrixPosition(T.matrixWorld),E.nearDistance=M,E.farDistance=C),E}function x(_,w,S,T,M){if(_.visible===!1)return;if(_.layers.test(w.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&M===af)&&(!_.frustumCulled||i.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,_.matrixWorld);const E=e.update(_),O=_.material;if(Array.isArray(O)){const F=E.groups;for(let R=0,$=F.length;R<$;R++){const D=F[R],A=O[D.materialIndex];if(A&&A.visible){const N=b(_,E,A,T,S.near,S.far,M);n.renderBufferDirect(S,null,E,N,_,D)}}}else if(O.visible){const F=b(_,E,O,T,S.near,S.far,M);n.renderBufferDirect(S,null,E,F,_,null)}}const L=_.children;for(let E=0,O=L.length;E<O;E++)x(L[E],w,S,T,M)}}function mMe(n,e,t){const i=t.isWebGL2;function r(){let he=!1;const $e=new _n;let ne=null;const Re=new _n(0,0,0,0);return{setMask:function(fe){ne!==fe&&!he&&(n.colorMask(fe,fe,fe,fe),ne=fe)},setLocked:function(fe){he=fe},setClear:function(fe,ge,_e,Ne,ve){ve===!0&&(fe*=Ne,ge*=Ne,_e*=Ne),$e.set(fe,ge,_e,Ne),Re.equals($e)===!1&&(n.clearColor(fe,ge,_e,Ne),Re.copy($e))},reset:function(){he=!1,ne=null,Re.set(-1,0,0,0)}}}function s(){let he=!1,$e=null,ne=null,Re=null;return{setTest:function(fe){fe?W(2929):ie(2929)},setMask:function(fe){$e!==fe&&!he&&(n.depthMask(fe),$e=fe)},setFunc:function(fe){if(ne!==fe){if(fe)switch(fe){case Sbe:n.depthFunc(512);break;case Mbe:n.depthFunc(519);break;case Tbe:n.depthFunc(513);break;case J_:n.depthFunc(515);break;case Ebe:n.depthFunc(514);break;case Cbe:n.depthFunc(518);break;case Abe:n.depthFunc(516);break;case Lbe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ne=fe}},setLocked:function(fe){he=fe},setClear:function(fe){Re!==fe&&(n.clearDepth(fe),Re=fe)},reset:function(){he=!1,$e=null,ne=null,Re=null}}}function o(){let he=!1,$e=null,ne=null,Re=null,fe=null,ge=null,_e=null,Ne=null,ve=null;return{setTest:function(Ue){he||(Ue?W(2960):ie(2960))},setMask:function(Ue){$e!==Ue&&!he&&(n.stencilMask(Ue),$e=Ue)},setFunc:function(Ue,Ae,Ye){(ne!==Ue||Re!==Ae||fe!==Ye)&&(n.stencilFunc(Ue,Ae,Ye),ne=Ue,Re=Ae,fe=Ye)},setOp:function(Ue,Ae,Ye){(ge!==Ue||_e!==Ae||Ne!==Ye)&&(n.stencilOp(Ue,Ae,Ye),ge=Ue,_e=Ae,Ne=Ye)},setLocked:function(Ue){he=Ue},setClear:function(Ue){ve!==Ue&&(n.clearStencil(Ue),ve=Ue)},reset:function(){he=!1,$e=null,ne=null,Re=null,fe=null,ge=null,_e=null,Ne=null,ve=null}}}const a=new r,l=new s,c=new o;let u={},d=null,f={},h=null,g=!1,m=null,v=null,y=null,b=null,x=null,_=null,w=null,S=!1,T=null,M=null,C=null,L=null,E=null;const O=n.getParameter(35661);let F=!1,R=0;const $=n.getParameter(7938);$.indexOf("WebGL")!==-1?(R=parseFloat(/^WebGL (\d)/.exec($)[1]),F=R>=1):$.indexOf("OpenGL ES")!==-1&&(R=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),F=R>=2);let D=null,A={};const N=n.getParameter(3088),P=n.getParameter(2978),z=new _n().fromArray(N),Y=new _n().fromArray(P);function H(he,$e,ne){const Re=new Uint8Array(4),fe=n.createTexture();n.bindTexture(he,fe),n.texParameteri(he,10241,9728),n.texParameteri(he,10240,9728);for(let ge=0;ge<ne;ge++)n.texImage2D($e+ge,0,6408,1,1,0,6408,5121,Re);return fe}const V={};V[3553]=H(3553,3553,1),V[34067]=H(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),W(2929),l.setFunc(J_),j(!1),Z(S2),W(2884),we(Ta);function W(he){u[he]!==!0&&(n.enable(he),u[he]=!0)}function ie(he){u[he]!==!1&&(n.disable(he),u[he]=!1)}function G(he){he!==d&&(n.bindFramebuffer(36160,he),d=he)}function te(he,$e){return $e===null&&d!==null&&($e=d),f[he]!==$e?(n.bindFramebuffer(he,$e),f[he]=$e,i&&(he===36009&&(f[36160]=$e),he===36160&&(f[36009]=$e)),!0):!1}function oe(he){return h!==he?(n.useProgram(he),h=he,!0):!1}const xe={[eu]:32774,[fbe]:32778,[hbe]:32779};if(i)xe[C2]=32775,xe[A2]=32776;else{const he=e.get("EXT_blend_minmax");he!==null&&(xe[C2]=he.MIN_EXT,xe[A2]=he.MAX_EXT)}const ue={[pbe]:0,[mbe]:1,[gbe]:768,[mN]:770,[wbe]:776,[_be]:774,[ybe]:772,[vbe]:769,[gN]:771,[xbe]:775,[bbe]:773};function we(he,$e,ne,Re,fe,ge,_e,Ne){if(he===Ta){g===!0&&(ie(3042),g=!1);return}if(g===!1&&(W(3042),g=!0),he!==dbe){if(he!==m||Ne!==S){if((v!==eu||x!==eu)&&(n.blendEquation(32774),v=eu,x=eu),Ne)switch(he){case Af:n.blendFuncSeparate(1,771,1,771);break;case M2:n.blendFunc(1,1);break;case T2:n.blendFuncSeparate(0,0,769,771);break;case E2:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Af:n.blendFuncSeparate(770,771,1,771);break;case M2:n.blendFunc(770,1);break;case T2:n.blendFunc(0,769);break;case E2:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}y=null,b=null,_=null,w=null,m=he,S=Ne}return}fe=fe||$e,ge=ge||ne,_e=_e||Re,($e!==v||fe!==x)&&(n.blendEquationSeparate(xe[$e],xe[fe]),v=$e,x=fe),(ne!==y||Re!==b||ge!==_||_e!==w)&&(n.blendFuncSeparate(ue[ne],ue[Re],ue[ge],ue[_e]),y=ne,b=Re,_=ge,w=_e),m=he,S=null}function re(he,$e){he.side===id?ie(2884):W(2884);let ne=he.side===Jn;$e&&(ne=!ne),j(ne),he.blending===Af&&he.transparent===!1?we(Ta):we(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.premultipliedAlpha),l.setFunc(he.depthFunc),l.setTest(he.depthTest),l.setMask(he.depthWrite),a.setMask(he.colorWrite);const Re=he.stencilWrite;c.setTest(Re),Re&&(c.setMask(he.stencilWriteMask),c.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),c.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),J(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?W(32926):ie(32926)}function j(he){T!==he&&(he?n.frontFace(2304):n.frontFace(2305),T=he)}function Z(he){he!==lbe?(W(2884),he!==M&&(he===S2?n.cullFace(1029):he===cbe?n.cullFace(1028):n.cullFace(1032))):ie(2884),M=he}function le(he){he!==C&&(F&&n.lineWidth(he),C=he)}function J(he,$e,ne){he?(W(32823),(L!==$e||E!==ne)&&(n.polygonOffset($e,ne),L=$e,E=ne)):ie(32823)}function k(he){he?W(3089):ie(3089)}function q(he){he===void 0&&(he=33984+O-1),D!==he&&(n.activeTexture(he),D=he)}function ce(he,$e){D===null&&q();let ne=A[D];ne===void 0&&(ne={type:void 0,texture:void 0},A[D]=ne),(ne.type!==he||ne.texture!==$e)&&(n.bindTexture(he,$e||V[he]),ne.type=he,ne.texture=$e)}function me(){const he=A[D];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Ce(){try{n.compressedTexImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Q(){try{n.texImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ee(){try{n.texImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Se(he){z.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),z.copy(he))}function be(he){Y.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),Y.copy(he))}function Pe(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},D=null,A={},d=null,f={},h=null,g=!1,m=null,v=null,y=null,b=null,x=null,_=null,w=null,S=!1,T=null,M=null,C=null,L=null,E=null,z.set(0,0,n.canvas.width,n.canvas.height),Y.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:W,disable:ie,bindFramebuffer:te,bindXRFramebuffer:G,useProgram:oe,setBlending:we,setMaterial:re,setFlipSided:j,setCullFace:Z,setLineWidth:le,setPolygonOffset:J,setScissorTest:k,activeTexture:q,bindTexture:ce,unbindTexture:me,compressedTexImage2D:Ce,texImage2D:Q,texImage3D:ee,scissor:Se,viewport:be,reset:Pe}}function gMe(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=new WeakMap;let h,g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(k,q){return g?new OffscreenCanvas(k,q):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(k,q,ce,me){let Ce=1;if((k.width>me||k.height>me)&&(Ce=me/Math.max(k.width,k.height)),Ce<1||q===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const Q=q?$_e:Math.floor,ee=Q(Ce*k.width),Se=Q(Ce*k.height);h===void 0&&(h=m(ee,Se));const be=ce?m(ee,Se):h;return be.width=ee,be.height=Se,be.getContext("2d").drawImage(k,0,0,ee,Se),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+ee+"x"+Se+")."),be}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function y(k){return H2(k.width)&&H2(k.height)}function b(k){return a?!1:k.wrapS!==_r||k.wrapT!==_r||k.minFilter!==ui&&k.minFilter!==Or}function x(k,q){return k.generateMipmaps&&q&&k.minFilter!==ui&&k.minFilter!==Or}function _(k,q,ce,me,Ce=1){n.generateMipmap(k);const Q=i.get(q);Q.__maxMipLevel=Math.log2(Math.max(ce,me,Ce))}function w(k,q,ce){if(a===!1)return q;if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let me=q;return q===6403&&(ce===5126&&(me=33326),ce===5131&&(me=33325),ce===5121&&(me=33321)),q===6407&&(ce===5126&&(me=34837),ce===5131&&(me=34843),ce===5121&&(me=32849)),q===6408&&(ce===5126&&(me=34836),ce===5131&&(me=34842),ce===5121&&(me=32856)),(me===33325||me===33326||me===34842||me===34836)&&e.get("EXT_color_buffer_float"),me}function S(k){return k===ui||k===L2||k===R2?9728:9729}function T(k){const q=k.target;q.removeEventListener("dispose",T),C(q),q.isVideoTexture&&f.delete(q),o.memory.textures--}function M(k){const q=k.target;q.removeEventListener("dispose",M),L(q)}function C(k){const q=i.get(k);q.__webglInit!==void 0&&(n.deleteTexture(q.__webglTexture),i.remove(k))}function L(k){const q=k.texture,ce=i.get(k),me=i.get(q);if(k){if(me.__webglTexture!==void 0&&(n.deleteTexture(me.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(ce.__webglFramebuffer[Ce]),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[Ce]);else n.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer),ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer);if(k.isWebGLMultipleRenderTargets)for(let Ce=0,Q=q.length;Ce<Q;Ce++){const ee=i.get(q[Ce]);ee.__webglTexture&&(n.deleteTexture(ee.__webglTexture),o.memory.textures--),i.remove(q[Ce])}i.remove(q),i.remove(k)}}let E=0;function O(){E=0}function F(){const k=E;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),E+=1,k}function R(k,q){const ce=i.get(k);if(k.isVideoTexture&&re(k),k.version>0&&ce.__version!==k.version){const me=k.image;if(me===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{H(ce,k,q);return}}t.activeTexture(33984+q),t.bindTexture(3553,ce.__webglTexture)}function $(k,q){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){H(ce,k,q);return}t.activeTexture(33984+q),t.bindTexture(35866,ce.__webglTexture)}function D(k,q){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){H(ce,k,q);return}t.activeTexture(33984+q),t.bindTexture(32879,ce.__webglTexture)}function A(k,q){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){V(ce,k,q);return}t.activeTexture(33984+q),t.bindTexture(34067,ce.__webglTexture)}const N={[tx]:10497,[_r]:33071,[nx]:33648},P={[ui]:9728,[L2]:9984,[R2]:9986,[Or]:9729,[Fbe]:9985,[Kv]:9987};function z(k,q,ce){if(ce?(n.texParameteri(k,10242,N[q.wrapS]),n.texParameteri(k,10243,N[q.wrapT]),(k===32879||k===35866)&&n.texParameteri(k,32882,N[q.wrapR]),n.texParameteri(k,10240,P[q.magFilter]),n.texParameteri(k,10241,P[q.minFilter])):(n.texParameteri(k,10242,33071),n.texParameteri(k,10243,33071),(k===32879||k===35866)&&n.texParameteri(k,32882,33071),(q.wrapS!==_r||q.wrapT!==_r)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,10240,S(q.magFilter)),n.texParameteri(k,10241,S(q.minFilter)),q.minFilter!==ui&&q.minFilter!==Or&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(q.type===gl&&e.has("OES_texture_float_linear")===!1||a===!1&&q.type===Mu&&e.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||i.get(q).__currentAnisotropy)&&(n.texParameterf(k,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),i.get(q).__currentAnisotropy=q.anisotropy)}}function Y(k,q){k.__webglInit===void 0&&(k.__webglInit=!0,q.addEventListener("dispose",T),k.__webglTexture=n.createTexture(),o.memory.textures++)}function H(k,q,ce){let me=3553;q.isDataTexture2DArray&&(me=35866),q.isDataTexture3D&&(me=32879),Y(k,q),t.activeTexture(33984+ce),t.bindTexture(me,k.__webglTexture),n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const Ce=b(q)&&y(q.image)===!1,Q=v(q.image,Ce,!1,u),ee=y(Q)||a,Se=s.convert(q.format);let be=s.convert(q.type),Pe=w(q.internalFormat,Se,be);z(me,q,ee);let he;const $e=q.mipmaps;if(q.isDepthTexture)Pe=6402,a?q.type===gl?Pe=36012:q.type===lg?Pe=33190:q.type===Lf?Pe=35056:Pe=33189:q.type===gl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===Tu&&Pe===6402&&q.type!==Wg&&q.type!==lg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=Wg,be=s.convert(q.type)),q.format===yh&&Pe===6402&&(Pe=34041,q.type!==Lf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=Lf,be=s.convert(q.type))),t.texImage2D(3553,0,Pe,Q.width,Q.height,0,Se,be,null);else if(q.isDataTexture)if($e.length>0&&ee){for(let ne=0,Re=$e.length;ne<Re;ne++)he=$e[ne],t.texImage2D(3553,ne,Pe,he.width,he.height,0,Se,be,he.data);q.generateMipmaps=!1,k.__maxMipLevel=$e.length-1}else t.texImage2D(3553,0,Pe,Q.width,Q.height,0,Se,be,Q.data),k.__maxMipLevel=0;else if(q.isCompressedTexture){for(let ne=0,Re=$e.length;ne<Re;ne++)he=$e[ne],q.format!==Tr&&q.format!==Ea?Se!==null?t.compressedTexImage2D(3553,ne,Pe,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,ne,Pe,he.width,he.height,0,Se,be,he.data);k.__maxMipLevel=$e.length-1}else if(q.isDataTexture2DArray)t.texImage3D(35866,0,Pe,Q.width,Q.height,Q.depth,0,Se,be,Q.data),k.__maxMipLevel=0;else if(q.isDataTexture3D)t.texImage3D(32879,0,Pe,Q.width,Q.height,Q.depth,0,Se,be,Q.data),k.__maxMipLevel=0;else if($e.length>0&&ee){for(let ne=0,Re=$e.length;ne<Re;ne++)he=$e[ne],t.texImage2D(3553,ne,Pe,Se,be,he);q.generateMipmaps=!1,k.__maxMipLevel=$e.length-1}else t.texImage2D(3553,0,Pe,Se,be,Q),k.__maxMipLevel=0;x(q,ee)&&_(me,q,Q.width,Q.height),k.__version=q.version,q.onUpdate&&q.onUpdate(q)}function V(k,q,ce){if(q.image.length!==6)return;Y(k,q),t.activeTexture(33984+ce),t.bindTexture(34067,k.__webglTexture),n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const me=q&&(q.isCompressedTexture||q.image[0].isCompressedTexture),Ce=q.image[0]&&q.image[0].isDataTexture,Q=[];for(let ne=0;ne<6;ne++)!me&&!Ce?Q[ne]=v(q.image[ne],!1,!0,c):Q[ne]=Ce?q.image[ne].image:q.image[ne];const ee=Q[0],Se=y(ee)||a,be=s.convert(q.format),Pe=s.convert(q.type),he=w(q.internalFormat,be,Pe);z(34067,q,Se);let $e;if(me){for(let ne=0;ne<6;ne++){$e=Q[ne].mipmaps;for(let Re=0;Re<$e.length;Re++){const fe=$e[Re];q.format!==Tr&&q.format!==Ea?be!==null?t.compressedTexImage2D(34069+ne,Re,he,fe.width,fe.height,0,fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+ne,Re,he,fe.width,fe.height,0,be,Pe,fe.data)}}k.__maxMipLevel=$e.length-1}else{$e=q.mipmaps;for(let ne=0;ne<6;ne++)if(Ce){t.texImage2D(34069+ne,0,he,Q[ne].width,Q[ne].height,0,be,Pe,Q[ne].data);for(let Re=0;Re<$e.length;Re++){const ge=$e[Re].image[ne].image;t.texImage2D(34069+ne,Re+1,he,ge.width,ge.height,0,be,Pe,ge.data)}}else{t.texImage2D(34069+ne,0,he,be,Pe,Q[ne]);for(let Re=0;Re<$e.length;Re++){const fe=$e[Re];t.texImage2D(34069+ne,Re+1,he,be,Pe,fe.image[ne])}}k.__maxMipLevel=$e.length}x(q,Se)&&_(34067,q,ee.width,ee.height),k.__version=q.version,q.onUpdate&&q.onUpdate(q)}function W(k,q,ce,me,Ce){const Q=s.convert(ce.format),ee=s.convert(ce.type),Se=w(ce.internalFormat,Q,ee);Ce===32879||Ce===35866?t.texImage3D(Ce,0,Se,q.width,q.height,q.depth,0,Q,ee,null):t.texImage2D(Ce,0,Se,q.width,q.height,0,Q,ee,null),t.bindFramebuffer(36160,k),n.framebufferTexture2D(36160,me,Ce,i.get(ce).__webglTexture,0),t.bindFramebuffer(36160,null)}function ie(k,q,ce){if(n.bindRenderbuffer(36161,k),q.depthBuffer&&!q.stencilBuffer){let me=33189;if(ce){const Ce=q.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===gl?me=36012:Ce.type===lg&&(me=33190));const Q=we(q);n.renderbufferStorageMultisample(36161,Q,me,q.width,q.height)}else n.renderbufferStorage(36161,me,q.width,q.height);n.framebufferRenderbuffer(36160,36096,36161,k)}else if(q.depthBuffer&&q.stencilBuffer){if(ce){const me=we(q);n.renderbufferStorageMultisample(36161,me,35056,q.width,q.height)}else n.renderbufferStorage(36161,34041,q.width,q.height);n.framebufferRenderbuffer(36160,33306,36161,k)}else{const me=q.isWebGLMultipleRenderTargets===!0?q.texture[0]:q.texture,Ce=s.convert(me.format),Q=s.convert(me.type),ee=w(me.internalFormat,Ce,Q);if(ce){const Se=we(q);n.renderbufferStorageMultisample(36161,Se,ee,q.width,q.height)}else n.renderbufferStorage(36161,ee,q.width,q.height)}n.bindRenderbuffer(36161,null)}function G(k,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,k),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),R(q.depthTexture,0);const me=i.get(q.depthTexture).__webglTexture;if(q.depthTexture.format===Tu)n.framebufferTexture2D(36160,36096,3553,me,0);else if(q.depthTexture.format===yh)n.framebufferTexture2D(36160,33306,3553,me,0);else throw new Error("Unknown depthTexture format")}function te(k){const q=i.get(k),ce=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");G(q.__webglFramebuffer,k)}else if(ce){q.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(36160,q.__webglFramebuffer[me]),q.__webglDepthbuffer[me]=n.createRenderbuffer(),ie(q.__webglDepthbuffer[me],k,!1)}else t.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=n.createRenderbuffer(),ie(q.__webglDepthbuffer,k,!1);t.bindFramebuffer(36160,null)}function oe(k){const q=k.texture,ce=i.get(k),me=i.get(q);k.addEventListener("dispose",M),k.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture=n.createTexture(),me.__version=q.version,o.memory.textures++);const Ce=k.isWebGLCubeRenderTarget===!0,Q=k.isWebGLMultipleRenderTargets===!0,ee=k.isWebGLMultisampleRenderTarget===!0,Se=q.isDataTexture3D||q.isDataTexture2DArray,be=y(k)||a;if(a&&q.format===Ea&&(q.type===gl||q.type===Mu)&&(q.format=Tr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ce){ce.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)ce.__webglFramebuffer[Pe]=n.createFramebuffer()}else if(ce.__webglFramebuffer=n.createFramebuffer(),Q)if(r.drawBuffers){const Pe=k.texture;for(let he=0,$e=Pe.length;he<$e;he++){const ne=i.get(Pe[he]);ne.__webglTexture===void 0&&(ne.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(ee)if(a){ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,ce.__webglColorRenderbuffer);const Pe=s.convert(q.format),he=s.convert(q.type),$e=w(q.internalFormat,Pe,he),ne=we(k);n.renderbufferStorageMultisample(36161,ne,$e,k.width,k.height),t.bindFramebuffer(36160,ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,ce.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),k.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),ie(ce.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ce){t.bindTexture(34067,me.__webglTexture),z(34067,q,be);for(let Pe=0;Pe<6;Pe++)W(ce.__webglFramebuffer[Pe],k,q,36064,34069+Pe);x(q,be)&&_(34067,q,k.width,k.height),t.unbindTexture()}else if(Q){const Pe=k.texture;for(let he=0,$e=Pe.length;he<$e;he++){const ne=Pe[he],Re=i.get(ne);t.bindTexture(3553,Re.__webglTexture),z(3553,ne,be),W(ce.__webglFramebuffer,k,ne,36064+he,3553),x(ne,be)&&_(3553,ne,k.width,k.height)}t.unbindTexture()}else{let Pe=3553;Se&&(a?Pe=q.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(Pe,me.__webglTexture),z(Pe,q,be),W(ce.__webglFramebuffer,k,q,36064,Pe),x(q,be)&&_(Pe,q,k.width,k.height,k.depth),t.unbindTexture()}k.depthBuffer&&te(k)}function xe(k){const q=y(k)||a,ce=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let me=0,Ce=ce.length;me<Ce;me++){const Q=ce[me];if(x(Q,q)){const ee=k.isWebGLCubeRenderTarget?34067:3553,Se=i.get(Q).__webglTexture;t.bindTexture(ee,Se),_(ee,Q,k.width,k.height),t.unbindTexture()}}}function ue(k){if(k.isWebGLMultisampleRenderTarget)if(a){const q=k.width,ce=k.height;let me=16384;k.depthBuffer&&(me|=256),k.stencilBuffer&&(me|=1024);const Ce=i.get(k);t.bindFramebuffer(36008,Ce.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ce.__webglFramebuffer),n.blitFramebuffer(0,0,q,ce,0,0,q,ce,me,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ce.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function we(k){return a&&k.isWebGLMultisampleRenderTarget?Math.min(d,k.samples):0}function re(k){const q=o.render.frame;f.get(k)!==q&&(f.set(k,q),k.update())}let j=!1,Z=!1;function le(k,q){k&&k.isWebGLRenderTarget&&(j===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),j=!0),k=k.texture),R(k,q)}function J(k,q){k&&k.isWebGLCubeRenderTarget&&(Z===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Z=!0),k=k.texture),A(k,q)}this.allocateTextureUnit=F,this.resetTextureUnits=O,this.setTexture2D=R,this.setTexture2DArray=$,this.setTexture3D=D,this.setTextureCube=A,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=xe,this.updateMultisampleRenderTarget=ue,this.safeSetTexture2D=le,this.safeSetTextureCube=J}function vMe(n,e,t){const i=t.isWebGL2;function r(s){let o;if(s===rd)return 5121;if(s===Vbe)return 32819;if(s===Hbe)return 32820;if(s===Ube)return 33635;if(s===Bbe)return 5120;if(s===zbe)return 5122;if(s===Wg)return 5123;if(s===$be)return 5124;if(s===lg)return 5125;if(s===gl)return 5126;if(s===Mu)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===Wbe)return 6406;if(s===Ea)return 6407;if(s===Tr)return 6408;if(s===Gbe)return 6409;if(s===jbe)return 6410;if(s===Tu)return 6402;if(s===yh)return 34041;if(s===qbe)return 6403;if(s===Ybe)return 36244;if(s===Xbe)return 33319;if(s===Zbe)return 33320;if(s===Jbe)return 36248;if(s===Qbe)return 36249;if(s===P2||s===I2||s===k2||s===D2)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===P2)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===I2)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===k2)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===D2)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===N2||s===O2||s===F2||s===B2)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===N2)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===O2)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===F2)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===B2)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===e_e)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===z2||s===$2)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===z2)return o.COMPRESSED_RGB8_ETC2;if(s===$2)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===t_e||s===n_e||s===i_e||s===r_e||s===s_e||s===o_e||s===a_e||s===l_e||s===c_e||s===u_e||s===d_e||s===f_e||s===h_e||s===p_e||s===g_e||s===v_e||s===y_e||s===b_e||s===__e||s===x_e||s===w_e||s===S_e||s===M_e||s===T_e||s===E_e||s===C_e||s===A_e||s===L_e)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===m_e)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===Lf)return i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class VN extends er{constructor(e=[]){super(),this.cameras=e}}VN.prototype.isArrayCamera=!0;class cf extends fn{constructor(){super(),this.type="Group"}}cf.prototype.isGroup=!0;const yMe={type:"move"};class ib{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new cf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new cf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new cf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(r=t.getPose(e.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yMe))),c&&e.hand){o=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,i);if(c.joints[m.jointName]===void 0){const b=new cf;b.matrixAutoUpdate=!1,b.visible=!1,c.joints[m.jointName]=b,c.add(b)}const y=c.joints[m.jointName];v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=v.radius),y.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class bMe extends oc{constructor(e,t){super();const i=this,r=e.state;let s=null,o=1,a=null,l="local-floor",c=null,u=null,d=null,f=null,h=null,g=!1,m=null,v=null,y=null,b=null,x=null,_=null;const w=[],S=new Map,T=new er;T.layers.enable(1),T.viewport=new _n;const M=new er;M.layers.enable(2),M.viewport=new _n;const C=[T,M],L=new VN;L.layers.enable(1),L.layers.enable(2);let E=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let W=w[V];return W===void 0&&(W=new ib,w[V]=W),W.getTargetRaySpace()},this.getControllerGrip=function(V){let W=w[V];return W===void 0&&(W=new ib,w[V]=W),W.getGripSpace()},this.getHand=function(V){let W=w[V];return W===void 0&&(W=new ib,w[V]=W),W.getHandSpace()};function F(V){const W=S.get(V.inputSource);W&&W.dispatchEvent({type:V.type,data:V.inputSource})}function R(){S.forEach(function(V,W){V.disconnect(W)}),S.clear(),E=null,O=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),d&&t.deleteFramebuffer(d),m&&t.deleteFramebuffer(m),v&&t.deleteRenderbuffer(v),y&&t.deleteRenderbuffer(y),d=null,m=null,v=null,y=null,h=null,f=null,u=null,s=null,H.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){o=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){l=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return u},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=async function(V){if(s=V,s!==null){s.addEventListener("select",F),s.addEventListener("selectstart",F),s.addEventListener("selectend",F),s.addEventListener("squeeze",F),s.addEventListener("squeezestart",F),s.addEventListener("squeezeend",F),s.addEventListener("end",R),s.addEventListener("inputsourceschange",$);const W=t.getContextAttributes();if(W.xrCompatible!==!0&&await t.makeXRCompatible(),s.renderState.layers===void 0){const ie={antialias:W.antialias,alpha:W.alpha,depth:W.depth,stencil:W.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(s,t,ie),s.updateRenderState({baseLayer:h})}else if(t instanceof WebGLRenderingContext){const ie={antialias:!0,alpha:W.alpha,depth:W.depth,stencil:W.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(s,t,ie),s.updateRenderState({layers:[h]})}else{g=W.antialias;let ie=null;W.depth&&(_=256,W.stencil&&(_|=1024),x=W.stencil?33306:36096,ie=W.stencil?35056:33190);const G={colorFormat:W.alpha?32856:32849,depthFormat:ie,scaleFactor:o};u=new XRWebGLBinding(s,t),f=u.createProjectionLayer(G),d=t.createFramebuffer(),s.updateRenderState({layers:[f]}),g&&(m=t.createFramebuffer(),v=t.createRenderbuffer(),t.bindRenderbuffer(36161,v),t.renderbufferStorageMultisample(36161,4,32856,f.textureWidth,f.textureHeight),r.bindFramebuffer(36160,m),t.framebufferRenderbuffer(36160,36064,36161,v),t.bindRenderbuffer(36161,null),ie!==null&&(y=t.createRenderbuffer(),t.bindRenderbuffer(36161,y),t.renderbufferStorageMultisample(36161,4,ie,f.textureWidth,f.textureHeight),t.framebufferRenderbuffer(36160,x,36161,y),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}a=await s.requestReferenceSpace(l),H.setContext(s),H.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function $(V){const W=s.inputSources;for(let ie=0;ie<w.length;ie++)S.set(W[ie],w[ie]);for(let ie=0;ie<V.removed.length;ie++){const G=V.removed[ie],te=S.get(G);te&&(te.dispatchEvent({type:"disconnected",data:G}),S.delete(G))}for(let ie=0;ie<V.added.length;ie++){const G=V.added[ie],te=S.get(G);te&&te.dispatchEvent({type:"connected",data:G})}}const D=new Fe,A=new Fe;function N(V,W,ie){D.setFromMatrixPosition(W.matrixWorld),A.setFromMatrixPosition(ie.matrixWorld);const G=D.distanceTo(A),te=W.projectionMatrix.elements,oe=ie.projectionMatrix.elements,xe=te[14]/(te[10]-1),ue=te[14]/(te[10]+1),we=(te[9]+1)/te[5],re=(te[9]-1)/te[5],j=(te[8]-1)/te[0],Z=(oe[8]+1)/oe[0],le=xe*j,J=xe*Z,k=G/(-j+Z),q=k*-j;W.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(q),V.translateZ(k),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const ce=xe+k,me=ue+k,Ce=le-q,Q=J+(G-q),ee=we*ue/me*ce,Se=re*ue/me*ce;V.projectionMatrix.makePerspective(Ce,Q,ee,Se,ce,me)}function P(V,W){W===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(W.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(s===null)return;L.near=M.near=T.near=V.near,L.far=M.far=T.far=V.far,(E!==L.near||O!==L.far)&&(s.updateRenderState({depthNear:L.near,depthFar:L.far}),E=L.near,O=L.far);const W=V.parent,ie=L.cameras;P(L,W);for(let te=0;te<ie.length;te++)P(ie[te],W);L.matrixWorld.decompose(L.position,L.quaternion,L.scale),V.position.copy(L.position),V.quaternion.copy(L.quaternion),V.scale.copy(L.scale),V.matrix.copy(L.matrix),V.matrixWorld.copy(L.matrixWorld);const G=V.children;for(let te=0,oe=G.length;te<oe;te++)G[te].updateMatrixWorld(!0);ie.length===2?N(L,T,M):L.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return L},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(V){f!==null&&(f.fixedFoveation=V),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=V)};let z=null;function Y(V,W){if(c=W.getViewerPose(a),b=W,c!==null){const G=c.views;h!==null&&r.bindXRFramebuffer(h.framebuffer);let te=!1;G.length!==L.cameras.length&&(L.cameras.length=0,te=!0);for(let oe=0;oe<G.length;oe++){const xe=G[oe];let ue=null;if(h!==null)ue=h.getViewport(xe);else{const re=u.getViewSubImage(f,xe);r.bindXRFramebuffer(d),re.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,x,3553,re.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,re.colorTexture,0),ue=re.viewport}const we=C[oe];we.matrix.fromArray(xe.transform.matrix),we.projectionMatrix.fromArray(xe.projectionMatrix),we.viewport.set(ue.x,ue.y,ue.width,ue.height),oe===0&&L.matrix.copy(we.matrix),te===!0&&L.cameras.push(we)}g&&(r.bindXRFramebuffer(m),_!==null&&t.clear(_))}const ie=s.inputSources;for(let G=0;G<w.length;G++){const te=w[G],oe=ie[G];te.update(oe,W,a)}if(z&&z(V,W),g){const G=f.textureWidth,te=f.textureHeight;r.bindFramebuffer(36008,m),r.bindFramebuffer(36009,d),t.invalidateFramebuffer(36008,[x]),t.invalidateFramebuffer(36009,[x]),t.blitFramebuffer(0,0,G,te,0,0,G,te,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,m)}b=null}const H=new EN;H.setAnimationLoop(Y),this.setAnimationLoop=function(V){z=V},this.dispose=function(){}}}function _Me(n){function e(y,b){y.fogColor.value.copy(b.color),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)}function t(y,b,x,_,w){b.isMeshBasicMaterial?i(y,b):b.isMeshLambertMaterial?(i(y,b),l(y,b)):b.isMeshToonMaterial?(i(y,b),u(y,b)):b.isMeshPhongMaterial?(i(y,b),c(y,b)):b.isMeshStandardMaterial?(i(y,b),b.isMeshPhysicalMaterial?f(y,b,w):d(y,b)):b.isMeshMatcapMaterial?(i(y,b),h(y,b)):b.isMeshDepthMaterial?(i(y,b),g(y,b)):b.isMeshDistanceMaterial?(i(y,b),m(y,b)):b.isMeshNormalMaterial?(i(y,b),v(y,b)):b.isLineBasicMaterial?(r(y,b),b.isLineDashedMaterial&&s(y,b)):b.isPointsMaterial?o(y,b,x,_):b.isSpriteMaterial?a(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.specularMap&&(y.specularMap.value=b.specularMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);const x=n.get(b).envMap;if(x){y.envMap.value=x,y.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio;const S=n.get(x).__maxMipLevel;S!==void 0&&(y.maxMipLevel.value=S)}b.lightMap&&(y.lightMap.value=b.lightMap,y.lightMapIntensity.value=b.lightMapIntensity),b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity);let _;b.map?_=b.map:b.specularMap?_=b.specularMap:b.displacementMap?_=b.displacementMap:b.normalMap?_=b.normalMap:b.bumpMap?_=b.bumpMap:b.roughnessMap?_=b.roughnessMap:b.metalnessMap?_=b.metalnessMap:b.alphaMap?_=b.alphaMap:b.emissiveMap?_=b.emissiveMap:b.clearcoatMap?_=b.clearcoatMap:b.clearcoatNormalMap?_=b.clearcoatNormalMap:b.clearcoatRoughnessMap?_=b.clearcoatRoughnessMap:b.specularIntensityMap?_=b.specularIntensityMap:b.specularTintMap?_=b.specularTintMap:b.transmissionMap?_=b.transmissionMap:b.thicknessMap&&(_=b.thicknessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix));let w;b.aoMap?w=b.aoMap:b.lightMap&&(w=b.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uv2Transform.value.copy(w.matrix))}function r(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity}function s(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}function o(y,b,x,_){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*x,y.scale.value=_*.5,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);let w;b.map?w=b.map:b.alphaMap&&(w=b.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}function a(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);let x;b.map?x=b.map:b.alphaMap&&(x=b.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),y.uvTransform.value.copy(x.matrix))}function l(y,b){b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap)}function c(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Jn&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Jn&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias)}function u(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Jn&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Jn&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias)}function d(y,b){y.roughness.value=b.roughness,y.metalness.value=b.metalness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Jn&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Jn&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),n.get(b).envMap&&(y.envMapIntensity.value=b.envMapIntensity)}function f(y,b,x){d(y,b),y.ior.value=b.ior,b.sheenTint&&y.sheenTint.value.copy(b.sheenTint),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),y.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===Jn&&y.clearcoatNormalScale.value.negate())),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap),y.attenuationDistance.value=b.attenuationDistance,y.attenuationTint.value.copy(b.attenuationTint)),y.specularIntensity.value=b.specularIntensity,y.specularTint.value.copy(b.specularTint),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap),b.specularTintMap&&(y.specularTintMap.value=b.specularTintMap)}function h(y,b){b.matcap&&(y.matcap.value=b.matcap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Jn&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Jn&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias)}function g(y,b){b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias)}function m(y,b){b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),y.referencePosition.value.copy(b.referencePosition),y.nearDistance.value=b.nearDistance,y.farDistance.value=b.farDistance}function v(y,b){b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Jn&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Jn&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function xMe(){const n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.style.display="block",n}function wn(n={}){const e=n.canvas!==void 0?n.canvas:xMe(),t=n.context!==void 0?n.context:null,i=n.alpha!==void 0?n.alpha:!1,r=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d=null,f=null;const h=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ur,this.physicallyCorrectLights=!1,this.toneMapping=Ol,this.toneMappingExposure=1;const m=this;let v=!1,y=0,b=0,x=null,_=-1,w=null;const S=new _n,T=new _n;let M=null,C=e.width,L=e.height,E=1,O=null,F=null;const R=new _n(0,0,C,L),$=new _n(0,0,C,L);let D=!1;const A=[],N=new Xv;let P=!1,z=!1,Y=null;const H=new $t,V=new Fe,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return x===null?E:1}let G=t;function te(Te,K){for(let ae=0;ae<Te.length;ae++){const Me=Te[ae],Ie=e.getContext(Me,K);if(Ie!==null)return Ie}return null}try{const Te={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",_e,!1),e.addEventListener("webglcontextrestored",Ne,!1),G===null){const K=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&K.shift(),G=te(K,Te),G===null)throw te(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}let oe,xe,ue,we,re,j,Z,le,J,k,q,ce,me,Ce,Q,ee,Se,be,Pe,he,$e,ne,Re;function fe(){oe=new W1e(G),xe=new O1e(G,oe,n),oe.init(xe),ne=new vMe(G,oe,xe),ue=new mMe(G,oe,xe),A[0]=1029,we=new K1e,re=new rMe,j=new gMe(G,oe,ue,re,xe,ne,we),Z=new B1e(m),le=new U1e(m),J=new oxe(G,xe),Re=new D1e(G,oe,J,xe),k=new G1e(G,J,we,Re),q=new Z1e(G,k,J,we),Pe=new X1e(G),ee=new F1e(re),ce=new iMe(m,Z,le,oe,xe,Re,ee),me=new _Me(re),Ce=new oMe(re),Q=new fMe(oe,xe),be=new k1e(m,Z,ue,q,a),Se=new $N(m,q,xe),he=new N1e(G,oe,we,xe),$e=new j1e(G,oe,we,xe),we.programs=ce.programs,m.capabilities=xe,m.extensions=oe,m.properties=re,m.renderLists=Ce,m.shadowMap=Se,m.state=ue,m.info=we}fe();const ge=new bMe(m,G);this.xr=ge,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const Te=oe.get("WEBGL_lose_context");Te&&Te.loseContext()},this.forceContextRestore=function(){const Te=oe.get("WEBGL_lose_context");Te&&Te.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(Te){Te!==void 0&&(E=Te,this.setSize(C,L,!1))},this.getSize=function(Te){return Te.set(C,L)},this.setSize=function(Te,K,ae){if(ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=Te,L=K,e.width=Math.floor(Te*E),e.height=Math.floor(K*E),ae!==!1&&(e.style.width=Te+"px",e.style.height=K+"px"),this.setViewport(0,0,Te,K)},this.getDrawingBufferSize=function(Te){return Te.set(C*E,L*E).floor()},this.setDrawingBufferSize=function(Te,K,ae){C=Te,L=K,E=ae,e.width=Math.floor(Te*ae),e.height=Math.floor(K*ae),this.setViewport(0,0,Te,K)},this.getCurrentViewport=function(Te){return Te.copy(S)},this.getViewport=function(Te){return Te.copy(R)},this.setViewport=function(Te,K,ae,Me){Te.isVector4?R.set(Te.x,Te.y,Te.z,Te.w):R.set(Te,K,ae,Me),ue.viewport(S.copy(R).multiplyScalar(E).floor())},this.getScissor=function(Te){return Te.copy($)},this.setScissor=function(Te,K,ae,Me){Te.isVector4?$.set(Te.x,Te.y,Te.z,Te.w):$.set(Te,K,ae,Me),ue.scissor(T.copy($).multiplyScalar(E).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(Te){ue.setScissorTest(D=Te)},this.setOpaqueSort=function(Te){O=Te},this.setTransparentSort=function(Te){F=Te},this.getClearColor=function(Te){return Te.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(Te,K,ae){let Me=0;(Te===void 0||Te)&&(Me|=16384),(K===void 0||K)&&(Me|=256),(ae===void 0||ae)&&(Me|=1024),G.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",_e,!1),e.removeEventListener("webglcontextrestored",Ne,!1),Ce.dispose(),Q.dispose(),re.dispose(),Z.dispose(),le.dispose(),q.dispose(),Re.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",ht),ge.removeEventListener("sessionend",Ot),Y&&(Y.dispose(),Y=null),Tt.stop()};function _e(Te){Te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const Te=we.autoReset,K=Se.enabled,ae=Se.autoUpdate,Me=Se.needsUpdate,Ie=Se.type;fe(),we.autoReset=Te,Se.enabled=K,Se.autoUpdate=ae,Se.needsUpdate=Me,Se.type=Ie}function ve(Te){const K=Te.target;K.removeEventListener("dispose",ve),Ue(K)}function Ue(Te){Ae(Te),re.remove(Te)}function Ae(Te){const K=re.get(Te).programs;K!==void 0&&K.forEach(function(ae){ce.releaseProgram(ae)})}function Ye(Te,K){Te.render(function(ae){m.renderBufferImmediate(ae,K)})}this.renderBufferImmediate=function(Te,K){Re.initAttributes();const ae=re.get(Te);Te.hasPositions&&!ae.position&&(ae.position=G.createBuffer()),Te.hasNormals&&!ae.normal&&(ae.normal=G.createBuffer()),Te.hasUvs&&!ae.uv&&(ae.uv=G.createBuffer()),Te.hasColors&&!ae.color&&(ae.color=G.createBuffer());const Me=K.getAttributes();Te.hasPositions&&(G.bindBuffer(34962,ae.position),G.bufferData(34962,Te.positionArray,35048),Re.enableAttribute(Me.position.location),G.vertexAttribPointer(Me.position.location,3,5126,!1,0,0)),Te.hasNormals&&(G.bindBuffer(34962,ae.normal),G.bufferData(34962,Te.normalArray,35048),Re.enableAttribute(Me.normal.location),G.vertexAttribPointer(Me.normal.location,3,5126,!1,0,0)),Te.hasUvs&&(G.bindBuffer(34962,ae.uv),G.bufferData(34962,Te.uvArray,35048),Re.enableAttribute(Me.uv.location),G.vertexAttribPointer(Me.uv.location,2,5126,!1,0,0)),Te.hasColors&&(G.bindBuffer(34962,ae.color),G.bufferData(34962,Te.colorArray,35048),Re.enableAttribute(Me.color.location),G.vertexAttribPointer(Me.color.location,3,5126,!1,0,0)),Re.disableUnusedAttributes(),G.drawArrays(4,0,Te.count),Te.count=0},this.renderBufferDirect=function(Te,K,ae,Me,Ie,We){K===null&&(K=W);const nt=Ie.isMesh&&Ie.matrixWorld.determinant()<0,st=Ks(Te,K,Me,Ie);ue.setMaterial(Me,nt);let ct=ae.index;const mt=ae.attributes.position;if(ct===null){if(mt===void 0||mt.count===0)return}else if(ct.count===0)return;let xt=1;Me.wireframe===!0&&(ct=k.getWireframeAttribute(ae),xt=2),(ae.morphAttributes.position!==void 0||ae.morphAttributes.normal!==void 0)&&Pe.update(Ie,ae,Me,st),Re.setup(Ie,Me,st,ae,ct);let ze,Xe=he;ct!==null&&(ze=J.get(ct),Xe=$e,Xe.setIndex(ze));const pt=ct!==null?ct.count:mt.count,wt=ae.drawRange.start*xt,Sn=ae.drawRange.count*xt,vn=We!==null?We.start*xt:0,si=We!==null?We.count*xt:1/0,Kt=Math.max(wt,vn),Rn=Math.min(pt,wt+Sn,vn+si)-1,on=Math.max(0,Rn-Kt+1);if(on!==0){if(Ie.isMesh)Me.wireframe===!0?(ue.setLineWidth(Me.wireframeLinewidth*ie()),Xe.setMode(1)):Xe.setMode(4);else if(Ie.isLine){let ln=Me.linewidth;ln===void 0&&(ln=1),ue.setLineWidth(ln*ie()),Ie.isLineSegments?Xe.setMode(1):Ie.isLineLoop?Xe.setMode(2):Xe.setMode(3)}else Ie.isPoints?Xe.setMode(0):Ie.isSprite&&Xe.setMode(4);if(Ie.isInstancedMesh)Xe.renderInstances(Kt,on,Ie.count);else if(ae.isInstancedBufferGeometry){const ln=Math.min(ae.instanceCount,ae._maxInstanceCount);Xe.renderInstances(Kt,on,ln)}else Xe.render(Kt,on)}},this.compile=function(Te,K){f=Q.get(Te),f.init(),g.push(f),Te.traverseVisible(function(ae){ae.isLight&&ae.layers.test(K.layers)&&(f.pushLight(ae),ae.castShadow&&f.pushShadow(ae))}),f.setupLights(m.physicallyCorrectLights),Te.traverse(function(ae){const Me=ae.material;if(Me)if(Array.isArray(Me))for(let Ie=0;Ie<Me.length;Ie++){const We=Me[Ie];Cr(We,Te,ae)}else Cr(Me,Te,ae)}),g.pop(),f=null};let Ke=null;function lt(Te){Ke&&Ke(Te)}function ht(){Tt.stop()}function Ot(){Tt.start()}const Tt=new EN;Tt.setAnimationLoop(lt),typeof window<"u"&&Tt.setContext(window),this.setAnimationLoop=function(Te){Ke=Te,ge.setAnimationLoop(Te),Te===null?Tt.stop():Tt.start()},ge.addEventListener("sessionstart",ht),ge.addEventListener("sessionend",Ot),this.render=function(Te,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;Te.autoUpdate===!0&&Te.updateMatrixWorld(),K.parent===null&&K.updateMatrixWorld(),ge.enabled===!0&&ge.isPresenting===!0&&(ge.cameraAutoUpdate===!0&&ge.updateCamera(K),K=ge.getCamera()),Te.isScene===!0&&Te.onBeforeRender(m,Te,K,x),f=Q.get(Te,g.length),f.init(),g.push(f),H.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),N.setFromProjectionMatrix(H),z=this.localClippingEnabled,P=ee.init(this.clippingPlanes,z,K),d=Ce.get(Te,h.length),d.init(),h.push(d),Ft(Te,K,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(O,F),P===!0&&ee.beginShadows();const ae=f.state.shadowsArray;if(Se.render(ae,Te,K),P===!0&&ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(d,Te),f.setupLights(m.physicallyCorrectLights),K.isArrayCamera){const Me=K.cameras;for(let Ie=0,We=Me.length;Ie<We;Ie++){const nt=Me[Ie];Ln(d,Te,nt,nt.viewport)}}else Ln(d,Te,K);x!==null&&(j.updateMultisampleRenderTarget(x),j.updateRenderTargetMipmap(x)),Te.isScene===!0&&Te.onAfterRender(m,Te,K),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1),Re.resetDefaultState(),_=-1,w=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function Ft(Te,K,ae,Me){if(Te.visible===!1)return;if(Te.layers.test(K.layers)){if(Te.isGroup)ae=Te.renderOrder;else if(Te.isLOD)Te.autoUpdate===!0&&Te.update(K);else if(Te.isLight)f.pushLight(Te),Te.castShadow&&f.pushShadow(Te);else if(Te.isSprite){if(!Te.frustumCulled||N.intersectsSprite(Te)){Me&&V.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(H);const nt=q.update(Te),st=Te.material;st.visible&&d.push(Te,nt,st,ae,V.z,null)}}else if(Te.isImmediateRenderObject)Me&&V.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(H),d.push(Te,null,Te.material,ae,V.z,null);else if((Te.isMesh||Te.isLine||Te.isPoints)&&(Te.isSkinnedMesh&&Te.skeleton.frame!==we.render.frame&&(Te.skeleton.update(),Te.skeleton.frame=we.render.frame),!Te.frustumCulled||N.intersectsObject(Te))){Me&&V.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(H);const nt=q.update(Te),st=Te.material;if(Array.isArray(st)){const ct=nt.groups;for(let mt=0,xt=ct.length;mt<xt;mt++){const ze=ct[mt],Xe=st[ze.materialIndex];Xe&&Xe.visible&&d.push(Te,nt,Xe,ae,V.z,ze)}}else st.visible&&d.push(Te,nt,st,ae,V.z,null)}}const We=Te.children;for(let nt=0,st=We.length;nt<st;nt++)Ft(We[nt],K,ae,Me)}function Ln(Te,K,ae,Me){const Ie=Te.opaque,We=Te.transmissive,nt=Te.transparent;f.setupLightsView(ae),We.length>0&&nn(Ie,K,ae),Me&&ue.viewport(S.copy(Me)),Ie.length>0&&Xn(Ie,K,ae),We.length>0&&Xn(We,K,ae),nt.length>0&&Xn(nt,K,ae)}function nn(Te,K,ae){if(Y===null){const nt=o===!0&&xe.isWebGL2===!0?wN:Ds;Y=new nt(1024,1024,{generateMipmaps:!0,type:ne.convert(Mu)!==null?Mu:rd,minFilter:Kv,magFilter:ui,wrapS:_r,wrapT:_r})}const Me=m.getRenderTarget();m.setRenderTarget(Y),m.clear();const Ie=m.toneMapping;m.toneMapping=Ol,Xn(Te,K,ae),m.toneMapping=Ie,j.updateMultisampleRenderTarget(Y),j.updateRenderTargetMipmap(Y),m.setRenderTarget(Me)}function Xn(Te,K,ae){const Me=K.isScene===!0?K.overrideMaterial:null;for(let Ie=0,We=Te.length;Ie<We;Ie++){const nt=Te[Ie],st=nt.object,ct=nt.geometry,mt=Me===null?nt.material:Me,xt=nt.group;st.layers.test(ae.layers)&&ri(st,K,ae,ct,mt,xt)}}function ri(Te,K,ae,Me,Ie,We){if(Te.onBeforeRender(m,K,ae,Me,Ie,We),Te.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,Te.matrixWorld),Te.normalMatrix.getNormalMatrix(Te.modelViewMatrix),Te.isImmediateRenderObject){const nt=Ks(ae,K,Ie,Te);ue.setMaterial(Ie),Re.reset(),Ye(Te,nt)}else Ie.transparent===!0&&Ie.side===id?(Ie.side=Jn,Ie.needsUpdate=!0,m.renderBufferDirect(ae,K,Me,Ie,Te,We),Ie.side=vh,Ie.needsUpdate=!0,m.renderBufferDirect(ae,K,Me,Ie,Te,We),Ie.side=id):m.renderBufferDirect(ae,K,Me,Ie,Te,We);Te.onAfterRender(m,K,ae,Me,Ie,We)}function Cr(Te,K,ae){K.isScene!==!0&&(K=W);const Me=re.get(Te),Ie=f.state.lights,We=f.state.shadowsArray,nt=Ie.state.version,st=ce.getParameters(Te,Ie.state,We,K,ae),ct=ce.getProgramCacheKey(st);let mt=Me.programs;Me.environment=Te.isMeshStandardMaterial?K.environment:null,Me.fog=K.fog,Me.envMap=(Te.isMeshStandardMaterial?le:Z).get(Te.envMap||Me.environment),mt===void 0&&(Te.addEventListener("dispose",ve),mt=new Map,Me.programs=mt);let xt=mt.get(ct);if(xt!==void 0){if(Me.currentProgram===xt&&Me.lightsStateVersion===nt)return qr(Te,st),xt}else st.uniforms=ce.getUniforms(Te),Te.onBuild(st,m),Te.onBeforeCompile(st,m),xt=ce.acquireProgram(st,ct),mt.set(ct,xt),Me.uniforms=st.uniforms;const ze=Me.uniforms;(!Te.isShaderMaterial&&!Te.isRawShaderMaterial||Te.clipping===!0)&&(ze.clippingPlanes=ee.uniform),qr(Te,st),Me.needsLights=Ya(Te),Me.lightsStateVersion=nt,Me.needsLights&&(ze.ambientLightColor.value=Ie.state.ambient,ze.lightProbe.value=Ie.state.probe,ze.directionalLights.value=Ie.state.directional,ze.directionalLightShadows.value=Ie.state.directionalShadow,ze.spotLights.value=Ie.state.spot,ze.spotLightShadows.value=Ie.state.spotShadow,ze.rectAreaLights.value=Ie.state.rectArea,ze.ltc_1.value=Ie.state.rectAreaLTC1,ze.ltc_2.value=Ie.state.rectAreaLTC2,ze.pointLights.value=Ie.state.point,ze.pointLightShadows.value=Ie.state.pointShadow,ze.hemisphereLights.value=Ie.state.hemi,ze.directionalShadowMap.value=Ie.state.directionalShadowMap,ze.directionalShadowMatrix.value=Ie.state.directionalShadowMatrix,ze.spotShadowMap.value=Ie.state.spotShadowMap,ze.spotShadowMatrix.value=Ie.state.spotShadowMatrix,ze.pointShadowMap.value=Ie.state.pointShadowMap,ze.pointShadowMatrix.value=Ie.state.pointShadowMatrix);const Xe=xt.getUniforms(),pt=Aa.seqWithValue(Xe.seq,ze);return Me.currentProgram=xt,Me.uniformsList=pt,xt}function qr(Te,K){const ae=re.get(Te);ae.outputEncoding=K.outputEncoding,ae.instancing=K.instancing,ae.skinning=K.skinning,ae.morphTargets=K.morphTargets,ae.morphNormals=K.morphNormals,ae.numClippingPlanes=K.numClippingPlanes,ae.numIntersection=K.numClipIntersection,ae.vertexAlphas=K.vertexAlphas,ae.vertexTangents=K.vertexTangents}function Ks(Te,K,ae,Me){K.isScene!==!0&&(K=W),j.resetTextureUnits();const Ie=K.fog,We=ae.isMeshStandardMaterial?K.environment:null,nt=x===null?m.outputEncoding:x.texture.encoding,st=(ae.isMeshStandardMaterial?le:Z).get(ae.envMap||We),ct=ae.vertexColors===!0&&!!Me.geometry&&!!Me.geometry.attributes.color&&Me.geometry.attributes.color.itemSize===4,mt=!!Me.geometry&&!!Me.geometry.attributes.tangent,xt=!!Me.geometry&&!!Me.geometry.morphAttributes.position,ze=!!Me.geometry&&!!Me.geometry.morphAttributes.normal,Xe=re.get(ae),pt=f.state.lights;if(P===!0&&(z===!0||Te!==w)){const ln=Te===w&&ae.id===_;ee.setState(ae,Te,ln)}let wt=!1;ae.version===Xe.__version?(Xe.needsLights&&Xe.lightsStateVersion!==pt.state.version||Xe.outputEncoding!==nt||Me.isInstancedMesh&&Xe.instancing===!1||!Me.isInstancedMesh&&Xe.instancing===!0||Me.isSkinnedMesh&&Xe.skinning===!1||!Me.isSkinnedMesh&&Xe.skinning===!0||Xe.envMap!==st||ae.fog&&Xe.fog!==Ie||Xe.numClippingPlanes!==void 0&&(Xe.numClippingPlanes!==ee.numPlanes||Xe.numIntersection!==ee.numIntersection)||Xe.vertexAlphas!==ct||Xe.vertexTangents!==mt||Xe.morphTargets!==xt||Xe.morphNormals!==ze)&&(wt=!0):(wt=!0,Xe.__version=ae.version);let Sn=Xe.currentProgram;wt===!0&&(Sn=Cr(ae,K,Me));let vn=!1,si=!1,Kt=!1;const Rn=Sn.getUniforms(),on=Xe.uniforms;if(ue.useProgram(Sn.program)&&(vn=!0,si=!0,Kt=!0),ae.id!==_&&(_=ae.id,si=!0),vn||w!==Te){if(Rn.setValue(G,"projectionMatrix",Te.projectionMatrix),xe.logarithmicDepthBuffer&&Rn.setValue(G,"logDepthBufFC",2/(Math.log(Te.far+1)/Math.LN2)),w!==Te&&(w=Te,si=!0,Kt=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const ln=Rn.map.cameraPosition;ln!==void 0&&ln.setValue(G,V.setFromMatrixPosition(Te.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&Rn.setValue(G,"isOrthographic",Te.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||Me.isSkinnedMesh)&&Rn.setValue(G,"viewMatrix",Te.matrixWorldInverse)}if(Me.isSkinnedMesh){Rn.setOptional(G,Me,"bindMatrix"),Rn.setOptional(G,Me,"bindMatrixInverse");const ln=Me.skeleton;ln&&(xe.floatVertexTextures?(ln.boneTexture===null&&ln.computeBoneTexture(),Rn.setValue(G,"boneTexture",ln.boneTexture,j),Rn.setValue(G,"boneTextureSize",ln.boneTextureSize)):Rn.setOptional(G,ln,"boneMatrices"))}return(si||Xe.receiveShadow!==Me.receiveShadow)&&(Xe.receiveShadow=Me.receiveShadow,Rn.setValue(G,"receiveShadow",Me.receiveShadow)),si&&(Rn.setValue(G,"toneMappingExposure",m.toneMappingExposure),Xe.needsLights&&qa(on,Kt),Ie&&ae.fog&&me.refreshFogUniforms(on,Ie),me.refreshMaterialUniforms(on,ae,E,L,Y),Aa.upload(G,Xe.uniformsList,on,j)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(Aa.upload(G,Xe.uniformsList,on,j),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&Rn.setValue(G,"center",Me.center),Rn.setValue(G,"modelViewMatrix",Me.modelViewMatrix),Rn.setValue(G,"normalMatrix",Me.normalMatrix),Rn.setValue(G,"modelMatrix",Me.matrixWorld),Sn}function qa(Te,K){Te.ambientLightColor.needsUpdate=K,Te.lightProbe.needsUpdate=K,Te.directionalLights.needsUpdate=K,Te.directionalLightShadows.needsUpdate=K,Te.pointLights.needsUpdate=K,Te.pointLightShadows.needsUpdate=K,Te.spotLights.needsUpdate=K,Te.spotLightShadows.needsUpdate=K,Te.rectAreaLights.needsUpdate=K,Te.hemisphereLights.needsUpdate=K}function Ya(Te){return Te.isMeshLambertMaterial||Te.isMeshToonMaterial||Te.isMeshPhongMaterial||Te.isMeshStandardMaterial||Te.isShadowMaterial||Te.isShaderMaterial&&Te.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return x},this.setRenderTarget=function(Te,K=0,ae=0){x=Te,y=K,b=ae,Te&&re.get(Te).__webglFramebuffer===void 0&&j.setupRenderTarget(Te);let Me=null,Ie=!1,We=!1;if(Te){const st=Te.texture;(st.isDataTexture3D||st.isDataTexture2DArray)&&(We=!0);const ct=re.get(Te).__webglFramebuffer;Te.isWebGLCubeRenderTarget?(Me=ct[K],Ie=!0):Te.isWebGLMultisampleRenderTarget?Me=re.get(Te).__webglMultisampledFramebuffer:Me=ct,S.copy(Te.viewport),T.copy(Te.scissor),M=Te.scissorTest}else S.copy(R).multiplyScalar(E).floor(),T.copy($).multiplyScalar(E).floor(),M=D;if(ue.bindFramebuffer(36160,Me)&&xe.drawBuffers){let st=!1;if(Te)if(Te.isWebGLMultipleRenderTargets){const ct=Te.texture;if(A.length!==ct.length||A[0]!==36064){for(let mt=0,xt=ct.length;mt<xt;mt++)A[mt]=36064+mt;A.length=ct.length,st=!0}}else(A.length!==1||A[0]!==36064)&&(A[0]=36064,A.length=1,st=!0);else(A.length!==1||A[0]!==1029)&&(A[0]=1029,A.length=1,st=!0);st&&(xe.isWebGL2?G.drawBuffers(A):oe.get("WEBGL_draw_buffers").drawBuffersWEBGL(A))}if(ue.viewport(S),ue.scissor(T),ue.setScissorTest(M),Ie){const st=re.get(Te.texture);G.framebufferTexture2D(36160,36064,34069+K,st.__webglTexture,ae)}else if(We){const st=re.get(Te.texture),ct=K||0;G.framebufferTextureLayer(36160,36064,st.__webglTexture,ae||0,ct)}_=-1},this.readRenderTargetPixels=function(Te,K,ae,Me,Ie,We,nt){if(!(Te&&Te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=re.get(Te).__webglFramebuffer;if(Te.isWebGLCubeRenderTarget&&nt!==void 0&&(st=st[nt]),st){ue.bindFramebuffer(36160,st);try{const ct=Te.texture,mt=ct.format,xt=ct.type;if(mt!==Tr&&ne.convert(mt)!==G.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ze=xt===Mu&&(oe.has("EXT_color_buffer_half_float")||xe.isWebGL2&&oe.has("EXT_color_buffer_float"));if(xt!==rd&&ne.convert(xt)!==G.getParameter(35738)&&!(xt===gl&&(xe.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!ze){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G.checkFramebufferStatus(36160)===36053?K>=0&&K<=Te.width-Me&&ae>=0&&ae<=Te.height-Ie&&G.readPixels(K,ae,Me,Ie,ne.convert(mt),ne.convert(xt),We):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const ct=x!==null?re.get(x).__webglFramebuffer:null;ue.bindFramebuffer(36160,ct)}}},this.copyFramebufferToTexture=function(Te,K,ae=0){const Me=Math.pow(2,-ae),Ie=Math.floor(K.image.width*Me),We=Math.floor(K.image.height*Me);let nt=ne.convert(K.format);xe.isWebGL2&&(nt===6407&&(nt=32849),nt===6408&&(nt=32856)),j.setTexture2D(K,0),G.copyTexImage2D(3553,ae,nt,Te.x,Te.y,Ie,We,0),ue.unbindTexture()},this.copyTextureToTexture=function(Te,K,ae,Me=0){const Ie=K.image.width,We=K.image.height,nt=ne.convert(ae.format),st=ne.convert(ae.type);j.setTexture2D(ae,0),G.pixelStorei(37440,ae.flipY),G.pixelStorei(37441,ae.premultiplyAlpha),G.pixelStorei(3317,ae.unpackAlignment),K.isDataTexture?G.texSubImage2D(3553,Me,Te.x,Te.y,Ie,We,nt,st,K.image.data):K.isCompressedTexture?G.compressedTexSubImage2D(3553,Me,Te.x,Te.y,K.mipmaps[0].width,K.mipmaps[0].height,nt,K.mipmaps[0].data):G.texSubImage2D(3553,Me,Te.x,Te.y,nt,st,K.image),Me===0&&ae.generateMipmaps&&G.generateMipmap(3553),ue.unbindTexture()},this.copyTextureToTexture3D=function(Te,K,ae,Me,Ie=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const We=Te.max.x-Te.min.x+1,nt=Te.max.y-Te.min.y+1,st=Te.max.z-Te.min.z+1,ct=ne.convert(Me.format),mt=ne.convert(Me.type);let xt;if(Me.isDataTexture3D)j.setTexture3D(Me,0),xt=32879;else if(Me.isDataTexture2DArray)j.setTexture2DArray(Me,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(37440,Me.flipY),G.pixelStorei(37441,Me.premultiplyAlpha),G.pixelStorei(3317,Me.unpackAlignment);const ze=G.getParameter(3314),Xe=G.getParameter(32878),pt=G.getParameter(3316),wt=G.getParameter(3315),Sn=G.getParameter(32877),vn=ae.isCompressedTexture?ae.mipmaps[0]:ae.image;G.pixelStorei(3314,vn.width),G.pixelStorei(32878,vn.height),G.pixelStorei(3316,Te.min.x),G.pixelStorei(3315,Te.min.y),G.pixelStorei(32877,Te.min.z),ae.isDataTexture||ae.isDataTexture3D?G.texSubImage3D(xt,Ie,K.x,K.y,K.z,We,nt,st,ct,mt,vn.data):ae.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(xt,Ie,K.x,K.y,K.z,We,nt,st,ct,vn.data)):G.texSubImage3D(xt,Ie,K.x,K.y,K.z,We,nt,st,ct,mt,vn),G.pixelStorei(3314,ze),G.pixelStorei(32878,Xe),G.pixelStorei(3316,pt),G.pixelStorei(3315,wt),G.pixelStorei(32877,Sn),Ie===0&&Me.generateMipmaps&&G.generateMipmap(xt),ue.unbindTexture()},this.initTexture=function(Te){j.setTexture2D(Te,0),ue.unbindTexture()},this.resetState=function(){y=0,b=0,x=null,ue.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class wMe extends wn{}wMe.prototype.isWebGL1Renderer=!0;class HN extends fn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}HN.prototype.isScene=!0;class Yh{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=go,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ks()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Yh.prototype.isInterleavedBuffer=!0;const Vn=new Fe;class bh{constructor(e,t,i,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Vn.x=this.getX(t),Vn.y=this.getY(t),Vn.z=this.getZ(t),Vn.applyMatrix4(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Vn.x=this.getX(t),Vn.y=this.getY(t),Vn.z=this.getZ(t),Vn.applyNormalMatrix(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Vn.x=this.getX(t),Vn.y=this.getY(t),Vn.z=this.getZ(t),Vn.transformDirection(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new mn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}bh.prototype.isInterleavedBufferAttribute=!0;class UN extends Ii{constructor(e){super(),this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}UN.prototype.isSpriteMaterial=!0;let Uc;const Xd=new Fe,Wc=new Fe,Gc=new Fe,jc=new gt,Zd=new gt,WN=new $t,gm=new Fe,Jd=new Fe,vm=new Fe,xA=new gt,rb=new gt,wA=new gt;class SMe extends fn{constructor(e){if(super(),this.type="Sprite",Uc===void 0){Uc=new An;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Yh(t,5);Uc.setIndex([0,1,2,0,2,3]),Uc.setAttribute("position",new bh(i,3,0,!1)),Uc.setAttribute("uv",new bh(i,2,3,!1))}this.geometry=Uc,this.material=e!==void 0?e:new UN,this.center=new gt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wc.setFromMatrixScale(this.matrixWorld),WN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Gc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wc.multiplyScalar(-Gc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;ym(gm.set(-.5,-.5,0),Gc,o,Wc,r,s),ym(Jd.set(.5,-.5,0),Gc,o,Wc,r,s),ym(vm.set(.5,.5,0),Gc,o,Wc,r,s),xA.set(0,0),rb.set(1,0),wA.set(1,1);let a=e.ray.intersectTriangle(gm,Jd,vm,!1,Xd);if(a===null&&(ym(Jd.set(-.5,.5,0),Gc,o,Wc,r,s),rb.set(0,1),a=e.ray.intersectTriangle(gm,vm,Jd,!1,Xd),a===null))return;const l=e.ray.origin.distanceTo(Xd);l<e.near||l>e.far||t.push({distance:l,point:Xd.clone(),uv:Qn.getUV(Xd,gm,Jd,vm,xA,rb,wA,new gt),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}SMe.prototype.isSprite=!0;function ym(n,e,t,i,r,s){jc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Zd.x=s*jc.x-r*jc.y,Zd.y=r*jc.x+s*jc.y):Zd.copy(jc),n.copy(e),n.x+=Zd.x,n.y+=Zd.y,n.applyMatrix4(WN)}const SA=new Fe,MA=new _n,TA=new _n,MMe=new Fe,EA=new $t;class GN extends ir{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $t,this.bindMatrixInverse=new $t}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _n,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;MA.fromBufferAttribute(r.attributes.skinIndex,e),TA.fromBufferAttribute(r.attributes.skinWeight,e),SA.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=TA.getComponent(s);if(o!==0){const a=MA.getComponent(s);EA.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(MMe.copy(SA).applyMatrix4(EA),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}GN.prototype.isSkinnedMesh=!0;class TMe extends fn{constructor(){super(),this.type="Bone"}}TMe.prototype.isBone=!0;class EMe extends wi{constructor(e=null,t=1,i=1,r,s,o,a,l,c=ui,u=ui,d,f){super(null,o,a,l,c,u,r,s,d,f),this.image={data:e,width:t,height:i},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}EMe.prototype.isDataTexture=!0;class sx extends mn{constructor(e,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,i),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}sx.prototype.isInstancedBufferAttribute=!0;const CA=new $t,AA=new $t,bm=[],Qd=new ir;class CMe extends ir{constructor(e,t,i){super(e,t),this.instanceMatrix=new sx(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Qd.geometry=this.geometry,Qd.material=this.material,Qd.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,CA),AA.multiplyMatrices(i,CA),Qd.matrixWorld=AA,Qd.raycast(e,bm);for(let o=0,a=bm.length;o<a;o++){const l=bm[o];l.instanceId=s,l.object=this,t.push(l)}bm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new sx(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}CMe.prototype.isInstancedMesh=!0;class Xh extends Ii{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Nt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Xh.prototype.isLineBasicMaterial=!0;const LA=new Fe,RA=new Fe,PA=new $t,sb=new Sd,_m=new wd;class W1 extends fn{constructor(e=new An,t=new Xh){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)LA.fromBufferAttribute(t,r-1),RA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=LA.distanceTo(RA);e.setAttribute("lineDistance",new di(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),_m.copy(i.boundingSphere),_m.applyMatrix4(r),_m.radius+=s,e.ray.intersectsSphere(_m)===!1)return;PA.copy(r).invert(),sb.copy(e.ray).applyMatrix4(PA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Fe,u=new Fe,d=new Fe,f=new Fe,h=this.isLineSegments?2:1;if(i.isBufferGeometry){const g=i.index,v=i.attributes.position;if(g!==null){const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let x=y,_=b-1;x<_;x+=h){const w=g.getX(x),S=g.getX(x+1);if(c.fromBufferAttribute(v,w),u.fromBufferAttribute(v,S),sb.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let x=y,_=b-1;x<_;x+=h){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),sb.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}W1.prototype.isLine=!0;const IA=new Fe,kA=new Fe;class G1 extends W1{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)IA.fromBufferAttribute(t,r),kA.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+IA.distanceTo(kA);e.setAttribute("lineDistance",new di(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}G1.prototype.isLineSegments=!0;class AMe extends W1{constructor(e,t){super(e,t),this.type="LineLoop"}}AMe.prototype.isLineLoop=!0;class jN extends Ii{constructor(e){super(),this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}jN.prototype.isPointsMaterial=!0;const DA=new $t,ox=new Sd,xm=new wd,wm=new Fe;class LMe extends fn{constructor(e=new An,t=new jN){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),xm.copy(i.boundingSphere),xm.applyMatrix4(r),xm.radius+=s,e.ray.intersectsSphere(xm)===!1)return;DA.copy(r).invert(),ox.copy(e.ray).applyMatrix4(DA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let g=f,m=h;g<m;g++){const v=c.getX(g);wm.fromBufferAttribute(d,v),NA(wm,v,l,r,e,t,this)}}else{const f=Math.max(0,o.start),h=Math.min(d.count,o.start+o.count);for(let g=f,m=h;g<m;g++)wm.fromBufferAttribute(d,g),NA(wm,g,l,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}LMe.prototype.isPoints=!0;function NA(n,e,t,i,r,s,o){const a=ox.distanceSqToPoint(n);if(a<t){const l=new Fe;ox.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class RMe extends wi{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.format=a!==void 0?a:Ea,this.minFilter=o!==void 0?o:Or,this.magFilter=s!==void 0?s:Or,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}RMe.prototype.isVideoTexture=!0;class PMe extends wi{constructor(e,t,i,r,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,r,s,d,f),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}PMe.prototype.isCompressedTexture=!0;class IMe extends wi{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.needsUpdate=!0}}IMe.prototype.isCanvasTexture=!0;class kMe extends wi{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Tu,u!==Tu&&u!==yh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Tu&&(i=Wg),i===void 0&&u===yh&&(i=Lf),super(null,r,s,o,a,l,u,i,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:ui,this.minFilter=l!==void 0?l:ui,this.flipY=!1,this.generateMipmaps=!1}}kMe.prototype.isDepthTexture=!0;class Kr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,h=(o-u)/f;return(r+h)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new gt:new Fe);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new Fe,r=[],s=[],o=[],a=new Fe,l=new $t;for(let h=0;h<=e;h++){const g=h/e;r[h]=this.getTangentAt(g,new Fe),r[h].normalize()}s[0]=new Fe,o[0]=new Fe;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(br(r[h-1].dot(r[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(a,g))}o[h].crossVectors(r[h],s[h])}if(t===!0){let h=Math.acos(br(s[0].dot(s[e]),-1,1));h/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(h=-h);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],h*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Jv extends Kr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new gt,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Jv.prototype.isEllipseCurve=!0;class KN extends Jv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.type="ArcCurve"}}KN.prototype.isArcCurve=!0;function j1(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,h=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,h*=u,r(o,a,f,h)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Sm=new Fe,ob=new j1,ab=new j1,lb=new j1;class qN extends Kr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Fe){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Sm.subVectors(r[0],r[1]).add(r[0]),c=Sm);const d=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Sm.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Sm),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);m<1e-4&&(m=1),g<1e-4&&(g=m),v<1e-4&&(v=m),ob.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,m,v),ab.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,m,v),lb.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,m,v)}else this.curveType==="catmullrom"&&(ob.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),ab.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),lb.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(ob.calc(l),ab.calc(l),lb.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Fe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}qN.prototype.isCatmullRomCurve3=!0;function OA(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function DMe(n,e){const t=1-n;return t*t*e}function NMe(n,e){return 2*(1-n)*n*e}function OMe(n,e){return n*n*e}function Rf(n,e,t,i){return DMe(n,e)+NMe(n,t)+OMe(n,i)}function FMe(n,e){const t=1-n;return t*t*t*e}function BMe(n,e){const t=1-n;return 3*t*t*n*e}function zMe(n,e){return 3*(1-n)*n*n*e}function $Me(n,e){return n*n*n*e}function Pf(n,e,t,i,r){return FMe(n,e)+BMe(n,t)+zMe(n,i)+$Me(n,r)}class K1 extends Kr{constructor(e=new gt,t=new gt,i=new gt,r=new gt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new gt){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Pf(e,r.x,s.x,o.x,a.x),Pf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}K1.prototype.isCubicBezierCurve=!0;class YN extends Kr{constructor(e=new Fe,t=new Fe,i=new Fe,r=new Fe){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Fe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Pf(e,r.x,s.x,o.x,a.x),Pf(e,r.y,s.y,o.y,a.y),Pf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}YN.prototype.isCubicBezierCurve3=!0;class Qv extends Kr{constructor(e=new gt,t=new gt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new gt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new gt;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Qv.prototype.isLineCurve=!0;class VMe extends Kr{constructor(e=new Fe,t=new Fe){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class q1 extends Kr{constructor(e=new gt,t=new gt,i=new gt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new gt){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Rf(e,r.x,s.x,o.x),Rf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}q1.prototype.isQuadraticBezierCurve=!0;class Y1 extends Kr{constructor(e=new Fe,t=new Fe,i=new Fe){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Fe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Rf(e,r.x,s.x,o.x),Rf(e,r.y,s.y,o.y),Rf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Y1.prototype.isQuadraticBezierCurve3=!0;class X1 extends Kr{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new gt){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(OA(a,l.x,c.x,u.x,d.x),OA(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new gt().fromArray(r))}return this}}X1.prototype.isSplineCurve=!0;var XN=Object.freeze({__proto__:null,ArcCurve:KN,CatmullRomCurve3:qN,CubicBezierCurve:K1,CubicBezierCurve3:YN,EllipseCurve:Jv,LineCurve:Qv,LineCurve3:VMe,QuadraticBezierCurve:q1,QuadraticBezierCurve3:Y1,SplineCurve:X1});const HMe={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=ZN(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,h;if(i&&(s=KMe(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<r;g+=t)d=n[g],f=n[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-a,u-l),h=h!==0?1/h:0}return _h(s,o,t,a,l,h),o}};function ZN(n,e,t,i,r){let s,o;if(r===rTe(n,e,t,i)>0)for(s=e;s<t;s+=i)o=FA(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=FA(s,n[s],n[s+1],o);return o&&e0(o,o.next)&&(wh(o),o=o.next),o}function za(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(e0(t,t.next)||Bn(t.prev,t,t.next)===0)){if(wh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function _h(n,e,t,i,r,s,o){if(!n)return;!o&&s&&JMe(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?WMe(n,i,r,s):UMe(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),wh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=GMe(za(n),e,t),_h(n,e,t,i,r,s,2)):o===2&&jMe(n,e,t,i,r,s):_h(za(n),e,t,i,r,s,1);break}}}function UMe(n){const e=n.prev,t=n,i=n.next;if(Bn(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(uu(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Bn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function WMe(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Bn(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,d=ax(a,l,e,t,i),f=ax(c,u,e,t,i);let h=n.prevZ,g=n.nextZ;for(;h&&h.z>=d&&g&&g.z<=f;){if(h!==n.prev&&h!==n.next&&uu(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Bn(h.prev,h,h.next)>=0||(h=h.prevZ,g!==n.prev&&g!==n.next&&uu(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Bn(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;h&&h.z>=d;){if(h!==n.prev&&h!==n.next&&uu(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Bn(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=f;){if(g!==n.prev&&g!==n.next&&uu(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Bn(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function GMe(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!e0(r,s)&&JN(r,i,i.next,s)&&xh(r,s)&&xh(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),wh(i),wh(i.next),i=n=s),i=i.next}while(i!==n);return za(i)}function jMe(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&tTe(o,a)){let l=QN(o,a);o=za(o,o.next),l=za(l,l.next),_h(o,e,t,i,r,s),_h(l,e,t,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function KMe(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=ZN(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(eTe(c));for(r.sort(qMe),s=0;s<r.length;s++)YMe(r[s],t),t=za(t,t.next);return t}function qMe(n,e){return n.x-e.x}function YMe(n,e){if(e=XMe(n,e),e){const t=QN(e,n);za(e,e.next),za(t,t.next)}}function XMe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>s){if(s=f,f===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,d;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&uu(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(d=Math.abs(r-t.y)/(i-t.x),xh(t,n)&&(d<u||d===u&&(t.x>o.x||t.x===o.x&&ZMe(o,t)))&&(o=t,u=d)),t=t.next;while(t!==a);return o}function ZMe(n,e){return Bn(n.prev,n,e.prev)<0&&Bn(e.next,n,n.next)<0}function JMe(n,e,t,i){let r=n;do r.z===null&&(r.z=ax(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,QMe(r)}function QMe(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function ax(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function eTe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function uu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(i-a)>=0}function tTe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!nTe(n,e)&&(xh(n,e)&&xh(e,n)&&iTe(n,e)&&(Bn(n.prev,n,e.prev)||Bn(n,e.prev,e))||e0(n,e)&&Bn(n.prev,n,n.next)>0&&Bn(e.prev,e,e.next)>0)}function Bn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function e0(n,e){return n.x===e.x&&n.y===e.y}function JN(n,e,t,i){const r=Tm(Bn(n,e,t)),s=Tm(Bn(n,e,i)),o=Tm(Bn(t,i,n)),a=Tm(Bn(t,i,e));return!!(r!==s&&o!==a||r===0&&Mm(n,t,e)||s===0&&Mm(n,i,e)||o===0&&Mm(t,n,i)||a===0&&Mm(t,e,i))}function Mm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Tm(n){return n>0?1:n<0?-1:0}function nTe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&JN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function xh(n,e){return Bn(n.prev,n,n.next)<0?Bn(n,e,n.next)>=0&&Bn(n,n.prev,e)>=0:Bn(n,e,n.prev)<0||Bn(n,n.next,e)<0}function iTe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function QN(n,e){const t=new lx(n.i,n.x,n.y),i=new lx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function FA(n,e,t,i){const r=new lx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function wh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function lx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rTe(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class La{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return La.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];BA(e),zA(i,e);let o=e.length;t.forEach(BA);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,zA(i,t[l]);const a=HMe.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function BA(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function zA(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ed extends An{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new di(r,3)),this.setAttribute("uv",new di(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1;let d=t.depth!==void 0?t.depth:100,f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:6,g=t.bevelSize!==void 0?t.bevelSize:h-2,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:sTe;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let x,_=!1,w,S,T,M;y&&(x=y.getSpacedPoints(u),_=!0,f=!1,w=y.computeFrenetFrames(u,!1),S=new Fe,T=new Fe,M=new Fe),f||(v=0,h=0,g=0,m=0);const C=a.extractPoints(c);let L=C.shape;const E=C.holes;if(!La.isClockWise(L)){L=L.reverse();for(let re=0,j=E.length;re<j;re++){const Z=E[re];La.isClockWise(Z)&&(E[re]=Z.reverse())}}const F=La.triangulateShape(L,E),R=L;for(let re=0,j=E.length;re<j;re++){const Z=E[re];L=L.concat(Z)}function $(re,j,Z){return j||console.error("THREE.ExtrudeGeometry: vec does not exist"),j.clone().multiplyScalar(Z).add(re)}const D=L.length,A=F.length;function N(re,j,Z){let le,J,k;const q=re.x-j.x,ce=re.y-j.y,me=Z.x-re.x,Ce=Z.y-re.y,Q=q*q+ce*ce,ee=q*Ce-ce*me;if(Math.abs(ee)>Number.EPSILON){const Se=Math.sqrt(Q),be=Math.sqrt(me*me+Ce*Ce),Pe=j.x-ce/Se,he=j.y+q/Se,$e=Z.x-Ce/be,ne=Z.y+me/be,Re=(($e-Pe)*Ce-(ne-he)*me)/(q*Ce-ce*me);le=Pe+q*Re-re.x,J=he+ce*Re-re.y;const fe=le*le+J*J;if(fe<=2)return new gt(le,J);k=Math.sqrt(fe/2)}else{let Se=!1;q>Number.EPSILON?me>Number.EPSILON&&(Se=!0):q<-Number.EPSILON?me<-Number.EPSILON&&(Se=!0):Math.sign(ce)===Math.sign(Ce)&&(Se=!0),Se?(le=-ce,J=q,k=Math.sqrt(Q)):(le=q,J=ce,k=Math.sqrt(Q/2))}return new gt(le/k,J/k)}const P=[];for(let re=0,j=R.length,Z=j-1,le=re+1;re<j;re++,Z++,le++)Z===j&&(Z=0),le===j&&(le=0),P[re]=N(R[re],R[Z],R[le]);const z=[];let Y,H=P.concat();for(let re=0,j=E.length;re<j;re++){const Z=E[re];Y=[];for(let le=0,J=Z.length,k=J-1,q=le+1;le<J;le++,k++,q++)k===J&&(k=0),q===J&&(q=0),Y[le]=N(Z[le],Z[k],Z[q]);z.push(Y),H=H.concat(Y)}for(let re=0;re<v;re++){const j=re/v,Z=h*Math.cos(j*Math.PI/2),le=g*Math.sin(j*Math.PI/2)+m;for(let J=0,k=R.length;J<k;J++){const q=$(R[J],P[J],le);te(q.x,q.y,-Z)}for(let J=0,k=E.length;J<k;J++){const q=E[J];Y=z[J];for(let ce=0,me=q.length;ce<me;ce++){const Ce=$(q[ce],Y[ce],le);te(Ce.x,Ce.y,-Z)}}}const V=g+m;for(let re=0;re<D;re++){const j=f?$(L[re],H[re],V):L[re];_?(T.copy(w.normals[0]).multiplyScalar(j.x),S.copy(w.binormals[0]).multiplyScalar(j.y),M.copy(x[0]).add(T).add(S),te(M.x,M.y,M.z)):te(j.x,j.y,0)}for(let re=1;re<=u;re++)for(let j=0;j<D;j++){const Z=f?$(L[j],H[j],V):L[j];_?(T.copy(w.normals[re]).multiplyScalar(Z.x),S.copy(w.binormals[re]).multiplyScalar(Z.y),M.copy(x[re]).add(T).add(S),te(M.x,M.y,M.z)):te(Z.x,Z.y,d/u*re)}for(let re=v-1;re>=0;re--){const j=re/v,Z=h*Math.cos(j*Math.PI/2),le=g*Math.sin(j*Math.PI/2)+m;for(let J=0,k=R.length;J<k;J++){const q=$(R[J],P[J],le);te(q.x,q.y,d+Z)}for(let J=0,k=E.length;J<k;J++){const q=E[J];Y=z[J];for(let ce=0,me=q.length;ce<me;ce++){const Ce=$(q[ce],Y[ce],le);_?te(Ce.x,Ce.y+x[u-1].y,x[u-1].x+Z):te(Ce.x,Ce.y,d+Z)}}}W(),ie();function W(){const re=r.length/3;if(f){let j=0,Z=D*j;for(let le=0;le<A;le++){const J=F[le];oe(J[2]+Z,J[1]+Z,J[0]+Z)}j=u+v*2,Z=D*j;for(let le=0;le<A;le++){const J=F[le];oe(J[0]+Z,J[1]+Z,J[2]+Z)}}else{for(let j=0;j<A;j++){const Z=F[j];oe(Z[2],Z[1],Z[0])}for(let j=0;j<A;j++){const Z=F[j];oe(Z[0]+D*u,Z[1]+D*u,Z[2]+D*u)}}i.addGroup(re,r.length/3-re,0)}function ie(){const re=r.length/3;let j=0;G(R,j),j+=R.length;for(let Z=0,le=E.length;Z<le;Z++){const J=E[Z];G(J,j),j+=J.length}i.addGroup(re,r.length/3-re,1)}function G(re,j){let Z=re.length;for(;--Z>=0;){const le=Z;let J=Z-1;J<0&&(J=re.length-1);for(let k=0,q=u+v*2;k<q;k++){const ce=D*k,me=D*(k+1),Ce=j+le+ce,Q=j+J+ce,ee=j+J+me,Se=j+le+me;xe(Ce,Q,ee,Se)}}}function te(re,j,Z){l.push(re),l.push(j),l.push(Z)}function oe(re,j,Z){ue(re),ue(j),ue(Z);const le=r.length/3,J=b.generateTopUV(i,r,le-3,le-2,le-1);we(J[0]),we(J[1]),we(J[2])}function xe(re,j,Z,le){ue(re),ue(j),ue(le),ue(j),ue(Z),ue(le);const J=r.length/3,k=b.generateSideWallUV(i,r,J-6,J-3,J-2,J-1);we(k[0]),we(k[1]),we(k[3]),we(k[1]),we(k[2]),we(k[3])}function ue(re){r.push(l[re*3+0]),r.push(l[re*3+1]),r.push(l[re*3+2])}function we(re){s.push(re.x),s.push(re.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return oTe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new XN[r.type]().fromJSON(r)),new Ed(i,e.options)}}const sTe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new gt(s,o),new gt(a,l),new gt(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[r*3],h=e[r*3+1],g=e[r*3+2],m=e[s*3],v=e[s*3+1],y=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new gt(o,1-l),new gt(c,1-d),new gt(f,1-g),new gt(m,1-y)]:[new gt(a,1-l),new gt(u,1-d),new gt(h,1-g),new gt(v,1-y)]}};function oTe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Z1 extends An{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new di(r,3)),this.setAttribute("normal",new di(s,3)),this.setAttribute("uv",new di(o,2));function c(u){const d=r.length/3,f=u.extractPoints(t);let h=f.shape;const g=f.holes;La.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,y=g.length;v<y;v++){const b=g[v];La.isClockWise(b)===!0&&(g[v]=b.reverse())}const m=La.triangulateShape(h,g);for(let v=0,y=g.length;v<y;v++){const b=g[v];h=h.concat(b)}for(let v=0,y=h.length;v<y;v++){const b=h[v];r.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let v=0,y=m.length;v<y;v++){const b=m[v],x=b[0]+d,_=b[1]+d,w=b[2]+d;i.push(x,_,w),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return aTe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Z1(i,e.curveSegments)}}function aTe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class lTe extends Ii{constructor(e){super(),this.type="ShadowMaterial",this.color=new Nt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}lTe.prototype.isShadowMaterial=!0;class eO extends Ii{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}eO.prototype.isMeshStandardMaterial=!0;class cTe extends eO{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new gt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenTint=new Nt(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new Nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new Nt(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(e)}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheenTint.copy(e.sheenTint),this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}cTe.prototype.isMeshPhysicalMaterial=!0;class uTe extends Ii{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}uTe.prototype.isMeshPhongMaterial=!0;class dTe extends Ii{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}dTe.prototype.isMeshToonMaterial=!0;class fTe extends Ii{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}fTe.prototype.isMeshNormalMaterial=!0;class hTe extends Ii{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}hTe.prototype.isMeshLambertMaterial=!0;class pTe extends Ii{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}pTe.prototype.isMeshMatcapMaterial=!0;class mTe extends Xh{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}mTe.prototype.isLineDashedMaterial=!0;const Dn={arraySlice:function(n,e,t){return Dn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r},flattenJSON:function(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const g=c.times[h]*r;if(!(g<t||g>=i)){d.push(c.times[h]);for(let m=0;m<u;++m)f.push(c.values[h*u+m])}}d.length!==0&&(c.times=Dn.convertArray(d,c.times.constructor),c.values=Dn.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const g=a.times.length-1;let m;if(s<=a.times[0]){const y=u,b=d-u;m=Dn.arraySlice(a.values,y,b)}else if(s>=a.times[g]){const y=g*d+u,b=y+d-u;m=Dn.arraySlice(a.values,y,b)}else{const y=a.createInterpolant(),b=u,x=d-u;y.evaluate(s),m=Dn.arraySlice(y.resultBuffer,b,x)}l==="quaternion"&&new ar().fromArray(m).normalize().conjugate().toArray(m);const v=c.times.length;for(let y=0;y<v;++y){const b=y*h+f;if(l==="quaternion")ar.multiplyQuaternionsFlat(c.values,b,m,0,c.values,b);else{const x=h-f*2;for(let _=0;_<x;++_)c.values[b+_]-=m[_]}}}return n.blendMode=yN,n}};class $a{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}$a.prototype.beforeStart_=$a.prototype.copySampleValue_;$a.prototype.afterEnd_=$a.prototype.copySampleValue_;class gTe extends $a{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lu,endingEnd:lu}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case cu:s=e,a=2*t-i;break;case Kg:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case cu:o=e,l=2*i-t;break;case Kg:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,g=(i-t)/(r-t),m=g*g,v=m*g,y=-f*v+2*f*m-f*g,b=(1+f)*v+(-1.5-2*f)*m+(-.5+f)*g+1,x=(-1-h)*v+(1.5+h)*m+.5*g,_=h*v-h*m;for(let w=0;w!==a;++w)s[w]=y*o[u+w]+b*o[c+w]+x*o[l+w]+_*o[d+w];return s}}class tO extends $a{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class vTe extends $a{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class js{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Dn.convertArray(t,this.TimeBufferType),this.values=Dn.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Dn.convertArray(e.times,Array),values:Dn.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new vTe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new tO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new gTe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gg:t=this.InterpolantFactoryMethodDiscrete;break;case jg:t=this.InterpolantFactoryMethodLinear;break;case Cy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gg;case this.InterpolantFactoryMethodLinear:return jg;case this.InterpolantFactoryMethodSmooth:return Cy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Dn.arraySlice(i,s,o),this.values=Dn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Dn.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Dn.arraySlice(this.times),t=Dn.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===Cy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,h=d+i;for(let g=0;g!==i;++g){const m=t[d+g];if(m!==t[f+g]||m!==t[h+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let h=0;h!==i;++h)t[f+h]=t[d+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Dn.arraySlice(e,0,o),this.values=Dn.arraySlice(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Dn.arraySlice(this.times,0),t=Dn.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}js.prototype.TimeBufferType=Float32Array;js.prototype.ValueBufferType=Float32Array;js.prototype.DefaultInterpolation=jg;class Cd extends js{}Cd.prototype.ValueTypeName="bool";Cd.prototype.ValueBufferType=Array;Cd.prototype.DefaultInterpolation=Gg;Cd.prototype.InterpolantFactoryMethodLinear=void 0;Cd.prototype.InterpolantFactoryMethodSmooth=void 0;class nO extends js{}nO.prototype.ValueTypeName="color";class Xg extends js{}Xg.prototype.ValueTypeName="number";class yTe extends $a{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ar.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Zh extends js{InterpolantFactoryMethodLinear(e){return new yTe(this.times,this.values,this.getValueSize(),e)}}Zh.prototype.ValueTypeName="quaternion";Zh.prototype.DefaultInterpolation=jg;Zh.prototype.InterpolantFactoryMethodSmooth=void 0;class Ad extends js{}Ad.prototype.ValueTypeName="string";Ad.prototype.ValueBufferType=Array;Ad.prototype.DefaultInterpolation=Gg;Ad.prototype.InterpolantFactoryMethodLinear=void 0;Ad.prototype.InterpolantFactoryMethodSmooth=void 0;class Zg extends js{}Zg.prototype.ValueTypeName="vector";class $A{constructor(e,t=-1,i,r=D1){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ks(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(_Te(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(js.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Dn.getKeyframeOrder(l);l=Dn.sortedArray(l,1,u),c=Dn.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Xg(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,g,m){if(h.length!==0){const v=[],y=[];Dn.flattenJSON(h,v,y,g),v.length!==0&&m.push(new d(f,v,y))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let m=0;m<f[g].morphTargets.length;m++)h[f[g].morphTargets[m]]=-1;for(const m in h){const v=[],y=[];for(let b=0;b!==f[g].morphTargets.length;++b){const x=f[g];v.push(x.time),y.push(x.morphTarget===m?1:0)}r.push(new Xg(".morphTargetInfluence["+m+"]",v,y))}l=h.length*(o||1)}else{const h=".bones["+t[d].name+"]";i(Zg,h+".position",f,"pos",r),i(Zh,h+".quaternion",f,"rot",r),i(Zg,h+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bTe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xg;case"vector":case"vector2":case"vector3":case"vector4":return Zg;case"color":return nO;case"quaternion":return Zh;case"bool":case"boolean":return Cd;case"string":return Ad}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function _Te(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bTe(n.type);if(n.times===void 0){const t=[],i=[];Dn.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const od={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class xTe{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],g=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}}const wTe=new xTe;class Ka{constructor(e){this.manager=e!==void 0?e:wTe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const is={};class STe extends Ka{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=od.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;if(is[e]!==void 0){is[e].push({onLoad:t,onProgress:i,onError:r});return}const a=/^data:(.*?)(;base64)?,(.*)$/,l=e.match(a);let c;if(l){const u=l[1],d=!!l[2];let f=l[3];f=decodeURIComponent(f),d&&(f=atob(f));try{let h;const g=(this.responseType||"").toLowerCase();switch(g){case"arraybuffer":case"blob":const m=new Uint8Array(f.length);for(let y=0;y<f.length;y++)m[y]=f.charCodeAt(y);g==="blob"?h=new Blob([m.buffer],{type:u}):h=m.buffer;break;case"document":h=new DOMParser().parseFromString(f,u);break;case"json":h=JSON.parse(f);break;default:h=f;break}setTimeout(function(){t&&t(h),s.manager.itemEnd(e)},0)}catch(h){setTimeout(function(){r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{is[e]=[],is[e].push({onLoad:t,onProgress:i,onError:r}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(u){const d=this.response,f=is[e];if(delete is[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),od.add(e,d);for(let h=0,g=f.length;h<g;h++){const m=f[h];m.onLoad&&m.onLoad(d)}s.manager.itemEnd(e)}else{for(let h=0,g=f.length;h<g;h++){const m=f[h];m.onError&&m.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(u){const d=is[e];for(let f=0,h=d.length;f<h;f++){const g=d[f];g.onProgress&&g.onProgress(u)}},!1),c.addEventListener("error",function(u){const d=is[e];delete is[e];for(let f=0,h=d.length;f<h;f++){const g=d[f];g.onError&&g.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),c.addEventListener("abort",function(u){const d=is[e];delete is[e];for(let f=0,h=d.length;f<h;f++){const g=d[f];g.onError&&g.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeader)c.setRequestHeader(u,this.requestHeader[u]);c.send(null)}return s.manager.itemStart(e),c}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class iO extends Ka{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=od.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),od.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class MTe extends Ka{constructor(e){super(e)}load(e,t,i,r){const s=new Yv,o=new iO(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class TTe extends Ka{constructor(e){super(e)}load(e,t,i,r){const s=new wi,o=new iO(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a;const l=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=l?Ea:Tr,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ETe extends Kr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Qv(t,e))}getPoint(e){const t=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=t){const s=i[r]-t,o=this.curves[r],a=o.getLength(),l=a===0?0:1-s/a;return o.getPointAt(l)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new XN[r.type]().fromJSON(r))}return this}}class cx extends ETe{constructor(e){super(),this.type="Path",this.currentPoint=new gt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Qv(this.currentPoint.clone(),new gt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new q1(this.currentPoint.clone(),new gt(e,t),new gt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new K1(this.currentPoint.clone(),new gt(e,t),new gt(i,r),new gt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new X1(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Jv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class J1 extends cx{constructor(e){super(e),this.uuid=ks(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new cx().fromJSON(r))}return this}}class $s extends fn{constructor(e,t=1){super(),this.type="Light",this.color=new Nt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}$s.prototype.isLight=!0;class CTe extends $s{constructor(e,t,i){super(e,i),this.type="HemisphereLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.groundColor=new Nt(t)}copy(e){return $s.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}CTe.prototype.isHemisphereLight=!0;const VA=new $t,HA=new Fe,UA=new Fe;class Q1{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new gt(512,512),this.map=null,this.mapPass=null,this.matrix=new $t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xv,this._frameExtents=new gt(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;HA.setFromMatrixPosition(e.matrixWorld),t.position.copy(HA),UA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(UA),t.updateMatrixWorld(),VA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rO extends Q1{constructor(){super(new er(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,i=ix*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}rO.prototype.isSpotLightShadow=!0;class ATe extends $s{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.target=new fn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new rO}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}ATe.prototype.isSpotLight=!0;const WA=new $t,ef=new Fe,cb=new Fe;class sO extends Q1{constructor(){super(new er(90,1,.5,500)),this._frameExtents=new gt(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new Fe(1,0,0),new Fe(-1,0,0),new Fe(0,0,1),new Fe(0,0,-1),new Fe(0,1,0),new Fe(0,-1,0)],this._cubeUps=[new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,0,1),new Fe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),ef.setFromMatrixPosition(e.matrixWorld),i.position.copy(ef),cb.copy(i.position),cb.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(cb),i.updateMatrixWorld(),r.makeTranslation(-ef.x,-ef.y,-ef.z),WA.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WA)}}sO.prototype.isPointLightShadow=!0;class LTe extends $s{constructor(e,t,i=0,r=1){super(e,t),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new sO}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}LTe.prototype.isPointLight=!0;class oO extends Q1{constructor(){super(new V1(-5,5,5,-5,.5,500))}}oO.prototype.isDirectionalLightShadow=!0;class RTe extends $s{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(fn.DefaultUp),this.updateMatrix(),this.target=new fn,this.shadow=new oO}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}RTe.prototype.isDirectionalLight=!0;class PTe extends $s{constructor(e,t){super(e,t),this.type="AmbientLight"}}PTe.prototype.isAmbientLight=!0;class ITe extends $s{constructor(e,t,i=10,r=10){super(e,t),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}ITe.prototype.isRectAreaLight=!0;class aO{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}aO.prototype.isSphericalHarmonics3=!0;class eS extends $s{constructor(e=new aO,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}eS.prototype.isLightProbe=!0;class kTe{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class DTe extends An{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}DTe.prototype.isInstancedBufferGeometry=!0;class NTe extends Ka{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=od.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){od.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}NTe.prototype.isImageBitmapLoader=!0;let Em;const OTe={getContext:function(){return Em===void 0&&(Em=new(window.AudioContext||window.webkitAudioContext)),Em},setContext:function(n){Em=n}};class FTe extends Ka{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new STe(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);OTe.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class BTe extends eS{constructor(e,t,i=1){super(void 0,i);const r=new Nt().set(e),s=new Nt().set(t),o=new Fe(r.r,r.g,r.b),a=new Fe(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}BTe.prototype.isHemisphereLightProbe=!0;class zTe extends eS{constructor(e,t=1){super(void 0,t);const i=new Nt().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}zTe.prototype.isAmbientLightProbe=!0;class $Te extends fn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class VTe{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){ar.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;ar.multiplyQuaternionsFlat(e,o,e,t,e,i),ar.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const tS="\\[\\]\\.:\\/",HTe=new RegExp("["+tS+"]","g"),nS="[^"+tS+"]",UTe="[^"+tS.replace("\\.","")+"]",WTe=/((?:WC+[\/:])*)/.source.replace("WC",nS),GTe=/(WCOD+)?/.source.replace("WCOD",UTe),jTe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nS),KTe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nS),qTe=new RegExp("^"+WTe+GTe+jTe+KTe+"$"),YTe=["material","materials","bones"];class XTe{constructor(e,t,i){const r=i||pn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class pn{constructor(e,t,i){this.path=t,this.parsedPath=i||pn.parseTrackName(t),this.node=pn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new pn.Composite(e,t,i):new pn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(HTe,"")}static parseTrackName(e){const t=qTe.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);YTe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=pn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}pn.Composite=XTe;pn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};pn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};pn.prototype.GetterByBindingType=[pn.prototype._getValue_direct,pn.prototype._getValue_array,pn.prototype._getValue_arrayElement,pn.prototype._getValue_toArray];pn.prototype.SetterByBindingTypeAndVersioning=[[pn.prototype._setValue_direct,pn.prototype._setValue_direct_setNeedsUpdate,pn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_array,pn.prototype._setValue_array_setNeedsUpdate,pn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_arrayElement,pn.prototype._setValue_arrayElement_setNeedsUpdate,pn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_fromArray,pn.prototype._setValue_fromArray_setNeedsUpdate,pn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ZTe{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:lu,endingEnd:lu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=P_e,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case yN:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case D1:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===I_e;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===R_e){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=cu,r.endingEnd=cu):(e?r.endingStart=this.zeroSlopeAtStart?cu:lu:r.endingStart=Kg,t?r.endingEnd=this.zeroSlopeAtEnd?cu:lu:r.endingEnd=Kg)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}class JTe extends oc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=r[d],h=f.name;let g=u[h];if(g!==void 0)o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,h));continue}const m=t&&t._propertyBindings[d].binding.parsedPath;g=new VTe(pn.create(i,h,m),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,h),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new tO(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?$A.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=D1),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new ZTe(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?$A.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}JTe.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class QTe extends Yh{constructor(e,t,i=1){super(e,t),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}QTe.prototype.isInstancedInterleavedBuffer=!0;class eEe extends fn{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}eEe.prototype.isImmediateRenderObject=!0;const na=new Fe,Cm=new $t,ub=new $t;class tEe extends G1{constructor(e){const t=lO(e),i=new An,r=[],s=[],o=new Nt(0,0,1),a=new Nt(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new di(r,3)),i.setAttribute("color",new di(s,3));const l=new Xh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");ub.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Cm.multiplyMatrices(ub,a.matrixWorld),na.setFromMatrixPosition(Cm),r.setXYZ(o,na.x,na.y,na.z),Cm.multiplyMatrices(ub,a.parent.matrixWorld),na.setFromMatrixPosition(Cm),r.setXYZ(o+1,na.x,na.y,na.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function lO(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,lO(n.children[t]));return e}class nEe extends G1{constructor(e=10,t=10,i=4473924,r=8947848){i=new Nt(i),r=new Nt(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,h=0,g=-a;f<=t;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const m=f===s?i:r;m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3}const u=new An;u.setAttribute("position",new di(l,3)),u.setAttribute("color",new di(c,3));const d=new Xh({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}const iEe=new Float32Array(1);new Int32Array(iEe.buffer);Kr.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Kr.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};cx.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};nEe.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};tEe.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Ka.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kTe.extractUrlBase(n)};Ka.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};_s.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};_s.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};_s.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};_s.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};_s.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};wd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Xv.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};vi.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};vi.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};vi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};vi.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};vi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};vi.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};$t.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};$t.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};$t.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Fe().setFromMatrixColumn(this,3)};$t.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};$t.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};$t.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$t.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$t.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};$t.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};$t.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$t.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};$t.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};$t.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};$t.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};$t.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};$t.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$t.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};$t.prototype.makeFrustum=function(n,e,t,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,i,t,r,s)};$t.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};uo.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};ar.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};ar.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Sd.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Sd.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Sd.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Qn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Qn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Qn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Qn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Qn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Qn.barycoordFromPoint=function(n,e,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Qn.getBarycoord(n,e,t,i,r)};Qn.normal=function(n,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Qn.getNormal(n,e,t,i)};J1.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};J1.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ed(this,n)};J1.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Z1(this,n)};gt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};gt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};gt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Fe.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Fe.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Fe.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Fe.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Fe.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Fe.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Fe.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Fe.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Fe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};_n.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};_n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};fn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};fn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};fn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};fn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};fn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(fn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});ir.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(ir.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),k_e},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});GN.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};er.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties($s.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(mn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ya},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ya)}}});mn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ya:go),this};mn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},mn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};An.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};An.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new mn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};An.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};An.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};An.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};An.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};An.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(An.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Yh.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ya:go),this};Yh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ed.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ed.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ed.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};HN.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Ii.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Nt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===pN}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ql.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});wn.prototype.clearTarget=function(n,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,i)};wn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};wn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};wn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};wn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};wn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};wn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};wn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};wn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};wn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};wn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};wn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};wn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};wn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};wn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};wn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};wn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};wn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};wn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};wn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};wn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};wn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};wn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};wn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};wn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(wn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?qv:ur}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties($N.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Ds.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});$Te.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new FTe().load(n,function(i){e.setBuffer(i)}),this};z1.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};z1.prototype.clear=function(n,e,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,i)};xd.crossOrigin=void 0;xd.loadTexture=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new TTe;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};xd.loadTextureCube=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new MTe;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};xd.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};xd.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fN}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fN);class cO{constructor(){this.pos=new Fe,this.dir=new Fe,this.right=new Fe,this.up=new Fe,this.dist=0,this.widthScale=1,this.sharp=!1}lerpPathPoints(e,t,i){this.pos.lerpVectors(e.pos,t.pos,i),this.dir.lerpVectors(e.dir,t.dir,i),this.up.lerpVectors(e.up,t.up,i),this.right.lerpVectors(e.right,t.right,i),this.dist=(t.dist-e.dist)*i+e.dist,this.widthScale=(t.widthScale-e.widthScale)*i+e.widthScale}copy(e){this.pos.copy(e.pos),this.dir.copy(e.dir),this.up.copy(e.up),this.right.copy(e.right),this.dist=e.dist,this.widthScale=e.widthScale}}const ux=new Fe,uO=new Fe,rEe=new Fe,GA=new $t,sEe=new Y1;function oEe(n,e,t,i,r,s){const o=ux.subVectors(e,n),a=uO.subVectors(t,e),l=o.length(),c=a.length();o.normalize(),a.normalize();const u=Math.min((r?l/2:l)*.999999,i);s.v0.copy(e).sub(o.multiplyScalar(u)),s.v1.copy(e);const d=Math.min(c/2*.999999,i);return s.v2.copy(e).add(a.multiplyScalar(d)),s}class aEe{constructor(){this.array=[],this.count=0}set(e,t=.1,i=10,r=null,s=!1){if(e=e.slice(0),e.length<2){console.warn("PathPointList: points length less than 2."),this.count=0;return}s&&!e[0].equals(e[e.length-1])&&e.push(new Fe().copy(e[0]));for(let o=0,a=e.length;o<a;o++)if(o===0)this._start(e[o],e[o+1],r);else if(o===a-1)if(s){this._corner(e[o],e[1],t,i,r);const l=this.array[0].dist;this.array[0].copy(this.array[this.count-1]),this.array[0].dist=l}else this._end(e[o]);else this._corner(e[o],e[o+1],t,i,r)}distance(){return this.count>0?this.array[this.count-1].dist:0}_getByIndex(e){return this.array[e]||(this.array[e]=new cO),this.array[e]}_start(e,t,i){this.count=0;const r=this._getByIndex(this.count);if(r.pos.copy(e),r.dir.subVectors(t,e),i)r.up.copy(i);else{let s=Number.MAX_VALUE;const o=Math.abs(r.dir.x),a=Math.abs(r.dir.y),l=Math.abs(r.dir.z);o<s&&(s=o,r.up.set(1,0,0)),a<s&&(s=a,r.up.set(0,1,0)),l<s&&r.up.set(0,0,1)}r.right.crossVectors(r.dir,r.up).normalize(),r.up.crossVectors(r.right,r.dir).normalize(),r.dist=0,r.widthScale=1,r.sharp=!1,r.dir.normalize(),this.count++}_end(e){const t=this.array[this.count-1],i=this._getByIndex(this.count);i.pos.copy(e),i.dir.subVectors(e,t.pos);const r=i.dir.length();i.dir.normalize(),i.up.copy(t.up);const s=ux.crossVectors(t.dir,i.dir);if(s.length()>Number.EPSILON){s.normalize();const o=Math.acos(Math.min(Math.max(t.dir.dot(i.dir),-1),1));i.up.applyMatrix4(GA.makeRotationAxis(s,o))}i.right.crossVectors(i.dir,i.up).normalize(),i.dist=t.dist+r,i.widthScale=1,i.sharp=!1,this.count++}_corner(e,t,i,r,s){if(i>0&&r>0){const o=this.array[this.count-1],l=oEe(o.pos,e,t,i,this.count-1===0,sEe).getPoints(r);for(let c=0;c<r;c++)this._sharpCorner(l[c],l[c+1],s,c===0?1:0);l[r].equals(t)||this._sharpCorner(l[r],t,s,2)}else this._sharpCorner(e,t,s,0,!0)}_sharpCorner(e,t,i,r=0,s=!1){const o=this.array[this.count-1],a=this._getByIndex(this.count),l=ux.subVectors(e,o.pos),c=uO.subVectors(t,e),u=l.length();if(l.normalize(),c.normalize(),a.pos.copy(e),r===1?a.dir.copy(l):r===2?a.dir.copy(c):(a.dir.addVectors(l,c),a.dir.normalize()),i)a.dir.dot(i)===1?a.right.crossVectors(c,i).normalize():a.right.crossVectors(a.dir,i).normalize(),a.up.crossVectors(a.right,a.dir).normalize();else{a.up.copy(o.up);const f=rEe.crossVectors(o.dir,a.dir);if(f.length()>Number.EPSILON){f.normalize();const h=Math.acos(Math.min(Math.max(o.dir.dot(a.dir),-1),1));a.up.applyMatrix4(GA.makeRotationAxis(f,h))}a.right.crossVectors(a.dir,a.up).normalize()}a.dist=o.dist+u;const d=l.dot(c);a.widthScale=Math.min(1/Math.sqrt((1+d)/2),1.415)||1,a.sharp=Math.abs(d-1)>.05&&s,this.count++}}class lEe extends An{constructor(e=3e3,t=!1){super(),isNaN(e)?this._initByData(e.pathPointList,e.options,e.usage,t):this._initByMaxVertex(e,t)}_initByMaxVertex(e,t){this.setAttribute("position",new mn(new Float32Array(e*3),3).setUsage(ya)),this.setAttribute("normal",new mn(new Float32Array(e*3),3).setUsage(ya)),this.setAttribute("uv",new mn(new Float32Array(e*2),2).setUsage(ya)),t&&this.setAttribute("uv2",new mn(new Float32Array(e*2),2).setUsage(ya)),this.drawRange.start=0,this.drawRange.count=0,this.setIndex(e>65536?new Yg(e*3,1):new qg(e*3,1))}_initByData(e,t={},i,r){const s=jA(e,t,r);s&&s.count!==0?(this.setAttribute("position",new mn(new Float32Array(s.position),3).setUsage(i||go)),this.setAttribute("normal",new mn(new Float32Array(s.normal),3).setUsage(i||go)),this.setAttribute("uv",new mn(new Float32Array(s.uv),2).setUsage(i||go)),r&&this.setAttribute("uv2",new mn(new Float32Array(s.uv2),2).setUsage(i||go)),this.setIndex(s.position.length/3>65536?new Yg(s.indices,1):new qg(s.indices,1))):this._initByMaxVertex(2,r)}update(e,t={}){const i=!!this.getAttribute("uv2"),r=jA(e,t,i);r?(this._updateAttributes(r.position,r.normal,r.uv,i?r.uv2:null,r.indices),this.drawRange.count=r.count):this.drawRange.count=0}_resizeAttribute(e,t){let i=this.getAttribute(e);for(;i.array.length<t;){const r=i.array.length,s=new mn(new Float32Array(r*2),i.itemSize,i.normalized);s.name=i.name,s.usage=i.usage,this.setAttribute(e,s),i=s}}_resizeIndex(e){let t=this.getIndex();for(;t.array.length<e;){const i=t.array.length,r=new mn(i*2>65535?new Uint32Array(i*2):new Uint16Array(i*2),1);r.name=t.name,r.usage=t.usage,this.setIndex(r),t=r}}_updateAttributes(e,t,i,r,s){this._resizeAttribute("position",e.length);const o=this.getAttribute("position");o.array.set(e,0),o.updateRange.count=e.length,o.needsUpdate=!0,this._resizeAttribute("normal",t.length);const a=this.getAttribute("normal");a.array.set(t,0),a.updateRange.count=t.length,a.needsUpdate=!0,this._resizeAttribute("uv",i.length);const l=this.getAttribute("uv");if(l.array.set(i,0),l.updateRange.count=i.length,l.needsUpdate=!0,r){this._resizeAttribute("uv2",r.length);const u=this.getAttribute("uv2");u.array.set(r,0),u.updateRange.count=r.length,u.needsUpdate=!0}this._resizeIndex(s.length);const c=this.getIndex();c.set(s,0),c.updateRange.count=s.length,c.needsUpdate=!0}}function jA(n,e,t=!1){const i=e.width||.1,r=e.progress!==void 0?e.progress:1,s=e.arrow!==void 0?e.arrow:!0,o=e.side!==void 0?e.side:"both",a=i/2,l=o!=="both"?i/2:i,c=n.distance(),u=r*c;if(c==0)return null;const d=a/l,f=a/c;let h=0;const g=[],m=[],v=[],y=[],b=[];let x=0;const _=new Fe,w=new Fe,S=new Fe,T=new Fe,M=new Fe,C=new Fe;function L(R){const $=g.length===0,D=R.sharp&&!$,A=R.dist/l,N=R.dist/c,P=R.dir,z=R.up,Y=R.right;if(o!=="left"?_.copy(Y).multiplyScalar(a*R.widthScale):_.set(0,0,0),o!=="right"?w.copy(Y).multiplyScalar(-a*R.widthScale):w.set(0,0,0),_.add(R.pos),w.add(R.pos),D){S.fromArray(g,g.length-6).sub(w),T.fromArray(g,g.length-3).sub(_);const H=S.length(),V=T.length(),W=H-V;let ie,G;W>0?(ie=S,G=w):(ie=T,G=_),M.copy(ie).setLength(Math.abs(W)).add(G);let te=C.copy(G).sub(M).normalize().dot(P),oe=C.copy(G).sub(M).length(),xe=te*oe*2;C.copy(P).setLength(xe).add(M),W>0?(g.push(M.x,M.y,M.z,_.x,_.y,_.z,w.x,w.y,w.z,_.x,_.y,_.z,C.x,C.y,C.z,_.x,_.y,_.z),x+=6,b.push(x-6,x-8,x-7,x-6,x-7,x-5,x-4,x-6,x-5,x-2,x-4,x-1),h+=12):(g.push(w.x,w.y,w.z,M.x,M.y,M.z,w.x,w.y,w.z,_.x,_.y,_.z,w.x,w.y,w.z,C.x,C.y,C.z),x+=6,b.push(x-6,x-8,x-7,x-6,x-7,x-5,x-6,x-5,x-3,x-2,x-3,x-1),h+=12),m.push(z.x,z.y,z.z,z.x,z.y,z.z,z.x,z.y,z.z,z.x,z.y,z.z,z.x,z.y,z.z,z.x,z.y,z.z),v.push(A-d,0,A-d,1,A,0,A,1,A+d,0,A+d,1),t&&y.push(N-f,0,N-f,1,N,0,N,1,N+f,0,N+f,1)}else g.push(w.x,w.y,w.z,_.x,_.y,_.z),m.push(z.x,z.y,z.z,z.x,z.y,z.z),v.push(A,0,A,1),t&&y.push(N,0,N,1),x+=2,$||(b.push(x-2,x-4,x-3,x-2,x-3,x-1),h+=6)}const E=new Fe;function O(R){const $=R.dir,D=R.up,A=R.right,N=R.dist/l,P=R.dist/c;o!=="left"?_.copy(A).multiplyScalar(a*2):_.set(0,0,0),o!=="right"?w.copy(A).multiplyScalar(-a*2):w.set(0,0,0),E.copy($).setLength(a*3),_.add(R.pos),w.add(R.pos),E.add(R.pos),g.push(w.x,w.y,w.z,_.x,_.y,_.z,E.x,E.y,E.z),m.push(D.x,D.y,D.z,D.x,D.y,D.z,D.x,D.y,D.z),v.push(N,o!=="both"?o!=="right"?-2:0:-.5,N,o!=="both"?o!=="left"?2:0:1.5,N+1.5,o!=="both"?0:.5),t&&y.push(P,o!=="both"?o!=="right"?-2:0:-.5,P,o!=="both"?o!=="left"?2:0:1.5,P+1.5*i/c,o!=="both"?0:.5),x+=3,b.push(x-1,x-3,x-2),h+=3}let F;if(u>0)for(let R=0;R<n.count;R++){const $=n.array[R];if($.dist>u){const D=n.array[R-1];F=new cO;const A=(u-D.dist)/($.dist-D.dist);F.lerpPathPoints(D,$,A),L(F);break}else L($)}else F=n.array[0];return s&&(F=F||n.array[n.count-1],O(F)),{position:g,normal:m,uv:v,uv2:y,indices:b,count:h}}let cEe=[{glbUrl:"./model/模型底座.glb",name:"变电站",glbPosition:new De(0,0,-150),svgUrl:"./model/svg/变电站.svg",svgPosition:new De(0,1,-150),color:"#FB821F",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"开关",glbPosition:new De(0,0,-100),svgUrl:"./model/svg/开关.svg",svgPosition:new De(0,1,-100),color:"#1f77fb",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"杆塔",glbPosition:new De(0,0,-50),svgUrl:"./model/svg/杆塔.svg",svgPosition:new De(0,1,-50),color:"#11CD6E",svgScale:.01,svgFlag:!0},{glbUrl:"./model/模型底座.glb",name:"杆塔",glbPosition:new De(0,0,0),svgUrl:"./model/svg/杆塔.svg",svgPosition:new De(0,1,0),color:"#11CD6E",svgScale:.01,svgFlag:!0},{glbUrl:"./model/模型底座.glb",name:"杆塔",glbPosition:new De(0,0,50),svgUrl:"./model/svg/杆塔.svg",svgPosition:new De(0,1,50),color:"#11CD6E",svgScale:.01,svgFlag:!0},{glbUrl:"./model/模型底座.glb",name:"联络开关",glbPosition:new De(0,0,150),svgUrl:"./model/svg/联络开关.svg",svgPosition:new De(0,1,150),color:"#1f77fb",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"变压器",glbPosition:new De(-50,0,-50),svgUrl:"./model/svg/变压器.svg",svgPosition:new De(-50,1,-50),color:"#c011cd",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"母线",glbPosition:new De(-100,0,-50),svgUrl:"./model/svg/母线.svg",svgPosition:new De(-100,1,-50),color:"#d53f44",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"负荷",glbPosition:new De(-150,0,-50),svgUrl:"./model/svg/负荷.svg",svgPosition:new De(-150,1,-50),color:"#48c7c2",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"变压器",glbPosition:new De(50,0,50),svgUrl:"./model/svg/变压器.svg",svgPosition:new De(50,1,50),color:"#c011cd",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"母线",glbPosition:new De(100,0,50),svgUrl:"./model/svg/母线.svg",svgPosition:new De(100,1,50),color:"#d53f44",svgScale:.01,svgFlag:!1},{glbUrl:"./model/模型底座.glb",name:"负荷",glbPosition:new De(150,0,50),svgUrl:"./model/svg/负荷.svg",svgPosition:new De(150,1,50),color:"#48c7c2",svgScale:.01,svgFlag:!1}],uEe=[{name:"变电站-开关",color:"#FB821F",path:[[0,0,-150],[0,0,-100]]},{name:"开关-杆塔1",color:"#1f77fb",path:[[0,0,-100],[0,0,-50]]},{name:"杆塔1-杆塔2",color:"#11CD6E",path:[[0,0,-50],[0,0,0]]},{name:"杆塔2-杆塔3",color:"#11CD6E",path:[[0,0,0],[0,0,50]]},{name:"杆塔3-联络开关",color:"#11CD6E",path:[[0,0,50],[0,0,150]]},{name:"杆塔1-变压器1",color:"#11CD6E",path:[[0,0,-50],[-50,0,-50]]},{name:"变压器1-母线1",color:"#11CD6E",path:[[-50,0,-50],[-100,0,-50]]},{name:"母线1-负荷1",color:"#11CD6E",path:[[-100,0,-50],[-150,0,-50]]},{name:"杆塔3-变压器2",color:"#11CD6E",path:[[0,0,50],[50,0,50]]},{name:"变压器2-母线2",color:"#11CD6E",path:[[50,0,50],[100,0,50]]},{name:"母线2-负荷2",color:"#11CD6E",path:[[100,0,50],[150,0,50]]}],db=new au().load("img/arrow.png",n=>{n.wrapS=n.wrapT=Is});class dEe extends Aye{constructor(e){super(e),this.uniformsArrs=[],this.objArrs=[],this.textArr=[]}async init(){this.createGrid();let t={font:await this.initFont(),size:3,height:1};this.gltfLoader||(this.gltfLoader=new Lye),this.dracoLoader||(this.dracoLoader=new sbe,this.dracoLoader.setDecoderPath("/draco/")),this.gltfLoader.setDRACOLoader(this.dracoLoader),this.pedestal=null,this.svgMap=new Map,this.svgLoader=new I1,this.gltfLoader.load("./model/模型底座.glb",s=>{let o=s.scene;this.pedestal=o,o.scale.multiplyScalar(8),o.renderOrder=1,cEe.forEach(a=>{this.loaderModel(a);let l=this.creatFont(a.name,a.color,t);l.position.set(a.glbPosition.x,18,a.glbPosition.z),l.rotateY(-Math.PI/2),this.scene.add(l),this.textArr.push(l)})}),uEe.forEach(s=>{let o=this.creatRoad(s.path,s.color);this.scene.add(o)});let i=new oN,r=0;this.animate(()=>{this.uniformsArrs.length>0&&this.uniformsArrs.forEach(o=>{o.time.value+=.005});let s=i.getDelta();r+=.03,this.objArrs.length>0&&this.objArrs.forEach(o=>{o.position.y=3+Math.cos(r),o.rotateY(s)}),db&&(db.offset.x-=.1),this.textArr.length>0&&this.textArr.forEach(o=>{o.position.y=18+Math.cos(r)})})}loaderModel(e){const t=this.pedestal.clone();t.position.copy(e.glbPosition),this.scene.add(t),t.traverse(i=>{i.isMesh&&(i.name=="opacity"&&(i.material=this.initShaderMaterial(e.color)),i.name=="opacity-s"&&(i.material=new ho({map:new au().load("./img/Base_Technology_LightEffect_Alpha.png"),color:new kt(e.color).multiplyScalar(.5),emissive:new kt(e.color).multiplyScalar(.5),roughness:.438,metalness:0,depthWrite:!1,transparent:!0,opacity:.2,side:cs})),i.name=="deepColor"&&(i.material=new ho({color:new kt(e.color).multiplyScalar(.8),emissive:new kt(e.color).multiplyScalar(.8),roughness:.438,metalness:0})),i.name=="lowColor"&&(i.material=new ho({color:new kt(e.color).multiplyScalar(.5),emissive:new kt(e.color).multiplyScalar(.5),roughness:.438,metalness:0})),i.name=="black"&&(i.material=new ho({color:new kt(e.color).multiplyScalar(.2),roughness:.438,metalness:0})))}),this.loadSvgByUrl(e.svgUrl,e.svgScale,e.svgFlag,e.svgPosition,e.color)}initShaderMaterial(e){let t={time:{value:0},repeat:{value:new Ze(3,1)},colorTexture:{value:new au().load("./img/线圈动画2.png")},colorTexture1:{value:new au().load("./img/渐变2.png")},color:{value:new kt(e)}};return t.colorTexture.value.wrapS=t.colorTexture.value.wrapT=Is,t.colorTexture1.value.wrapS=t.colorTexture1.value.wrapT=Is,this.uniformsArrs.push(t),new nr({uniforms:t,vertexShader:`
        varying vec2 vUv;
        varying vec3 fNormal;
        varying vec3 vPosition;
        void main()
        {
          vUv = uv;
          fNormal=normal;
          vPosition=position;

          vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
          gl_Position = projectionMatrix * mvPosition;
        }`,fragmentShader:`
        uniform float time;
        varying vec2 vUv;
        uniform sampler2D colorTexture;
        uniform vec2 repeat;
        uniform sampler2D colorTexture1;
        varying vec3 fNormal;
        varying vec3 vPosition;
        uniform vec3 color;
        void main( void ) {
          vec2 position = vUv;
          vec3 tempNomal= normalize(fNormal);
          float power=step(0.95,abs(tempNomal.y));
          //vec4 colorb=texture2D(colorTexture1,position.xy);
          vec4 colorb= vec4(color,1.0);
          vec4 colora = texture2D(colorTexture,vec2((vUv*repeat).x,fract((vUv*repeat).y-time)));
          if(power>0.95){
            gl_FragColor =vec4(0);
          }else{
          gl_FragColor =colorb*colora;
            //gl_FragColor =vec4( (colorb).r*colora.r, (colorb).g*colora.g, (colorb).b*colora.b, (colora+colorb).a );
          }
        }`,blending:oh,transparent:!0,depthTest:!1,side:cs})}createGrid(){let e=new au().load("./img/grid.png");e.wrapS=e.wrapT=Is,e.repeat.set(300,300);let t=new ND(3e3,3e3),i=new ho({map:e,transparent:!0,opacity:1,side:cs,blending:oh}),r=new Bi(t,i);r.rotateX(-Math.PI/2),r.position.set(0,-.8,0),r.name="地面",this.scene.add(r)}loadSvgByUrl(e,t,i,r,s){if(this.svgMap.has(e)){const o=this.svgMap.get(e).clone();o.position.copy(r),this.scene.add(o),this.objArrs.push(o)}else this.svgLoader.load(e,o=>{var a=o.paths,l=new va;l.position.copy(r);for(var c=0;c<a.length;c++){var u=a[c],d=u.toShapes(i),f=new $0e(d);let h=new n2({color:s,shininess:6,side:2}),g=new Bi(f,h);g.scale.multiplyScalar(t),g.position.x=-512*t,g.position.y=1024*t,g.scale.y*=-1,l.add(g)}this.svgMap.set(e,l),this.scene.add(l),this.objArrs.push(l)})}creatRoad(e,t){e=e.map(l=>new De(...l));let i=new De(0,1,0),r=new aEe;r.set(e,.5,10,i,!1);let s=new lEe;s.update(r,{width:3,arrow:!1});let o=new mo({color:t,transparent:!0,side:cs,map:db});return new Bi(s,o)}creatFont(e,t,i){let r=new abe(e,i);r.center();let s=new n2({color:t,flatShading:!0});return new Bi(r,s)}}const fEe=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},hEe={__name:"HelloWorld",setup(n){const e=X(!0),t=X(null),i=async()=>{await new dEe({el:t.value}).init(),e.value=!1};return St(()=>{setTimeout(()=>{i()},50)}),(r,s)=>{const o=Th("loading");return _t((B(),se("div",{class:"blocks",id:"topo_3d",ref_key:"topo_3d",ref:t,"element-loading-text":"场景加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)"},null,512)),[[o,e.value]])}}},pEe=fEe(hEe,[["__scopeId","data-v-eb7471a6"]]),mEe={__name:"App",setup(n){return(e,t)=>(B(),Oe(pEe))}},dO=cL(mEe);dO.use(Hde);dO.mount("#app")});export default gEe();
